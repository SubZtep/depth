var F=Object.defineProperty;var u=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var a=(d,Z,b)=>Z in d?F(d,Z,{enumerable:!0,configurable:!0,writable:!0,value:b}):d[Z]=b,Y=(d,Z)=>{for(var b in Z||(Z={}))L.call(Z,b)&&a(d,b,Z[b]);if(u)for(var b of u(Z))C.call(Z,b)&&a(d,b,Z[b]);return d};import{M as Mesh,B as BoxGeometry,a as MeshPhongMaterial,s,r,$,o,_ as __decorate,e,b as __metadata,l,t,c as e$1,n,v as v4,W as WebGLRenderer,d as sRGBEncoding,P as PCFSoftShadowMap,f as PerspectiveCamera,S as Scene,C as Color,g as Clock,y,h as n$1,i as n$2}from"./vendor.30a77ea0.js";const p=function(){const Z=document.createElement("link").relList;if(Z&&Z.supports&&Z.supports("modulepreload"))return;for(const W of document.querySelectorAll('link[rel="modulepreload"]'))G(W);new MutationObserver(W=>{for(const X of W)if(X.type==="childList")for(const c of X.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&G(c)}).observe(document,{childList:!0,subtree:!0});function b(W){const X={};return W.integrity&&(X.integrity=W.integrity),W.referrerpolicy&&(X.referrerPolicy=W.referrerpolicy),W.crossorigin==="use-credentials"?X.credentials="include":W.crossorigin==="anonymous"?X.credentials="omit":X.credentials="same-origin",X}function G(W){if(W.ep)return;W.ep=!0;const X=b(W);fetch(W.href,X)}};p();function basicCube({detail:{exec3D:d,loop3D:Z}}){d(({scene:b})=>{const G=new Mesh(new BoxGeometry,new MeshPhongMaterial({color:6723859,wireframe:!0}));G.position.setZ(-2),b.add(G)}),Z(({camera:b,deltaTime:G})=>{b.rotation.z+=100*(Math.PI/180)*G})}var m;let DGazeClick=(m=class extends s{constructor(){super(...arguments);this.delay=3e3,this.timer=null}start(){this.timer=setTimeout(()=>{var Z;this.timer=null,(Z=this.els)==null||Z[0].click()},3e3)}stop(){this.timer&&(clearTimeout(this.timer),this.timer=null)}disconnectedCallback(){super.disconnectedCallback(),this.timer&&clearTimeout(this.timer)}render(){return $`
      <div
        class=${o({waiting:!!this.timer})}
        @mouseenter=${this.start}
        @mouseleave=${this.stop}
        @click=${this.stop}
      >
        <slot></slot>
      </div>
    `}},(()=>{m.styles=r`
    :host > div {
      user-select: none;
      display: inline-block;
      transition: transform 2s linear 1s;
      line-height: 0;
    }
    :host > div:not(.waiting) {
      transition: none;
    }
    .waiting {
      transform: rotate(360deg);
    }
  `})(),m);__decorate([e({type:Number}),__metadata("design:type",Object)],DGazeClick.prototype,"delay",void 0);__decorate([l(),__metadata("design:type",Array)],DGazeClick.prototype,"els",void 0);__decorate([t(),__metadata("design:type",Object)],DGazeClick.prototype,"timer",void 0);__decorate([e$1({passive:!0}),__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],DGazeClick.prototype,"start",null);__decorate([e$1({passive:!0}),__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],DGazeClick.prototype,"stop",null);DGazeClick=__decorate([n("d-gaze-click")],DGazeClick);class Store{constructor(Z){this.callbacks=new Set,this.patching=!1,this.state=Z,this.state=new Proxy(this.state,{set:(b,G,W)=>{if(b[G]===W)return!0;const X=this.patching?b:Y({},b);return Reflect.set(b,G,W)?(this.patching||this.processCallbacks(b,X),!0):!1}});for(const b in Z)Reflect.defineProperty(this,b,{set:G=>{this.state[b]=G},get:()=>this.state[b]})}processCallbacks(Z,b){for(const G of this.callbacks)G(Z,b)}subscribe(Z){return this.callbacks.add(Z),()=>{this.callbacks.delete(Z)}}toString(){return JSON.stringify(this.state)}patch(Z){const b=Y({},this.state);this.patching=!0,Object.assign(this.state,Z),this.processCallbacks(this.state,b),this.patching=!1}}globalThis.statem=new Map;function stateMake(d,Z=v4()){let b;return globalThis.statem.has(Z)?b=globalThis.statem.get(Z):(b=new Store(d),globalThis.statem.set(Z,b)),b}class Singleton{constructor(){if(Singleton.instance)throw new Error("use Singleton.getInstance()");this.map=new Map}static getInstance(){return Singleton.instance=Singleton.instance||new Singleton,Singleton.instance}}const singleton=Singleton.getInstance().map;Object.freeze(singleton);function debounce(d,Z=100){let b;return function(...G){clearTimeout(b),b=setTimeout(()=>d(...G),Z)}}function deEvilizer(d){return d.replaceAll("eval","evil")}function createRenderer(d){const Z=new WebGLRenderer({canvas:d,antialias:!0,powerPreference:"high-performance",logarithmicDepthBuffer:!0});return Z.physicallyCorrectLights=!0,Z.outputEncoding=sRGBEncoding,Z.shadowMap.enabled=!0,Z.shadowMap.type=PCFSoftShadowMap,Z}function createCamera({width:d,height:Z}){return new PerspectiveCamera(90,d/Z,1,2e3)}function createScene(){const d=new Scene;return d.background=new Color(6710784),d}function init({canvas,injectedFunctions,statem}){let oldWidth=0,oldHeight=0;const renderer=createRenderer(canvas),camera=createCamera(statem),scene=createScene(),clock=new Clock;function canvasResizer(){statem.width===oldWidth||statem.height===oldHeight||(oldWidth=statem.width,oldHeight=statem.height,camera.aspect=statem.width/statem.height,camera.updateProjectionMatrix(),renderer.setSize(statem.width,statem.height,!1))}canvasResizer();function clearContext(){injectedFunctions.singleFns.length=0,injectedFunctions.loopFns.length=0,scene.clear(),renderer.clear()}let fpsInterval,prenow=performance.now(),elapsed,now,deltaTime=0;async function render(time){if(statem.running){const fps=statem.fps;if(renderer.render(scene,camera),requestAnimationFrame(render),deltaTime+=clock.getDelta(),fps!==Number.POSITIVE_INFINITY&&(now=performance.now(),elapsed=now-prenow,fpsInterval=1e3/fps),fps===Number.POSITIVE_INFINITY||elapsed>fpsInterval){fps!==Number.POSITIVE_INFINITY&&(prenow=now-elapsed%fpsInterval);const props={scene,renderer,clock,deltaTime,time,camera};deltaTime=0;const evil=statem.offscreen?fn=>void eval(";("+fn+")(props);"):null;await Promise.all([...injectedFunctions.singleFns.map(d=>evil?evil(d):d(props)),...injectedFunctions.loopFns.map(d=>evil?evil(d):d(props))]),injectedFunctions.singleFns.length=0}canvasResizer()}else return clearContext()}requestAnimationFrame(render)}const encodedJs="KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiOy8qKgogKiBAbGljZW5zZQogKiBDb3B5cmlnaHQgMjAxMC0yMDIyIFRocmVlLmpzIEF1dGhvcnMKICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVAogKi9jb25zdCBSRVZJU0lPTj0iMTM4IixHTFNMMz0iMzAwIGVzIjtjbGFzcyBFdmVudERpc3BhdGNoZXJ7YWRkRXZlbnRMaXN0ZW5lcihlLHQpe3RoaXMuX2xpc3RlbmVycz09PXZvaWQgMCYmKHRoaXMuX2xpc3RlbmVycz17fSk7Y29uc3Qgbj10aGlzLl9saXN0ZW5lcnM7bltlXT09PXZvaWQgMCYmKG5bZV09W10pLG5bZV0uaW5kZXhPZih0KT09PS0xJiZuW2VdLnB1c2godCl9aGFzRXZlbnRMaXN0ZW5lcihlLHQpe2lmKHRoaXMuX2xpc3RlbmVycz09PXZvaWQgMClyZXR1cm4hMTtjb25zdCBuPXRoaXMuX2xpc3RlbmVycztyZXR1cm4gbltlXSE9PXZvaWQgMCYmbltlXS5pbmRleE9mKHQpIT09LTF9cmVtb3ZlRXZlbnRMaXN0ZW5lcihlLHQpe2lmKHRoaXMuX2xpc3RlbmVycz09PXZvaWQgMClyZXR1cm47Y29uc3QgaT10aGlzLl9saXN0ZW5lcnNbZV07aWYoaSE9PXZvaWQgMCl7Y29uc3Qgcj1pLmluZGV4T2YodCk7ciE9PS0xJiZpLnNwbGljZShyLDEpfX1kaXNwYXRjaEV2ZW50KGUpe2lmKHRoaXMuX2xpc3RlbmVycz09PXZvaWQgMClyZXR1cm47Y29uc3Qgbj10aGlzLl9saXN0ZW5lcnNbZS50eXBlXTtpZihuIT09dm9pZCAwKXtlLnRhcmdldD10aGlzO2NvbnN0IGk9bi5zbGljZSgwKTtmb3IobGV0IHI9MCxhPWkubGVuZ3RoO3I8YTtyKyspaVtyXS5jYWxsKHRoaXMsZSk7ZS50YXJnZXQ9bnVsbH19fWNvbnN0IF9sdXQ9W107Zm9yKGxldCBzPTA7czwyNTY7cysrKV9sdXRbc109KHM8MTY/IjAiOiIiKStzLnRvU3RyaW5nKDE2KTtjb25zdCBERUcyUkFEPU1hdGguUEkvMTgwLFJBRDJERUc9MTgwL01hdGguUEk7ZnVuY3Rpb24gZ2VuZXJhdGVVVUlEKCl7Y29uc3Qgcz1NYXRoLnJhbmRvbSgpKjQyOTQ5NjcyOTV8MCxlPU1hdGgucmFuZG9tKCkqNDI5NDk2NzI5NXwwLHQ9TWF0aC5yYW5kb20oKSo0Mjk0OTY3Mjk1fDAsbj1NYXRoLnJhbmRvbSgpKjQyOTQ5NjcyOTV8MDtyZXR1cm4oX2x1dFtzJjI1NV0rX2x1dFtzPj44JjI1NV0rX2x1dFtzPj4xNiYyNTVdK19sdXRbcz4+MjQmMjU1XSsiLSIrX2x1dFtlJjI1NV0rX2x1dFtlPj44JjI1NV0rIi0iK19sdXRbZT4+MTYmMTV8NjRdK19sdXRbZT4+MjQmMjU1XSsiLSIrX2x1dFt0JjYzfDEyOF0rX2x1dFt0Pj44JjI1NV0rIi0iK19sdXRbdD4+MTYmMjU1XStfbHV0W3Q+PjI0JjI1NV0rX2x1dFtuJjI1NV0rX2x1dFtuPj44JjI1NV0rX2x1dFtuPj4xNiYyNTVdK19sdXRbbj4+MjQmMjU1XSkudG9VcHBlckNhc2UoKX1mdW5jdGlvbiBjbGFtcChzLGUsdCl7cmV0dXJuIE1hdGgubWF4KGUsTWF0aC5taW4odCxzKSl9ZnVuY3Rpb24gZXVjbGlkZWFuTW9kdWxvKHMsZSl7cmV0dXJuKHMlZStlKSVlfWZ1bmN0aW9uIGxlcnAocyxlLHQpe3JldHVybigxLXQpKnMrdCplfWZ1bmN0aW9uIGlzUG93ZXJPZlR3byhzKXtyZXR1cm4ocyZzLTEpPT09MCYmcyE9PTB9ZnVuY3Rpb24gZmxvb3JQb3dlck9mVHdvKHMpe3JldHVybiBNYXRoLnBvdygyLE1hdGguZmxvb3IoTWF0aC5sb2cocykvTWF0aC5MTjIpKX1jbGFzcyBWZWN0b3Iye2NvbnN0cnVjdG9yKGU9MCx0PTApe3RoaXMueD1lLHRoaXMueT10fWdldCB3aWR0aCgpe3JldHVybiB0aGlzLnh9c2V0IHdpZHRoKGUpe3RoaXMueD1lfWdldCBoZWlnaHQoKXtyZXR1cm4gdGhpcy55fXNldCBoZWlnaHQoZSl7dGhpcy55PWV9c2V0KGUsdCl7cmV0dXJuIHRoaXMueD1lLHRoaXMueT10LHRoaXN9c2V0U2NhbGFyKGUpe3JldHVybiB0aGlzLng9ZSx0aGlzLnk9ZSx0aGlzfXNldFgoZSl7cmV0dXJuIHRoaXMueD1lLHRoaXN9c2V0WShlKXtyZXR1cm4gdGhpcy55PWUsdGhpc31zZXRDb21wb25lbnQoZSx0KXtzd2l0Y2goZSl7Y2FzZSAwOnRoaXMueD10O2JyZWFrO2Nhc2UgMTp0aGlzLnk9dDticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiaW5kZXggaXMgb3V0IG9mIHJhbmdlOiAiK2UpfXJldHVybiB0aGlzfWdldENvbXBvbmVudChlKXtzd2l0Y2goZSl7Y2FzZSAwOnJldHVybiB0aGlzLng7Y2FzZSAxOnJldHVybiB0aGlzLnk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoImluZGV4IGlzIG91dCBvZiByYW5nZTogIitlKX19Y2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy54LHRoaXMueSl9Y29weShlKXtyZXR1cm4gdGhpcy54PWUueCx0aGlzLnk9ZS55LHRoaXN9YWRkKGUsdCl7cmV0dXJuIHQhPT12b2lkIDA/KGNvbnNvbGUud2FybigiVEhSRUUuVmVjdG9yMjogLmFkZCgpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLmFkZFZlY3RvcnMoIGEsIGIgKSBpbnN0ZWFkLiIpLHRoaXMuYWRkVmVjdG9ycyhlLHQpKToodGhpcy54Kz1lLngsdGhpcy55Kz1lLnksdGhpcyl9YWRkU2NhbGFyKGUpe3JldHVybiB0aGlzLngrPWUsdGhpcy55Kz1lLHRoaXN9YWRkVmVjdG9ycyhlLHQpe3JldHVybiB0aGlzLng9ZS54K3QueCx0aGlzLnk9ZS55K3QueSx0aGlzfWFkZFNjYWxlZFZlY3RvcihlLHQpe3JldHVybiB0aGlzLngrPWUueCp0LHRoaXMueSs9ZS55KnQsdGhpc31zdWIoZSx0KXtyZXR1cm4gdCE9PXZvaWQgMD8oY29uc29sZS53YXJuKCJUSFJFRS5WZWN0b3IyOiAuc3ViKCkgbm93IG9ubHkgYWNjZXB0cyBvbmUgYXJndW1lbnQuIFVzZSAuc3ViVmVjdG9ycyggYSwgYiApIGluc3RlYWQuIiksdGhpcy5zdWJWZWN0b3JzKGUsdCkpOih0aGlzLngtPWUueCx0aGlzLnktPWUueSx0aGlzKX1zdWJTY2FsYXIoZSl7cmV0dXJuIHRoaXMueC09ZSx0aGlzLnktPWUsdGhpc31zdWJWZWN0b3JzKGUsdCl7cmV0dXJuIHRoaXMueD1lLngtdC54LHRoaXMueT1lLnktdC55LHRoaXN9bXVsdGlwbHkoZSl7cmV0dXJuIHRoaXMueCo9ZS54LHRoaXMueSo9ZS55LHRoaXN9bXVsdGlwbHlTY2FsYXIoZSl7cmV0dXJuIHRoaXMueCo9ZSx0aGlzLnkqPWUsdGhpc31kaXZpZGUoZSl7cmV0dXJuIHRoaXMueC89ZS54LHRoaXMueS89ZS55LHRoaXN9ZGl2aWRlU2NhbGFyKGUpe3JldHVybiB0aGlzLm11bHRpcGx5U2NhbGFyKDEvZSl9YXBwbHlNYXRyaXgzKGUpe2NvbnN0IHQ9dGhpcy54LG49dGhpcy55LGk9ZS5lbGVtZW50cztyZXR1cm4gdGhpcy54PWlbMF0qdCtpWzNdKm4raVs2XSx0aGlzLnk9aVsxXSp0K2lbNF0qbitpWzddLHRoaXN9bWluKGUpe3JldHVybiB0aGlzLng9TWF0aC5taW4odGhpcy54LGUueCksdGhpcy55PU1hdGgubWluKHRoaXMueSxlLnkpLHRoaXN9bWF4KGUpe3JldHVybiB0aGlzLng9TWF0aC5tYXgodGhpcy54LGUueCksdGhpcy55PU1hdGgubWF4KHRoaXMueSxlLnkpLHRoaXN9Y2xhbXAoZSx0KXtyZXR1cm4gdGhpcy54PU1hdGgubWF4KGUueCxNYXRoLm1pbih0LngsdGhpcy54KSksdGhpcy55PU1hdGgubWF4KGUueSxNYXRoLm1pbih0LnksdGhpcy55KSksdGhpc31jbGFtcFNjYWxhcihlLHQpe3JldHVybiB0aGlzLng9TWF0aC5tYXgoZSxNYXRoLm1pbih0LHRoaXMueCkpLHRoaXMueT1NYXRoLm1heChlLE1hdGgubWluKHQsdGhpcy55KSksdGhpc31jbGFtcExlbmd0aChlLHQpe2NvbnN0IG49dGhpcy5sZW5ndGgoKTtyZXR1cm4gdGhpcy5kaXZpZGVTY2FsYXIobnx8MSkubXVsdGlwbHlTY2FsYXIoTWF0aC5tYXgoZSxNYXRoLm1pbih0LG4pKSl9Zmxvb3IoKXtyZXR1cm4gdGhpcy54PU1hdGguZmxvb3IodGhpcy54KSx0aGlzLnk9TWF0aC5mbG9vcih0aGlzLnkpLHRoaXN9Y2VpbCgpe3JldHVybiB0aGlzLng9TWF0aC5jZWlsKHRoaXMueCksdGhpcy55PU1hdGguY2VpbCh0aGlzLnkpLHRoaXN9cm91bmQoKXtyZXR1cm4gdGhpcy54PU1hdGgucm91bmQodGhpcy54KSx0aGlzLnk9TWF0aC5yb3VuZCh0aGlzLnkpLHRoaXN9cm91bmRUb1plcm8oKXtyZXR1cm4gdGhpcy54PXRoaXMueDwwP01hdGguY2VpbCh0aGlzLngpOk1hdGguZmxvb3IodGhpcy54KSx0aGlzLnk9dGhpcy55PDA/TWF0aC5jZWlsKHRoaXMueSk6TWF0aC5mbG9vcih0aGlzLnkpLHRoaXN9bmVnYXRlKCl7cmV0dXJuIHRoaXMueD0tdGhpcy54LHRoaXMueT0tdGhpcy55LHRoaXN9ZG90KGUpe3JldHVybiB0aGlzLngqZS54K3RoaXMueSplLnl9Y3Jvc3MoZSl7cmV0dXJuIHRoaXMueCplLnktdGhpcy55KmUueH1sZW5ndGhTcSgpe3JldHVybiB0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnl9bGVuZ3RoKCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnkpfW1hbmhhdHRhbkxlbmd0aCgpe3JldHVybiBNYXRoLmFicyh0aGlzLngpK01hdGguYWJzKHRoaXMueSl9bm9ybWFsaXplKCl7cmV0dXJuIHRoaXMuZGl2aWRlU2NhbGFyKHRoaXMubGVuZ3RoKCl8fDEpfWFuZ2xlKCl7cmV0dXJuIE1hdGguYXRhbjIoLXRoaXMueSwtdGhpcy54KStNYXRoLlBJfWRpc3RhbmNlVG8oZSl7cmV0dXJuIE1hdGguc3FydCh0aGlzLmRpc3RhbmNlVG9TcXVhcmVkKGUpKX1kaXN0YW5jZVRvU3F1YXJlZChlKXtjb25zdCB0PXRoaXMueC1lLngsbj10aGlzLnktZS55O3JldHVybiB0KnQrbipufW1hbmhhdHRhbkRpc3RhbmNlVG8oZSl7cmV0dXJuIE1hdGguYWJzKHRoaXMueC1lLngpK01hdGguYWJzKHRoaXMueS1lLnkpfXNldExlbmd0aChlKXtyZXR1cm4gdGhpcy5ub3JtYWxpemUoKS5tdWx0aXBseVNjYWxhcihlKX1sZXJwKGUsdCl7cmV0dXJuIHRoaXMueCs9KGUueC10aGlzLngpKnQsdGhpcy55Kz0oZS55LXRoaXMueSkqdCx0aGlzfWxlcnBWZWN0b3JzKGUsdCxuKXtyZXR1cm4gdGhpcy54PWUueCsodC54LWUueCkqbix0aGlzLnk9ZS55Kyh0LnktZS55KSpuLHRoaXN9ZXF1YWxzKGUpe3JldHVybiBlLng9PT10aGlzLngmJmUueT09PXRoaXMueX1mcm9tQXJyYXkoZSx0PTApe3JldHVybiB0aGlzLng9ZVt0XSx0aGlzLnk9ZVt0KzFdLHRoaXN9dG9BcnJheShlPVtdLHQ9MCl7cmV0dXJuIGVbdF09dGhpcy54LGVbdCsxXT10aGlzLnksZX1mcm9tQnVmZmVyQXR0cmlidXRlKGUsdCxuKXtyZXR1cm4gbiE9PXZvaWQgMCYmY29uc29sZS53YXJuKCJUSFJFRS5WZWN0b3IyOiBvZmZzZXQgaGFzIGJlZW4gcmVtb3ZlZCBmcm9tIC5mcm9tQnVmZmVyQXR0cmlidXRlKCkuIiksdGhpcy54PWUuZ2V0WCh0KSx0aGlzLnk9ZS5nZXRZKHQpLHRoaXN9cm90YXRlQXJvdW5kKGUsdCl7Y29uc3Qgbj1NYXRoLmNvcyh0KSxpPU1hdGguc2luKHQpLHI9dGhpcy54LWUueCxhPXRoaXMueS1lLnk7cmV0dXJuIHRoaXMueD1yKm4tYSppK2UueCx0aGlzLnk9cippK2EqbitlLnksdGhpc31yYW5kb20oKXtyZXR1cm4gdGhpcy54PU1hdGgucmFuZG9tKCksdGhpcy55PU1hdGgucmFuZG9tKCksdGhpc30qW1N5bWJvbC5pdGVyYXRvcl0oKXt5aWVsZCB0aGlzLngseWllbGQgdGhpcy55fX1WZWN0b3IyLnByb3RvdHlwZS5pc1ZlY3RvcjI9ITA7Y2xhc3MgTWF0cml4M3tjb25zdHJ1Y3Rvcigpe3RoaXMuZWxlbWVudHM9WzEsMCwwLDAsMSwwLDAsMCwxXSxhcmd1bWVudHMubGVuZ3RoPjAmJmNvbnNvbGUuZXJyb3IoIlRIUkVFLk1hdHJpeDM6IHRoZSBjb25zdHJ1Y3RvciBubyBsb25nZXIgcmVhZHMgYXJndW1lbnRzLiB1c2UgLnNldCgpIGluc3RlYWQuIil9c2V0KGUsdCxuLGkscixhLG8sbCxjKXtjb25zdCBoPXRoaXMuZWxlbWVudHM7cmV0dXJuIGhbMF09ZSxoWzFdPWksaFsyXT1vLGhbM109dCxoWzRdPXIsaFs1XT1sLGhbNl09bixoWzddPWEsaFs4XT1jLHRoaXN9aWRlbnRpdHkoKXtyZXR1cm4gdGhpcy5zZXQoMSwwLDAsMCwxLDAsMCwwLDEpLHRoaXN9Y29weShlKXtjb25zdCB0PXRoaXMuZWxlbWVudHMsbj1lLmVsZW1lbnRzO3JldHVybiB0WzBdPW5bMF0sdFsxXT1uWzFdLHRbMl09blsyXSx0WzNdPW5bM10sdFs0XT1uWzRdLHRbNV09bls1XSx0WzZdPW5bNl0sdFs3XT1uWzddLHRbOF09bls4XSx0aGlzfWV4dHJhY3RCYXNpcyhlLHQsbil7cmV0dXJuIGUuc2V0RnJvbU1hdHJpeDNDb2x1bW4odGhpcywwKSx0LnNldEZyb21NYXRyaXgzQ29sdW1uKHRoaXMsMSksbi5zZXRGcm9tTWF0cml4M0NvbHVtbih0aGlzLDIpLHRoaXN9c2V0RnJvbU1hdHJpeDQoZSl7Y29uc3QgdD1lLmVsZW1lbnRzO3JldHVybiB0aGlzLnNldCh0WzBdLHRbNF0sdFs4XSx0WzFdLHRbNV0sdFs5XSx0WzJdLHRbNl0sdFsxMF0pLHRoaXN9bXVsdGlwbHkoZSl7cmV0dXJuIHRoaXMubXVsdGlwbHlNYXRyaWNlcyh0aGlzLGUpfXByZW11bHRpcGx5KGUpe3JldHVybiB0aGlzLm11bHRpcGx5TWF0cmljZXMoZSx0aGlzKX1tdWx0aXBseU1hdHJpY2VzKGUsdCl7Y29uc3Qgbj1lLmVsZW1lbnRzLGk9dC5lbGVtZW50cyxyPXRoaXMuZWxlbWVudHMsYT1uWzBdLG89blszXSxsPW5bNl0sYz1uWzFdLGg9bls0XSx1PW5bN10sZD1uWzJdLGY9bls1XSxnPW5bOF0sXz1pWzBdLHk9aVszXSxtPWlbNl0scD1pWzFdLFQ9aVs0XSx3PWlbN10sUz1pWzJdLFI9aVs1XSxEPWlbOF07cmV0dXJuIHJbMF09YSpfK28qcCtsKlMsclszXT1hKnkrbypUK2wqUixyWzZdPWEqbStvKncrbCpELHJbMV09YypfK2gqcCt1KlMscls0XT1jKnkraCpUK3UqUixyWzddPWMqbStoKncrdSpELHJbMl09ZCpfK2YqcCtnKlMscls1XT1kKnkrZipUK2cqUixyWzhdPWQqbStmKncrZypELHRoaXN9bXVsdGlwbHlTY2FsYXIoZSl7Y29uc3QgdD10aGlzLmVsZW1lbnRzO3JldHVybiB0WzBdKj1lLHRbM10qPWUsdFs2XSo9ZSx0WzFdKj1lLHRbNF0qPWUsdFs3XSo9ZSx0WzJdKj1lLHRbNV0qPWUsdFs4XSo9ZSx0aGlzfWRldGVybWluYW50KCl7Y29uc3QgZT10aGlzLmVsZW1lbnRzLHQ9ZVswXSxuPWVbMV0saT1lWzJdLHI9ZVszXSxhPWVbNF0sbz1lWzVdLGw9ZVs2XSxjPWVbN10saD1lWzhdO3JldHVybiB0KmEqaC10Km8qYy1uKnIqaCtuKm8qbCtpKnIqYy1pKmEqbH1pbnZlcnQoKXtjb25zdCBlPXRoaXMuZWxlbWVudHMsdD1lWzBdLG49ZVsxXSxpPWVbMl0scj1lWzNdLGE9ZVs0XSxvPWVbNV0sbD1lWzZdLGM9ZVs3XSxoPWVbOF0sdT1oKmEtbypjLGQ9bypsLWgqcixmPWMqci1hKmwsZz10KnUrbipkK2kqZjtpZihnPT09MClyZXR1cm4gdGhpcy5zZXQoMCwwLDAsMCwwLDAsMCwwLDApO2NvbnN0IF89MS9nO3JldHVybiBlWzBdPXUqXyxlWzFdPShpKmMtaCpuKSpfLGVbMl09KG8qbi1pKmEpKl8sZVszXT1kKl8sZVs0XT0oaCp0LWkqbCkqXyxlWzVdPShpKnItbyp0KSpfLGVbNl09ZipfLGVbN109KG4qbC1jKnQpKl8sZVs4XT0oYSp0LW4qcikqXyx0aGlzfXRyYW5zcG9zZSgpe2xldCBlO2NvbnN0IHQ9dGhpcy5lbGVtZW50cztyZXR1cm4gZT10WzFdLHRbMV09dFszXSx0WzNdPWUsZT10WzJdLHRbMl09dFs2XSx0WzZdPWUsZT10WzVdLHRbNV09dFs3XSx0WzddPWUsdGhpc31nZXROb3JtYWxNYXRyaXgoZSl7cmV0dXJuIHRoaXMuc2V0RnJvbU1hdHJpeDQoZSkuaW52ZXJ0KCkudHJhbnNwb3NlKCl9dHJhbnNwb3NlSW50b0FycmF5KGUpe2NvbnN0IHQ9dGhpcy5lbGVtZW50cztyZXR1cm4gZVswXT10WzBdLGVbMV09dFszXSxlWzJdPXRbNl0sZVszXT10WzFdLGVbNF09dFs0XSxlWzVdPXRbN10sZVs2XT10WzJdLGVbN109dFs1XSxlWzhdPXRbOF0sdGhpc31zZXRVdlRyYW5zZm9ybShlLHQsbixpLHIsYSxvKXtjb25zdCBsPU1hdGguY29zKHIpLGM9TWF0aC5zaW4ocik7cmV0dXJuIHRoaXMuc2V0KG4qbCxuKmMsLW4qKGwqYStjKm8pK2ErZSwtaSpjLGkqbCwtaSooLWMqYStsKm8pK28rdCwwLDAsMSksdGhpc31zY2FsZShlLHQpe2NvbnN0IG49dGhpcy5lbGVtZW50cztyZXR1cm4gblswXSo9ZSxuWzNdKj1lLG5bNl0qPWUsblsxXSo9dCxuWzRdKj10LG5bN10qPXQsdGhpc31yb3RhdGUoZSl7Y29uc3QgdD1NYXRoLmNvcyhlKSxuPU1hdGguc2luKGUpLGk9dGhpcy5lbGVtZW50cyxyPWlbMF0sYT1pWzNdLG89aVs2XSxsPWlbMV0sYz1pWzRdLGg9aVs3XTtyZXR1cm4gaVswXT10KnIrbipsLGlbM109dCphK24qYyxpWzZdPXQqbytuKmgsaVsxXT0tbipyK3QqbCxpWzRdPS1uKmErdCpjLGlbN109LW4qbyt0KmgsdGhpc310cmFuc2xhdGUoZSx0KXtjb25zdCBuPXRoaXMuZWxlbWVudHM7cmV0dXJuIG5bMF0rPWUqblsyXSxuWzNdKz1lKm5bNV0sbls2XSs9ZSpuWzhdLG5bMV0rPXQqblsyXSxuWzRdKz10Km5bNV0sbls3XSs9dCpuWzhdLHRoaXN9ZXF1YWxzKGUpe2NvbnN0IHQ9dGhpcy5lbGVtZW50cyxuPWUuZWxlbWVudHM7Zm9yKGxldCBpPTA7aTw5O2krKylpZih0W2ldIT09bltpXSlyZXR1cm4hMTtyZXR1cm4hMH1mcm9tQXJyYXkoZSx0PTApe2ZvcihsZXQgbj0wO248OTtuKyspdGhpcy5lbGVtZW50c1tuXT1lW24rdF07cmV0dXJuIHRoaXN9dG9BcnJheShlPVtdLHQ9MCl7Y29uc3Qgbj10aGlzLmVsZW1lbnRzO3JldHVybiBlW3RdPW5bMF0sZVt0KzFdPW5bMV0sZVt0KzJdPW5bMl0sZVt0KzNdPW5bM10sZVt0KzRdPW5bNF0sZVt0KzVdPW5bNV0sZVt0KzZdPW5bNl0sZVt0KzddPW5bN10sZVt0KzhdPW5bOF0sZX1jbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLmZyb21BcnJheSh0aGlzLmVsZW1lbnRzKX19TWF0cml4My5wcm90b3R5cGUuaXNNYXRyaXgzPSEwO2Z1bmN0aW9uIGFycmF5TmVlZHNVaW50MzIocyl7Zm9yKGxldCBlPXMubGVuZ3RoLTE7ZT49MDstLWUpaWYoc1tlXT42NTUzNSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBjcmVhdGVFbGVtZW50TlMocyl7cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIscyl9Y29uc3QgX2NvbG9yS2V5d29yZHM9e2FsaWNlYmx1ZToxNTc5MjM4MyxhbnRpcXVld2hpdGU6MTY0NDQzNzUsYXF1YTo2NTUzNSxhcXVhbWFyaW5lOjgzODg1NjQsYXp1cmU6MTU3OTQxNzUsYmVpZ2U6MTYxMTkyNjAsYmlzcXVlOjE2NzcwMjQ0LGJsYWNrOjAsYmxhbmNoZWRhbG1vbmQ6MTY3NzIwNDUsYmx1ZToyNTUsYmx1ZXZpb2xldDo5MDU1MjAyLGJyb3duOjEwODI0MjM0LGJ1cmx5d29vZDoxNDU5NjIzMSxjYWRldGJsdWU6NjI2NjUyOCxjaGFydHJldXNlOjgzODgzNTIsY2hvY29sYXRlOjEzNzg5NDcwLGNvcmFsOjE2NzQ0MjcyLGNvcm5mbG93ZXJibHVlOjY1OTE5ODEsY29ybnNpbGs6MTY3NzUzODgsY3JpbXNvbjoxNDQyMzEwMCxjeWFuOjY1NTM1LGRhcmtibHVlOjEzOSxkYXJrY3lhbjozNTcyMyxkYXJrZ29sZGVucm9kOjEyMDkyOTM5LGRhcmtncmF5OjExMTE5MDE3LGRhcmtncmVlbjoyNTYwMCxkYXJrZ3JleToxMTExOTAxNyxkYXJra2hha2k6MTI0MzMyNTksZGFya21hZ2VudGE6OTEwOTY0MyxkYXJrb2xpdmVncmVlbjo1NTk3OTk5LGRhcmtvcmFuZ2U6MTY3NDc1MjAsZGFya29yY2hpZDoxMDA0MDAxMixkYXJrcmVkOjkxMDk1MDQsZGFya3NhbG1vbjoxNTMwODQxMCxkYXJrc2VhZ3JlZW46OTQxOTkxOSxkYXJrc2xhdGVibHVlOjQ3MzQzNDcsZGFya3NsYXRlZ3JheTozMTAwNDk1LGRhcmtzbGF0ZWdyZXk6MzEwMDQ5NSxkYXJrdHVycXVvaXNlOjUyOTQ1LGRhcmt2aW9sZXQ6OTY5OTUzOSxkZWVwcGluazoxNjcxNjk0NyxkZWVwc2t5Ymx1ZTo0OTE1MSxkaW1ncmF5OjY5MDgyNjUsZGltZ3JleTo2OTA4MjY1LGRvZGdlcmJsdWU6MjAwMzE5OSxmaXJlYnJpY2s6MTE2NzQxNDYsZmxvcmFsd2hpdGU6MTY3NzU5MjAsZm9yZXN0Z3JlZW46MjI2Mzg0MixmdWNoc2lhOjE2NzExOTM1LGdhaW5zYm9ybzoxNDQ3NDQ2MCxnaG9zdHdoaXRlOjE2MzE2NjcxLGdvbGQ6MTY3NjY3MjAsZ29sZGVucm9kOjE0MzI5MTIwLGdyYXk6ODQyMTUwNCxncmVlbjozMjc2OCxncmVlbnllbGxvdzoxMTQwMzA1NSxncmV5Ojg0MjE1MDQsaG9uZXlkZXc6MTU3OTQxNjAsaG90cGluazoxNjczODc0MCxpbmRpYW5yZWQ6MTM0NTg1MjQsaW5kaWdvOjQ5MTUzMzAsaXZvcnk6MTY3NzcyMDAsa2hha2k6MTU3ODc2NjAsbGF2ZW5kZXI6MTUxMzI0MTAsbGF2ZW5kZXJibHVzaDoxNjc3MzM2NSxsYXduZ3JlZW46ODE5MDk3NixsZW1vbmNoaWZmb246MTY3NzU4ODUsbGlnaHRibHVlOjExMzkzMjU0LGxpZ2h0Y29yYWw6MTU3NjE1MzYsbGlnaHRjeWFuOjE0NzQ1NTk5LGxpZ2h0Z29sZGVucm9keWVsbG93OjE2NDQ4MjEwLGxpZ2h0Z3JheToxMzg4MjMyMyxsaWdodGdyZWVuOjk0OTgyNTYsbGlnaHRncmV5OjEzODgyMzIzLGxpZ2h0cGluazoxNjc1ODQ2NSxsaWdodHNhbG1vbjoxNjc1Mjc2MixsaWdodHNlYWdyZWVuOjIxNDI4OTAsbGlnaHRza3libHVlOjg5MDAzNDYsbGlnaHRzbGF0ZWdyYXk6NzgzMzc1MyxsaWdodHNsYXRlZ3JleTo3ODMzNzUzLGxpZ2h0c3RlZWxibHVlOjExNTg0NzM0LGxpZ2h0eWVsbG93OjE2Nzc3MTg0LGxpbWU6NjUyODAsbGltZWdyZWVuOjMzMjkzMzAsbGluZW46MTY0NDU2NzAsbWFnZW50YToxNjcxMTkzNSxtYXJvb246ODM4ODYwOCxtZWRpdW1hcXVhbWFyaW5lOjY3MzczMjIsbWVkaXVtYmx1ZToyMDUsbWVkaXVtb3JjaGlkOjEyMjExNjY3LG1lZGl1bXB1cnBsZTo5NjYyNjgzLG1lZGl1bXNlYWdyZWVuOjM5NzgwOTcsbWVkaXVtc2xhdGVibHVlOjgwODc3OTAsbWVkaXVtc3ByaW5nZ3JlZW46NjQxNTQsbWVkaXVtdHVycXVvaXNlOjQ3NzIzMDAsbWVkaXVtdmlvbGV0cmVkOjEzMDQ3MTczLG1pZG5pZ2h0Ymx1ZToxNjQ0OTEyLG1pbnRjcmVhbToxNjEyMTg1MCxtaXN0eXJvc2U6MTY3NzAyNzMsbW9jY2FzaW46MTY3NzAyMjksbmF2YWpvd2hpdGU6MTY3Njg2ODUsbmF2eToxMjgsb2xkbGFjZToxNjY0MzU1OCxvbGl2ZTo4NDIxMzc2LG9saXZlZHJhYjo3MDQ4NzM5LG9yYW5nZToxNjc1MzkyMCxvcmFuZ2VyZWQ6MTY3MjkzNDQsb3JjaGlkOjE0MzE1NzM0LHBhbGVnb2xkZW5yb2Q6MTU2NTcxMzAscGFsZWdyZWVuOjEwMDI1ODgwLHBhbGV0dXJxdW9pc2U6MTE1Mjk5NjYscGFsZXZpb2xldHJlZDoxNDM4MTIwMyxwYXBheWF3aGlwOjE2NzczMDc3LHBlYWNocHVmZjoxNjc2NzY3MyxwZXJ1OjEzNDY4OTkxLHBpbms6MTY3NjEwMzUscGx1bToxNDUyNDYzNyxwb3dkZXJibHVlOjExNTkxOTEwLHB1cnBsZTo4Mzg4NzM2LHJlYmVjY2FwdXJwbGU6NjY5Nzg4MSxyZWQ6MTY3MTE2ODAscm9zeWJyb3duOjEyMzU3NTE5LHJveWFsYmx1ZTo0Mjg2OTQ1LHNhZGRsZWJyb3duOjkxMjcxODcsc2FsbW9uOjE2NDE2ODgyLHNhbmR5YnJvd246MTYwMzI4NjQsc2VhZ3JlZW46MzA1MDMyNyxzZWFzaGVsbDoxNjc3NDYzOCxzaWVubmE6MTA1MDY3OTcsc2lsdmVyOjEyNjMyMjU2LHNreWJsdWU6ODkwMDMzMSxzbGF0ZWJsdWU6Njk3MDA2MSxzbGF0ZWdyYXk6NzM3Mjk0NCxzbGF0ZWdyZXk6NzM3Mjk0NCxzbm93OjE2Nzc1OTMwLHNwcmluZ2dyZWVuOjY1NDA3LHN0ZWVsYmx1ZTo0NjIwOTgwLHRhbjoxMzgwODc4MCx0ZWFsOjMyODk2LHRoaXN0bGU6MTQyMDQ4ODgsdG9tYXRvOjE2NzM3MDk1LHR1cnF1b2lzZTo0MjUxODU2LHZpb2xldDoxNTYzMTA4Nix3aGVhdDoxNjExMzMzMSx3aGl0ZToxNjc3NzIxNSx3aGl0ZXNtb2tlOjE2MTE5Mjg1LHllbGxvdzoxNjc3Njk2MCx5ZWxsb3dncmVlbjoxMDE0NTA3NH0sX2hzbEE9e2g6MCxzOjAsbDowfSxfaHNsQj17aDowLHM6MCxsOjB9O2Z1bmN0aW9uIGh1ZTJyZ2IocyxlLHQpe3JldHVybiB0PDAmJih0Kz0xKSx0PjEmJih0LT0xKSx0PDEvNj9zKyhlLXMpKjYqdDp0PDEvMj9lOnQ8Mi8zP3MrKGUtcykqNiooMi8zLXQpOnN9ZnVuY3Rpb24gU1JHQlRvTGluZWFyKHMpe3JldHVybiBzPC4wNDA0NT9zKi4wNzczOTkzODA4Ok1hdGgucG93KHMqLjk0Nzg2NzI5ODYrLjA1MjEzMjcwMTQsMi40KX1mdW5jdGlvbiBMaW5lYXJUb1NSR0Iocyl7cmV0dXJuIHM8LjAwMzEzMDg/cyoxMi45MjoxLjA1NSpNYXRoLnBvdyhzLC40MTY2NiktLjA1NX1jbGFzcyBDb2xvcntjb25zdHJ1Y3RvcihlLHQsbil7cmV0dXJuIHQ9PT12b2lkIDAmJm49PT12b2lkIDA/dGhpcy5zZXQoZSk6dGhpcy5zZXRSR0IoZSx0LG4pfXNldChlKXtyZXR1cm4gZSYmZS5pc0NvbG9yP3RoaXMuY29weShlKTp0eXBlb2YgZT09Im51bWJlciI/dGhpcy5zZXRIZXgoZSk6dHlwZW9mIGU9PSJzdHJpbmciJiZ0aGlzLnNldFN0eWxlKGUpLHRoaXN9c2V0U2NhbGFyKGUpe3JldHVybiB0aGlzLnI9ZSx0aGlzLmc9ZSx0aGlzLmI9ZSx0aGlzfXNldEhleChlKXtyZXR1cm4gZT1NYXRoLmZsb29yKGUpLHRoaXMucj0oZT4+MTYmMjU1KS8yNTUsdGhpcy5nPShlPj44JjI1NSkvMjU1LHRoaXMuYj0oZSYyNTUpLzI1NSx0aGlzfXNldFJHQihlLHQsbil7cmV0dXJuIHRoaXMucj1lLHRoaXMuZz10LHRoaXMuYj1uLHRoaXN9c2V0SFNMKGUsdCxuKXtpZihlPWV1Y2xpZGVhbk1vZHVsbyhlLDEpLHQ9Y2xhbXAodCwwLDEpLG49Y2xhbXAobiwwLDEpLHQ9PT0wKXRoaXMucj10aGlzLmc9dGhpcy5iPW47ZWxzZXtjb25zdCBpPW48PS41P24qKDErdCk6bit0LW4qdCxyPTIqbi1pO3RoaXMucj1odWUycmdiKHIsaSxlKzEvMyksdGhpcy5nPWh1ZTJyZ2IocixpLGUpLHRoaXMuYj1odWUycmdiKHIsaSxlLTEvMyl9cmV0dXJuIHRoaXN9c2V0U3R5bGUoZSl7ZnVuY3Rpb24gdChpKXtpIT09dm9pZCAwJiZwYXJzZUZsb2F0KGkpPDEmJmNvbnNvbGUud2FybigiVEhSRUUuQ29sb3I6IEFscGhhIGNvbXBvbmVudCBvZiAiK2UrIiB3aWxsIGJlIGlnbm9yZWQuIil9bGV0IG47aWYobj0vXigoPzpyZ2J8aHNsKWE/KVwoKFteXCldKilcKS8uZXhlYyhlKSl7bGV0IGk7Y29uc3Qgcj1uWzFdLGE9blsyXTtzd2l0Y2gocil7Y2FzZSJyZ2IiOmNhc2UicmdiYSI6aWYoaT0vXlxzKihcZCspXHMqLFxzKihcZCspXHMqLFxzKihcZCspXHMqKD86LFxzKihcZCpcLj9cZCspXHMqKT8kLy5leGVjKGEpKXJldHVybiB0aGlzLnI9TWF0aC5taW4oMjU1LHBhcnNlSW50KGlbMV0sMTApKS8yNTUsdGhpcy5nPU1hdGgubWluKDI1NSxwYXJzZUludChpWzJdLDEwKSkvMjU1LHRoaXMuYj1NYXRoLm1pbigyNTUscGFyc2VJbnQoaVszXSwxMCkpLzI1NSx0KGlbNF0pLHRoaXM7aWYoaT0vXlxzKihcZCspXCVccyosXHMqKFxkKylcJVxzKixccyooXGQrKVwlXHMqKD86LFxzKihcZCpcLj9cZCspXHMqKT8kLy5leGVjKGEpKXJldHVybiB0aGlzLnI9TWF0aC5taW4oMTAwLHBhcnNlSW50KGlbMV0sMTApKS8xMDAsdGhpcy5nPU1hdGgubWluKDEwMCxwYXJzZUludChpWzJdLDEwKSkvMTAwLHRoaXMuYj1NYXRoLm1pbigxMDAscGFyc2VJbnQoaVszXSwxMCkpLzEwMCx0KGlbNF0pLHRoaXM7YnJlYWs7Y2FzZSJoc2wiOmNhc2UiaHNsYSI6aWYoaT0vXlxzKihcZCpcLj9cZCspXHMqLFxzKihcZCspXCVccyosXHMqKFxkKylcJVxzKig/OixccyooXGQqXC4/XGQrKVxzKik/JC8uZXhlYyhhKSl7Y29uc3Qgbz1wYXJzZUZsb2F0KGlbMV0pLzM2MCxsPXBhcnNlSW50KGlbMl0sMTApLzEwMCxjPXBhcnNlSW50KGlbM10sMTApLzEwMDtyZXR1cm4gdChpWzRdKSx0aGlzLnNldEhTTChvLGwsYyl9YnJlYWt9fWVsc2UgaWYobj0vXlwjKFtBLUZhLWZcZF0rKSQvLmV4ZWMoZSkpe2NvbnN0IGk9blsxXSxyPWkubGVuZ3RoO2lmKHI9PT0zKXJldHVybiB0aGlzLnI9cGFyc2VJbnQoaS5jaGFyQXQoMCkraS5jaGFyQXQoMCksMTYpLzI1NSx0aGlzLmc9cGFyc2VJbnQoaS5jaGFyQXQoMSkraS5jaGFyQXQoMSksMTYpLzI1NSx0aGlzLmI9cGFyc2VJbnQoaS5jaGFyQXQoMikraS5jaGFyQXQoMiksMTYpLzI1NSx0aGlzO2lmKHI9PT02KXJldHVybiB0aGlzLnI9cGFyc2VJbnQoaS5jaGFyQXQoMCkraS5jaGFyQXQoMSksMTYpLzI1NSx0aGlzLmc9cGFyc2VJbnQoaS5jaGFyQXQoMikraS5jaGFyQXQoMyksMTYpLzI1NSx0aGlzLmI9cGFyc2VJbnQoaS5jaGFyQXQoNCkraS5jaGFyQXQoNSksMTYpLzI1NSx0aGlzfXJldHVybiBlJiZlLmxlbmd0aD4wP3RoaXMuc2V0Q29sb3JOYW1lKGUpOnRoaXN9c2V0Q29sb3JOYW1lKGUpe2NvbnN0IHQ9X2NvbG9yS2V5d29yZHNbZS50b0xvd2VyQ2FzZSgpXTtyZXR1cm4gdCE9PXZvaWQgMD90aGlzLnNldEhleCh0KTpjb25zb2xlLndhcm4oIlRIUkVFLkNvbG9yOiBVbmtub3duIGNvbG9yICIrZSksdGhpc31jbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLnIsdGhpcy5nLHRoaXMuYil9Y29weShlKXtyZXR1cm4gdGhpcy5yPWUucix0aGlzLmc9ZS5nLHRoaXMuYj1lLmIsdGhpc31jb3B5U1JHQlRvTGluZWFyKGUpe3JldHVybiB0aGlzLnI9U1JHQlRvTGluZWFyKGUuciksdGhpcy5nPVNSR0JUb0xpbmVhcihlLmcpLHRoaXMuYj1TUkdCVG9MaW5lYXIoZS5iKSx0aGlzfWNvcHlMaW5lYXJUb1NSR0IoZSl7cmV0dXJuIHRoaXMucj1MaW5lYXJUb1NSR0IoZS5yKSx0aGlzLmc9TGluZWFyVG9TUkdCKGUuZyksdGhpcy5iPUxpbmVhclRvU1JHQihlLmIpLHRoaXN9Y29udmVydFNSR0JUb0xpbmVhcigpe3JldHVybiB0aGlzLmNvcHlTUkdCVG9MaW5lYXIodGhpcyksdGhpc31jb252ZXJ0TGluZWFyVG9TUkdCKCl7cmV0dXJuIHRoaXMuY29weUxpbmVhclRvU1JHQih0aGlzKSx0aGlzfWdldEhleCgpe3JldHVybiB0aGlzLnIqMjU1PDwxNl50aGlzLmcqMjU1PDw4XnRoaXMuYioyNTU8PDB9Z2V0SGV4U3RyaW5nKCl7cmV0dXJuKCIwMDAwMDAiK3RoaXMuZ2V0SGV4KCkudG9TdHJpbmcoMTYpKS5zbGljZSgtNil9Z2V0SFNMKGUpe2NvbnN0IHQ9dGhpcy5yLG49dGhpcy5nLGk9dGhpcy5iLHI9TWF0aC5tYXgodCxuLGkpLGE9TWF0aC5taW4odCxuLGkpO2xldCBvLGw7Y29uc3QgYz0oYStyKS8yO2lmKGE9PT1yKW89MCxsPTA7ZWxzZXtjb25zdCBoPXItYTtzd2l0Y2gobD1jPD0uNT9oLyhyK2EpOmgvKDItci1hKSxyKXtjYXNlIHQ6bz0obi1pKS9oKyhuPGk/NjowKTticmVhaztjYXNlIG46bz0oaS10KS9oKzI7YnJlYWs7Y2FzZSBpOm89KHQtbikvaCs0O2JyZWFrfW8vPTZ9cmV0dXJuIGUuaD1vLGUucz1sLGUubD1jLGV9Z2V0U3R5bGUoKXtyZXR1cm4icmdiKCIrKHRoaXMucioyNTV8MCkrIiwiKyh0aGlzLmcqMjU1fDApKyIsIisodGhpcy5iKjI1NXwwKSsiKSJ9b2Zmc2V0SFNMKGUsdCxuKXtyZXR1cm4gdGhpcy5nZXRIU0woX2hzbEEpLF9oc2xBLmgrPWUsX2hzbEEucys9dCxfaHNsQS5sKz1uLHRoaXMuc2V0SFNMKF9oc2xBLmgsX2hzbEEucyxfaHNsQS5sKSx0aGlzfWFkZChlKXtyZXR1cm4gdGhpcy5yKz1lLnIsdGhpcy5nKz1lLmcsdGhpcy5iKz1lLmIsdGhpc31hZGRDb2xvcnMoZSx0KXtyZXR1cm4gdGhpcy5yPWUucit0LnIsdGhpcy5nPWUuZyt0LmcsdGhpcy5iPWUuYit0LmIsdGhpc31hZGRTY2FsYXIoZSl7cmV0dXJuIHRoaXMucis9ZSx0aGlzLmcrPWUsdGhpcy5iKz1lLHRoaXN9c3ViKGUpe3JldHVybiB0aGlzLnI9TWF0aC5tYXgoMCx0aGlzLnItZS5yKSx0aGlzLmc9TWF0aC5tYXgoMCx0aGlzLmctZS5nKSx0aGlzLmI9TWF0aC5tYXgoMCx0aGlzLmItZS5iKSx0aGlzfW11bHRpcGx5KGUpe3JldHVybiB0aGlzLnIqPWUucix0aGlzLmcqPWUuZyx0aGlzLmIqPWUuYix0aGlzfW11bHRpcGx5U2NhbGFyKGUpe3JldHVybiB0aGlzLnIqPWUsdGhpcy5nKj1lLHRoaXMuYio9ZSx0aGlzfWxlcnAoZSx0KXtyZXR1cm4gdGhpcy5yKz0oZS5yLXRoaXMucikqdCx0aGlzLmcrPShlLmctdGhpcy5nKSp0LHRoaXMuYis9KGUuYi10aGlzLmIpKnQsdGhpc31sZXJwQ29sb3JzKGUsdCxuKXtyZXR1cm4gdGhpcy5yPWUucisodC5yLWUucikqbix0aGlzLmc9ZS5nKyh0LmctZS5nKSpuLHRoaXMuYj1lLmIrKHQuYi1lLmIpKm4sdGhpc31sZXJwSFNMKGUsdCl7dGhpcy5nZXRIU0woX2hzbEEpLGUuZ2V0SFNMKF9oc2xCKTtjb25zdCBuPWxlcnAoX2hzbEEuaCxfaHNsQi5oLHQpLGk9bGVycChfaHNsQS5zLF9oc2xCLnMsdCkscj1sZXJwKF9oc2xBLmwsX2hzbEIubCx0KTtyZXR1cm4gdGhpcy5zZXRIU0wobixpLHIpLHRoaXN9ZXF1YWxzKGUpe3JldHVybiBlLnI9PT10aGlzLnImJmUuZz09PXRoaXMuZyYmZS5iPT09dGhpcy5ifWZyb21BcnJheShlLHQ9MCl7cmV0dXJuIHRoaXMucj1lW3RdLHRoaXMuZz1lW3QrMV0sdGhpcy5iPWVbdCsyXSx0aGlzfXRvQXJyYXkoZT1bXSx0PTApe3JldHVybiBlW3RdPXRoaXMucixlW3QrMV09dGhpcy5nLGVbdCsyXT10aGlzLmIsZX1mcm9tQnVmZmVyQXR0cmlidXRlKGUsdCl7cmV0dXJuIHRoaXMucj1lLmdldFgodCksdGhpcy5nPWUuZ2V0WSh0KSx0aGlzLmI9ZS5nZXRaKHQpLGUubm9ybWFsaXplZD09PSEwJiYodGhpcy5yLz0yNTUsdGhpcy5nLz0yNTUsdGhpcy5iLz0yNTUpLHRoaXN9dG9KU09OKCl7cmV0dXJuIHRoaXMuZ2V0SGV4KCl9fUNvbG9yLk5BTUVTPV9jb2xvcktleXdvcmRzLENvbG9yLnByb3RvdHlwZS5pc0NvbG9yPSEwLENvbG9yLnByb3RvdHlwZS5yPTEsQ29sb3IucHJvdG90eXBlLmc9MSxDb2xvci5wcm90b3R5cGUuYj0xO2xldCBfY2FudmFzO2NsYXNzIEltYWdlVXRpbHN7c3RhdGljIGdldERhdGFVUkwoZSl7aWYoL15kYXRhOi9pLnRlc3QoZS5zcmMpfHx0eXBlb2YgSFRNTENhbnZhc0VsZW1lbnQ+InUiKXJldHVybiBlLnNyYztsZXQgdDtpZihlIGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQpdD1lO2Vsc2V7X2NhbnZhcz09PXZvaWQgMCYmKF9jYW52YXM9Y3JlYXRlRWxlbWVudE5TKCJjYW52YXMiKSksX2NhbnZhcy53aWR0aD1lLndpZHRoLF9jYW52YXMuaGVpZ2h0PWUuaGVpZ2h0O2NvbnN0IG49X2NhbnZhcy5nZXRDb250ZXh0KCIyZCIpO2UgaW5zdGFuY2VvZiBJbWFnZURhdGE/bi5wdXRJbWFnZURhdGEoZSwwLDApOm4uZHJhd0ltYWdlKGUsMCwwLGUud2lkdGgsZS5oZWlnaHQpLHQ9X2NhbnZhc31yZXR1cm4gdC53aWR0aD4yMDQ4fHx0LmhlaWdodD4yMDQ4Pyhjb25zb2xlLndhcm4oIlRIUkVFLkltYWdlVXRpbHMuZ2V0RGF0YVVSTDogSW1hZ2UgY29udmVydGVkIHRvIGpwZyBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucyIsZSksdC50b0RhdGFVUkwoImltYWdlL2pwZWciLC42KSk6dC50b0RhdGFVUkwoImltYWdlL3BuZyIpfXN0YXRpYyBzUkdCVG9MaW5lYXIoZSl7aWYodHlwZW9mIEhUTUxJbWFnZUVsZW1lbnQ8InUiJiZlIGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudHx8dHlwZW9mIEhUTUxDYW52YXNFbGVtZW50PCJ1IiYmZSBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50fHx0eXBlb2YgSW1hZ2VCaXRtYXA8InUiJiZlIGluc3RhbmNlb2YgSW1hZ2VCaXRtYXApe2NvbnN0IHQ9Y3JlYXRlRWxlbWVudE5TKCJjYW52YXMiKTt0LndpZHRoPWUud2lkdGgsdC5oZWlnaHQ9ZS5oZWlnaHQ7Y29uc3Qgbj10LmdldENvbnRleHQoIjJkIik7bi5kcmF3SW1hZ2UoZSwwLDAsZS53aWR0aCxlLmhlaWdodCk7Y29uc3QgaT1uLmdldEltYWdlRGF0YSgwLDAsZS53aWR0aCxlLmhlaWdodCkscj1pLmRhdGE7Zm9yKGxldCBhPTA7YTxyLmxlbmd0aDthKyspclthXT1TUkdCVG9MaW5lYXIoclthXS8yNTUpKjI1NTtyZXR1cm4gbi5wdXRJbWFnZURhdGEoaSwwLDApLHR9ZWxzZSBpZihlLmRhdGEpe2NvbnN0IHQ9ZS5kYXRhLnNsaWNlKDApO2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKXQgaW5zdGFuY2VvZiBVaW50OEFycmF5fHx0IGluc3RhbmNlb2YgVWludDhDbGFtcGVkQXJyYXk/dFtuXT1NYXRoLmZsb29yKFNSR0JUb0xpbmVhcih0W25dLzI1NSkqMjU1KTp0W25dPVNSR0JUb0xpbmVhcih0W25dKTtyZXR1cm57ZGF0YTp0LHdpZHRoOmUud2lkdGgsaGVpZ2h0OmUuaGVpZ2h0fX1lbHNlIHJldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLkltYWdlVXRpbHMuc1JHQlRvTGluZWFyKCk6IFVuc3VwcG9ydGVkIGltYWdlIHR5cGUuIE5vIGNvbG9yIHNwYWNlIGNvbnZlcnNpb24gYXBwbGllZC4iKSxlfX1jbGFzcyBTb3VyY2V7Y29uc3RydWN0b3IoZT1udWxsKXt0aGlzLnV1aWQ9Z2VuZXJhdGVVVUlEKCksdGhpcy5kYXRhPWUsdGhpcy52ZXJzaW9uPTB9c2V0IG5lZWRzVXBkYXRlKGUpe2U9PT0hMCYmdGhpcy52ZXJzaW9uKyt9dG9KU09OKGUpe2NvbnN0IHQ9ZT09PXZvaWQgMHx8dHlwZW9mIGU9PSJzdHJpbmciO2lmKCF0JiZlLmltYWdlc1t0aGlzLnV1aWRdIT09dm9pZCAwKXJldHVybiBlLmltYWdlc1t0aGlzLnV1aWRdO2NvbnN0IG49e3V1aWQ6dGhpcy51dWlkLHVybDoiIn0saT10aGlzLmRhdGE7aWYoaSE9PW51bGwpe2xldCByO2lmKEFycmF5LmlzQXJyYXkoaSkpe3I9W107Zm9yKGxldCBhPTAsbz1pLmxlbmd0aDthPG87YSsrKWlbYV0uaXNEYXRhVGV4dHVyZT9yLnB1c2goc2VyaWFsaXplSW1hZ2UoaVthXS5pbWFnZSkpOnIucHVzaChzZXJpYWxpemVJbWFnZShpW2FdKSl9ZWxzZSByPXNlcmlhbGl6ZUltYWdlKGkpO24udXJsPXJ9cmV0dXJuIHR8fChlLmltYWdlc1t0aGlzLnV1aWRdPW4pLG59fWZ1bmN0aW9uIHNlcmlhbGl6ZUltYWdlKHMpe3JldHVybiB0eXBlb2YgSFRNTEltYWdlRWxlbWVudDwidSImJnMgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50fHx0eXBlb2YgSFRNTENhbnZhc0VsZW1lbnQ8InUiJiZzIGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnR8fHR5cGVvZiBJbWFnZUJpdG1hcDwidSImJnMgaW5zdGFuY2VvZiBJbWFnZUJpdG1hcD9JbWFnZVV0aWxzLmdldERhdGFVUkwocyk6cy5kYXRhP3tkYXRhOkFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHMuZGF0YSksd2lkdGg6cy53aWR0aCxoZWlnaHQ6cy5oZWlnaHQsdHlwZTpzLmRhdGEuY29uc3RydWN0b3IubmFtZX06KGNvbnNvbGUud2FybigiVEhSRUUuVGV4dHVyZTogVW5hYmxlIHRvIHNlcmlhbGl6ZSBUZXh0dXJlLiIpLHt9KX1Tb3VyY2UucHJvdG90eXBlLmlzU291cmNlPSEwO2xldCB0ZXh0dXJlSWQ9MDtjbGFzcyBUZXh0dXJlIGV4dGVuZHMgRXZlbnREaXNwYXRjaGVye2NvbnN0cnVjdG9yKGU9VGV4dHVyZS5ERUZBVUxUX0lNQUdFLHQ9VGV4dHVyZS5ERUZBVUxUX01BUFBJTkcsbj0xMDAxLGk9MTAwMSxyPTEwMDYsYT0xMDA4LG89MTAyMyxsPTEwMDksYz0xLGg9M2UzKXtzdXBlcigpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCJpZCIse3ZhbHVlOnRleHR1cmVJZCsrfSksdGhpcy51dWlkPWdlbmVyYXRlVVVJRCgpLHRoaXMubmFtZT0iIix0aGlzLnNvdXJjZT1uZXcgU291cmNlKGUpLHRoaXMubWlwbWFwcz1bXSx0aGlzLm1hcHBpbmc9dCx0aGlzLndyYXBTPW4sdGhpcy53cmFwVD1pLHRoaXMubWFnRmlsdGVyPXIsdGhpcy5taW5GaWx0ZXI9YSx0aGlzLmFuaXNvdHJvcHk9Yyx0aGlzLmZvcm1hdD1vLHRoaXMuaW50ZXJuYWxGb3JtYXQ9bnVsbCx0aGlzLnR5cGU9bCx0aGlzLm9mZnNldD1uZXcgVmVjdG9yMigwLDApLHRoaXMucmVwZWF0PW5ldyBWZWN0b3IyKDEsMSksdGhpcy5jZW50ZXI9bmV3IFZlY3RvcjIoMCwwKSx0aGlzLnJvdGF0aW9uPTAsdGhpcy5tYXRyaXhBdXRvVXBkYXRlPSEwLHRoaXMubWF0cml4PW5ldyBNYXRyaXgzLHRoaXMuZ2VuZXJhdGVNaXBtYXBzPSEwLHRoaXMucHJlbXVsdGlwbHlBbHBoYT0hMSx0aGlzLmZsaXBZPSEwLHRoaXMudW5wYWNrQWxpZ25tZW50PTQsdGhpcy5lbmNvZGluZz1oLHRoaXMudXNlckRhdGE9e30sdGhpcy52ZXJzaW9uPTAsdGhpcy5vblVwZGF0ZT1udWxsLHRoaXMuaXNSZW5kZXJUYXJnZXRUZXh0dXJlPSExLHRoaXMubmVlZHNQTVJFTVVwZGF0ZT0hMX1nZXQgaW1hZ2UoKXtyZXR1cm4gdGhpcy5zb3VyY2UuZGF0YX1zZXQgaW1hZ2UoZSl7dGhpcy5zb3VyY2UuZGF0YT1lfXVwZGF0ZU1hdHJpeCgpe3RoaXMubWF0cml4LnNldFV2VHJhbnNmb3JtKHRoaXMub2Zmc2V0LngsdGhpcy5vZmZzZXQueSx0aGlzLnJlcGVhdC54LHRoaXMucmVwZWF0LnksdGhpcy5yb3RhdGlvbix0aGlzLmNlbnRlci54LHRoaXMuY2VudGVyLnkpfWNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCkuY29weSh0aGlzKX1jb3B5KGUpe3JldHVybiB0aGlzLm5hbWU9ZS5uYW1lLHRoaXMuc291cmNlPWUuc291cmNlLHRoaXMubWlwbWFwcz1lLm1pcG1hcHMuc2xpY2UoMCksdGhpcy5tYXBwaW5nPWUubWFwcGluZyx0aGlzLndyYXBTPWUud3JhcFMsdGhpcy53cmFwVD1lLndyYXBULHRoaXMubWFnRmlsdGVyPWUubWFnRmlsdGVyLHRoaXMubWluRmlsdGVyPWUubWluRmlsdGVyLHRoaXMuYW5pc290cm9weT1lLmFuaXNvdHJvcHksdGhpcy5mb3JtYXQ9ZS5mb3JtYXQsdGhpcy5pbnRlcm5hbEZvcm1hdD1lLmludGVybmFsRm9ybWF0LHRoaXMudHlwZT1lLnR5cGUsdGhpcy5vZmZzZXQuY29weShlLm9mZnNldCksdGhpcy5yZXBlYXQuY29weShlLnJlcGVhdCksdGhpcy5jZW50ZXIuY29weShlLmNlbnRlciksdGhpcy5yb3RhdGlvbj1lLnJvdGF0aW9uLHRoaXMubWF0cml4QXV0b1VwZGF0ZT1lLm1hdHJpeEF1dG9VcGRhdGUsdGhpcy5tYXRyaXguY29weShlLm1hdHJpeCksdGhpcy5nZW5lcmF0ZU1pcG1hcHM9ZS5nZW5lcmF0ZU1pcG1hcHMsdGhpcy5wcmVtdWx0aXBseUFscGhhPWUucHJlbXVsdGlwbHlBbHBoYSx0aGlzLmZsaXBZPWUuZmxpcFksdGhpcy51bnBhY2tBbGlnbm1lbnQ9ZS51bnBhY2tBbGlnbm1lbnQsdGhpcy5lbmNvZGluZz1lLmVuY29kaW5nLHRoaXMudXNlckRhdGE9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShlLnVzZXJEYXRhKSksdGhpcy5uZWVkc1VwZGF0ZT0hMCx0aGlzfXRvSlNPTihlKXtjb25zdCB0PWU9PT12b2lkIDB8fHR5cGVvZiBlPT0ic3RyaW5nIjtpZighdCYmZS50ZXh0dXJlc1t0aGlzLnV1aWRdIT09dm9pZCAwKXJldHVybiBlLnRleHR1cmVzW3RoaXMudXVpZF07Y29uc3Qgbj17bWV0YWRhdGE6e3ZlcnNpb246NC41LHR5cGU6IlRleHR1cmUiLGdlbmVyYXRvcjoiVGV4dHVyZS50b0pTT04ifSx1dWlkOnRoaXMudXVpZCxuYW1lOnRoaXMubmFtZSxpbWFnZTp0aGlzLnNvdXJjZS50b0pTT04oZSkudXVpZCxtYXBwaW5nOnRoaXMubWFwcGluZyxyZXBlYXQ6W3RoaXMucmVwZWF0LngsdGhpcy5yZXBlYXQueV0sb2Zmc2V0Olt0aGlzLm9mZnNldC54LHRoaXMub2Zmc2V0LnldLGNlbnRlcjpbdGhpcy5jZW50ZXIueCx0aGlzLmNlbnRlci55XSxyb3RhdGlvbjp0aGlzLnJvdGF0aW9uLHdyYXA6W3RoaXMud3JhcFMsdGhpcy53cmFwVF0sZm9ybWF0OnRoaXMuZm9ybWF0LHR5cGU6dGhpcy50eXBlLGVuY29kaW5nOnRoaXMuZW5jb2RpbmcsbWluRmlsdGVyOnRoaXMubWluRmlsdGVyLG1hZ0ZpbHRlcjp0aGlzLm1hZ0ZpbHRlcixhbmlzb3Ryb3B5OnRoaXMuYW5pc290cm9weSxmbGlwWTp0aGlzLmZsaXBZLHByZW11bHRpcGx5QWxwaGE6dGhpcy5wcmVtdWx0aXBseUFscGhhLHVucGFja0FsaWdubWVudDp0aGlzLnVucGFja0FsaWdubWVudH07cmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMudXNlckRhdGEpIT09Int9IiYmKG4udXNlckRhdGE9dGhpcy51c2VyRGF0YSksdHx8KGUudGV4dHVyZXNbdGhpcy51dWlkXT1uKSxufWRpc3Bvc2UoKXt0aGlzLmRpc3BhdGNoRXZlbnQoe3R5cGU6ImRpc3Bvc2UifSl9dHJhbnNmb3JtVXYoZSl7aWYodGhpcy5tYXBwaW5nIT09MzAwKXJldHVybiBlO2lmKGUuYXBwbHlNYXRyaXgzKHRoaXMubWF0cml4KSxlLng8MHx8ZS54PjEpc3dpdGNoKHRoaXMud3JhcFMpe2Nhc2UgMWUzOmUueD1lLngtTWF0aC5mbG9vcihlLngpO2JyZWFrO2Nhc2UgMTAwMTplLng9ZS54PDA/MDoxO2JyZWFrO2Nhc2UgMTAwMjpNYXRoLmFicyhNYXRoLmZsb29yKGUueCklMik9PT0xP2UueD1NYXRoLmNlaWwoZS54KS1lLng6ZS54PWUueC1NYXRoLmZsb29yKGUueCk7YnJlYWt9aWYoZS55PDB8fGUueT4xKXN3aXRjaCh0aGlzLndyYXBUKXtjYXNlIDFlMzplLnk9ZS55LU1hdGguZmxvb3IoZS55KTticmVhaztjYXNlIDEwMDE6ZS55PWUueTwwPzA6MTticmVhaztjYXNlIDEwMDI6TWF0aC5hYnMoTWF0aC5mbG9vcihlLnkpJTIpPT09MT9lLnk9TWF0aC5jZWlsKGUueSktZS55OmUueT1lLnktTWF0aC5mbG9vcihlLnkpO2JyZWFrfXJldHVybiB0aGlzLmZsaXBZJiYoZS55PTEtZS55KSxlfXNldCBuZWVkc1VwZGF0ZShlKXtlPT09ITAmJih0aGlzLnZlcnNpb24rKyx0aGlzLnNvdXJjZS5uZWVkc1VwZGF0ZT0hMCl9fVRleHR1cmUuREVGQVVMVF9JTUFHRT1udWxsLFRleHR1cmUuREVGQVVMVF9NQVBQSU5HPTMwMCxUZXh0dXJlLnByb3RvdHlwZS5pc1RleHR1cmU9ITA7Y2xhc3MgVmVjdG9yNHtjb25zdHJ1Y3RvcihlPTAsdD0wLG49MCxpPTEpe3RoaXMueD1lLHRoaXMueT10LHRoaXMuej1uLHRoaXMudz1pfWdldCB3aWR0aCgpe3JldHVybiB0aGlzLnp9c2V0IHdpZHRoKGUpe3RoaXMuej1lfWdldCBoZWlnaHQoKXtyZXR1cm4gdGhpcy53fXNldCBoZWlnaHQoZSl7dGhpcy53PWV9c2V0KGUsdCxuLGkpe3JldHVybiB0aGlzLng9ZSx0aGlzLnk9dCx0aGlzLno9bix0aGlzLnc9aSx0aGlzfXNldFNjYWxhcihlKXtyZXR1cm4gdGhpcy54PWUsdGhpcy55PWUsdGhpcy56PWUsdGhpcy53PWUsdGhpc31zZXRYKGUpe3JldHVybiB0aGlzLng9ZSx0aGlzfXNldFkoZSl7cmV0dXJuIHRoaXMueT1lLHRoaXN9c2V0WihlKXtyZXR1cm4gdGhpcy56PWUsdGhpc31zZXRXKGUpe3JldHVybiB0aGlzLnc9ZSx0aGlzfXNldENvbXBvbmVudChlLHQpe3N3aXRjaChlKXtjYXNlIDA6dGhpcy54PXQ7YnJlYWs7Y2FzZSAxOnRoaXMueT10O2JyZWFrO2Nhc2UgMjp0aGlzLno9dDticmVhaztjYXNlIDM6dGhpcy53PXQ7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoImluZGV4IGlzIG91dCBvZiByYW5nZTogIitlKX1yZXR1cm4gdGhpc31nZXRDb21wb25lbnQoZSl7c3dpdGNoKGUpe2Nhc2UgMDpyZXR1cm4gdGhpcy54O2Nhc2UgMTpyZXR1cm4gdGhpcy55O2Nhc2UgMjpyZXR1cm4gdGhpcy56O2Nhc2UgMzpyZXR1cm4gdGhpcy53O2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJpbmRleCBpcyBvdXQgb2YgcmFuZ2U6ICIrZSl9fWNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMueCx0aGlzLnksdGhpcy56LHRoaXMudyl9Y29weShlKXtyZXR1cm4gdGhpcy54PWUueCx0aGlzLnk9ZS55LHRoaXMuej1lLnosdGhpcy53PWUudyE9PXZvaWQgMD9lLnc6MSx0aGlzfWFkZChlLHQpe3JldHVybiB0IT09dm9pZCAwPyhjb25zb2xlLndhcm4oIlRIUkVFLlZlY3RvcjQ6IC5hZGQoKSBub3cgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC4gVXNlIC5hZGRWZWN0b3JzKCBhLCBiICkgaW5zdGVhZC4iKSx0aGlzLmFkZFZlY3RvcnMoZSx0KSk6KHRoaXMueCs9ZS54LHRoaXMueSs9ZS55LHRoaXMueis9ZS56LHRoaXMudys9ZS53LHRoaXMpfWFkZFNjYWxhcihlKXtyZXR1cm4gdGhpcy54Kz1lLHRoaXMueSs9ZSx0aGlzLnorPWUsdGhpcy53Kz1lLHRoaXN9YWRkVmVjdG9ycyhlLHQpe3JldHVybiB0aGlzLng9ZS54K3QueCx0aGlzLnk9ZS55K3QueSx0aGlzLno9ZS56K3Queix0aGlzLnc9ZS53K3Qudyx0aGlzfWFkZFNjYWxlZFZlY3RvcihlLHQpe3JldHVybiB0aGlzLngrPWUueCp0LHRoaXMueSs9ZS55KnQsdGhpcy56Kz1lLnoqdCx0aGlzLncrPWUudyp0LHRoaXN9c3ViKGUsdCl7cmV0dXJuIHQhPT12b2lkIDA/KGNvbnNvbGUud2FybigiVEhSRUUuVmVjdG9yNDogLnN1YigpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLnN1YlZlY3RvcnMoIGEsIGIgKSBpbnN0ZWFkLiIpLHRoaXMuc3ViVmVjdG9ycyhlLHQpKToodGhpcy54LT1lLngsdGhpcy55LT1lLnksdGhpcy56LT1lLnosdGhpcy53LT1lLncsdGhpcyl9c3ViU2NhbGFyKGUpe3JldHVybiB0aGlzLngtPWUsdGhpcy55LT1lLHRoaXMuei09ZSx0aGlzLnctPWUsdGhpc31zdWJWZWN0b3JzKGUsdCl7cmV0dXJuIHRoaXMueD1lLngtdC54LHRoaXMueT1lLnktdC55LHRoaXMuej1lLnotdC56LHRoaXMudz1lLnctdC53LHRoaXN9bXVsdGlwbHkoZSl7cmV0dXJuIHRoaXMueCo9ZS54LHRoaXMueSo9ZS55LHRoaXMueio9ZS56LHRoaXMudyo9ZS53LHRoaXN9bXVsdGlwbHlTY2FsYXIoZSl7cmV0dXJuIHRoaXMueCo9ZSx0aGlzLnkqPWUsdGhpcy56Kj1lLHRoaXMudyo9ZSx0aGlzfWFwcGx5TWF0cml4NChlKXtjb25zdCB0PXRoaXMueCxuPXRoaXMueSxpPXRoaXMueixyPXRoaXMudyxhPWUuZWxlbWVudHM7cmV0dXJuIHRoaXMueD1hWzBdKnQrYVs0XSpuK2FbOF0qaSthWzEyXSpyLHRoaXMueT1hWzFdKnQrYVs1XSpuK2FbOV0qaSthWzEzXSpyLHRoaXMuej1hWzJdKnQrYVs2XSpuK2FbMTBdKmkrYVsxNF0qcix0aGlzLnc9YVszXSp0K2FbN10qbithWzExXSppK2FbMTVdKnIsdGhpc31kaXZpZGVTY2FsYXIoZSl7cmV0dXJuIHRoaXMubXVsdGlwbHlTY2FsYXIoMS9lKX1zZXRBeGlzQW5nbGVGcm9tUXVhdGVybmlvbihlKXt0aGlzLnc9MipNYXRoLmFjb3MoZS53KTtjb25zdCB0PU1hdGguc3FydCgxLWUudyplLncpO3JldHVybiB0PDFlLTQ/KHRoaXMueD0xLHRoaXMueT0wLHRoaXMuej0wKToodGhpcy54PWUueC90LHRoaXMueT1lLnkvdCx0aGlzLno9ZS56L3QpLHRoaXN9c2V0QXhpc0FuZ2xlRnJvbVJvdGF0aW9uTWF0cml4KGUpe2xldCB0LG4saSxyO2NvbnN0IGw9ZS5lbGVtZW50cyxjPWxbMF0saD1sWzRdLHU9bFs4XSxkPWxbMV0sZj1sWzVdLGc9bFs5XSxfPWxbMl0seT1sWzZdLG09bFsxMF07aWYoTWF0aC5hYnMoaC1kKTwuMDEmJk1hdGguYWJzKHUtXyk8LjAxJiZNYXRoLmFicyhnLXkpPC4wMSl7aWYoTWF0aC5hYnMoaCtkKTwuMSYmTWF0aC5hYnModStfKTwuMSYmTWF0aC5hYnMoZyt5KTwuMSYmTWF0aC5hYnMoYytmK20tMyk8LjEpcmV0dXJuIHRoaXMuc2V0KDEsMCwwLDApLHRoaXM7dD1NYXRoLlBJO2NvbnN0IFQ9KGMrMSkvMix3PShmKzEpLzIsUz0obSsxKS8yLFI9KGgrZCkvNCxEPSh1K18pLzQsWD0oZyt5KS80O3JldHVybiBUPncmJlQ+Uz9UPC4wMT8obj0wLGk9LjcwNzEwNjc4MSxyPS43MDcxMDY3ODEpOihuPU1hdGguc3FydChUKSxpPVIvbixyPUQvbik6dz5TP3c8LjAxPyhuPS43MDcxMDY3ODEsaT0wLHI9LjcwNzEwNjc4MSk6KGk9TWF0aC5zcXJ0KHcpLG49Ui9pLHI9WC9pKTpTPC4wMT8obj0uNzA3MTA2NzgxLGk9LjcwNzEwNjc4MSxyPTApOihyPU1hdGguc3FydChTKSxuPUQvcixpPVgvciksdGhpcy5zZXQobixpLHIsdCksdGhpc31sZXQgcD1NYXRoLnNxcnQoKHktZykqKHktZykrKHUtXykqKHUtXykrKGQtaCkqKGQtaCkpO3JldHVybiBNYXRoLmFicyhwKTwuMDAxJiYocD0xKSx0aGlzLng9KHktZykvcCx0aGlzLnk9KHUtXykvcCx0aGlzLno9KGQtaCkvcCx0aGlzLnc9TWF0aC5hY29zKChjK2YrbS0xKS8yKSx0aGlzfW1pbihlKXtyZXR1cm4gdGhpcy54PU1hdGgubWluKHRoaXMueCxlLngpLHRoaXMueT1NYXRoLm1pbih0aGlzLnksZS55KSx0aGlzLno9TWF0aC5taW4odGhpcy56LGUueiksdGhpcy53PU1hdGgubWluKHRoaXMudyxlLncpLHRoaXN9bWF4KGUpe3JldHVybiB0aGlzLng9TWF0aC5tYXgodGhpcy54LGUueCksdGhpcy55PU1hdGgubWF4KHRoaXMueSxlLnkpLHRoaXMuej1NYXRoLm1heCh0aGlzLnosZS56KSx0aGlzLnc9TWF0aC5tYXgodGhpcy53LGUudyksdGhpc31jbGFtcChlLHQpe3JldHVybiB0aGlzLng9TWF0aC5tYXgoZS54LE1hdGgubWluKHQueCx0aGlzLngpKSx0aGlzLnk9TWF0aC5tYXgoZS55LE1hdGgubWluKHQueSx0aGlzLnkpKSx0aGlzLno9TWF0aC5tYXgoZS56LE1hdGgubWluKHQueix0aGlzLnopKSx0aGlzLnc9TWF0aC5tYXgoZS53LE1hdGgubWluKHQudyx0aGlzLncpKSx0aGlzfWNsYW1wU2NhbGFyKGUsdCl7cmV0dXJuIHRoaXMueD1NYXRoLm1heChlLE1hdGgubWluKHQsdGhpcy54KSksdGhpcy55PU1hdGgubWF4KGUsTWF0aC5taW4odCx0aGlzLnkpKSx0aGlzLno9TWF0aC5tYXgoZSxNYXRoLm1pbih0LHRoaXMueikpLHRoaXMudz1NYXRoLm1heChlLE1hdGgubWluKHQsdGhpcy53KSksdGhpc31jbGFtcExlbmd0aChlLHQpe2NvbnN0IG49dGhpcy5sZW5ndGgoKTtyZXR1cm4gdGhpcy5kaXZpZGVTY2FsYXIobnx8MSkubXVsdGlwbHlTY2FsYXIoTWF0aC5tYXgoZSxNYXRoLm1pbih0LG4pKSl9Zmxvb3IoKXtyZXR1cm4gdGhpcy54PU1hdGguZmxvb3IodGhpcy54KSx0aGlzLnk9TWF0aC5mbG9vcih0aGlzLnkpLHRoaXMuej1NYXRoLmZsb29yKHRoaXMueiksdGhpcy53PU1hdGguZmxvb3IodGhpcy53KSx0aGlzfWNlaWwoKXtyZXR1cm4gdGhpcy54PU1hdGguY2VpbCh0aGlzLngpLHRoaXMueT1NYXRoLmNlaWwodGhpcy55KSx0aGlzLno9TWF0aC5jZWlsKHRoaXMueiksdGhpcy53PU1hdGguY2VpbCh0aGlzLncpLHRoaXN9cm91bmQoKXtyZXR1cm4gdGhpcy54PU1hdGgucm91bmQodGhpcy54KSx0aGlzLnk9TWF0aC5yb3VuZCh0aGlzLnkpLHRoaXMuej1NYXRoLnJvdW5kKHRoaXMueiksdGhpcy53PU1hdGgucm91bmQodGhpcy53KSx0aGlzfXJvdW5kVG9aZXJvKCl7cmV0dXJuIHRoaXMueD10aGlzLng8MD9NYXRoLmNlaWwodGhpcy54KTpNYXRoLmZsb29yKHRoaXMueCksdGhpcy55PXRoaXMueTwwP01hdGguY2VpbCh0aGlzLnkpOk1hdGguZmxvb3IodGhpcy55KSx0aGlzLno9dGhpcy56PDA/TWF0aC5jZWlsKHRoaXMueik6TWF0aC5mbG9vcih0aGlzLnopLHRoaXMudz10aGlzLnc8MD9NYXRoLmNlaWwodGhpcy53KTpNYXRoLmZsb29yKHRoaXMudyksdGhpc31uZWdhdGUoKXtyZXR1cm4gdGhpcy54PS10aGlzLngsdGhpcy55PS10aGlzLnksdGhpcy56PS10aGlzLnosdGhpcy53PS10aGlzLncsdGhpc31kb3QoZSl7cmV0dXJuIHRoaXMueCplLngrdGhpcy55KmUueSt0aGlzLnoqZS56K3RoaXMudyplLnd9bGVuZ3RoU3EoKXtyZXR1cm4gdGhpcy54KnRoaXMueCt0aGlzLnkqdGhpcy55K3RoaXMueip0aGlzLnordGhpcy53KnRoaXMud31sZW5ndGgoKXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMueCp0aGlzLngrdGhpcy55KnRoaXMueSt0aGlzLnoqdGhpcy56K3RoaXMudyp0aGlzLncpfW1hbmhhdHRhbkxlbmd0aCgpe3JldHVybiBNYXRoLmFicyh0aGlzLngpK01hdGguYWJzKHRoaXMueSkrTWF0aC5hYnModGhpcy56KStNYXRoLmFicyh0aGlzLncpfW5vcm1hbGl6ZSgpe3JldHVybiB0aGlzLmRpdmlkZVNjYWxhcih0aGlzLmxlbmd0aCgpfHwxKX1zZXRMZW5ndGgoZSl7cmV0dXJuIHRoaXMubm9ybWFsaXplKCkubXVsdGlwbHlTY2FsYXIoZSl9bGVycChlLHQpe3JldHVybiB0aGlzLngrPShlLngtdGhpcy54KSp0LHRoaXMueSs9KGUueS10aGlzLnkpKnQsdGhpcy56Kz0oZS56LXRoaXMueikqdCx0aGlzLncrPShlLnctdGhpcy53KSp0LHRoaXN9bGVycFZlY3RvcnMoZSx0LG4pe3JldHVybiB0aGlzLng9ZS54Kyh0LngtZS54KSpuLHRoaXMueT1lLnkrKHQueS1lLnkpKm4sdGhpcy56PWUueisodC56LWUueikqbix0aGlzLnc9ZS53Kyh0LnctZS53KSpuLHRoaXN9ZXF1YWxzKGUpe3JldHVybiBlLng9PT10aGlzLngmJmUueT09PXRoaXMueSYmZS56PT09dGhpcy56JiZlLnc9PT10aGlzLnd9ZnJvbUFycmF5KGUsdD0wKXtyZXR1cm4gdGhpcy54PWVbdF0sdGhpcy55PWVbdCsxXSx0aGlzLno9ZVt0KzJdLHRoaXMudz1lW3QrM10sdGhpc310b0FycmF5KGU9W10sdD0wKXtyZXR1cm4gZVt0XT10aGlzLngsZVt0KzFdPXRoaXMueSxlW3QrMl09dGhpcy56LGVbdCszXT10aGlzLncsZX1mcm9tQnVmZmVyQXR0cmlidXRlKGUsdCxuKXtyZXR1cm4gbiE9PXZvaWQgMCYmY29uc29sZS53YXJuKCJUSFJFRS5WZWN0b3I0OiBvZmZzZXQgaGFzIGJlZW4gcmVtb3ZlZCBmcm9tIC5mcm9tQnVmZmVyQXR0cmlidXRlKCkuIiksdGhpcy54PWUuZ2V0WCh0KSx0aGlzLnk9ZS5nZXRZKHQpLHRoaXMuej1lLmdldFoodCksdGhpcy53PWUuZ2V0Vyh0KSx0aGlzfXJhbmRvbSgpe3JldHVybiB0aGlzLng9TWF0aC5yYW5kb20oKSx0aGlzLnk9TWF0aC5yYW5kb20oKSx0aGlzLno9TWF0aC5yYW5kb20oKSx0aGlzLnc9TWF0aC5yYW5kb20oKSx0aGlzfSpbU3ltYm9sLml0ZXJhdG9yXSgpe3lpZWxkIHRoaXMueCx5aWVsZCB0aGlzLnkseWllbGQgdGhpcy56LHlpZWxkIHRoaXMud319VmVjdG9yNC5wcm90b3R5cGUuaXNWZWN0b3I0PSEwO2NsYXNzIFdlYkdMUmVuZGVyVGFyZ2V0IGV4dGVuZHMgRXZlbnREaXNwYXRjaGVye2NvbnN0cnVjdG9yKGUsdCxuPXt9KXtzdXBlcigpO3RoaXMud2lkdGg9ZSx0aGlzLmhlaWdodD10LHRoaXMuZGVwdGg9MSx0aGlzLnNjaXNzb3I9bmV3IFZlY3RvcjQoMCwwLGUsdCksdGhpcy5zY2lzc29yVGVzdD0hMSx0aGlzLnZpZXdwb3J0PW5ldyBWZWN0b3I0KDAsMCxlLHQpO2NvbnN0IGk9e3dpZHRoOmUsaGVpZ2h0OnQsZGVwdGg6MX07dGhpcy50ZXh0dXJlPW5ldyBUZXh0dXJlKGksbi5tYXBwaW5nLG4ud3JhcFMsbi53cmFwVCxuLm1hZ0ZpbHRlcixuLm1pbkZpbHRlcixuLmZvcm1hdCxuLnR5cGUsbi5hbmlzb3Ryb3B5LG4uZW5jb2RpbmcpLHRoaXMudGV4dHVyZS5pc1JlbmRlclRhcmdldFRleHR1cmU9ITAsdGhpcy50ZXh0dXJlLmdlbmVyYXRlTWlwbWFwcz1uLmdlbmVyYXRlTWlwbWFwcyE9PXZvaWQgMD9uLmdlbmVyYXRlTWlwbWFwczohMSx0aGlzLnRleHR1cmUuaW50ZXJuYWxGb3JtYXQ9bi5pbnRlcm5hbEZvcm1hdCE9PXZvaWQgMD9uLmludGVybmFsRm9ybWF0Om51bGwsdGhpcy50ZXh0dXJlLm1pbkZpbHRlcj1uLm1pbkZpbHRlciE9PXZvaWQgMD9uLm1pbkZpbHRlcjoxMDA2LHRoaXMuZGVwdGhCdWZmZXI9bi5kZXB0aEJ1ZmZlciE9PXZvaWQgMD9uLmRlcHRoQnVmZmVyOiEwLHRoaXMuc3RlbmNpbEJ1ZmZlcj1uLnN0ZW5jaWxCdWZmZXIhPT12b2lkIDA/bi5zdGVuY2lsQnVmZmVyOiExLHRoaXMuZGVwdGhUZXh0dXJlPW4uZGVwdGhUZXh0dXJlIT09dm9pZCAwP24uZGVwdGhUZXh0dXJlOm51bGwsdGhpcy5zYW1wbGVzPW4uc2FtcGxlcyE9PXZvaWQgMD9uLnNhbXBsZXM6MH1zZXRTaXplKGUsdCxuPTEpeyh0aGlzLndpZHRoIT09ZXx8dGhpcy5oZWlnaHQhPT10fHx0aGlzLmRlcHRoIT09bikmJih0aGlzLndpZHRoPWUsdGhpcy5oZWlnaHQ9dCx0aGlzLmRlcHRoPW4sdGhpcy50ZXh0dXJlLmltYWdlLndpZHRoPWUsdGhpcy50ZXh0dXJlLmltYWdlLmhlaWdodD10LHRoaXMudGV4dHVyZS5pbWFnZS5kZXB0aD1uLHRoaXMuZGlzcG9zZSgpKSx0aGlzLnZpZXdwb3J0LnNldCgwLDAsZSx0KSx0aGlzLnNjaXNzb3Iuc2V0KDAsMCxlLHQpfWNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCkuY29weSh0aGlzKX1jb3B5KGUpe3JldHVybiB0aGlzLndpZHRoPWUud2lkdGgsdGhpcy5oZWlnaHQ9ZS5oZWlnaHQsdGhpcy5kZXB0aD1lLmRlcHRoLHRoaXMudmlld3BvcnQuY29weShlLnZpZXdwb3J0KSx0aGlzLnRleHR1cmU9ZS50ZXh0dXJlLmNsb25lKCksdGhpcy50ZXh0dXJlLmltYWdlPU9iamVjdC5hc3NpZ24oe30sZS50ZXh0dXJlLmltYWdlKSx0aGlzLmRlcHRoQnVmZmVyPWUuZGVwdGhCdWZmZXIsdGhpcy5zdGVuY2lsQnVmZmVyPWUuc3RlbmNpbEJ1ZmZlcixlLmRlcHRoVGV4dHVyZSE9PW51bGwmJih0aGlzLmRlcHRoVGV4dHVyZT1lLmRlcHRoVGV4dHVyZS5jbG9uZSgpKSx0aGlzLnNhbXBsZXM9ZS5zYW1wbGVzLHRoaXN9ZGlzcG9zZSgpe3RoaXMuZGlzcGF0Y2hFdmVudCh7dHlwZToiZGlzcG9zZSJ9KX19V2ViR0xSZW5kZXJUYXJnZXQucHJvdG90eXBlLmlzV2ViR0xSZW5kZXJUYXJnZXQ9ITA7Y2xhc3MgRGF0YUFycmF5VGV4dHVyZSBleHRlbmRzIFRleHR1cmV7Y29uc3RydWN0b3IoZT1udWxsLHQ9MSxuPTEsaT0xKXtzdXBlcihudWxsKTt0aGlzLmltYWdlPXtkYXRhOmUsd2lkdGg6dCxoZWlnaHQ6bixkZXB0aDppfSx0aGlzLm1hZ0ZpbHRlcj0xMDAzLHRoaXMubWluRmlsdGVyPTEwMDMsdGhpcy53cmFwUj0xMDAxLHRoaXMuZ2VuZXJhdGVNaXBtYXBzPSExLHRoaXMuZmxpcFk9ITEsdGhpcy51bnBhY2tBbGlnbm1lbnQ9MX19RGF0YUFycmF5VGV4dHVyZS5wcm90b3R5cGUuaXNEYXRhQXJyYXlUZXh0dXJlPSEwO2NsYXNzIFdlYkdMQXJyYXlSZW5kZXJUYXJnZXQgZXh0ZW5kcyBXZWJHTFJlbmRlclRhcmdldHtjb25zdHJ1Y3RvcihlLHQsbil7c3VwZXIoZSx0KTt0aGlzLmRlcHRoPW4sdGhpcy50ZXh0dXJlPW5ldyBEYXRhQXJyYXlUZXh0dXJlKG51bGwsZSx0LG4pLHRoaXMudGV4dHVyZS5pc1JlbmRlclRhcmdldFRleHR1cmU9ITB9fVdlYkdMQXJyYXlSZW5kZXJUYXJnZXQucHJvdG90eXBlLmlzV2ViR0xBcnJheVJlbmRlclRhcmdldD0hMDtjbGFzcyBEYXRhM0RUZXh0dXJlIGV4dGVuZHMgVGV4dHVyZXtjb25zdHJ1Y3RvcihlPW51bGwsdD0xLG49MSxpPTEpe3N1cGVyKG51bGwpO3RoaXMuaW1hZ2U9e2RhdGE6ZSx3aWR0aDp0LGhlaWdodDpuLGRlcHRoOml9LHRoaXMubWFnRmlsdGVyPTEwMDMsdGhpcy5taW5GaWx0ZXI9MTAwMyx0aGlzLndyYXBSPTEwMDEsdGhpcy5nZW5lcmF0ZU1pcG1hcHM9ITEsdGhpcy5mbGlwWT0hMSx0aGlzLnVucGFja0FsaWdubWVudD0xfX1EYXRhM0RUZXh0dXJlLnByb3RvdHlwZS5pc0RhdGEzRFRleHR1cmU9ITA7Y2xhc3MgV2ViR0wzRFJlbmRlclRhcmdldCBleHRlbmRzIFdlYkdMUmVuZGVyVGFyZ2V0e2NvbnN0cnVjdG9yKGUsdCxuKXtzdXBlcihlLHQpO3RoaXMuZGVwdGg9bix0aGlzLnRleHR1cmU9bmV3IERhdGEzRFRleHR1cmUobnVsbCxlLHQsbiksdGhpcy50ZXh0dXJlLmlzUmVuZGVyVGFyZ2V0VGV4dHVyZT0hMH19V2ViR0wzRFJlbmRlclRhcmdldC5wcm90b3R5cGUuaXNXZWJHTDNEUmVuZGVyVGFyZ2V0PSEwO2NsYXNzIFdlYkdMTXVsdGlwbGVSZW5kZXJUYXJnZXRzIGV4dGVuZHMgV2ViR0xSZW5kZXJUYXJnZXR7Y29uc3RydWN0b3IoZSx0LG4saT17fSl7c3VwZXIoZSx0LGkpO2NvbnN0IHI9dGhpcy50ZXh0dXJlO3RoaXMudGV4dHVyZT1bXTtmb3IobGV0IGE9MDthPG47YSsrKXRoaXMudGV4dHVyZVthXT1yLmNsb25lKCksdGhpcy50ZXh0dXJlW2FdLmlzUmVuZGVyVGFyZ2V0VGV4dHVyZT0hMH1zZXRTaXplKGUsdCxuPTEpe2lmKHRoaXMud2lkdGghPT1lfHx0aGlzLmhlaWdodCE9PXR8fHRoaXMuZGVwdGghPT1uKXt0aGlzLndpZHRoPWUsdGhpcy5oZWlnaHQ9dCx0aGlzLmRlcHRoPW47Zm9yKGxldCBpPTAscj10aGlzLnRleHR1cmUubGVuZ3RoO2k8cjtpKyspdGhpcy50ZXh0dXJlW2ldLmltYWdlLndpZHRoPWUsdGhpcy50ZXh0dXJlW2ldLmltYWdlLmhlaWdodD10LHRoaXMudGV4dHVyZVtpXS5pbWFnZS5kZXB0aD1uO3RoaXMuZGlzcG9zZSgpfXJldHVybiB0aGlzLnZpZXdwb3J0LnNldCgwLDAsZSx0KSx0aGlzLnNjaXNzb3Iuc2V0KDAsMCxlLHQpLHRoaXN9Y29weShlKXt0aGlzLmRpc3Bvc2UoKSx0aGlzLndpZHRoPWUud2lkdGgsdGhpcy5oZWlnaHQ9ZS5oZWlnaHQsdGhpcy5kZXB0aD1lLmRlcHRoLHRoaXMudmlld3BvcnQuc2V0KDAsMCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSx0aGlzLnNjaXNzb3Iuc2V0KDAsMCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSx0aGlzLmRlcHRoQnVmZmVyPWUuZGVwdGhCdWZmZXIsdGhpcy5zdGVuY2lsQnVmZmVyPWUuc3RlbmNpbEJ1ZmZlcix0aGlzLmRlcHRoVGV4dHVyZT1lLmRlcHRoVGV4dHVyZSx0aGlzLnRleHR1cmUubGVuZ3RoPTA7Zm9yKGxldCB0PTAsbj1lLnRleHR1cmUubGVuZ3RoO3Q8bjt0KyspdGhpcy50ZXh0dXJlW3RdPWUudGV4dHVyZVt0XS5jbG9uZSgpO3JldHVybiB0aGlzfX1XZWJHTE11bHRpcGxlUmVuZGVyVGFyZ2V0cy5wcm90b3R5cGUuaXNXZWJHTE11bHRpcGxlUmVuZGVyVGFyZ2V0cz0hMDtjbGFzcyBRdWF0ZXJuaW9ue2NvbnN0cnVjdG9yKGU9MCx0PTAsbj0wLGk9MSl7dGhpcy5feD1lLHRoaXMuX3k9dCx0aGlzLl96PW4sdGhpcy5fdz1pfXN0YXRpYyBzbGVycChlLHQsbixpKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5RdWF0ZXJuaW9uOiBTdGF0aWMgLnNsZXJwKCkgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIHFtLnNsZXJwUXVhdGVybmlvbnMoIHFhLCBxYiwgdCApIGluc3RlYWQuIiksbi5zbGVycFF1YXRlcm5pb25zKGUsdCxpKX1zdGF0aWMgc2xlcnBGbGF0KGUsdCxuLGkscixhLG8pe2xldCBsPW5baSswXSxjPW5baSsxXSxoPW5baSsyXSx1PW5baSszXTtjb25zdCBkPXJbYSswXSxmPXJbYSsxXSxnPXJbYSsyXSxfPXJbYSszXTtpZihvPT09MCl7ZVt0KzBdPWwsZVt0KzFdPWMsZVt0KzJdPWgsZVt0KzNdPXU7cmV0dXJufWlmKG89PT0xKXtlW3QrMF09ZCxlW3QrMV09ZixlW3QrMl09ZyxlW3QrM109XztyZXR1cm59aWYodSE9PV98fGwhPT1kfHxjIT09Znx8aCE9PWcpe2xldCB5PTEtbztjb25zdCBtPWwqZCtjKmYraCpnK3UqXyxwPW0+PTA/MTotMSxUPTEtbSptO2lmKFQ+TnVtYmVyLkVQU0lMT04pe2NvbnN0IFM9TWF0aC5zcXJ0KFQpLFI9TWF0aC5hdGFuMihTLG0qcCk7eT1NYXRoLnNpbih5KlIpL1Msbz1NYXRoLnNpbihvKlIpL1N9Y29uc3Qgdz1vKnA7aWYobD1sKnkrZCp3LGM9Yyp5K2YqdyxoPWgqeStnKncsdT11KnkrXyp3LHk9PT0xLW8pe2NvbnN0IFM9MS9NYXRoLnNxcnQobCpsK2MqYytoKmgrdSp1KTtsKj1TLGMqPVMsaCo9Uyx1Kj1TfX1lW3RdPWwsZVt0KzFdPWMsZVt0KzJdPWgsZVt0KzNdPXV9c3RhdGljIG11bHRpcGx5UXVhdGVybmlvbnNGbGF0KGUsdCxuLGkscixhKXtjb25zdCBvPW5baV0sbD1uW2krMV0sYz1uW2krMl0saD1uW2krM10sdT1yW2FdLGQ9clthKzFdLGY9clthKzJdLGc9clthKzNdO3JldHVybiBlW3RdPW8qZytoKnUrbCpmLWMqZCxlW3QrMV09bCpnK2gqZCtjKnUtbypmLGVbdCsyXT1jKmcraCpmK28qZC1sKnUsZVt0KzNdPWgqZy1vKnUtbCpkLWMqZixlfWdldCB4KCl7cmV0dXJuIHRoaXMuX3h9c2V0IHgoZSl7dGhpcy5feD1lLHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKX1nZXQgeSgpe3JldHVybiB0aGlzLl95fXNldCB5KGUpe3RoaXMuX3k9ZSx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCl9Z2V0IHooKXtyZXR1cm4gdGhpcy5fen1zZXQgeihlKXt0aGlzLl96PWUsdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpfWdldCB3KCl7cmV0dXJuIHRoaXMuX3d9c2V0IHcoZSl7dGhpcy5fdz1lLHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKX1zZXQoZSx0LG4saSl7cmV0dXJuIHRoaXMuX3g9ZSx0aGlzLl95PXQsdGhpcy5fej1uLHRoaXMuX3c9aSx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCksdGhpc31jbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLl94LHRoaXMuX3ksdGhpcy5feix0aGlzLl93KX1jb3B5KGUpe3JldHVybiB0aGlzLl94PWUueCx0aGlzLl95PWUueSx0aGlzLl96PWUueix0aGlzLl93PWUudyx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCksdGhpc31zZXRGcm9tRXVsZXIoZSx0KXtpZighKGUmJmUuaXNFdWxlcikpdGhyb3cgbmV3IEVycm9yKCJUSFJFRS5RdWF0ZXJuaW9uOiAuc2V0RnJvbUV1bGVyKCkgbm93IGV4cGVjdHMgYW4gRXVsZXIgcm90YXRpb24gcmF0aGVyIHRoYW4gYSBWZWN0b3IzIGFuZCBvcmRlci4iKTtjb25zdCBuPWUuX3gsaT1lLl95LHI9ZS5feixhPWUuX29yZGVyLG89TWF0aC5jb3MsbD1NYXRoLnNpbixjPW8obi8yKSxoPW8oaS8yKSx1PW8oci8yKSxkPWwobi8yKSxmPWwoaS8yKSxnPWwoci8yKTtzd2l0Y2goYSl7Y2FzZSJYWVoiOnRoaXMuX3g9ZCpoKnUrYypmKmcsdGhpcy5feT1jKmYqdS1kKmgqZyx0aGlzLl96PWMqaCpnK2QqZip1LHRoaXMuX3c9YypoKnUtZCpmKmc7YnJlYWs7Y2FzZSJZWFoiOnRoaXMuX3g9ZCpoKnUrYypmKmcsdGhpcy5feT1jKmYqdS1kKmgqZyx0aGlzLl96PWMqaCpnLWQqZip1LHRoaXMuX3c9YypoKnUrZCpmKmc7YnJlYWs7Y2FzZSJaWFkiOnRoaXMuX3g9ZCpoKnUtYypmKmcsdGhpcy5feT1jKmYqdStkKmgqZyx0aGlzLl96PWMqaCpnK2QqZip1LHRoaXMuX3c9YypoKnUtZCpmKmc7YnJlYWs7Y2FzZSJaWVgiOnRoaXMuX3g9ZCpoKnUtYypmKmcsdGhpcy5feT1jKmYqdStkKmgqZyx0aGlzLl96PWMqaCpnLWQqZip1LHRoaXMuX3c9YypoKnUrZCpmKmc7YnJlYWs7Y2FzZSJZWlgiOnRoaXMuX3g9ZCpoKnUrYypmKmcsdGhpcy5feT1jKmYqdStkKmgqZyx0aGlzLl96PWMqaCpnLWQqZip1LHRoaXMuX3c9YypoKnUtZCpmKmc7YnJlYWs7Y2FzZSJYWlkiOnRoaXMuX3g9ZCpoKnUtYypmKmcsdGhpcy5feT1jKmYqdS1kKmgqZyx0aGlzLl96PWMqaCpnK2QqZip1LHRoaXMuX3c9YypoKnUrZCpmKmc7YnJlYWs7ZGVmYXVsdDpjb25zb2xlLndhcm4oIlRIUkVFLlF1YXRlcm5pb246IC5zZXRGcm9tRXVsZXIoKSBlbmNvdW50ZXJlZCBhbiB1bmtub3duIG9yZGVyOiAiK2EpfXJldHVybiB0IT09ITEmJnRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKSx0aGlzfXNldEZyb21BeGlzQW5nbGUoZSx0KXtjb25zdCBuPXQvMixpPU1hdGguc2luKG4pO3JldHVybiB0aGlzLl94PWUueCppLHRoaXMuX3k9ZS55KmksdGhpcy5fej1lLnoqaSx0aGlzLl93PU1hdGguY29zKG4pLHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKSx0aGlzfXNldEZyb21Sb3RhdGlvbk1hdHJpeChlKXtjb25zdCB0PWUuZWxlbWVudHMsbj10WzBdLGk9dFs0XSxyPXRbOF0sYT10WzFdLG89dFs1XSxsPXRbOV0sYz10WzJdLGg9dFs2XSx1PXRbMTBdLGQ9bitvK3U7aWYoZD4wKXtjb25zdCBmPS41L01hdGguc3FydChkKzEpO3RoaXMuX3c9LjI1L2YsdGhpcy5feD0oaC1sKSpmLHRoaXMuX3k9KHItYykqZix0aGlzLl96PShhLWkpKmZ9ZWxzZSBpZihuPm8mJm4+dSl7Y29uc3QgZj0yKk1hdGguc3FydCgxK24tby11KTt0aGlzLl93PShoLWwpL2YsdGhpcy5feD0uMjUqZix0aGlzLl95PShpK2EpL2YsdGhpcy5fej0ocitjKS9mfWVsc2UgaWYobz51KXtjb25zdCBmPTIqTWF0aC5zcXJ0KDErby1uLXUpO3RoaXMuX3c9KHItYykvZix0aGlzLl94PShpK2EpL2YsdGhpcy5feT0uMjUqZix0aGlzLl96PShsK2gpL2Z9ZWxzZXtjb25zdCBmPTIqTWF0aC5zcXJ0KDErdS1uLW8pO3RoaXMuX3c9KGEtaSkvZix0aGlzLl94PShyK2MpL2YsdGhpcy5feT0obCtoKS9mLHRoaXMuX3o9LjI1KmZ9cmV0dXJuIHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKSx0aGlzfXNldEZyb21Vbml0VmVjdG9ycyhlLHQpe2xldCBuPWUuZG90KHQpKzE7cmV0dXJuIG48TnVtYmVyLkVQU0lMT04/KG49MCxNYXRoLmFicyhlLngpPk1hdGguYWJzKGUueik/KHRoaXMuX3g9LWUueSx0aGlzLl95PWUueCx0aGlzLl96PTAsdGhpcy5fdz1uKToodGhpcy5feD0wLHRoaXMuX3k9LWUueix0aGlzLl96PWUueSx0aGlzLl93PW4pKToodGhpcy5feD1lLnkqdC56LWUueip0LnksdGhpcy5feT1lLnoqdC54LWUueCp0LnosdGhpcy5fej1lLngqdC55LWUueSp0LngsdGhpcy5fdz1uKSx0aGlzLm5vcm1hbGl6ZSgpfWFuZ2xlVG8oZSl7cmV0dXJuIDIqTWF0aC5hY29zKE1hdGguYWJzKGNsYW1wKHRoaXMuZG90KGUpLC0xLDEpKSl9cm90YXRlVG93YXJkcyhlLHQpe2NvbnN0IG49dGhpcy5hbmdsZVRvKGUpO2lmKG49PT0wKXJldHVybiB0aGlzO2NvbnN0IGk9TWF0aC5taW4oMSx0L24pO3JldHVybiB0aGlzLnNsZXJwKGUsaSksdGhpc31pZGVudGl0eSgpe3JldHVybiB0aGlzLnNldCgwLDAsMCwxKX1pbnZlcnQoKXtyZXR1cm4gdGhpcy5jb25qdWdhdGUoKX1jb25qdWdhdGUoKXtyZXR1cm4gdGhpcy5feCo9LTEsdGhpcy5feSo9LTEsdGhpcy5feio9LTEsdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpLHRoaXN9ZG90KGUpe3JldHVybiB0aGlzLl94KmUuX3grdGhpcy5feSplLl95K3RoaXMuX3oqZS5feit0aGlzLl93KmUuX3d9bGVuZ3RoU3EoKXtyZXR1cm4gdGhpcy5feCp0aGlzLl94K3RoaXMuX3kqdGhpcy5feSt0aGlzLl96KnRoaXMuX3ordGhpcy5fdyp0aGlzLl93fWxlbmd0aCgpe3JldHVybiBNYXRoLnNxcnQodGhpcy5feCp0aGlzLl94K3RoaXMuX3kqdGhpcy5feSt0aGlzLl96KnRoaXMuX3ordGhpcy5fdyp0aGlzLl93KX1ub3JtYWxpemUoKXtsZXQgZT10aGlzLmxlbmd0aCgpO3JldHVybiBlPT09MD8odGhpcy5feD0wLHRoaXMuX3k9MCx0aGlzLl96PTAsdGhpcy5fdz0xKTooZT0xL2UsdGhpcy5feD10aGlzLl94KmUsdGhpcy5feT10aGlzLl95KmUsdGhpcy5fej10aGlzLl96KmUsdGhpcy5fdz10aGlzLl93KmUpLHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKSx0aGlzfW11bHRpcGx5KGUsdCl7cmV0dXJuIHQhPT12b2lkIDA/KGNvbnNvbGUud2FybigiVEhSRUUuUXVhdGVybmlvbjogLm11bHRpcGx5KCkgbm93IG9ubHkgYWNjZXB0cyBvbmUgYXJndW1lbnQuIFVzZSAubXVsdGlwbHlRdWF0ZXJuaW9ucyggYSwgYiApIGluc3RlYWQuIiksdGhpcy5tdWx0aXBseVF1YXRlcm5pb25zKGUsdCkpOnRoaXMubXVsdGlwbHlRdWF0ZXJuaW9ucyh0aGlzLGUpfXByZW11bHRpcGx5KGUpe3JldHVybiB0aGlzLm11bHRpcGx5UXVhdGVybmlvbnMoZSx0aGlzKX1tdWx0aXBseVF1YXRlcm5pb25zKGUsdCl7Y29uc3Qgbj1lLl94LGk9ZS5feSxyPWUuX3osYT1lLl93LG89dC5feCxsPXQuX3ksYz10Ll96LGg9dC5fdztyZXR1cm4gdGhpcy5feD1uKmgrYSpvK2kqYy1yKmwsdGhpcy5feT1pKmgrYSpsK3Iqby1uKmMsdGhpcy5fej1yKmgrYSpjK24qbC1pKm8sdGhpcy5fdz1hKmgtbipvLWkqbC1yKmMsdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpLHRoaXN9c2xlcnAoZSx0KXtpZih0PT09MClyZXR1cm4gdGhpcztpZih0PT09MSlyZXR1cm4gdGhpcy5jb3B5KGUpO2NvbnN0IG49dGhpcy5feCxpPXRoaXMuX3kscj10aGlzLl96LGE9dGhpcy5fdztsZXQgbz1hKmUuX3crbiplLl94K2kqZS5feStyKmUuX3o7aWYobzwwPyh0aGlzLl93PS1lLl93LHRoaXMuX3g9LWUuX3gsdGhpcy5feT0tZS5feSx0aGlzLl96PS1lLl96LG89LW8pOnRoaXMuY29weShlKSxvPj0xKXJldHVybiB0aGlzLl93PWEsdGhpcy5feD1uLHRoaXMuX3k9aSx0aGlzLl96PXIsdGhpcztjb25zdCBsPTEtbypvO2lmKGw8PU51bWJlci5FUFNJTE9OKXtjb25zdCBmPTEtdDtyZXR1cm4gdGhpcy5fdz1mKmErdCp0aGlzLl93LHRoaXMuX3g9ZipuK3QqdGhpcy5feCx0aGlzLl95PWYqaSt0KnRoaXMuX3ksdGhpcy5fej1mKnIrdCp0aGlzLl96LHRoaXMubm9ybWFsaXplKCksdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpLHRoaXN9Y29uc3QgYz1NYXRoLnNxcnQobCksaD1NYXRoLmF0YW4yKGMsbyksdT1NYXRoLnNpbigoMS10KSpoKS9jLGQ9TWF0aC5zaW4odCpoKS9jO3JldHVybiB0aGlzLl93PWEqdSt0aGlzLl93KmQsdGhpcy5feD1uKnUrdGhpcy5feCpkLHRoaXMuX3k9aSp1K3RoaXMuX3kqZCx0aGlzLl96PXIqdSt0aGlzLl96KmQsdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpLHRoaXN9c2xlcnBRdWF0ZXJuaW9ucyhlLHQsbil7cmV0dXJuIHRoaXMuY29weShlKS5zbGVycCh0LG4pfXJhbmRvbSgpe2NvbnN0IGU9TWF0aC5yYW5kb20oKSx0PU1hdGguc3FydCgxLWUpLG49TWF0aC5zcXJ0KGUpLGk9MipNYXRoLlBJKk1hdGgucmFuZG9tKCkscj0yKk1hdGguUEkqTWF0aC5yYW5kb20oKTtyZXR1cm4gdGhpcy5zZXQodCpNYXRoLmNvcyhpKSxuKk1hdGguc2luKHIpLG4qTWF0aC5jb3MociksdCpNYXRoLnNpbihpKSl9ZXF1YWxzKGUpe3JldHVybiBlLl94PT09dGhpcy5feCYmZS5feT09PXRoaXMuX3kmJmUuX3o9PT10aGlzLl96JiZlLl93PT09dGhpcy5fd31mcm9tQXJyYXkoZSx0PTApe3JldHVybiB0aGlzLl94PWVbdF0sdGhpcy5feT1lW3QrMV0sdGhpcy5fej1lW3QrMl0sdGhpcy5fdz1lW3QrM10sdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpLHRoaXN9dG9BcnJheShlPVtdLHQ9MCl7cmV0dXJuIGVbdF09dGhpcy5feCxlW3QrMV09dGhpcy5feSxlW3QrMl09dGhpcy5feixlW3QrM109dGhpcy5fdyxlfWZyb21CdWZmZXJBdHRyaWJ1dGUoZSx0KXtyZXR1cm4gdGhpcy5feD1lLmdldFgodCksdGhpcy5feT1lLmdldFkodCksdGhpcy5fej1lLmdldFoodCksdGhpcy5fdz1lLmdldFcodCksdGhpc31fb25DaGFuZ2UoZSl7cmV0dXJuIHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2s9ZSx0aGlzfV9vbkNoYW5nZUNhbGxiYWNrKCl7fX1RdWF0ZXJuaW9uLnByb3RvdHlwZS5pc1F1YXRlcm5pb249ITA7Y2xhc3MgVmVjdG9yM3tjb25zdHJ1Y3RvcihlPTAsdD0wLG49MCl7dGhpcy54PWUsdGhpcy55PXQsdGhpcy56PW59c2V0KGUsdCxuKXtyZXR1cm4gbj09PXZvaWQgMCYmKG49dGhpcy56KSx0aGlzLng9ZSx0aGlzLnk9dCx0aGlzLno9bix0aGlzfXNldFNjYWxhcihlKXtyZXR1cm4gdGhpcy54PWUsdGhpcy55PWUsdGhpcy56PWUsdGhpc31zZXRYKGUpe3JldHVybiB0aGlzLng9ZSx0aGlzfXNldFkoZSl7cmV0dXJuIHRoaXMueT1lLHRoaXN9c2V0WihlKXtyZXR1cm4gdGhpcy56PWUsdGhpc31zZXRDb21wb25lbnQoZSx0KXtzd2l0Y2goZSl7Y2FzZSAwOnRoaXMueD10O2JyZWFrO2Nhc2UgMTp0aGlzLnk9dDticmVhaztjYXNlIDI6dGhpcy56PXQ7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoImluZGV4IGlzIG91dCBvZiByYW5nZTogIitlKX1yZXR1cm4gdGhpc31nZXRDb21wb25lbnQoZSl7c3dpdGNoKGUpe2Nhc2UgMDpyZXR1cm4gdGhpcy54O2Nhc2UgMTpyZXR1cm4gdGhpcy55O2Nhc2UgMjpyZXR1cm4gdGhpcy56O2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJpbmRleCBpcyBvdXQgb2YgcmFuZ2U6ICIrZSl9fWNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMueCx0aGlzLnksdGhpcy56KX1jb3B5KGUpe3JldHVybiB0aGlzLng9ZS54LHRoaXMueT1lLnksdGhpcy56PWUueix0aGlzfWFkZChlLHQpe3JldHVybiB0IT09dm9pZCAwPyhjb25zb2xlLndhcm4oIlRIUkVFLlZlY3RvcjM6IC5hZGQoKSBub3cgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC4gVXNlIC5hZGRWZWN0b3JzKCBhLCBiICkgaW5zdGVhZC4iKSx0aGlzLmFkZFZlY3RvcnMoZSx0KSk6KHRoaXMueCs9ZS54LHRoaXMueSs9ZS55LHRoaXMueis9ZS56LHRoaXMpfWFkZFNjYWxhcihlKXtyZXR1cm4gdGhpcy54Kz1lLHRoaXMueSs9ZSx0aGlzLnorPWUsdGhpc31hZGRWZWN0b3JzKGUsdCl7cmV0dXJuIHRoaXMueD1lLngrdC54LHRoaXMueT1lLnkrdC55LHRoaXMuej1lLnordC56LHRoaXN9YWRkU2NhbGVkVmVjdG9yKGUsdCl7cmV0dXJuIHRoaXMueCs9ZS54KnQsdGhpcy55Kz1lLnkqdCx0aGlzLnorPWUueip0LHRoaXN9c3ViKGUsdCl7cmV0dXJuIHQhPT12b2lkIDA/KGNvbnNvbGUud2FybigiVEhSRUUuVmVjdG9yMzogLnN1YigpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLnN1YlZlY3RvcnMoIGEsIGIgKSBpbnN0ZWFkLiIpLHRoaXMuc3ViVmVjdG9ycyhlLHQpKToodGhpcy54LT1lLngsdGhpcy55LT1lLnksdGhpcy56LT1lLnosdGhpcyl9c3ViU2NhbGFyKGUpe3JldHVybiB0aGlzLngtPWUsdGhpcy55LT1lLHRoaXMuei09ZSx0aGlzfXN1YlZlY3RvcnMoZSx0KXtyZXR1cm4gdGhpcy54PWUueC10LngsdGhpcy55PWUueS10LnksdGhpcy56PWUuei10LnosdGhpc31tdWx0aXBseShlLHQpe3JldHVybiB0IT09dm9pZCAwPyhjb25zb2xlLndhcm4oIlRIUkVFLlZlY3RvcjM6IC5tdWx0aXBseSgpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLm11bHRpcGx5VmVjdG9ycyggYSwgYiApIGluc3RlYWQuIiksdGhpcy5tdWx0aXBseVZlY3RvcnMoZSx0KSk6KHRoaXMueCo9ZS54LHRoaXMueSo9ZS55LHRoaXMueio9ZS56LHRoaXMpfW11bHRpcGx5U2NhbGFyKGUpe3JldHVybiB0aGlzLngqPWUsdGhpcy55Kj1lLHRoaXMueio9ZSx0aGlzfW11bHRpcGx5VmVjdG9ycyhlLHQpe3JldHVybiB0aGlzLng9ZS54KnQueCx0aGlzLnk9ZS55KnQueSx0aGlzLno9ZS56KnQueix0aGlzfWFwcGx5RXVsZXIoZSl7cmV0dXJuIGUmJmUuaXNFdWxlcnx8Y29uc29sZS5lcnJvcigiVEhSRUUuVmVjdG9yMzogLmFwcGx5RXVsZXIoKSBub3cgZXhwZWN0cyBhbiBFdWxlciByb3RhdGlvbiByYXRoZXIgdGhhbiBhIFZlY3RvcjMgYW5kIG9yZGVyLiIpLHRoaXMuYXBwbHlRdWF0ZXJuaW9uKF9xdWF0ZXJuaW9uJDQuc2V0RnJvbUV1bGVyKGUpKX1hcHBseUF4aXNBbmdsZShlLHQpe3JldHVybiB0aGlzLmFwcGx5UXVhdGVybmlvbihfcXVhdGVybmlvbiQ0LnNldEZyb21BeGlzQW5nbGUoZSx0KSl9YXBwbHlNYXRyaXgzKGUpe2NvbnN0IHQ9dGhpcy54LG49dGhpcy55LGk9dGhpcy56LHI9ZS5lbGVtZW50cztyZXR1cm4gdGhpcy54PXJbMF0qdCtyWzNdKm4rcls2XSppLHRoaXMueT1yWzFdKnQrcls0XSpuK3JbN10qaSx0aGlzLno9clsyXSp0K3JbNV0qbityWzhdKmksdGhpc31hcHBseU5vcm1hbE1hdHJpeChlKXtyZXR1cm4gdGhpcy5hcHBseU1hdHJpeDMoZSkubm9ybWFsaXplKCl9YXBwbHlNYXRyaXg0KGUpe2NvbnN0IHQ9dGhpcy54LG49dGhpcy55LGk9dGhpcy56LHI9ZS5lbGVtZW50cyxhPTEvKHJbM10qdCtyWzddKm4rclsxMV0qaStyWzE1XSk7cmV0dXJuIHRoaXMueD0oclswXSp0K3JbNF0qbityWzhdKmkrclsxMl0pKmEsdGhpcy55PShyWzFdKnQrcls1XSpuK3JbOV0qaStyWzEzXSkqYSx0aGlzLno9KHJbMl0qdCtyWzZdKm4rclsxMF0qaStyWzE0XSkqYSx0aGlzfWFwcGx5UXVhdGVybmlvbihlKXtjb25zdCB0PXRoaXMueCxuPXRoaXMueSxpPXRoaXMueixyPWUueCxhPWUueSxvPWUueixsPWUudyxjPWwqdCthKmktbypuLGg9bCpuK28qdC1yKmksdT1sKmkrcipuLWEqdCxkPS1yKnQtYSpuLW8qaTtyZXR1cm4gdGhpcy54PWMqbCtkKi1yK2gqLW8tdSotYSx0aGlzLnk9aCpsK2QqLWErdSotci1jKi1vLHRoaXMuej11KmwrZCotbytjKi1hLWgqLXIsdGhpc31wcm9qZWN0KGUpe3JldHVybiB0aGlzLmFwcGx5TWF0cml4NChlLm1hdHJpeFdvcmxkSW52ZXJzZSkuYXBwbHlNYXRyaXg0KGUucHJvamVjdGlvbk1hdHJpeCl9dW5wcm9qZWN0KGUpe3JldHVybiB0aGlzLmFwcGx5TWF0cml4NChlLnByb2plY3Rpb25NYXRyaXhJbnZlcnNlKS5hcHBseU1hdHJpeDQoZS5tYXRyaXhXb3JsZCl9dHJhbnNmb3JtRGlyZWN0aW9uKGUpe2NvbnN0IHQ9dGhpcy54LG49dGhpcy55LGk9dGhpcy56LHI9ZS5lbGVtZW50cztyZXR1cm4gdGhpcy54PXJbMF0qdCtyWzRdKm4rcls4XSppLHRoaXMueT1yWzFdKnQrcls1XSpuK3JbOV0qaSx0aGlzLno9clsyXSp0K3JbNl0qbityWzEwXSppLHRoaXMubm9ybWFsaXplKCl9ZGl2aWRlKGUpe3JldHVybiB0aGlzLngvPWUueCx0aGlzLnkvPWUueSx0aGlzLnovPWUueix0aGlzfWRpdmlkZVNjYWxhcihlKXtyZXR1cm4gdGhpcy5tdWx0aXBseVNjYWxhcigxL2UpfW1pbihlKXtyZXR1cm4gdGhpcy54PU1hdGgubWluKHRoaXMueCxlLngpLHRoaXMueT1NYXRoLm1pbih0aGlzLnksZS55KSx0aGlzLno9TWF0aC5taW4odGhpcy56LGUueiksdGhpc31tYXgoZSl7cmV0dXJuIHRoaXMueD1NYXRoLm1heCh0aGlzLngsZS54KSx0aGlzLnk9TWF0aC5tYXgodGhpcy55LGUueSksdGhpcy56PU1hdGgubWF4KHRoaXMueixlLnopLHRoaXN9Y2xhbXAoZSx0KXtyZXR1cm4gdGhpcy54PU1hdGgubWF4KGUueCxNYXRoLm1pbih0LngsdGhpcy54KSksdGhpcy55PU1hdGgubWF4KGUueSxNYXRoLm1pbih0LnksdGhpcy55KSksdGhpcy56PU1hdGgubWF4KGUueixNYXRoLm1pbih0LnosdGhpcy56KSksdGhpc31jbGFtcFNjYWxhcihlLHQpe3JldHVybiB0aGlzLng9TWF0aC5tYXgoZSxNYXRoLm1pbih0LHRoaXMueCkpLHRoaXMueT1NYXRoLm1heChlLE1hdGgubWluKHQsdGhpcy55KSksdGhpcy56PU1hdGgubWF4KGUsTWF0aC5taW4odCx0aGlzLnopKSx0aGlzfWNsYW1wTGVuZ3RoKGUsdCl7Y29uc3Qgbj10aGlzLmxlbmd0aCgpO3JldHVybiB0aGlzLmRpdmlkZVNjYWxhcihufHwxKS5tdWx0aXBseVNjYWxhcihNYXRoLm1heChlLE1hdGgubWluKHQsbikpKX1mbG9vcigpe3JldHVybiB0aGlzLng9TWF0aC5mbG9vcih0aGlzLngpLHRoaXMueT1NYXRoLmZsb29yKHRoaXMueSksdGhpcy56PU1hdGguZmxvb3IodGhpcy56KSx0aGlzfWNlaWwoKXtyZXR1cm4gdGhpcy54PU1hdGguY2VpbCh0aGlzLngpLHRoaXMueT1NYXRoLmNlaWwodGhpcy55KSx0aGlzLno9TWF0aC5jZWlsKHRoaXMueiksdGhpc31yb3VuZCgpe3JldHVybiB0aGlzLng9TWF0aC5yb3VuZCh0aGlzLngpLHRoaXMueT1NYXRoLnJvdW5kKHRoaXMueSksdGhpcy56PU1hdGgucm91bmQodGhpcy56KSx0aGlzfXJvdW5kVG9aZXJvKCl7cmV0dXJuIHRoaXMueD10aGlzLng8MD9NYXRoLmNlaWwodGhpcy54KTpNYXRoLmZsb29yKHRoaXMueCksdGhpcy55PXRoaXMueTwwP01hdGguY2VpbCh0aGlzLnkpOk1hdGguZmxvb3IodGhpcy55KSx0aGlzLno9dGhpcy56PDA/TWF0aC5jZWlsKHRoaXMueik6TWF0aC5mbG9vcih0aGlzLnopLHRoaXN9bmVnYXRlKCl7cmV0dXJuIHRoaXMueD0tdGhpcy54LHRoaXMueT0tdGhpcy55LHRoaXMuej0tdGhpcy56LHRoaXN9ZG90KGUpe3JldHVybiB0aGlzLngqZS54K3RoaXMueSplLnkrdGhpcy56KmUuen1sZW5ndGhTcSgpe3JldHVybiB0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnkrdGhpcy56KnRoaXMuen1sZW5ndGgoKXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMueCp0aGlzLngrdGhpcy55KnRoaXMueSt0aGlzLnoqdGhpcy56KX1tYW5oYXR0YW5MZW5ndGgoKXtyZXR1cm4gTWF0aC5hYnModGhpcy54KStNYXRoLmFicyh0aGlzLnkpK01hdGguYWJzKHRoaXMueil9bm9ybWFsaXplKCl7cmV0dXJuIHRoaXMuZGl2aWRlU2NhbGFyKHRoaXMubGVuZ3RoKCl8fDEpfXNldExlbmd0aChlKXtyZXR1cm4gdGhpcy5ub3JtYWxpemUoKS5tdWx0aXBseVNjYWxhcihlKX1sZXJwKGUsdCl7cmV0dXJuIHRoaXMueCs9KGUueC10aGlzLngpKnQsdGhpcy55Kz0oZS55LXRoaXMueSkqdCx0aGlzLnorPShlLnotdGhpcy56KSp0LHRoaXN9bGVycFZlY3RvcnMoZSx0LG4pe3JldHVybiB0aGlzLng9ZS54Kyh0LngtZS54KSpuLHRoaXMueT1lLnkrKHQueS1lLnkpKm4sdGhpcy56PWUueisodC56LWUueikqbix0aGlzfWNyb3NzKGUsdCl7cmV0dXJuIHQhPT12b2lkIDA/KGNvbnNvbGUud2FybigiVEhSRUUuVmVjdG9yMzogLmNyb3NzKCkgbm93IG9ubHkgYWNjZXB0cyBvbmUgYXJndW1lbnQuIFVzZSAuY3Jvc3NWZWN0b3JzKCBhLCBiICkgaW5zdGVhZC4iKSx0aGlzLmNyb3NzVmVjdG9ycyhlLHQpKTp0aGlzLmNyb3NzVmVjdG9ycyh0aGlzLGUpfWNyb3NzVmVjdG9ycyhlLHQpe2NvbnN0IG49ZS54LGk9ZS55LHI9ZS56LGE9dC54LG89dC55LGw9dC56O3JldHVybiB0aGlzLng9aSpsLXIqbyx0aGlzLnk9ciphLW4qbCx0aGlzLno9bipvLWkqYSx0aGlzfXByb2plY3RPblZlY3RvcihlKXtjb25zdCB0PWUubGVuZ3RoU3EoKTtpZih0PT09MClyZXR1cm4gdGhpcy5zZXQoMCwwLDApO2NvbnN0IG49ZS5kb3QodGhpcykvdDtyZXR1cm4gdGhpcy5jb3B5KGUpLm11bHRpcGx5U2NhbGFyKG4pfXByb2plY3RPblBsYW5lKGUpe3JldHVybiBfdmVjdG9yJGMuY29weSh0aGlzKS5wcm9qZWN0T25WZWN0b3IoZSksdGhpcy5zdWIoX3ZlY3RvciRjKX1yZWZsZWN0KGUpe3JldHVybiB0aGlzLnN1YihfdmVjdG9yJGMuY29weShlKS5tdWx0aXBseVNjYWxhcigyKnRoaXMuZG90KGUpKSl9YW5nbGVUbyhlKXtjb25zdCB0PU1hdGguc3FydCh0aGlzLmxlbmd0aFNxKCkqZS5sZW5ndGhTcSgpKTtpZih0PT09MClyZXR1cm4gTWF0aC5QSS8yO2NvbnN0IG49dGhpcy5kb3QoZSkvdDtyZXR1cm4gTWF0aC5hY29zKGNsYW1wKG4sLTEsMSkpfWRpc3RhbmNlVG8oZSl7cmV0dXJuIE1hdGguc3FydCh0aGlzLmRpc3RhbmNlVG9TcXVhcmVkKGUpKX1kaXN0YW5jZVRvU3F1YXJlZChlKXtjb25zdCB0PXRoaXMueC1lLngsbj10aGlzLnktZS55LGk9dGhpcy56LWUuejtyZXR1cm4gdCp0K24qbitpKml9bWFuaGF0dGFuRGlzdGFuY2VUbyhlKXtyZXR1cm4gTWF0aC5hYnModGhpcy54LWUueCkrTWF0aC5hYnModGhpcy55LWUueSkrTWF0aC5hYnModGhpcy56LWUueil9c2V0RnJvbVNwaGVyaWNhbChlKXtyZXR1cm4gdGhpcy5zZXRGcm9tU3BoZXJpY2FsQ29vcmRzKGUucmFkaXVzLGUucGhpLGUudGhldGEpfXNldEZyb21TcGhlcmljYWxDb29yZHMoZSx0LG4pe2NvbnN0IGk9TWF0aC5zaW4odCkqZTtyZXR1cm4gdGhpcy54PWkqTWF0aC5zaW4obiksdGhpcy55PU1hdGguY29zKHQpKmUsdGhpcy56PWkqTWF0aC5jb3MobiksdGhpc31zZXRGcm9tQ3lsaW5kcmljYWwoZSl7cmV0dXJuIHRoaXMuc2V0RnJvbUN5bGluZHJpY2FsQ29vcmRzKGUucmFkaXVzLGUudGhldGEsZS55KX1zZXRGcm9tQ3lsaW5kcmljYWxDb29yZHMoZSx0LG4pe3JldHVybiB0aGlzLng9ZSpNYXRoLnNpbih0KSx0aGlzLnk9bix0aGlzLno9ZSpNYXRoLmNvcyh0KSx0aGlzfXNldEZyb21NYXRyaXhQb3NpdGlvbihlKXtjb25zdCB0PWUuZWxlbWVudHM7cmV0dXJuIHRoaXMueD10WzEyXSx0aGlzLnk9dFsxM10sdGhpcy56PXRbMTRdLHRoaXN9c2V0RnJvbU1hdHJpeFNjYWxlKGUpe2NvbnN0IHQ9dGhpcy5zZXRGcm9tTWF0cml4Q29sdW1uKGUsMCkubGVuZ3RoKCksbj10aGlzLnNldEZyb21NYXRyaXhDb2x1bW4oZSwxKS5sZW5ndGgoKSxpPXRoaXMuc2V0RnJvbU1hdHJpeENvbHVtbihlLDIpLmxlbmd0aCgpO3JldHVybiB0aGlzLng9dCx0aGlzLnk9bix0aGlzLno9aSx0aGlzfXNldEZyb21NYXRyaXhDb2x1bW4oZSx0KXtyZXR1cm4gdGhpcy5mcm9tQXJyYXkoZS5lbGVtZW50cyx0KjQpfXNldEZyb21NYXRyaXgzQ29sdW1uKGUsdCl7cmV0dXJuIHRoaXMuZnJvbUFycmF5KGUuZWxlbWVudHMsdCozKX1zZXRGcm9tRXVsZXIoZSl7cmV0dXJuIHRoaXMueD1lLl94LHRoaXMueT1lLl95LHRoaXMuej1lLl96LHRoaXN9ZXF1YWxzKGUpe3JldHVybiBlLng9PT10aGlzLngmJmUueT09PXRoaXMueSYmZS56PT09dGhpcy56fWZyb21BcnJheShlLHQ9MCl7cmV0dXJuIHRoaXMueD1lW3RdLHRoaXMueT1lW3QrMV0sdGhpcy56PWVbdCsyXSx0aGlzfXRvQXJyYXkoZT1bXSx0PTApe3JldHVybiBlW3RdPXRoaXMueCxlW3QrMV09dGhpcy55LGVbdCsyXT10aGlzLnosZX1mcm9tQnVmZmVyQXR0cmlidXRlKGUsdCxuKXtyZXR1cm4gbiE9PXZvaWQgMCYmY29uc29sZS53YXJuKCJUSFJFRS5WZWN0b3IzOiBvZmZzZXQgaGFzIGJlZW4gcmVtb3ZlZCBmcm9tIC5mcm9tQnVmZmVyQXR0cmlidXRlKCkuIiksdGhpcy54PWUuZ2V0WCh0KSx0aGlzLnk9ZS5nZXRZKHQpLHRoaXMuej1lLmdldFoodCksdGhpc31yYW5kb20oKXtyZXR1cm4gdGhpcy54PU1hdGgucmFuZG9tKCksdGhpcy55PU1hdGgucmFuZG9tKCksdGhpcy56PU1hdGgucmFuZG9tKCksdGhpc31yYW5kb21EaXJlY3Rpb24oKXtjb25zdCBlPShNYXRoLnJhbmRvbSgpLS41KSoyLHQ9TWF0aC5yYW5kb20oKSpNYXRoLlBJKjIsbj1NYXRoLnNxcnQoMS1lKioyKTtyZXR1cm4gdGhpcy54PW4qTWF0aC5jb3ModCksdGhpcy55PW4qTWF0aC5zaW4odCksdGhpcy56PWUsdGhpc30qW1N5bWJvbC5pdGVyYXRvcl0oKXt5aWVsZCB0aGlzLngseWllbGQgdGhpcy55LHlpZWxkIHRoaXMuen19VmVjdG9yMy5wcm90b3R5cGUuaXNWZWN0b3IzPSEwO2NvbnN0IF92ZWN0b3IkYz1uZXcgVmVjdG9yMyxfcXVhdGVybmlvbiQ0PW5ldyBRdWF0ZXJuaW9uO2NsYXNzIEJveDN7Y29uc3RydWN0b3IoZT1uZXcgVmVjdG9yMygxLzAsMS8wLDEvMCksdD1uZXcgVmVjdG9yMygtMS8wLC0xLzAsLTEvMCkpe3RoaXMubWluPWUsdGhpcy5tYXg9dH1zZXQoZSx0KXtyZXR1cm4gdGhpcy5taW4uY29weShlKSx0aGlzLm1heC5jb3B5KHQpLHRoaXN9c2V0RnJvbUFycmF5KGUpe2xldCB0PTEvMCxuPTEvMCxpPTEvMCxyPS0xLzAsYT0tMS8wLG89LTEvMDtmb3IobGV0IGw9MCxjPWUubGVuZ3RoO2w8YztsKz0zKXtjb25zdCBoPWVbbF0sdT1lW2wrMV0sZD1lW2wrMl07aDx0JiYodD1oKSx1PG4mJihuPXUpLGQ8aSYmKGk9ZCksaD5yJiYocj1oKSx1PmEmJihhPXUpLGQ+byYmKG89ZCl9cmV0dXJuIHRoaXMubWluLnNldCh0LG4saSksdGhpcy5tYXguc2V0KHIsYSxvKSx0aGlzfXNldEZyb21CdWZmZXJBdHRyaWJ1dGUoZSl7bGV0IHQ9MS8wLG49MS8wLGk9MS8wLHI9LTEvMCxhPS0xLzAsbz0tMS8wO2ZvcihsZXQgbD0wLGM9ZS5jb3VudDtsPGM7bCsrKXtjb25zdCBoPWUuZ2V0WChsKSx1PWUuZ2V0WShsKSxkPWUuZ2V0WihsKTtoPHQmJih0PWgpLHU8biYmKG49dSksZDxpJiYoaT1kKSxoPnImJihyPWgpLHU+YSYmKGE9dSksZD5vJiYobz1kKX1yZXR1cm4gdGhpcy5taW4uc2V0KHQsbixpKSx0aGlzLm1heC5zZXQocixhLG8pLHRoaXN9c2V0RnJvbVBvaW50cyhlKXt0aGlzLm1ha2VFbXB0eSgpO2ZvcihsZXQgdD0wLG49ZS5sZW5ndGg7dDxuO3QrKyl0aGlzLmV4cGFuZEJ5UG9pbnQoZVt0XSk7cmV0dXJuIHRoaXN9c2V0RnJvbUNlbnRlckFuZFNpemUoZSx0KXtjb25zdCBuPV92ZWN0b3IkYi5jb3B5KHQpLm11bHRpcGx5U2NhbGFyKC41KTtyZXR1cm4gdGhpcy5taW4uY29weShlKS5zdWIobiksdGhpcy5tYXguY29weShlKS5hZGQobiksdGhpc31zZXRGcm9tT2JqZWN0KGUsdD0hMSl7cmV0dXJuIHRoaXMubWFrZUVtcHR5KCksdGhpcy5leHBhbmRCeU9iamVjdChlLHQpfWNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCkuY29weSh0aGlzKX1jb3B5KGUpe3JldHVybiB0aGlzLm1pbi5jb3B5KGUubWluKSx0aGlzLm1heC5jb3B5KGUubWF4KSx0aGlzfW1ha2VFbXB0eSgpe3JldHVybiB0aGlzLm1pbi54PXRoaXMubWluLnk9dGhpcy5taW4uej0xLzAsdGhpcy5tYXgueD10aGlzLm1heC55PXRoaXMubWF4Lno9LTEvMCx0aGlzfWlzRW1wdHkoKXtyZXR1cm4gdGhpcy5tYXgueDx0aGlzLm1pbi54fHx0aGlzLm1heC55PHRoaXMubWluLnl8fHRoaXMubWF4Lno8dGhpcy5taW4uen1nZXRDZW50ZXIoZSl7cmV0dXJuIHRoaXMuaXNFbXB0eSgpP2Uuc2V0KDAsMCwwKTplLmFkZFZlY3RvcnModGhpcy5taW4sdGhpcy5tYXgpLm11bHRpcGx5U2NhbGFyKC41KX1nZXRTaXplKGUpe3JldHVybiB0aGlzLmlzRW1wdHkoKT9lLnNldCgwLDAsMCk6ZS5zdWJWZWN0b3JzKHRoaXMubWF4LHRoaXMubWluKX1leHBhbmRCeVBvaW50KGUpe3JldHVybiB0aGlzLm1pbi5taW4oZSksdGhpcy5tYXgubWF4KGUpLHRoaXN9ZXhwYW5kQnlWZWN0b3IoZSl7cmV0dXJuIHRoaXMubWluLnN1YihlKSx0aGlzLm1heC5hZGQoZSksdGhpc31leHBhbmRCeVNjYWxhcihlKXtyZXR1cm4gdGhpcy5taW4uYWRkU2NhbGFyKC1lKSx0aGlzLm1heC5hZGRTY2FsYXIoZSksdGhpc31leHBhbmRCeU9iamVjdChlLHQ9ITEpe2UudXBkYXRlV29ybGRNYXRyaXgoITEsITEpO2NvbnN0IG49ZS5nZW9tZXRyeTtpZihuIT09dm9pZCAwKWlmKHQmJm4uYXR0cmlidXRlcyE9bnVsbCYmbi5hdHRyaWJ1dGVzLnBvc2l0aW9uIT09dm9pZCAwKXtjb25zdCByPW4uYXR0cmlidXRlcy5wb3NpdGlvbjtmb3IobGV0IGE9MCxvPXIuY291bnQ7YTxvO2ErKylfdmVjdG9yJGIuZnJvbUJ1ZmZlckF0dHJpYnV0ZShyLGEpLmFwcGx5TWF0cml4NChlLm1hdHJpeFdvcmxkKSx0aGlzLmV4cGFuZEJ5UG9pbnQoX3ZlY3RvciRiKX1lbHNlIG4uYm91bmRpbmdCb3g9PT1udWxsJiZuLmNvbXB1dGVCb3VuZGluZ0JveCgpLF9ib3gkMy5jb3B5KG4uYm91bmRpbmdCb3gpLF9ib3gkMy5hcHBseU1hdHJpeDQoZS5tYXRyaXhXb3JsZCksdGhpcy51bmlvbihfYm94JDMpO2NvbnN0IGk9ZS5jaGlsZHJlbjtmb3IobGV0IHI9MCxhPWkubGVuZ3RoO3I8YTtyKyspdGhpcy5leHBhbmRCeU9iamVjdChpW3JdLHQpO3JldHVybiB0aGlzfWNvbnRhaW5zUG9pbnQoZSl7cmV0dXJuIShlLng8dGhpcy5taW4ueHx8ZS54PnRoaXMubWF4Lnh8fGUueTx0aGlzLm1pbi55fHxlLnk+dGhpcy5tYXgueXx8ZS56PHRoaXMubWluLnp8fGUuej50aGlzLm1heC56KX1jb250YWluc0JveChlKXtyZXR1cm4gdGhpcy5taW4ueDw9ZS5taW4ueCYmZS5tYXgueDw9dGhpcy5tYXgueCYmdGhpcy5taW4ueTw9ZS5taW4ueSYmZS5tYXgueTw9dGhpcy5tYXgueSYmdGhpcy5taW4uejw9ZS5taW4ueiYmZS5tYXguejw9dGhpcy5tYXguen1nZXRQYXJhbWV0ZXIoZSx0KXtyZXR1cm4gdC5zZXQoKGUueC10aGlzLm1pbi54KS8odGhpcy5tYXgueC10aGlzLm1pbi54KSwoZS55LXRoaXMubWluLnkpLyh0aGlzLm1heC55LXRoaXMubWluLnkpLChlLnotdGhpcy5taW4ueikvKHRoaXMubWF4LnotdGhpcy5taW4ueikpfWludGVyc2VjdHNCb3goZSl7cmV0dXJuIShlLm1heC54PHRoaXMubWluLnh8fGUubWluLng+dGhpcy5tYXgueHx8ZS5tYXgueTx0aGlzLm1pbi55fHxlLm1pbi55PnRoaXMubWF4Lnl8fGUubWF4Lno8dGhpcy5taW4uenx8ZS5taW4uej50aGlzLm1heC56KX1pbnRlcnNlY3RzU3BoZXJlKGUpe3JldHVybiB0aGlzLmNsYW1wUG9pbnQoZS5jZW50ZXIsX3ZlY3RvciRiKSxfdmVjdG9yJGIuZGlzdGFuY2VUb1NxdWFyZWQoZS5jZW50ZXIpPD1lLnJhZGl1cyplLnJhZGl1c31pbnRlcnNlY3RzUGxhbmUoZSl7bGV0IHQsbjtyZXR1cm4gZS5ub3JtYWwueD4wPyh0PWUubm9ybWFsLngqdGhpcy5taW4ueCxuPWUubm9ybWFsLngqdGhpcy5tYXgueCk6KHQ9ZS5ub3JtYWwueCp0aGlzLm1heC54LG49ZS5ub3JtYWwueCp0aGlzLm1pbi54KSxlLm5vcm1hbC55PjA/KHQrPWUubm9ybWFsLnkqdGhpcy5taW4ueSxuKz1lLm5vcm1hbC55KnRoaXMubWF4LnkpOih0Kz1lLm5vcm1hbC55KnRoaXMubWF4Lnksbis9ZS5ub3JtYWwueSp0aGlzLm1pbi55KSxlLm5vcm1hbC56PjA/KHQrPWUubm9ybWFsLnoqdGhpcy5taW4ueixuKz1lLm5vcm1hbC56KnRoaXMubWF4LnopOih0Kz1lLm5vcm1hbC56KnRoaXMubWF4Lnosbis9ZS5ub3JtYWwueip0aGlzLm1pbi56KSx0PD0tZS5jb25zdGFudCYmbj49LWUuY29uc3RhbnR9aW50ZXJzZWN0c1RyaWFuZ2xlKGUpe2lmKHRoaXMuaXNFbXB0eSgpKXJldHVybiExO3RoaXMuZ2V0Q2VudGVyKF9jZW50ZXIpLF9leHRlbnRzLnN1YlZlY3RvcnModGhpcy5tYXgsX2NlbnRlciksX3YwJDIuc3ViVmVjdG9ycyhlLmEsX2NlbnRlciksX3YxJDcuc3ViVmVjdG9ycyhlLmIsX2NlbnRlciksX3YyJDMuc3ViVmVjdG9ycyhlLmMsX2NlbnRlciksX2YwLnN1YlZlY3RvcnMoX3YxJDcsX3YwJDIpLF9mMS5zdWJWZWN0b3JzKF92MiQzLF92MSQ3KSxfZjIuc3ViVmVjdG9ycyhfdjAkMixfdjIkMyk7bGV0IHQ9WzAsLV9mMC56LF9mMC55LDAsLV9mMS56LF9mMS55LDAsLV9mMi56LF9mMi55LF9mMC56LDAsLV9mMC54LF9mMS56LDAsLV9mMS54LF9mMi56LDAsLV9mMi54LC1fZjAueSxfZjAueCwwLC1fZjEueSxfZjEueCwwLC1fZjIueSxfZjIueCwwXTtyZXR1cm4hc2F0Rm9yQXhlcyh0LF92MCQyLF92MSQ3LF92MiQzLF9leHRlbnRzKXx8KHQ9WzEsMCwwLDAsMSwwLDAsMCwxXSwhc2F0Rm9yQXhlcyh0LF92MCQyLF92MSQ3LF92MiQzLF9leHRlbnRzKSk/ITE6KF90cmlhbmdsZU5vcm1hbC5jcm9zc1ZlY3RvcnMoX2YwLF9mMSksdD1bX3RyaWFuZ2xlTm9ybWFsLngsX3RyaWFuZ2xlTm9ybWFsLnksX3RyaWFuZ2xlTm9ybWFsLnpdLHNhdEZvckF4ZXModCxfdjAkMixfdjEkNyxfdjIkMyxfZXh0ZW50cykpfWNsYW1wUG9pbnQoZSx0KXtyZXR1cm4gdC5jb3B5KGUpLmNsYW1wKHRoaXMubWluLHRoaXMubWF4KX1kaXN0YW5jZVRvUG9pbnQoZSl7cmV0dXJuIF92ZWN0b3IkYi5jb3B5KGUpLmNsYW1wKHRoaXMubWluLHRoaXMubWF4KS5zdWIoZSkubGVuZ3RoKCl9Z2V0Qm91bmRpbmdTcGhlcmUoZSl7cmV0dXJuIHRoaXMuZ2V0Q2VudGVyKGUuY2VudGVyKSxlLnJhZGl1cz10aGlzLmdldFNpemUoX3ZlY3RvciRiKS5sZW5ndGgoKSouNSxlfWludGVyc2VjdChlKXtyZXR1cm4gdGhpcy5taW4ubWF4KGUubWluKSx0aGlzLm1heC5taW4oZS5tYXgpLHRoaXMuaXNFbXB0eSgpJiZ0aGlzLm1ha2VFbXB0eSgpLHRoaXN9dW5pb24oZSl7cmV0dXJuIHRoaXMubWluLm1pbihlLm1pbiksdGhpcy5tYXgubWF4KGUubWF4KSx0aGlzfWFwcGx5TWF0cml4NChlKXtyZXR1cm4gdGhpcy5pc0VtcHR5KCk/dGhpczooX3BvaW50c1swXS5zZXQodGhpcy5taW4ueCx0aGlzLm1pbi55LHRoaXMubWluLnopLmFwcGx5TWF0cml4NChlKSxfcG9pbnRzWzFdLnNldCh0aGlzLm1pbi54LHRoaXMubWluLnksdGhpcy5tYXgueikuYXBwbHlNYXRyaXg0KGUpLF9wb2ludHNbMl0uc2V0KHRoaXMubWluLngsdGhpcy5tYXgueSx0aGlzLm1pbi56KS5hcHBseU1hdHJpeDQoZSksX3BvaW50c1szXS5zZXQodGhpcy5taW4ueCx0aGlzLm1heC55LHRoaXMubWF4LnopLmFwcGx5TWF0cml4NChlKSxfcG9pbnRzWzRdLnNldCh0aGlzLm1heC54LHRoaXMubWluLnksdGhpcy5taW4ueikuYXBwbHlNYXRyaXg0KGUpLF9wb2ludHNbNV0uc2V0KHRoaXMubWF4LngsdGhpcy5taW4ueSx0aGlzLm1heC56KS5hcHBseU1hdHJpeDQoZSksX3BvaW50c1s2XS5zZXQodGhpcy5tYXgueCx0aGlzLm1heC55LHRoaXMubWluLnopLmFwcGx5TWF0cml4NChlKSxfcG9pbnRzWzddLnNldCh0aGlzLm1heC54LHRoaXMubWF4LnksdGhpcy5tYXgueikuYXBwbHlNYXRyaXg0KGUpLHRoaXMuc2V0RnJvbVBvaW50cyhfcG9pbnRzKSx0aGlzKX10cmFuc2xhdGUoZSl7cmV0dXJuIHRoaXMubWluLmFkZChlKSx0aGlzLm1heC5hZGQoZSksdGhpc31lcXVhbHMoZSl7cmV0dXJuIGUubWluLmVxdWFscyh0aGlzLm1pbikmJmUubWF4LmVxdWFscyh0aGlzLm1heCl9fUJveDMucHJvdG90eXBlLmlzQm94Mz0hMDtjb25zdCBfcG9pbnRzPVtuZXcgVmVjdG9yMyxuZXcgVmVjdG9yMyxuZXcgVmVjdG9yMyxuZXcgVmVjdG9yMyxuZXcgVmVjdG9yMyxuZXcgVmVjdG9yMyxuZXcgVmVjdG9yMyxuZXcgVmVjdG9yM10sX3ZlY3RvciRiPW5ldyBWZWN0b3IzLF9ib3gkMz1uZXcgQm94MyxfdjAkMj1uZXcgVmVjdG9yMyxfdjEkNz1uZXcgVmVjdG9yMyxfdjIkMz1uZXcgVmVjdG9yMyxfZjA9bmV3IFZlY3RvcjMsX2YxPW5ldyBWZWN0b3IzLF9mMj1uZXcgVmVjdG9yMyxfY2VudGVyPW5ldyBWZWN0b3IzLF9leHRlbnRzPW5ldyBWZWN0b3IzLF90cmlhbmdsZU5vcm1hbD1uZXcgVmVjdG9yMyxfdGVzdEF4aXM9bmV3IFZlY3RvcjM7ZnVuY3Rpb24gc2F0Rm9yQXhlcyhzLGUsdCxuLGkpe2ZvcihsZXQgcj0wLGE9cy5sZW5ndGgtMztyPD1hO3IrPTMpe190ZXN0QXhpcy5mcm9tQXJyYXkocyxyKTtjb25zdCBvPWkueCpNYXRoLmFicyhfdGVzdEF4aXMueCkraS55Kk1hdGguYWJzKF90ZXN0QXhpcy55KStpLnoqTWF0aC5hYnMoX3Rlc3RBeGlzLnopLGw9ZS5kb3QoX3Rlc3RBeGlzKSxjPXQuZG90KF90ZXN0QXhpcyksaD1uLmRvdChfdGVzdEF4aXMpO2lmKE1hdGgubWF4KC1NYXRoLm1heChsLGMsaCksTWF0aC5taW4obCxjLGgpKT5vKXJldHVybiExfXJldHVybiEwfWNvbnN0IF9ib3gkMj1uZXcgQm94MyxfdjEkNj1uZXcgVmVjdG9yMyxfdG9GYXJ0aGVzdFBvaW50PW5ldyBWZWN0b3IzLF90b1BvaW50PW5ldyBWZWN0b3IzO2NsYXNzIFNwaGVyZXtjb25zdHJ1Y3RvcihlPW5ldyBWZWN0b3IzLHQ9LTEpe3RoaXMuY2VudGVyPWUsdGhpcy5yYWRpdXM9dH1zZXQoZSx0KXtyZXR1cm4gdGhpcy5jZW50ZXIuY29weShlKSx0aGlzLnJhZGl1cz10LHRoaXN9c2V0RnJvbVBvaW50cyhlLHQpe2NvbnN0IG49dGhpcy5jZW50ZXI7dCE9PXZvaWQgMD9uLmNvcHkodCk6X2JveCQyLnNldEZyb21Qb2ludHMoZSkuZ2V0Q2VudGVyKG4pO2xldCBpPTA7Zm9yKGxldCByPTAsYT1lLmxlbmd0aDtyPGE7cisrKWk9TWF0aC5tYXgoaSxuLmRpc3RhbmNlVG9TcXVhcmVkKGVbcl0pKTtyZXR1cm4gdGhpcy5yYWRpdXM9TWF0aC5zcXJ0KGkpLHRoaXN9Y29weShlKXtyZXR1cm4gdGhpcy5jZW50ZXIuY29weShlLmNlbnRlciksdGhpcy5yYWRpdXM9ZS5yYWRpdXMsdGhpc31pc0VtcHR5KCl7cmV0dXJuIHRoaXMucmFkaXVzPDB9bWFrZUVtcHR5KCl7cmV0dXJuIHRoaXMuY2VudGVyLnNldCgwLDAsMCksdGhpcy5yYWRpdXM9LTEsdGhpc31jb250YWluc1BvaW50KGUpe3JldHVybiBlLmRpc3RhbmNlVG9TcXVhcmVkKHRoaXMuY2VudGVyKTw9dGhpcy5yYWRpdXMqdGhpcy5yYWRpdXN9ZGlzdGFuY2VUb1BvaW50KGUpe3JldHVybiBlLmRpc3RhbmNlVG8odGhpcy5jZW50ZXIpLXRoaXMucmFkaXVzfWludGVyc2VjdHNTcGhlcmUoZSl7Y29uc3QgdD10aGlzLnJhZGl1cytlLnJhZGl1cztyZXR1cm4gZS5jZW50ZXIuZGlzdGFuY2VUb1NxdWFyZWQodGhpcy5jZW50ZXIpPD10KnR9aW50ZXJzZWN0c0JveChlKXtyZXR1cm4gZS5pbnRlcnNlY3RzU3BoZXJlKHRoaXMpfWludGVyc2VjdHNQbGFuZShlKXtyZXR1cm4gTWF0aC5hYnMoZS5kaXN0YW5jZVRvUG9pbnQodGhpcy5jZW50ZXIpKTw9dGhpcy5yYWRpdXN9Y2xhbXBQb2ludChlLHQpe2NvbnN0IG49dGhpcy5jZW50ZXIuZGlzdGFuY2VUb1NxdWFyZWQoZSk7cmV0dXJuIHQuY29weShlKSxuPnRoaXMucmFkaXVzKnRoaXMucmFkaXVzJiYodC5zdWIodGhpcy5jZW50ZXIpLm5vcm1hbGl6ZSgpLHQubXVsdGlwbHlTY2FsYXIodGhpcy5yYWRpdXMpLmFkZCh0aGlzLmNlbnRlcikpLHR9Z2V0Qm91bmRpbmdCb3goZSl7cmV0dXJuIHRoaXMuaXNFbXB0eSgpPyhlLm1ha2VFbXB0eSgpLGUpOihlLnNldCh0aGlzLmNlbnRlcix0aGlzLmNlbnRlciksZS5leHBhbmRCeVNjYWxhcih0aGlzLnJhZGl1cyksZSl9YXBwbHlNYXRyaXg0KGUpe3JldHVybiB0aGlzLmNlbnRlci5hcHBseU1hdHJpeDQoZSksdGhpcy5yYWRpdXM9dGhpcy5yYWRpdXMqZS5nZXRNYXhTY2FsZU9uQXhpcygpLHRoaXN9dHJhbnNsYXRlKGUpe3JldHVybiB0aGlzLmNlbnRlci5hZGQoZSksdGhpc31leHBhbmRCeVBvaW50KGUpe190b1BvaW50LnN1YlZlY3RvcnMoZSx0aGlzLmNlbnRlcik7Y29uc3QgdD1fdG9Qb2ludC5sZW5ndGhTcSgpO2lmKHQ+dGhpcy5yYWRpdXMqdGhpcy5yYWRpdXMpe2NvbnN0IG49TWF0aC5zcXJ0KHQpLGk9KG4tdGhpcy5yYWRpdXMpKi41O3RoaXMuY2VudGVyLmFkZChfdG9Qb2ludC5tdWx0aXBseVNjYWxhcihpL24pKSx0aGlzLnJhZGl1cys9aX1yZXR1cm4gdGhpc311bmlvbihlKXtyZXR1cm4gdGhpcy5jZW50ZXIuZXF1YWxzKGUuY2VudGVyKT09PSEwP190b0ZhcnRoZXN0UG9pbnQuc2V0KDAsMCwxKS5tdWx0aXBseVNjYWxhcihlLnJhZGl1cyk6X3RvRmFydGhlc3RQb2ludC5zdWJWZWN0b3JzKGUuY2VudGVyLHRoaXMuY2VudGVyKS5ub3JtYWxpemUoKS5tdWx0aXBseVNjYWxhcihlLnJhZGl1cyksdGhpcy5leHBhbmRCeVBvaW50KF92MSQ2LmNvcHkoZS5jZW50ZXIpLmFkZChfdG9GYXJ0aGVzdFBvaW50KSksdGhpcy5leHBhbmRCeVBvaW50KF92MSQ2LmNvcHkoZS5jZW50ZXIpLnN1YihfdG9GYXJ0aGVzdFBvaW50KSksdGhpc31lcXVhbHMoZSl7cmV0dXJuIGUuY2VudGVyLmVxdWFscyh0aGlzLmNlbnRlcikmJmUucmFkaXVzPT09dGhpcy5yYWRpdXN9Y2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoKS5jb3B5KHRoaXMpfX1jb25zdCBfdmVjdG9yJGE9bmV3IFZlY3RvcjMsX3NlZ0NlbnRlcj1uZXcgVmVjdG9yMyxfc2VnRGlyPW5ldyBWZWN0b3IzLF9kaWZmPW5ldyBWZWN0b3IzLF9lZGdlMT1uZXcgVmVjdG9yMyxfZWRnZTI9bmV3IFZlY3RvcjMsX25vcm1hbCQxPW5ldyBWZWN0b3IzO2NsYXNzIFJheXtjb25zdHJ1Y3RvcihlPW5ldyBWZWN0b3IzLHQ9bmV3IFZlY3RvcjMoMCwwLC0xKSl7dGhpcy5vcmlnaW49ZSx0aGlzLmRpcmVjdGlvbj10fXNldChlLHQpe3JldHVybiB0aGlzLm9yaWdpbi5jb3B5KGUpLHRoaXMuZGlyZWN0aW9uLmNvcHkodCksdGhpc31jb3B5KGUpe3JldHVybiB0aGlzLm9yaWdpbi5jb3B5KGUub3JpZ2luKSx0aGlzLmRpcmVjdGlvbi5jb3B5KGUuZGlyZWN0aW9uKSx0aGlzfWF0KGUsdCl7cmV0dXJuIHQuY29weSh0aGlzLmRpcmVjdGlvbikubXVsdGlwbHlTY2FsYXIoZSkuYWRkKHRoaXMub3JpZ2luKX1sb29rQXQoZSl7cmV0dXJuIHRoaXMuZGlyZWN0aW9uLmNvcHkoZSkuc3ViKHRoaXMub3JpZ2luKS5ub3JtYWxpemUoKSx0aGlzfXJlY2FzdChlKXtyZXR1cm4gdGhpcy5vcmlnaW4uY29weSh0aGlzLmF0KGUsX3ZlY3RvciRhKSksdGhpc31jbG9zZXN0UG9pbnRUb1BvaW50KGUsdCl7dC5zdWJWZWN0b3JzKGUsdGhpcy5vcmlnaW4pO2NvbnN0IG49dC5kb3QodGhpcy5kaXJlY3Rpb24pO3JldHVybiBuPDA/dC5jb3B5KHRoaXMub3JpZ2luKTp0LmNvcHkodGhpcy5kaXJlY3Rpb24pLm11bHRpcGx5U2NhbGFyKG4pLmFkZCh0aGlzLm9yaWdpbil9ZGlzdGFuY2VUb1BvaW50KGUpe3JldHVybiBNYXRoLnNxcnQodGhpcy5kaXN0YW5jZVNxVG9Qb2ludChlKSl9ZGlzdGFuY2VTcVRvUG9pbnQoZSl7Y29uc3QgdD1fdmVjdG9yJGEuc3ViVmVjdG9ycyhlLHRoaXMub3JpZ2luKS5kb3QodGhpcy5kaXJlY3Rpb24pO3JldHVybiB0PDA/dGhpcy5vcmlnaW4uZGlzdGFuY2VUb1NxdWFyZWQoZSk6KF92ZWN0b3IkYS5jb3B5KHRoaXMuZGlyZWN0aW9uKS5tdWx0aXBseVNjYWxhcih0KS5hZGQodGhpcy5vcmlnaW4pLF92ZWN0b3IkYS5kaXN0YW5jZVRvU3F1YXJlZChlKSl9ZGlzdGFuY2VTcVRvU2VnbWVudChlLHQsbixpKXtfc2VnQ2VudGVyLmNvcHkoZSkuYWRkKHQpLm11bHRpcGx5U2NhbGFyKC41KSxfc2VnRGlyLmNvcHkodCkuc3ViKGUpLm5vcm1hbGl6ZSgpLF9kaWZmLmNvcHkodGhpcy5vcmlnaW4pLnN1Yihfc2VnQ2VudGVyKTtjb25zdCByPWUuZGlzdGFuY2VUbyh0KSouNSxhPS10aGlzLmRpcmVjdGlvbi5kb3QoX3NlZ0Rpciksbz1fZGlmZi5kb3QodGhpcy5kaXJlY3Rpb24pLGw9LV9kaWZmLmRvdChfc2VnRGlyKSxjPV9kaWZmLmxlbmd0aFNxKCksaD1NYXRoLmFicygxLWEqYSk7bGV0IHUsZCxmLGc7aWYoaD4wKWlmKHU9YSpsLW8sZD1hKm8tbCxnPXIqaCx1Pj0wKWlmKGQ+PS1nKWlmKGQ8PWcpe2NvbnN0IF89MS9oO3UqPV8sZCo9XyxmPXUqKHUrYSpkKzIqbykrZCooYSp1K2QrMipsKStjfWVsc2UgZD1yLHU9TWF0aC5tYXgoMCwtKGEqZCtvKSksZj0tdSp1K2QqKGQrMipsKStjO2Vsc2UgZD0tcix1PU1hdGgubWF4KDAsLShhKmQrbykpLGY9LXUqdStkKihkKzIqbCkrYztlbHNlIGQ8PS1nPyh1PU1hdGgubWF4KDAsLSgtYSpyK28pKSxkPXU+MD8tcjpNYXRoLm1pbihNYXRoLm1heCgtciwtbCksciksZj0tdSp1K2QqKGQrMipsKStjKTpkPD1nPyh1PTAsZD1NYXRoLm1pbihNYXRoLm1heCgtciwtbCksciksZj1kKihkKzIqbCkrYyk6KHU9TWF0aC5tYXgoMCwtKGEqcitvKSksZD11PjA/cjpNYXRoLm1pbihNYXRoLm1heCgtciwtbCksciksZj0tdSp1K2QqKGQrMipsKStjKTtlbHNlIGQ9YT4wPy1yOnIsdT1NYXRoLm1heCgwLC0oYSpkK28pKSxmPS11KnUrZCooZCsyKmwpK2M7cmV0dXJuIG4mJm4uY29weSh0aGlzLmRpcmVjdGlvbikubXVsdGlwbHlTY2FsYXIodSkuYWRkKHRoaXMub3JpZ2luKSxpJiZpLmNvcHkoX3NlZ0RpcikubXVsdGlwbHlTY2FsYXIoZCkuYWRkKF9zZWdDZW50ZXIpLGZ9aW50ZXJzZWN0U3BoZXJlKGUsdCl7X3ZlY3RvciRhLnN1YlZlY3RvcnMoZS5jZW50ZXIsdGhpcy5vcmlnaW4pO2NvbnN0IG49X3ZlY3RvciRhLmRvdCh0aGlzLmRpcmVjdGlvbiksaT1fdmVjdG9yJGEuZG90KF92ZWN0b3IkYSktbipuLHI9ZS5yYWRpdXMqZS5yYWRpdXM7aWYoaT5yKXJldHVybiBudWxsO2NvbnN0IGE9TWF0aC5zcXJ0KHItaSksbz1uLWEsbD1uK2E7cmV0dXJuIG88MCYmbDwwP251bGw6bzwwP3RoaXMuYXQobCx0KTp0aGlzLmF0KG8sdCl9aW50ZXJzZWN0c1NwaGVyZShlKXtyZXR1cm4gdGhpcy5kaXN0YW5jZVNxVG9Qb2ludChlLmNlbnRlcik8PWUucmFkaXVzKmUucmFkaXVzfWRpc3RhbmNlVG9QbGFuZShlKXtjb25zdCB0PWUubm9ybWFsLmRvdCh0aGlzLmRpcmVjdGlvbik7aWYodD09PTApcmV0dXJuIGUuZGlzdGFuY2VUb1BvaW50KHRoaXMub3JpZ2luKT09PTA/MDpudWxsO2NvbnN0IG49LSh0aGlzLm9yaWdpbi5kb3QoZS5ub3JtYWwpK2UuY29uc3RhbnQpL3Q7cmV0dXJuIG4+PTA/bjpudWxsfWludGVyc2VjdFBsYW5lKGUsdCl7Y29uc3Qgbj10aGlzLmRpc3RhbmNlVG9QbGFuZShlKTtyZXR1cm4gbj09PW51bGw/bnVsbDp0aGlzLmF0KG4sdCl9aW50ZXJzZWN0c1BsYW5lKGUpe2NvbnN0IHQ9ZS5kaXN0YW5jZVRvUG9pbnQodGhpcy5vcmlnaW4pO3JldHVybiB0PT09MHx8ZS5ub3JtYWwuZG90KHRoaXMuZGlyZWN0aW9uKSp0PDB9aW50ZXJzZWN0Qm94KGUsdCl7bGV0IG4saSxyLGEsbyxsO2NvbnN0IGM9MS90aGlzLmRpcmVjdGlvbi54LGg9MS90aGlzLmRpcmVjdGlvbi55LHU9MS90aGlzLmRpcmVjdGlvbi56LGQ9dGhpcy5vcmlnaW47cmV0dXJuIGM+PTA/KG49KGUubWluLngtZC54KSpjLGk9KGUubWF4LngtZC54KSpjKToobj0oZS5tYXgueC1kLngpKmMsaT0oZS5taW4ueC1kLngpKmMpLGg+PTA/KHI9KGUubWluLnktZC55KSpoLGE9KGUubWF4LnktZC55KSpoKToocj0oZS5tYXgueS1kLnkpKmgsYT0oZS5taW4ueS1kLnkpKmgpLG4+YXx8cj5pfHwoKHI+bnx8biE9PW4pJiYobj1yKSwoYTxpfHxpIT09aSkmJihpPWEpLHU+PTA/KG89KGUubWluLnotZC56KSp1LGw9KGUubWF4LnotZC56KSp1KToobz0oZS5tYXguei1kLnopKnUsbD0oZS5taW4uei1kLnopKnUpLG4+bHx8bz5pKXx8KChvPm58fG4hPT1uKSYmKG49byksKGw8aXx8aSE9PWkpJiYoaT1sKSxpPDApP251bGw6dGhpcy5hdChuPj0wP246aSx0KX1pbnRlcnNlY3RzQm94KGUpe3JldHVybiB0aGlzLmludGVyc2VjdEJveChlLF92ZWN0b3IkYSkhPT1udWxsfWludGVyc2VjdFRyaWFuZ2xlKGUsdCxuLGkscil7X2VkZ2UxLnN1YlZlY3RvcnModCxlKSxfZWRnZTIuc3ViVmVjdG9ycyhuLGUpLF9ub3JtYWwkMS5jcm9zc1ZlY3RvcnMoX2VkZ2UxLF9lZGdlMik7bGV0IGE9dGhpcy5kaXJlY3Rpb24uZG90KF9ub3JtYWwkMSksbztpZihhPjApe2lmKGkpcmV0dXJuIG51bGw7bz0xfWVsc2UgaWYoYTwwKW89LTEsYT0tYTtlbHNlIHJldHVybiBudWxsO19kaWZmLnN1YlZlY3RvcnModGhpcy5vcmlnaW4sZSk7Y29uc3QgbD1vKnRoaXMuZGlyZWN0aW9uLmRvdChfZWRnZTIuY3Jvc3NWZWN0b3JzKF9kaWZmLF9lZGdlMikpO2lmKGw8MClyZXR1cm4gbnVsbDtjb25zdCBjPW8qdGhpcy5kaXJlY3Rpb24uZG90KF9lZGdlMS5jcm9zcyhfZGlmZikpO2lmKGM8MHx8bCtjPmEpcmV0dXJuIG51bGw7Y29uc3QgaD0tbypfZGlmZi5kb3QoX25vcm1hbCQxKTtyZXR1cm4gaDwwP251bGw6dGhpcy5hdChoL2Escil9YXBwbHlNYXRyaXg0KGUpe3JldHVybiB0aGlzLm9yaWdpbi5hcHBseU1hdHJpeDQoZSksdGhpcy5kaXJlY3Rpb24udHJhbnNmb3JtRGlyZWN0aW9uKGUpLHRoaXN9ZXF1YWxzKGUpe3JldHVybiBlLm9yaWdpbi5lcXVhbHModGhpcy5vcmlnaW4pJiZlLmRpcmVjdGlvbi5lcXVhbHModGhpcy5kaXJlY3Rpb24pfWNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCkuY29weSh0aGlzKX19Y2xhc3MgTWF0cml4NHtjb25zdHJ1Y3Rvcigpe3RoaXMuZWxlbWVudHM9WzEsMCwwLDAsMCwxLDAsMCwwLDAsMSwwLDAsMCwwLDFdLGFyZ3VtZW50cy5sZW5ndGg+MCYmY29uc29sZS5lcnJvcigiVEhSRUUuTWF0cml4NDogdGhlIGNvbnN0cnVjdG9yIG5vIGxvbmdlciByZWFkcyBhcmd1bWVudHMuIHVzZSAuc2V0KCkgaW5zdGVhZC4iKX1zZXQoZSx0LG4saSxyLGEsbyxsLGMsaCx1LGQsZixnLF8seSl7Y29uc3QgbT10aGlzLmVsZW1lbnRzO3JldHVybiBtWzBdPWUsbVs0XT10LG1bOF09bixtWzEyXT1pLG1bMV09cixtWzVdPWEsbVs5XT1vLG1bMTNdPWwsbVsyXT1jLG1bNl09aCxtWzEwXT11LG1bMTRdPWQsbVszXT1mLG1bN109ZyxtWzExXT1fLG1bMTVdPXksdGhpc31pZGVudGl0eSgpe3JldHVybiB0aGlzLnNldCgxLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCwwLDAsMCwxKSx0aGlzfWNsb25lKCl7cmV0dXJuIG5ldyBNYXRyaXg0KCkuZnJvbUFycmF5KHRoaXMuZWxlbWVudHMpfWNvcHkoZSl7Y29uc3QgdD10aGlzLmVsZW1lbnRzLG49ZS5lbGVtZW50cztyZXR1cm4gdFswXT1uWzBdLHRbMV09blsxXSx0WzJdPW5bMl0sdFszXT1uWzNdLHRbNF09bls0XSx0WzVdPW5bNV0sdFs2XT1uWzZdLHRbN109bls3XSx0WzhdPW5bOF0sdFs5XT1uWzldLHRbMTBdPW5bMTBdLHRbMTFdPW5bMTFdLHRbMTJdPW5bMTJdLHRbMTNdPW5bMTNdLHRbMTRdPW5bMTRdLHRbMTVdPW5bMTVdLHRoaXN9Y29weVBvc2l0aW9uKGUpe2NvbnN0IHQ9dGhpcy5lbGVtZW50cyxuPWUuZWxlbWVudHM7cmV0dXJuIHRbMTJdPW5bMTJdLHRbMTNdPW5bMTNdLHRbMTRdPW5bMTRdLHRoaXN9c2V0RnJvbU1hdHJpeDMoZSl7Y29uc3QgdD1lLmVsZW1lbnRzO3JldHVybiB0aGlzLnNldCh0WzBdLHRbM10sdFs2XSwwLHRbMV0sdFs0XSx0WzddLDAsdFsyXSx0WzVdLHRbOF0sMCwwLDAsMCwxKSx0aGlzfWV4dHJhY3RCYXNpcyhlLHQsbil7cmV0dXJuIGUuc2V0RnJvbU1hdHJpeENvbHVtbih0aGlzLDApLHQuc2V0RnJvbU1hdHJpeENvbHVtbih0aGlzLDEpLG4uc2V0RnJvbU1hdHJpeENvbHVtbih0aGlzLDIpLHRoaXN9bWFrZUJhc2lzKGUsdCxuKXtyZXR1cm4gdGhpcy5zZXQoZS54LHQueCxuLngsMCxlLnksdC55LG4ueSwwLGUueix0Lnosbi56LDAsMCwwLDAsMSksdGhpc31leHRyYWN0Um90YXRpb24oZSl7Y29uc3QgdD10aGlzLmVsZW1lbnRzLG49ZS5lbGVtZW50cyxpPTEvX3YxJDUuc2V0RnJvbU1hdHJpeENvbHVtbihlLDApLmxlbmd0aCgpLHI9MS9fdjEkNS5zZXRGcm9tTWF0cml4Q29sdW1uKGUsMSkubGVuZ3RoKCksYT0xL192MSQ1LnNldEZyb21NYXRyaXhDb2x1bW4oZSwyKS5sZW5ndGgoKTtyZXR1cm4gdFswXT1uWzBdKmksdFsxXT1uWzFdKmksdFsyXT1uWzJdKmksdFszXT0wLHRbNF09bls0XSpyLHRbNV09bls1XSpyLHRbNl09bls2XSpyLHRbN109MCx0WzhdPW5bOF0qYSx0WzldPW5bOV0qYSx0WzEwXT1uWzEwXSphLHRbMTFdPTAsdFsxMl09MCx0WzEzXT0wLHRbMTRdPTAsdFsxNV09MSx0aGlzfW1ha2VSb3RhdGlvbkZyb21FdWxlcihlKXtlJiZlLmlzRXVsZXJ8fGNvbnNvbGUuZXJyb3IoIlRIUkVFLk1hdHJpeDQ6IC5tYWtlUm90YXRpb25Gcm9tRXVsZXIoKSBub3cgZXhwZWN0cyBhIEV1bGVyIHJvdGF0aW9uIHJhdGhlciB0aGFuIGEgVmVjdG9yMyBhbmQgb3JkZXIuIik7Y29uc3QgdD10aGlzLmVsZW1lbnRzLG49ZS54LGk9ZS55LHI9ZS56LGE9TWF0aC5jb3Mobiksbz1NYXRoLnNpbihuKSxsPU1hdGguY29zKGkpLGM9TWF0aC5zaW4oaSksaD1NYXRoLmNvcyhyKSx1PU1hdGguc2luKHIpO2lmKGUub3JkZXI9PT0iWFlaIil7Y29uc3QgZD1hKmgsZj1hKnUsZz1vKmgsXz1vKnU7dFswXT1sKmgsdFs0XT0tbCp1LHRbOF09Yyx0WzFdPWYrZypjLHRbNV09ZC1fKmMsdFs5XT0tbypsLHRbMl09Xy1kKmMsdFs2XT1nK2YqYyx0WzEwXT1hKmx9ZWxzZSBpZihlLm9yZGVyPT09IllYWiIpe2NvbnN0IGQ9bCpoLGY9bCp1LGc9YypoLF89Yyp1O3RbMF09ZCtfKm8sdFs0XT1nKm8tZix0WzhdPWEqYyx0WzFdPWEqdSx0WzVdPWEqaCx0WzldPS1vLHRbMl09ZipvLWcsdFs2XT1fK2Qqbyx0WzEwXT1hKmx9ZWxzZSBpZihlLm9yZGVyPT09IlpYWSIpe2NvbnN0IGQ9bCpoLGY9bCp1LGc9YypoLF89Yyp1O3RbMF09ZC1fKm8sdFs0XT0tYSp1LHRbOF09ZytmKm8sdFsxXT1mK2cqbyx0WzVdPWEqaCx0WzldPV8tZCpvLHRbMl09LWEqYyx0WzZdPW8sdFsxMF09YSpsfWVsc2UgaWYoZS5vcmRlcj09PSJaWVgiKXtjb25zdCBkPWEqaCxmPWEqdSxnPW8qaCxfPW8qdTt0WzBdPWwqaCx0WzRdPWcqYy1mLHRbOF09ZCpjK18sdFsxXT1sKnUsdFs1XT1fKmMrZCx0WzldPWYqYy1nLHRbMl09LWMsdFs2XT1vKmwsdFsxMF09YSpsfWVsc2UgaWYoZS5vcmRlcj09PSJZWlgiKXtjb25zdCBkPWEqbCxmPWEqYyxnPW8qbCxfPW8qYzt0WzBdPWwqaCx0WzRdPV8tZCp1LHRbOF09Zyp1K2YsdFsxXT11LHRbNV09YSpoLHRbOV09LW8qaCx0WzJdPS1jKmgsdFs2XT1mKnUrZyx0WzEwXT1kLV8qdX1lbHNlIGlmKGUub3JkZXI9PT0iWFpZIil7Y29uc3QgZD1hKmwsZj1hKmMsZz1vKmwsXz1vKmM7dFswXT1sKmgsdFs0XT0tdSx0WzhdPWMqaCx0WzFdPWQqdStfLHRbNV09YSpoLHRbOV09Zip1LWcsdFsyXT1nKnUtZix0WzZdPW8qaCx0WzEwXT1fKnUrZH1yZXR1cm4gdFszXT0wLHRbN109MCx0WzExXT0wLHRbMTJdPTAsdFsxM109MCx0WzE0XT0wLHRbMTVdPTEsdGhpc31tYWtlUm90YXRpb25Gcm9tUXVhdGVybmlvbihlKXtyZXR1cm4gdGhpcy5jb21wb3NlKF96ZXJvLGUsX29uZSl9bG9va0F0KGUsdCxuKXtjb25zdCBpPXRoaXMuZWxlbWVudHM7cmV0dXJuIF96LnN1YlZlY3RvcnMoZSx0KSxfei5sZW5ndGhTcSgpPT09MCYmKF96Lno9MSksX3oubm9ybWFsaXplKCksX3guY3Jvc3NWZWN0b3JzKG4sX3opLF94Lmxlbmd0aFNxKCk9PT0wJiYoTWF0aC5hYnMobi56KT09PTE/X3oueCs9MWUtNDpfei56Kz0xZS00LF96Lm5vcm1hbGl6ZSgpLF94LmNyb3NzVmVjdG9ycyhuLF96KSksX3gubm9ybWFsaXplKCksX3kuY3Jvc3NWZWN0b3JzKF96LF94KSxpWzBdPV94LngsaVs0XT1feS54LGlbOF09X3oueCxpWzFdPV94LnksaVs1XT1feS55LGlbOV09X3oueSxpWzJdPV94LnosaVs2XT1feS56LGlbMTBdPV96LnosdGhpc31tdWx0aXBseShlLHQpe3JldHVybiB0IT09dm9pZCAwPyhjb25zb2xlLndhcm4oIlRIUkVFLk1hdHJpeDQ6IC5tdWx0aXBseSgpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLm11bHRpcGx5TWF0cmljZXMoIGEsIGIgKSBpbnN0ZWFkLiIpLHRoaXMubXVsdGlwbHlNYXRyaWNlcyhlLHQpKTp0aGlzLm11bHRpcGx5TWF0cmljZXModGhpcyxlKX1wcmVtdWx0aXBseShlKXtyZXR1cm4gdGhpcy5tdWx0aXBseU1hdHJpY2VzKGUsdGhpcyl9bXVsdGlwbHlNYXRyaWNlcyhlLHQpe2NvbnN0IG49ZS5lbGVtZW50cyxpPXQuZWxlbWVudHMscj10aGlzLmVsZW1lbnRzLGE9blswXSxvPW5bNF0sbD1uWzhdLGM9blsxMl0saD1uWzFdLHU9bls1XSxkPW5bOV0sZj1uWzEzXSxnPW5bMl0sXz1uWzZdLHk9blsxMF0sbT1uWzE0XSxwPW5bM10sVD1uWzddLHc9blsxMV0sUz1uWzE1XSxSPWlbMF0sRD1pWzRdLFg9aVs4XSxpZT1pWzEyXSx6PWlbMV0seD1pWzVdLEE9aVs5XSxQPWlbMTNdLEI9aVsyXSxVPWlbNl0sRj1pWzEwXSxHPWlbMTRdLEw9aVszXSxXPWlbN10sWj1pWzExXSxZPWlbMTVdO3JldHVybiByWzBdPWEqUitvKnorbCpCK2MqTCxyWzRdPWEqRCtvKngrbCpVK2MqVyxyWzhdPWEqWCtvKkErbCpGK2MqWixyWzEyXT1hKmllK28qUCtsKkcrYypZLHJbMV09aCpSK3UqeitkKkIrZipMLHJbNV09aCpEK3UqeCtkKlUrZipXLHJbOV09aCpYK3UqQStkKkYrZipaLHJbMTNdPWgqaWUrdSpQK2QqRytmKlksclsyXT1nKlIrXyp6K3kqQittKkwscls2XT1nKkQrXyp4K3kqVSttKlcsclsxMF09ZypYK18qQSt5KkYrbSpaLHJbMTRdPWcqaWUrXypQK3kqRyttKlksclszXT1wKlIrVCp6K3cqQitTKkwscls3XT1wKkQrVCp4K3cqVStTKlcsclsxMV09cCpYK1QqQSt3KkYrUypaLHJbMTVdPXAqaWUrVCpQK3cqRytTKlksdGhpc31tdWx0aXBseVNjYWxhcihlKXtjb25zdCB0PXRoaXMuZWxlbWVudHM7cmV0dXJuIHRbMF0qPWUsdFs0XSo9ZSx0WzhdKj1lLHRbMTJdKj1lLHRbMV0qPWUsdFs1XSo9ZSx0WzldKj1lLHRbMTNdKj1lLHRbMl0qPWUsdFs2XSo9ZSx0WzEwXSo9ZSx0WzE0XSo9ZSx0WzNdKj1lLHRbN10qPWUsdFsxMV0qPWUsdFsxNV0qPWUsdGhpc31kZXRlcm1pbmFudCgpe2NvbnN0IGU9dGhpcy5lbGVtZW50cyx0PWVbMF0sbj1lWzRdLGk9ZVs4XSxyPWVbMTJdLGE9ZVsxXSxvPWVbNV0sbD1lWzldLGM9ZVsxM10saD1lWzJdLHU9ZVs2XSxkPWVbMTBdLGY9ZVsxNF0sZz1lWzNdLF89ZVs3XSx5PWVbMTFdLG09ZVsxNV07cmV0dXJuIGcqKCtyKmwqdS1pKmMqdS1yKm8qZCtuKmMqZCtpKm8qZi1uKmwqZikrXyooK3QqbCpmLXQqYypkK3IqYSpkLWkqYSpmK2kqYypoLXIqbCpoKSt5KigrdCpjKnUtdCpvKmYtciphKnUrbiphKmYrcipvKmgtbipjKmgpK20qKC1pKm8qaC10KmwqdSt0Km8qZCtpKmEqdS1uKmEqZCtuKmwqaCl9dHJhbnNwb3NlKCl7Y29uc3QgZT10aGlzLmVsZW1lbnRzO2xldCB0O3JldHVybiB0PWVbMV0sZVsxXT1lWzRdLGVbNF09dCx0PWVbMl0sZVsyXT1lWzhdLGVbOF09dCx0PWVbNl0sZVs2XT1lWzldLGVbOV09dCx0PWVbM10sZVszXT1lWzEyXSxlWzEyXT10LHQ9ZVs3XSxlWzddPWVbMTNdLGVbMTNdPXQsdD1lWzExXSxlWzExXT1lWzE0XSxlWzE0XT10LHRoaXN9c2V0UG9zaXRpb24oZSx0LG4pe2NvbnN0IGk9dGhpcy5lbGVtZW50cztyZXR1cm4gZS5pc1ZlY3RvcjM/KGlbMTJdPWUueCxpWzEzXT1lLnksaVsxNF09ZS56KTooaVsxMl09ZSxpWzEzXT10LGlbMTRdPW4pLHRoaXN9aW52ZXJ0KCl7Y29uc3QgZT10aGlzLmVsZW1lbnRzLHQ9ZVswXSxuPWVbMV0saT1lWzJdLHI9ZVszXSxhPWVbNF0sbz1lWzVdLGw9ZVs2XSxjPWVbN10saD1lWzhdLHU9ZVs5XSxkPWVbMTBdLGY9ZVsxMV0sZz1lWzEyXSxfPWVbMTNdLHk9ZVsxNF0sbT1lWzE1XSxwPXUqeSpjLV8qZCpjK18qbCpmLW8qeSpmLXUqbCptK28qZCptLFQ9ZypkKmMtaCp5KmMtZypsKmYrYSp5KmYraCpsKm0tYSpkKm0sdz1oKl8qYy1nKnUqYytnKm8qZi1hKl8qZi1oKm8qbSthKnUqbSxTPWcqdSpsLWgqXypsLWcqbypkK2EqXypkK2gqbyp5LWEqdSp5LFI9dCpwK24qVCtpKncrcipTO2lmKFI9PT0wKXJldHVybiB0aGlzLnNldCgwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwKTtjb25zdCBEPTEvUjtyZXR1cm4gZVswXT1wKkQsZVsxXT0oXypkKnItdSp5KnItXyppKmYrbip5KmYrdSppKm0tbipkKm0pKkQsZVsyXT0obyp5KnItXypsKnIrXyppKmMtbip5KmMtbyppKm0rbipsKm0pKkQsZVszXT0odSpsKnItbypkKnItdSppKmMrbipkKmMrbyppKmYtbipsKmYpKkQsZVs0XT1UKkQsZVs1XT0oaCp5KnItZypkKnIrZyppKmYtdCp5KmYtaCppKm0rdCpkKm0pKkQsZVs2XT0oZypsKnItYSp5KnItZyppKmMrdCp5KmMrYSppKm0tdCpsKm0pKkQsZVs3XT0oYSpkKnItaCpsKnIraCppKmMtdCpkKmMtYSppKmYrdCpsKmYpKkQsZVs4XT13KkQsZVs5XT0oZyp1KnItaCpfKnItZypuKmYrdCpfKmYraCpuKm0tdCp1Km0pKkQsZVsxMF09KGEqXypyLWcqbypyK2cqbipjLXQqXypjLWEqbiptK3QqbyptKSpELGVbMTFdPShoKm8qci1hKnUqci1oKm4qYyt0KnUqYythKm4qZi10Km8qZikqRCxlWzEyXT1TKkQsZVsxM109KGgqXyppLWcqdSppK2cqbipkLXQqXypkLWgqbip5K3QqdSp5KSpELGVbMTRdPShnKm8qaS1hKl8qaS1nKm4qbCt0Kl8qbCthKm4qeS10Km8qeSkqRCxlWzE1XT0oYSp1KmktaCpvKmkraCpuKmwtdCp1KmwtYSpuKmQrdCpvKmQpKkQsdGhpc31zY2FsZShlKXtjb25zdCB0PXRoaXMuZWxlbWVudHMsbj1lLngsaT1lLnkscj1lLno7cmV0dXJuIHRbMF0qPW4sdFs0XSo9aSx0WzhdKj1yLHRbMV0qPW4sdFs1XSo9aSx0WzldKj1yLHRbMl0qPW4sdFs2XSo9aSx0WzEwXSo9cix0WzNdKj1uLHRbN10qPWksdFsxMV0qPXIsdGhpc31nZXRNYXhTY2FsZU9uQXhpcygpe2NvbnN0IGU9dGhpcy5lbGVtZW50cyx0PWVbMF0qZVswXStlWzFdKmVbMV0rZVsyXSplWzJdLG49ZVs0XSplWzRdK2VbNV0qZVs1XStlWzZdKmVbNl0saT1lWzhdKmVbOF0rZVs5XSplWzldK2VbMTBdKmVbMTBdO3JldHVybiBNYXRoLnNxcnQoTWF0aC5tYXgodCxuLGkpKX1tYWtlVHJhbnNsYXRpb24oZSx0LG4pe3JldHVybiB0aGlzLnNldCgxLDAsMCxlLDAsMSwwLHQsMCwwLDEsbiwwLDAsMCwxKSx0aGlzfW1ha2VSb3RhdGlvblgoZSl7Y29uc3QgdD1NYXRoLmNvcyhlKSxuPU1hdGguc2luKGUpO3JldHVybiB0aGlzLnNldCgxLDAsMCwwLDAsdCwtbiwwLDAsbix0LDAsMCwwLDAsMSksdGhpc31tYWtlUm90YXRpb25ZKGUpe2NvbnN0IHQ9TWF0aC5jb3MoZSksbj1NYXRoLnNpbihlKTtyZXR1cm4gdGhpcy5zZXQodCwwLG4sMCwwLDEsMCwwLC1uLDAsdCwwLDAsMCwwLDEpLHRoaXN9bWFrZVJvdGF0aW9uWihlKXtjb25zdCB0PU1hdGguY29zKGUpLG49TWF0aC5zaW4oZSk7cmV0dXJuIHRoaXMuc2V0KHQsLW4sMCwwLG4sdCwwLDAsMCwwLDEsMCwwLDAsMCwxKSx0aGlzfW1ha2VSb3RhdGlvbkF4aXMoZSx0KXtjb25zdCBuPU1hdGguY29zKHQpLGk9TWF0aC5zaW4odCkscj0xLW4sYT1lLngsbz1lLnksbD1lLnosYz1yKmEsaD1yKm87cmV0dXJuIHRoaXMuc2V0KGMqYStuLGMqby1pKmwsYypsK2kqbywwLGMqbytpKmwsaCpvK24saCpsLWkqYSwwLGMqbC1pKm8saCpsK2kqYSxyKmwqbCtuLDAsMCwwLDAsMSksdGhpc31tYWtlU2NhbGUoZSx0LG4pe3JldHVybiB0aGlzLnNldChlLDAsMCwwLDAsdCwwLDAsMCwwLG4sMCwwLDAsMCwxKSx0aGlzfW1ha2VTaGVhcihlLHQsbixpLHIsYSl7cmV0dXJuIHRoaXMuc2V0KDEsbixyLDAsZSwxLGEsMCx0LGksMSwwLDAsMCwwLDEpLHRoaXN9Y29tcG9zZShlLHQsbil7Y29uc3QgaT10aGlzLmVsZW1lbnRzLHI9dC5feCxhPXQuX3ksbz10Ll96LGw9dC5fdyxjPXIrcixoPWErYSx1PW8rbyxkPXIqYyxmPXIqaCxnPXIqdSxfPWEqaCx5PWEqdSxtPW8qdSxwPWwqYyxUPWwqaCx3PWwqdSxTPW4ueCxSPW4ueSxEPW4uejtyZXR1cm4gaVswXT0oMS0oXyttKSkqUyxpWzFdPShmK3cpKlMsaVsyXT0oZy1UKSpTLGlbM109MCxpWzRdPShmLXcpKlIsaVs1XT0oMS0oZCttKSkqUixpWzZdPSh5K3ApKlIsaVs3XT0wLGlbOF09KGcrVCkqRCxpWzldPSh5LXApKkQsaVsxMF09KDEtKGQrXykpKkQsaVsxMV09MCxpWzEyXT1lLngsaVsxM109ZS55LGlbMTRdPWUueixpWzE1XT0xLHRoaXN9ZGVjb21wb3NlKGUsdCxuKXtjb25zdCBpPXRoaXMuZWxlbWVudHM7bGV0IHI9X3YxJDUuc2V0KGlbMF0saVsxXSxpWzJdKS5sZW5ndGgoKTtjb25zdCBhPV92MSQ1LnNldChpWzRdLGlbNV0saVs2XSkubGVuZ3RoKCksbz1fdjEkNS5zZXQoaVs4XSxpWzldLGlbMTBdKS5sZW5ndGgoKTt0aGlzLmRldGVybWluYW50KCk8MCYmKHI9LXIpLGUueD1pWzEyXSxlLnk9aVsxM10sZS56PWlbMTRdLF9tMSQyLmNvcHkodGhpcyk7Y29uc3QgYz0xL3IsaD0xL2EsdT0xL287cmV0dXJuIF9tMSQyLmVsZW1lbnRzWzBdKj1jLF9tMSQyLmVsZW1lbnRzWzFdKj1jLF9tMSQyLmVsZW1lbnRzWzJdKj1jLF9tMSQyLmVsZW1lbnRzWzRdKj1oLF9tMSQyLmVsZW1lbnRzWzVdKj1oLF9tMSQyLmVsZW1lbnRzWzZdKj1oLF9tMSQyLmVsZW1lbnRzWzhdKj11LF9tMSQyLmVsZW1lbnRzWzldKj11LF9tMSQyLmVsZW1lbnRzWzEwXSo9dSx0LnNldEZyb21Sb3RhdGlvbk1hdHJpeChfbTEkMiksbi54PXIsbi55PWEsbi56PW8sdGhpc31tYWtlUGVyc3BlY3RpdmUoZSx0LG4saSxyLGEpe2E9PT12b2lkIDAmJmNvbnNvbGUud2FybigiVEhSRUUuTWF0cml4NDogLm1ha2VQZXJzcGVjdGl2ZSgpIGhhcyBiZWVuIHJlZGVmaW5lZCBhbmQgaGFzIGEgbmV3IHNpZ25hdHVyZS4gUGxlYXNlIGNoZWNrIHRoZSBkb2NzLiIpO2NvbnN0IG89dGhpcy5lbGVtZW50cyxsPTIqci8odC1lKSxjPTIqci8obi1pKSxoPSh0K2UpLyh0LWUpLHU9KG4raSkvKG4taSksZD0tKGErcikvKGEtciksZj0tMiphKnIvKGEtcik7cmV0dXJuIG9bMF09bCxvWzRdPTAsb1s4XT1oLG9bMTJdPTAsb1sxXT0wLG9bNV09YyxvWzldPXUsb1sxM109MCxvWzJdPTAsb1s2XT0wLG9bMTBdPWQsb1sxNF09ZixvWzNdPTAsb1s3XT0wLG9bMTFdPS0xLG9bMTVdPTAsdGhpc31tYWtlT3J0aG9ncmFwaGljKGUsdCxuLGkscixhKXtjb25zdCBvPXRoaXMuZWxlbWVudHMsbD0xLyh0LWUpLGM9MS8obi1pKSxoPTEvKGEtciksdT0odCtlKSpsLGQ9KG4raSkqYyxmPShhK3IpKmg7cmV0dXJuIG9bMF09MipsLG9bNF09MCxvWzhdPTAsb1sxMl09LXUsb1sxXT0wLG9bNV09MipjLG9bOV09MCxvWzEzXT0tZCxvWzJdPTAsb1s2XT0wLG9bMTBdPS0yKmgsb1sxNF09LWYsb1szXT0wLG9bN109MCxvWzExXT0wLG9bMTVdPTEsdGhpc31lcXVhbHMoZSl7Y29uc3QgdD10aGlzLmVsZW1lbnRzLG49ZS5lbGVtZW50cztmb3IobGV0IGk9MDtpPDE2O2krKylpZih0W2ldIT09bltpXSlyZXR1cm4hMTtyZXR1cm4hMH1mcm9tQXJyYXkoZSx0PTApe2ZvcihsZXQgbj0wO248MTY7bisrKXRoaXMuZWxlbWVudHNbbl09ZVtuK3RdO3JldHVybiB0aGlzfXRvQXJyYXkoZT1bXSx0PTApe2NvbnN0IG49dGhpcy5lbGVtZW50cztyZXR1cm4gZVt0XT1uWzBdLGVbdCsxXT1uWzFdLGVbdCsyXT1uWzJdLGVbdCszXT1uWzNdLGVbdCs0XT1uWzRdLGVbdCs1XT1uWzVdLGVbdCs2XT1uWzZdLGVbdCs3XT1uWzddLGVbdCs4XT1uWzhdLGVbdCs5XT1uWzldLGVbdCsxMF09blsxMF0sZVt0KzExXT1uWzExXSxlW3QrMTJdPW5bMTJdLGVbdCsxM109blsxM10sZVt0KzE0XT1uWzE0XSxlW3QrMTVdPW5bMTVdLGV9fU1hdHJpeDQucHJvdG90eXBlLmlzTWF0cml4ND0hMDtjb25zdCBfdjEkNT1uZXcgVmVjdG9yMyxfbTEkMj1uZXcgTWF0cml4NCxfemVybz1uZXcgVmVjdG9yMygwLDAsMCksX29uZT1uZXcgVmVjdG9yMygxLDEsMSksX3g9bmV3IFZlY3RvcjMsX3k9bmV3IFZlY3RvcjMsX3o9bmV3IFZlY3RvcjMsX21hdHJpeCQxPW5ldyBNYXRyaXg0LF9xdWF0ZXJuaW9uJDM9bmV3IFF1YXRlcm5pb247Y2xhc3MgRXVsZXJ7Y29uc3RydWN0b3IoZT0wLHQ9MCxuPTAsaT1FdWxlci5EZWZhdWx0T3JkZXIpe3RoaXMuX3g9ZSx0aGlzLl95PXQsdGhpcy5fej1uLHRoaXMuX29yZGVyPWl9Z2V0IHgoKXtyZXR1cm4gdGhpcy5feH1zZXQgeChlKXt0aGlzLl94PWUsdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpfWdldCB5KCl7cmV0dXJuIHRoaXMuX3l9c2V0IHkoZSl7dGhpcy5feT1lLHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKX1nZXQgeigpe3JldHVybiB0aGlzLl96fXNldCB6KGUpe3RoaXMuX3o9ZSx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCl9Z2V0IG9yZGVyKCl7cmV0dXJuIHRoaXMuX29yZGVyfXNldCBvcmRlcihlKXt0aGlzLl9vcmRlcj1lLHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKX1zZXQoZSx0LG4saT10aGlzLl9vcmRlcil7cmV0dXJuIHRoaXMuX3g9ZSx0aGlzLl95PXQsdGhpcy5fej1uLHRoaXMuX29yZGVyPWksdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpLHRoaXN9Y2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5feCx0aGlzLl95LHRoaXMuX3osdGhpcy5fb3JkZXIpfWNvcHkoZSl7cmV0dXJuIHRoaXMuX3g9ZS5feCx0aGlzLl95PWUuX3ksdGhpcy5fej1lLl96LHRoaXMuX29yZGVyPWUuX29yZGVyLHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKSx0aGlzfXNldEZyb21Sb3RhdGlvbk1hdHJpeChlLHQ9dGhpcy5fb3JkZXIsbj0hMCl7Y29uc3QgaT1lLmVsZW1lbnRzLHI9aVswXSxhPWlbNF0sbz1pWzhdLGw9aVsxXSxjPWlbNV0saD1pWzldLHU9aVsyXSxkPWlbNl0sZj1pWzEwXTtzd2l0Y2godCl7Y2FzZSJYWVoiOnRoaXMuX3k9TWF0aC5hc2luKGNsYW1wKG8sLTEsMSkpLE1hdGguYWJzKG8pPC45OTk5OTk5Pyh0aGlzLl94PU1hdGguYXRhbjIoLWgsZiksdGhpcy5fej1NYXRoLmF0YW4yKC1hLHIpKToodGhpcy5feD1NYXRoLmF0YW4yKGQsYyksdGhpcy5fej0wKTticmVhaztjYXNlIllYWiI6dGhpcy5feD1NYXRoLmFzaW4oLWNsYW1wKGgsLTEsMSkpLE1hdGguYWJzKGgpPC45OTk5OTk5Pyh0aGlzLl95PU1hdGguYXRhbjIobyxmKSx0aGlzLl96PU1hdGguYXRhbjIobCxjKSk6KHRoaXMuX3k9TWF0aC5hdGFuMigtdSxyKSx0aGlzLl96PTApO2JyZWFrO2Nhc2UiWlhZIjp0aGlzLl94PU1hdGguYXNpbihjbGFtcChkLC0xLDEpKSxNYXRoLmFicyhkKTwuOTk5OTk5OT8odGhpcy5feT1NYXRoLmF0YW4yKC11LGYpLHRoaXMuX3o9TWF0aC5hdGFuMigtYSxjKSk6KHRoaXMuX3k9MCx0aGlzLl96PU1hdGguYXRhbjIobCxyKSk7YnJlYWs7Y2FzZSJaWVgiOnRoaXMuX3k9TWF0aC5hc2luKC1jbGFtcCh1LC0xLDEpKSxNYXRoLmFicyh1KTwuOTk5OTk5OT8odGhpcy5feD1NYXRoLmF0YW4yKGQsZiksdGhpcy5fej1NYXRoLmF0YW4yKGwscikpOih0aGlzLl94PTAsdGhpcy5fej1NYXRoLmF0YW4yKC1hLGMpKTticmVhaztjYXNlIllaWCI6dGhpcy5fej1NYXRoLmFzaW4oY2xhbXAobCwtMSwxKSksTWF0aC5hYnMobCk8Ljk5OTk5OTk/KHRoaXMuX3g9TWF0aC5hdGFuMigtaCxjKSx0aGlzLl95PU1hdGguYXRhbjIoLXUscikpOih0aGlzLl94PTAsdGhpcy5feT1NYXRoLmF0YW4yKG8sZikpO2JyZWFrO2Nhc2UiWFpZIjp0aGlzLl96PU1hdGguYXNpbigtY2xhbXAoYSwtMSwxKSksTWF0aC5hYnMoYSk8Ljk5OTk5OTk/KHRoaXMuX3g9TWF0aC5hdGFuMihkLGMpLHRoaXMuX3k9TWF0aC5hdGFuMihvLHIpKToodGhpcy5feD1NYXRoLmF0YW4yKC1oLGYpLHRoaXMuX3k9MCk7YnJlYWs7ZGVmYXVsdDpjb25zb2xlLndhcm4oIlRIUkVFLkV1bGVyOiAuc2V0RnJvbVJvdGF0aW9uTWF0cml4KCkgZW5jb3VudGVyZWQgYW4gdW5rbm93biBvcmRlcjogIit0KX1yZXR1cm4gdGhpcy5fb3JkZXI9dCxuPT09ITAmJnRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKSx0aGlzfXNldEZyb21RdWF0ZXJuaW9uKGUsdCxuKXtyZXR1cm4gX21hdHJpeCQxLm1ha2VSb3RhdGlvbkZyb21RdWF0ZXJuaW9uKGUpLHRoaXMuc2V0RnJvbVJvdGF0aW9uTWF0cml4KF9tYXRyaXgkMSx0LG4pfXNldEZyb21WZWN0b3IzKGUsdD10aGlzLl9vcmRlcil7cmV0dXJuIHRoaXMuc2V0KGUueCxlLnksZS56LHQpfXJlb3JkZXIoZSl7cmV0dXJuIF9xdWF0ZXJuaW9uJDMuc2V0RnJvbUV1bGVyKHRoaXMpLHRoaXMuc2V0RnJvbVF1YXRlcm5pb24oX3F1YXRlcm5pb24kMyxlKX1lcXVhbHMoZSl7cmV0dXJuIGUuX3g9PT10aGlzLl94JiZlLl95PT09dGhpcy5feSYmZS5fej09PXRoaXMuX3omJmUuX29yZGVyPT09dGhpcy5fb3JkZXJ9ZnJvbUFycmF5KGUpe3JldHVybiB0aGlzLl94PWVbMF0sdGhpcy5feT1lWzFdLHRoaXMuX3o9ZVsyXSxlWzNdIT09dm9pZCAwJiYodGhpcy5fb3JkZXI9ZVszXSksdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpLHRoaXN9dG9BcnJheShlPVtdLHQ9MCl7cmV0dXJuIGVbdF09dGhpcy5feCxlW3QrMV09dGhpcy5feSxlW3QrMl09dGhpcy5feixlW3QrM109dGhpcy5fb3JkZXIsZX1fb25DaGFuZ2UoZSl7cmV0dXJuIHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2s9ZSx0aGlzfV9vbkNoYW5nZUNhbGxiYWNrKCl7fX1FdWxlci5wcm90b3R5cGUuaXNFdWxlcj0hMCxFdWxlci5EZWZhdWx0T3JkZXI9IlhZWiIsRXVsZXIuUm90YXRpb25PcmRlcnM9WyJYWVoiLCJZWlgiLCJaWFkiLCJYWlkiLCJZWFoiLCJaWVgiXTtjbGFzcyBMYXllcnN7Y29uc3RydWN0b3IoKXt0aGlzLm1hc2s9MX1zZXQoZSl7dGhpcy5tYXNrPSgxPDxlfDApPj4+MH1lbmFibGUoZSl7dGhpcy5tYXNrfD0xPDxlfDB9ZW5hYmxlQWxsKCl7dGhpcy5tYXNrPS0xfXRvZ2dsZShlKXt0aGlzLm1hc2tePTE8PGV8MH1kaXNhYmxlKGUpe3RoaXMubWFzayY9figxPDxlfDApfWRpc2FibGVBbGwoKXt0aGlzLm1hc2s9MH10ZXN0KGUpe3JldHVybih0aGlzLm1hc2smZS5tYXNrKSE9PTB9aXNFbmFibGVkKGUpe3JldHVybih0aGlzLm1hc2smKDE8PGV8MCkpIT09MH19bGV0IF9vYmplY3QzRElkPTA7Y29uc3QgX3YxJDQ9bmV3IFZlY3RvcjMsX3ExPW5ldyBRdWF0ZXJuaW9uLF9tMSQxPW5ldyBNYXRyaXg0LF90YXJnZXQ9bmV3IFZlY3RvcjMsX3Bvc2l0aW9uJDM9bmV3IFZlY3RvcjMsX3NjYWxlJDI9bmV3IFZlY3RvcjMsX3F1YXRlcm5pb24kMj1uZXcgUXVhdGVybmlvbixfeEF4aXM9bmV3IFZlY3RvcjMoMSwwLDApLF95QXhpcz1uZXcgVmVjdG9yMygwLDEsMCksX3pBeGlzPW5ldyBWZWN0b3IzKDAsMCwxKSxfYWRkZWRFdmVudD17dHlwZToiYWRkZWQifSxfcmVtb3ZlZEV2ZW50PXt0eXBlOiJyZW1vdmVkIn07Y2xhc3MgT2JqZWN0M0QgZXh0ZW5kcyBFdmVudERpc3BhdGNoZXJ7Y29uc3RydWN0b3IoKXtzdXBlcigpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCJpZCIse3ZhbHVlOl9vYmplY3QzRElkKyt9KSx0aGlzLnV1aWQ9Z2VuZXJhdGVVVUlEKCksdGhpcy5uYW1lPSIiLHRoaXMudHlwZT0iT2JqZWN0M0QiLHRoaXMucGFyZW50PW51bGwsdGhpcy5jaGlsZHJlbj1bXSx0aGlzLnVwPU9iamVjdDNELkRlZmF1bHRVcC5jbG9uZSgpO2NvbnN0IGU9bmV3IFZlY3RvcjMsdD1uZXcgRXVsZXIsbj1uZXcgUXVhdGVybmlvbixpPW5ldyBWZWN0b3IzKDEsMSwxKTtmdW5jdGlvbiByKCl7bi5zZXRGcm9tRXVsZXIodCwhMSl9ZnVuY3Rpb24gYSgpe3Quc2V0RnJvbVF1YXRlcm5pb24obix2b2lkIDAsITEpfXQuX29uQ2hhbmdlKHIpLG4uX29uQ2hhbmdlKGEpLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMse3Bvc2l0aW9uOntjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx2YWx1ZTplfSxyb3RhdGlvbjp7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsdmFsdWU6dH0scXVhdGVybmlvbjp7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsdmFsdWU6bn0sc2NhbGU6e2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHZhbHVlOml9LG1vZGVsVmlld01hdHJpeDp7dmFsdWU6bmV3IE1hdHJpeDR9LG5vcm1hbE1hdHJpeDp7dmFsdWU6bmV3IE1hdHJpeDN9fSksdGhpcy5tYXRyaXg9bmV3IE1hdHJpeDQsdGhpcy5tYXRyaXhXb3JsZD1uZXcgTWF0cml4NCx0aGlzLm1hdHJpeEF1dG9VcGRhdGU9T2JqZWN0M0QuRGVmYXVsdE1hdHJpeEF1dG9VcGRhdGUsdGhpcy5tYXRyaXhXb3JsZE5lZWRzVXBkYXRlPSExLHRoaXMubGF5ZXJzPW5ldyBMYXllcnMsdGhpcy52aXNpYmxlPSEwLHRoaXMuY2FzdFNoYWRvdz0hMSx0aGlzLnJlY2VpdmVTaGFkb3c9ITEsdGhpcy5mcnVzdHVtQ3VsbGVkPSEwLHRoaXMucmVuZGVyT3JkZXI9MCx0aGlzLmFuaW1hdGlvbnM9W10sdGhpcy51c2VyRGF0YT17fX1vbkJlZm9yZVJlbmRlcigpe31vbkFmdGVyUmVuZGVyKCl7fWFwcGx5TWF0cml4NChlKXt0aGlzLm1hdHJpeEF1dG9VcGRhdGUmJnRoaXMudXBkYXRlTWF0cml4KCksdGhpcy5tYXRyaXgucHJlbXVsdGlwbHkoZSksdGhpcy5tYXRyaXguZGVjb21wb3NlKHRoaXMucG9zaXRpb24sdGhpcy5xdWF0ZXJuaW9uLHRoaXMuc2NhbGUpfWFwcGx5UXVhdGVybmlvbihlKXtyZXR1cm4gdGhpcy5xdWF0ZXJuaW9uLnByZW11bHRpcGx5KGUpLHRoaXN9c2V0Um90YXRpb25Gcm9tQXhpc0FuZ2xlKGUsdCl7dGhpcy5xdWF0ZXJuaW9uLnNldEZyb21BeGlzQW5nbGUoZSx0KX1zZXRSb3RhdGlvbkZyb21FdWxlcihlKXt0aGlzLnF1YXRlcm5pb24uc2V0RnJvbUV1bGVyKGUsITApfXNldFJvdGF0aW9uRnJvbU1hdHJpeChlKXt0aGlzLnF1YXRlcm5pb24uc2V0RnJvbVJvdGF0aW9uTWF0cml4KGUpfXNldFJvdGF0aW9uRnJvbVF1YXRlcm5pb24oZSl7dGhpcy5xdWF0ZXJuaW9uLmNvcHkoZSl9cm90YXRlT25BeGlzKGUsdCl7cmV0dXJuIF9xMS5zZXRGcm9tQXhpc0FuZ2xlKGUsdCksdGhpcy5xdWF0ZXJuaW9uLm11bHRpcGx5KF9xMSksdGhpc31yb3RhdGVPbldvcmxkQXhpcyhlLHQpe3JldHVybiBfcTEuc2V0RnJvbUF4aXNBbmdsZShlLHQpLHRoaXMucXVhdGVybmlvbi5wcmVtdWx0aXBseShfcTEpLHRoaXN9cm90YXRlWChlKXtyZXR1cm4gdGhpcy5yb3RhdGVPbkF4aXMoX3hBeGlzLGUpfXJvdGF0ZVkoZSl7cmV0dXJuIHRoaXMucm90YXRlT25BeGlzKF95QXhpcyxlKX1yb3RhdGVaKGUpe3JldHVybiB0aGlzLnJvdGF0ZU9uQXhpcyhfekF4aXMsZSl9dHJhbnNsYXRlT25BeGlzKGUsdCl7cmV0dXJuIF92MSQ0LmNvcHkoZSkuYXBwbHlRdWF0ZXJuaW9uKHRoaXMucXVhdGVybmlvbiksdGhpcy5wb3NpdGlvbi5hZGQoX3YxJDQubXVsdGlwbHlTY2FsYXIodCkpLHRoaXN9dHJhbnNsYXRlWChlKXtyZXR1cm4gdGhpcy50cmFuc2xhdGVPbkF4aXMoX3hBeGlzLGUpfXRyYW5zbGF0ZVkoZSl7cmV0dXJuIHRoaXMudHJhbnNsYXRlT25BeGlzKF95QXhpcyxlKX10cmFuc2xhdGVaKGUpe3JldHVybiB0aGlzLnRyYW5zbGF0ZU9uQXhpcyhfekF4aXMsZSl9bG9jYWxUb1dvcmxkKGUpe3JldHVybiBlLmFwcGx5TWF0cml4NCh0aGlzLm1hdHJpeFdvcmxkKX13b3JsZFRvTG9jYWwoZSl7cmV0dXJuIGUuYXBwbHlNYXRyaXg0KF9tMSQxLmNvcHkodGhpcy5tYXRyaXhXb3JsZCkuaW52ZXJ0KCkpfWxvb2tBdChlLHQsbil7ZS5pc1ZlY3RvcjM/X3RhcmdldC5jb3B5KGUpOl90YXJnZXQuc2V0KGUsdCxuKTtjb25zdCBpPXRoaXMucGFyZW50O3RoaXMudXBkYXRlV29ybGRNYXRyaXgoITAsITEpLF9wb3NpdGlvbiQzLnNldEZyb21NYXRyaXhQb3NpdGlvbih0aGlzLm1hdHJpeFdvcmxkKSx0aGlzLmlzQ2FtZXJhfHx0aGlzLmlzTGlnaHQ/X20xJDEubG9va0F0KF9wb3NpdGlvbiQzLF90YXJnZXQsdGhpcy51cCk6X20xJDEubG9va0F0KF90YXJnZXQsX3Bvc2l0aW9uJDMsdGhpcy51cCksdGhpcy5xdWF0ZXJuaW9uLnNldEZyb21Sb3RhdGlvbk1hdHJpeChfbTEkMSksaSYmKF9tMSQxLmV4dHJhY3RSb3RhdGlvbihpLm1hdHJpeFdvcmxkKSxfcTEuc2V0RnJvbVJvdGF0aW9uTWF0cml4KF9tMSQxKSx0aGlzLnF1YXRlcm5pb24ucHJlbXVsdGlwbHkoX3ExLmludmVydCgpKSl9YWRkKGUpe2lmKGFyZ3VtZW50cy5sZW5ndGg+MSl7Zm9yKGxldCB0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl0aGlzLmFkZChhcmd1bWVudHNbdF0pO3JldHVybiB0aGlzfXJldHVybiBlPT09dGhpcz8oY29uc29sZS5lcnJvcigiVEhSRUUuT2JqZWN0M0QuYWRkOiBvYmplY3QgY2FuJ3QgYmUgYWRkZWQgYXMgYSBjaGlsZCBvZiBpdHNlbGYuIixlKSx0aGlzKTooZSYmZS5pc09iamVjdDNEPyhlLnBhcmVudCE9PW51bGwmJmUucGFyZW50LnJlbW92ZShlKSxlLnBhcmVudD10aGlzLHRoaXMuY2hpbGRyZW4ucHVzaChlKSxlLmRpc3BhdGNoRXZlbnQoX2FkZGVkRXZlbnQpKTpjb25zb2xlLmVycm9yKCJUSFJFRS5PYmplY3QzRC5hZGQ6IG9iamVjdCBub3QgYW4gaW5zdGFuY2Ugb2YgVEhSRUUuT2JqZWN0M0QuIixlKSx0aGlzKX1yZW1vdmUoZSl7aWYoYXJndW1lbnRzLmxlbmd0aD4xKXtmb3IobGV0IG49MDtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXRoaXMucmVtb3ZlKGFyZ3VtZW50c1tuXSk7cmV0dXJuIHRoaXN9Y29uc3QgdD10aGlzLmNoaWxkcmVuLmluZGV4T2YoZSk7cmV0dXJuIHQhPT0tMSYmKGUucGFyZW50PW51bGwsdGhpcy5jaGlsZHJlbi5zcGxpY2UodCwxKSxlLmRpc3BhdGNoRXZlbnQoX3JlbW92ZWRFdmVudCkpLHRoaXN9cmVtb3ZlRnJvbVBhcmVudCgpe2NvbnN0IGU9dGhpcy5wYXJlbnQ7cmV0dXJuIGUhPT1udWxsJiZlLnJlbW92ZSh0aGlzKSx0aGlzfWNsZWFyKCl7Zm9yKGxldCBlPTA7ZTx0aGlzLmNoaWxkcmVuLmxlbmd0aDtlKyspe2NvbnN0IHQ9dGhpcy5jaGlsZHJlbltlXTt0LnBhcmVudD1udWxsLHQuZGlzcGF0Y2hFdmVudChfcmVtb3ZlZEV2ZW50KX1yZXR1cm4gdGhpcy5jaGlsZHJlbi5sZW5ndGg9MCx0aGlzfWF0dGFjaChlKXtyZXR1cm4gdGhpcy51cGRhdGVXb3JsZE1hdHJpeCghMCwhMSksX20xJDEuY29weSh0aGlzLm1hdHJpeFdvcmxkKS5pbnZlcnQoKSxlLnBhcmVudCE9PW51bGwmJihlLnBhcmVudC51cGRhdGVXb3JsZE1hdHJpeCghMCwhMSksX20xJDEubXVsdGlwbHkoZS5wYXJlbnQubWF0cml4V29ybGQpKSxlLmFwcGx5TWF0cml4NChfbTEkMSksdGhpcy5hZGQoZSksZS51cGRhdGVXb3JsZE1hdHJpeCghMSwhMCksdGhpc31nZXRPYmplY3RCeUlkKGUpe3JldHVybiB0aGlzLmdldE9iamVjdEJ5UHJvcGVydHkoImlkIixlKX1nZXRPYmplY3RCeU5hbWUoZSl7cmV0dXJuIHRoaXMuZ2V0T2JqZWN0QnlQcm9wZXJ0eSgibmFtZSIsZSl9Z2V0T2JqZWN0QnlQcm9wZXJ0eShlLHQpe2lmKHRoaXNbZV09PT10KXJldHVybiB0aGlzO2ZvcihsZXQgbj0wLGk9dGhpcy5jaGlsZHJlbi5sZW5ndGg7bjxpO24rKyl7Y29uc3QgYT10aGlzLmNoaWxkcmVuW25dLmdldE9iamVjdEJ5UHJvcGVydHkoZSx0KTtpZihhIT09dm9pZCAwKXJldHVybiBhfX1nZXRXb3JsZFBvc2l0aW9uKGUpe3JldHVybiB0aGlzLnVwZGF0ZVdvcmxkTWF0cml4KCEwLCExKSxlLnNldEZyb21NYXRyaXhQb3NpdGlvbih0aGlzLm1hdHJpeFdvcmxkKX1nZXRXb3JsZFF1YXRlcm5pb24oZSl7cmV0dXJuIHRoaXMudXBkYXRlV29ybGRNYXRyaXgoITAsITEpLHRoaXMubWF0cml4V29ybGQuZGVjb21wb3NlKF9wb3NpdGlvbiQzLGUsX3NjYWxlJDIpLGV9Z2V0V29ybGRTY2FsZShlKXtyZXR1cm4gdGhpcy51cGRhdGVXb3JsZE1hdHJpeCghMCwhMSksdGhpcy5tYXRyaXhXb3JsZC5kZWNvbXBvc2UoX3Bvc2l0aW9uJDMsX3F1YXRlcm5pb24kMixlKSxlfWdldFdvcmxkRGlyZWN0aW9uKGUpe3RoaXMudXBkYXRlV29ybGRNYXRyaXgoITAsITEpO2NvbnN0IHQ9dGhpcy5tYXRyaXhXb3JsZC5lbGVtZW50cztyZXR1cm4gZS5zZXQodFs4XSx0WzldLHRbMTBdKS5ub3JtYWxpemUoKX1yYXljYXN0KCl7fXRyYXZlcnNlKGUpe2UodGhpcyk7Y29uc3QgdD10aGlzLmNoaWxkcmVuO2ZvcihsZXQgbj0wLGk9dC5sZW5ndGg7bjxpO24rKyl0W25dLnRyYXZlcnNlKGUpfXRyYXZlcnNlVmlzaWJsZShlKXtpZih0aGlzLnZpc2libGU9PT0hMSlyZXR1cm47ZSh0aGlzKTtjb25zdCB0PXRoaXMuY2hpbGRyZW47Zm9yKGxldCBuPTAsaT10Lmxlbmd0aDtuPGk7bisrKXRbbl0udHJhdmVyc2VWaXNpYmxlKGUpfXRyYXZlcnNlQW5jZXN0b3JzKGUpe2NvbnN0IHQ9dGhpcy5wYXJlbnQ7dCE9PW51bGwmJihlKHQpLHQudHJhdmVyc2VBbmNlc3RvcnMoZSkpfXVwZGF0ZU1hdHJpeCgpe3RoaXMubWF0cml4LmNvbXBvc2UodGhpcy5wb3NpdGlvbix0aGlzLnF1YXRlcm5pb24sdGhpcy5zY2FsZSksdGhpcy5tYXRyaXhXb3JsZE5lZWRzVXBkYXRlPSEwfXVwZGF0ZU1hdHJpeFdvcmxkKGUpe3RoaXMubWF0cml4QXV0b1VwZGF0ZSYmdGhpcy51cGRhdGVNYXRyaXgoKSwodGhpcy5tYXRyaXhXb3JsZE5lZWRzVXBkYXRlfHxlKSYmKHRoaXMucGFyZW50PT09bnVsbD90aGlzLm1hdHJpeFdvcmxkLmNvcHkodGhpcy5tYXRyaXgpOnRoaXMubWF0cml4V29ybGQubXVsdGlwbHlNYXRyaWNlcyh0aGlzLnBhcmVudC5tYXRyaXhXb3JsZCx0aGlzLm1hdHJpeCksdGhpcy5tYXRyaXhXb3JsZE5lZWRzVXBkYXRlPSExLGU9ITApO2NvbnN0IHQ9dGhpcy5jaGlsZHJlbjtmb3IobGV0IG49MCxpPXQubGVuZ3RoO248aTtuKyspdFtuXS51cGRhdGVNYXRyaXhXb3JsZChlKX11cGRhdGVXb3JsZE1hdHJpeChlLHQpe2NvbnN0IG49dGhpcy5wYXJlbnQ7aWYoZT09PSEwJiZuIT09bnVsbCYmbi51cGRhdGVXb3JsZE1hdHJpeCghMCwhMSksdGhpcy5tYXRyaXhBdXRvVXBkYXRlJiZ0aGlzLnVwZGF0ZU1hdHJpeCgpLHRoaXMucGFyZW50PT09bnVsbD90aGlzLm1hdHJpeFdvcmxkLmNvcHkodGhpcy5tYXRyaXgpOnRoaXMubWF0cml4V29ybGQubXVsdGlwbHlNYXRyaWNlcyh0aGlzLnBhcmVudC5tYXRyaXhXb3JsZCx0aGlzLm1hdHJpeCksdD09PSEwKXtjb25zdCBpPXRoaXMuY2hpbGRyZW47Zm9yKGxldCByPTAsYT1pLmxlbmd0aDtyPGE7cisrKWlbcl0udXBkYXRlV29ybGRNYXRyaXgoITEsITApfX10b0pTT04oZSl7Y29uc3QgdD1lPT09dm9pZCAwfHx0eXBlb2YgZT09InN0cmluZyIsbj17fTt0JiYoZT17Z2VvbWV0cmllczp7fSxtYXRlcmlhbHM6e30sdGV4dHVyZXM6e30saW1hZ2VzOnt9LHNoYXBlczp7fSxza2VsZXRvbnM6e30sYW5pbWF0aW9uczp7fSxub2Rlczp7fX0sbi5tZXRhZGF0YT17dmVyc2lvbjo0LjUsdHlwZToiT2JqZWN0IixnZW5lcmF0b3I6Ik9iamVjdDNELnRvSlNPTiJ9KTtjb25zdCBpPXt9O2kudXVpZD10aGlzLnV1aWQsaS50eXBlPXRoaXMudHlwZSx0aGlzLm5hbWUhPT0iIiYmKGkubmFtZT10aGlzLm5hbWUpLHRoaXMuY2FzdFNoYWRvdz09PSEwJiYoaS5jYXN0U2hhZG93PSEwKSx0aGlzLnJlY2VpdmVTaGFkb3c9PT0hMCYmKGkucmVjZWl2ZVNoYWRvdz0hMCksdGhpcy52aXNpYmxlPT09ITEmJihpLnZpc2libGU9ITEpLHRoaXMuZnJ1c3R1bUN1bGxlZD09PSExJiYoaS5mcnVzdHVtQ3VsbGVkPSExKSx0aGlzLnJlbmRlck9yZGVyIT09MCYmKGkucmVuZGVyT3JkZXI9dGhpcy5yZW5kZXJPcmRlciksSlNPTi5zdHJpbmdpZnkodGhpcy51c2VyRGF0YSkhPT0ie30iJiYoaS51c2VyRGF0YT10aGlzLnVzZXJEYXRhKSxpLmxheWVycz10aGlzLmxheWVycy5tYXNrLGkubWF0cml4PXRoaXMubWF0cml4LnRvQXJyYXkoKSx0aGlzLm1hdHJpeEF1dG9VcGRhdGU9PT0hMSYmKGkubWF0cml4QXV0b1VwZGF0ZT0hMSksdGhpcy5pc0luc3RhbmNlZE1lc2gmJihpLnR5cGU9Ikluc3RhbmNlZE1lc2giLGkuY291bnQ9dGhpcy5jb3VudCxpLmluc3RhbmNlTWF0cml4PXRoaXMuaW5zdGFuY2VNYXRyaXgudG9KU09OKCksdGhpcy5pbnN0YW5jZUNvbG9yIT09bnVsbCYmKGkuaW5zdGFuY2VDb2xvcj10aGlzLmluc3RhbmNlQ29sb3IudG9KU09OKCkpKTtmdW5jdGlvbiByKG8sbCl7cmV0dXJuIG9bbC51dWlkXT09PXZvaWQgMCYmKG9bbC51dWlkXT1sLnRvSlNPTihlKSksbC51dWlkfWlmKHRoaXMuaXNTY2VuZSl0aGlzLmJhY2tncm91bmQmJih0aGlzLmJhY2tncm91bmQuaXNDb2xvcj9pLmJhY2tncm91bmQ9dGhpcy5iYWNrZ3JvdW5kLnRvSlNPTigpOnRoaXMuYmFja2dyb3VuZC5pc1RleHR1cmUmJihpLmJhY2tncm91bmQ9dGhpcy5iYWNrZ3JvdW5kLnRvSlNPTihlKS51dWlkKSksdGhpcy5lbnZpcm9ubWVudCYmdGhpcy5lbnZpcm9ubWVudC5pc1RleHR1cmUmJihpLmVudmlyb25tZW50PXRoaXMuZW52aXJvbm1lbnQudG9KU09OKGUpLnV1aWQpO2Vsc2UgaWYodGhpcy5pc01lc2h8fHRoaXMuaXNMaW5lfHx0aGlzLmlzUG9pbnRzKXtpLmdlb21ldHJ5PXIoZS5nZW9tZXRyaWVzLHRoaXMuZ2VvbWV0cnkpO2NvbnN0IG89dGhpcy5nZW9tZXRyeS5wYXJhbWV0ZXJzO2lmKG8hPT12b2lkIDAmJm8uc2hhcGVzIT09dm9pZCAwKXtjb25zdCBsPW8uc2hhcGVzO2lmKEFycmF5LmlzQXJyYXkobCkpZm9yKGxldCBjPTAsaD1sLmxlbmd0aDtjPGg7YysrKXtjb25zdCB1PWxbY107cihlLnNoYXBlcyx1KX1lbHNlIHIoZS5zaGFwZXMsbCl9fWlmKHRoaXMuaXNTa2lubmVkTWVzaCYmKGkuYmluZE1vZGU9dGhpcy5iaW5kTW9kZSxpLmJpbmRNYXRyaXg9dGhpcy5iaW5kTWF0cml4LnRvQXJyYXkoKSx0aGlzLnNrZWxldG9uIT09dm9pZCAwJiYocihlLnNrZWxldG9ucyx0aGlzLnNrZWxldG9uKSxpLnNrZWxldG9uPXRoaXMuc2tlbGV0b24udXVpZCkpLHRoaXMubWF0ZXJpYWwhPT12b2lkIDApaWYoQXJyYXkuaXNBcnJheSh0aGlzLm1hdGVyaWFsKSl7Y29uc3Qgbz1bXTtmb3IobGV0IGw9MCxjPXRoaXMubWF0ZXJpYWwubGVuZ3RoO2w8YztsKyspby5wdXNoKHIoZS5tYXRlcmlhbHMsdGhpcy5tYXRlcmlhbFtsXSkpO2kubWF0ZXJpYWw9b31lbHNlIGkubWF0ZXJpYWw9cihlLm1hdGVyaWFscyx0aGlzLm1hdGVyaWFsKTtpZih0aGlzLmNoaWxkcmVuLmxlbmd0aD4wKXtpLmNoaWxkcmVuPVtdO2ZvcihsZXQgbz0wO288dGhpcy5jaGlsZHJlbi5sZW5ndGg7bysrKWkuY2hpbGRyZW4ucHVzaCh0aGlzLmNoaWxkcmVuW29dLnRvSlNPTihlKS5vYmplY3QpfWlmKHRoaXMuYW5pbWF0aW9ucy5sZW5ndGg+MCl7aS5hbmltYXRpb25zPVtdO2ZvcihsZXQgbz0wO288dGhpcy5hbmltYXRpb25zLmxlbmd0aDtvKyspe2NvbnN0IGw9dGhpcy5hbmltYXRpb25zW29dO2kuYW5pbWF0aW9ucy5wdXNoKHIoZS5hbmltYXRpb25zLGwpKX19aWYodCl7Y29uc3Qgbz1hKGUuZ2VvbWV0cmllcyksbD1hKGUubWF0ZXJpYWxzKSxjPWEoZS50ZXh0dXJlcyksaD1hKGUuaW1hZ2VzKSx1PWEoZS5zaGFwZXMpLGQ9YShlLnNrZWxldG9ucyksZj1hKGUuYW5pbWF0aW9ucyksZz1hKGUubm9kZXMpO28ubGVuZ3RoPjAmJihuLmdlb21ldHJpZXM9byksbC5sZW5ndGg+MCYmKG4ubWF0ZXJpYWxzPWwpLGMubGVuZ3RoPjAmJihuLnRleHR1cmVzPWMpLGgubGVuZ3RoPjAmJihuLmltYWdlcz1oKSx1Lmxlbmd0aD4wJiYobi5zaGFwZXM9dSksZC5sZW5ndGg+MCYmKG4uc2tlbGV0b25zPWQpLGYubGVuZ3RoPjAmJihuLmFuaW1hdGlvbnM9ZiksZy5sZW5ndGg+MCYmKG4ubm9kZXM9Zyl9cmV0dXJuIG4ub2JqZWN0PWksbjtmdW5jdGlvbiBhKG8pe2NvbnN0IGw9W107Zm9yKGNvbnN0IGMgaW4gbyl7Y29uc3QgaD1vW2NdO2RlbGV0ZSBoLm1ldGFkYXRhLGwucHVzaChoKX1yZXR1cm4gbH19Y2xvbmUoZSl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCkuY29weSh0aGlzLGUpfWNvcHkoZSx0PSEwKXtpZih0aGlzLm5hbWU9ZS5uYW1lLHRoaXMudXAuY29weShlLnVwKSx0aGlzLnBvc2l0aW9uLmNvcHkoZS5wb3NpdGlvbiksdGhpcy5yb3RhdGlvbi5vcmRlcj1lLnJvdGF0aW9uLm9yZGVyLHRoaXMucXVhdGVybmlvbi5jb3B5KGUucXVhdGVybmlvbiksdGhpcy5zY2FsZS5jb3B5KGUuc2NhbGUpLHRoaXMubWF0cml4LmNvcHkoZS5tYXRyaXgpLHRoaXMubWF0cml4V29ybGQuY29weShlLm1hdHJpeFdvcmxkKSx0aGlzLm1hdHJpeEF1dG9VcGRhdGU9ZS5tYXRyaXhBdXRvVXBkYXRlLHRoaXMubWF0cml4V29ybGROZWVkc1VwZGF0ZT1lLm1hdHJpeFdvcmxkTmVlZHNVcGRhdGUsdGhpcy5sYXllcnMubWFzaz1lLmxheWVycy5tYXNrLHRoaXMudmlzaWJsZT1lLnZpc2libGUsdGhpcy5jYXN0U2hhZG93PWUuY2FzdFNoYWRvdyx0aGlzLnJlY2VpdmVTaGFkb3c9ZS5yZWNlaXZlU2hhZG93LHRoaXMuZnJ1c3R1bUN1bGxlZD1lLmZydXN0dW1DdWxsZWQsdGhpcy5yZW5kZXJPcmRlcj1lLnJlbmRlck9yZGVyLHRoaXMudXNlckRhdGE9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShlLnVzZXJEYXRhKSksdD09PSEwKWZvcihsZXQgbj0wO248ZS5jaGlsZHJlbi5sZW5ndGg7bisrKXtjb25zdCBpPWUuY2hpbGRyZW5bbl07dGhpcy5hZGQoaS5jbG9uZSgpKX1yZXR1cm4gdGhpc319T2JqZWN0M0QuRGVmYXVsdFVwPW5ldyBWZWN0b3IzKDAsMSwwKSxPYmplY3QzRC5EZWZhdWx0TWF0cml4QXV0b1VwZGF0ZT0hMCxPYmplY3QzRC5wcm90b3R5cGUuaXNPYmplY3QzRD0hMDtjb25zdCBfdjAkMT1uZXcgVmVjdG9yMyxfdjEkMz1uZXcgVmVjdG9yMyxfdjIkMj1uZXcgVmVjdG9yMyxfdjMkMT1uZXcgVmVjdG9yMyxfdmFiPW5ldyBWZWN0b3IzLF92YWM9bmV3IFZlY3RvcjMsX3ZiYz1uZXcgVmVjdG9yMyxfdmFwPW5ldyBWZWN0b3IzLF92YnA9bmV3IFZlY3RvcjMsX3ZjcD1uZXcgVmVjdG9yMztjbGFzcyBUcmlhbmdsZXtjb25zdHJ1Y3RvcihlPW5ldyBWZWN0b3IzLHQ9bmV3IFZlY3RvcjMsbj1uZXcgVmVjdG9yMyl7dGhpcy5hPWUsdGhpcy5iPXQsdGhpcy5jPW59c3RhdGljIGdldE5vcm1hbChlLHQsbixpKXtpLnN1YlZlY3RvcnMobix0KSxfdjAkMS5zdWJWZWN0b3JzKGUsdCksaS5jcm9zcyhfdjAkMSk7Y29uc3Qgcj1pLmxlbmd0aFNxKCk7cmV0dXJuIHI+MD9pLm11bHRpcGx5U2NhbGFyKDEvTWF0aC5zcXJ0KHIpKTppLnNldCgwLDAsMCl9c3RhdGljIGdldEJhcnljb29yZChlLHQsbixpLHIpe192MCQxLnN1YlZlY3RvcnMoaSx0KSxfdjEkMy5zdWJWZWN0b3JzKG4sdCksX3YyJDIuc3ViVmVjdG9ycyhlLHQpO2NvbnN0IGE9X3YwJDEuZG90KF92MCQxKSxvPV92MCQxLmRvdChfdjEkMyksbD1fdjAkMS5kb3QoX3YyJDIpLGM9X3YxJDMuZG90KF92MSQzKSxoPV92MSQzLmRvdChfdjIkMiksdT1hKmMtbypvO2lmKHU9PT0wKXJldHVybiByLnNldCgtMiwtMSwtMSk7Y29uc3QgZD0xL3UsZj0oYypsLW8qaCkqZCxnPShhKmgtbypsKSpkO3JldHVybiByLnNldCgxLWYtZyxnLGYpfXN0YXRpYyBjb250YWluc1BvaW50KGUsdCxuLGkpe3JldHVybiB0aGlzLmdldEJhcnljb29yZChlLHQsbixpLF92MyQxKSxfdjMkMS54Pj0wJiZfdjMkMS55Pj0wJiZfdjMkMS54K192MyQxLnk8PTF9c3RhdGljIGdldFVWKGUsdCxuLGkscixhLG8sbCl7cmV0dXJuIHRoaXMuZ2V0QmFyeWNvb3JkKGUsdCxuLGksX3YzJDEpLGwuc2V0KDAsMCksbC5hZGRTY2FsZWRWZWN0b3IocixfdjMkMS54KSxsLmFkZFNjYWxlZFZlY3RvcihhLF92MyQxLnkpLGwuYWRkU2NhbGVkVmVjdG9yKG8sX3YzJDEueiksbH1zdGF0aWMgaXNGcm9udEZhY2luZyhlLHQsbixpKXtyZXR1cm4gX3YwJDEuc3ViVmVjdG9ycyhuLHQpLF92MSQzLnN1YlZlY3RvcnMoZSx0KSxfdjAkMS5jcm9zcyhfdjEkMykuZG90KGkpPDB9c2V0KGUsdCxuKXtyZXR1cm4gdGhpcy5hLmNvcHkoZSksdGhpcy5iLmNvcHkodCksdGhpcy5jLmNvcHkobiksdGhpc31zZXRGcm9tUG9pbnRzQW5kSW5kaWNlcyhlLHQsbixpKXtyZXR1cm4gdGhpcy5hLmNvcHkoZVt0XSksdGhpcy5iLmNvcHkoZVtuXSksdGhpcy5jLmNvcHkoZVtpXSksdGhpc31zZXRGcm9tQXR0cmlidXRlQW5kSW5kaWNlcyhlLHQsbixpKXtyZXR1cm4gdGhpcy5hLmZyb21CdWZmZXJBdHRyaWJ1dGUoZSx0KSx0aGlzLmIuZnJvbUJ1ZmZlckF0dHJpYnV0ZShlLG4pLHRoaXMuYy5mcm9tQnVmZmVyQXR0cmlidXRlKGUsaSksdGhpc31jbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLmNvcHkodGhpcyl9Y29weShlKXtyZXR1cm4gdGhpcy5hLmNvcHkoZS5hKSx0aGlzLmIuY29weShlLmIpLHRoaXMuYy5jb3B5KGUuYyksdGhpc31nZXRBcmVhKCl7cmV0dXJuIF92MCQxLnN1YlZlY3RvcnModGhpcy5jLHRoaXMuYiksX3YxJDMuc3ViVmVjdG9ycyh0aGlzLmEsdGhpcy5iKSxfdjAkMS5jcm9zcyhfdjEkMykubGVuZ3RoKCkqLjV9Z2V0TWlkcG9pbnQoZSl7cmV0dXJuIGUuYWRkVmVjdG9ycyh0aGlzLmEsdGhpcy5iKS5hZGQodGhpcy5jKS5tdWx0aXBseVNjYWxhcigxLzMpfWdldE5vcm1hbChlKXtyZXR1cm4gVHJpYW5nbGUuZ2V0Tm9ybWFsKHRoaXMuYSx0aGlzLmIsdGhpcy5jLGUpfWdldFBsYW5lKGUpe3JldHVybiBlLnNldEZyb21Db3BsYW5hclBvaW50cyh0aGlzLmEsdGhpcy5iLHRoaXMuYyl9Z2V0QmFyeWNvb3JkKGUsdCl7cmV0dXJuIFRyaWFuZ2xlLmdldEJhcnljb29yZChlLHRoaXMuYSx0aGlzLmIsdGhpcy5jLHQpfWdldFVWKGUsdCxuLGkscil7cmV0dXJuIFRyaWFuZ2xlLmdldFVWKGUsdGhpcy5hLHRoaXMuYix0aGlzLmMsdCxuLGkscil9Y29udGFpbnNQb2ludChlKXtyZXR1cm4gVHJpYW5nbGUuY29udGFpbnNQb2ludChlLHRoaXMuYSx0aGlzLmIsdGhpcy5jKX1pc0Zyb250RmFjaW5nKGUpe3JldHVybiBUcmlhbmdsZS5pc0Zyb250RmFjaW5nKHRoaXMuYSx0aGlzLmIsdGhpcy5jLGUpfWludGVyc2VjdHNCb3goZSl7cmV0dXJuIGUuaW50ZXJzZWN0c1RyaWFuZ2xlKHRoaXMpfWNsb3Nlc3RQb2ludFRvUG9pbnQoZSx0KXtjb25zdCBuPXRoaXMuYSxpPXRoaXMuYixyPXRoaXMuYztsZXQgYSxvO192YWIuc3ViVmVjdG9ycyhpLG4pLF92YWMuc3ViVmVjdG9ycyhyLG4pLF92YXAuc3ViVmVjdG9ycyhlLG4pO2NvbnN0IGw9X3ZhYi5kb3QoX3ZhcCksYz1fdmFjLmRvdChfdmFwKTtpZihsPD0wJiZjPD0wKXJldHVybiB0LmNvcHkobik7X3ZicC5zdWJWZWN0b3JzKGUsaSk7Y29uc3QgaD1fdmFiLmRvdChfdmJwKSx1PV92YWMuZG90KF92YnApO2lmKGg+PTAmJnU8PWgpcmV0dXJuIHQuY29weShpKTtjb25zdCBkPWwqdS1oKmM7aWYoZDw9MCYmbD49MCYmaDw9MClyZXR1cm4gYT1sLyhsLWgpLHQuY29weShuKS5hZGRTY2FsZWRWZWN0b3IoX3ZhYixhKTtfdmNwLnN1YlZlY3RvcnMoZSxyKTtjb25zdCBmPV92YWIuZG90KF92Y3ApLGc9X3ZhYy5kb3QoX3ZjcCk7aWYoZz49MCYmZjw9ZylyZXR1cm4gdC5jb3B5KHIpO2NvbnN0IF89ZipjLWwqZztpZihfPD0wJiZjPj0wJiZnPD0wKXJldHVybiBvPWMvKGMtZyksdC5jb3B5KG4pLmFkZFNjYWxlZFZlY3RvcihfdmFjLG8pO2NvbnN0IHk9aCpnLWYqdTtpZih5PD0wJiZ1LWg+PTAmJmYtZz49MClyZXR1cm4gX3ZiYy5zdWJWZWN0b3JzKHIsaSksbz0odS1oKS8odS1oKyhmLWcpKSx0LmNvcHkoaSkuYWRkU2NhbGVkVmVjdG9yKF92YmMsbyk7Y29uc3QgbT0xLyh5K18rZCk7cmV0dXJuIGE9XyptLG89ZCptLHQuY29weShuKS5hZGRTY2FsZWRWZWN0b3IoX3ZhYixhKS5hZGRTY2FsZWRWZWN0b3IoX3ZhYyxvKX1lcXVhbHMoZSl7cmV0dXJuIGUuYS5lcXVhbHModGhpcy5hKSYmZS5iLmVxdWFscyh0aGlzLmIpJiZlLmMuZXF1YWxzKHRoaXMuYyl9fWxldCBtYXRlcmlhbElkPTA7Y2xhc3MgTWF0ZXJpYWwgZXh0ZW5kcyBFdmVudERpc3BhdGNoZXJ7Y29uc3RydWN0b3IoKXtzdXBlcigpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCJpZCIse3ZhbHVlOm1hdGVyaWFsSWQrK30pLHRoaXMudXVpZD1nZW5lcmF0ZVVVSUQoKSx0aGlzLm5hbWU9IiIsdGhpcy50eXBlPSJNYXRlcmlhbCIsdGhpcy5mb2c9ITAsdGhpcy5ibGVuZGluZz0xLHRoaXMuc2lkZT0wLHRoaXMudmVydGV4Q29sb3JzPSExLHRoaXMub3BhY2l0eT0xLHRoaXMudHJhbnNwYXJlbnQ9ITEsdGhpcy5ibGVuZFNyYz0yMDQsdGhpcy5ibGVuZERzdD0yMDUsdGhpcy5ibGVuZEVxdWF0aW9uPTEwMCx0aGlzLmJsZW5kU3JjQWxwaGE9bnVsbCx0aGlzLmJsZW5kRHN0QWxwaGE9bnVsbCx0aGlzLmJsZW5kRXF1YXRpb25BbHBoYT1udWxsLHRoaXMuZGVwdGhGdW5jPTMsdGhpcy5kZXB0aFRlc3Q9ITAsdGhpcy5kZXB0aFdyaXRlPSEwLHRoaXMuc3RlbmNpbFdyaXRlTWFzaz0yNTUsdGhpcy5zdGVuY2lsRnVuYz01MTksdGhpcy5zdGVuY2lsUmVmPTAsdGhpcy5zdGVuY2lsRnVuY01hc2s9MjU1LHRoaXMuc3RlbmNpbEZhaWw9NzY4MCx0aGlzLnN0ZW5jaWxaRmFpbD03NjgwLHRoaXMuc3RlbmNpbFpQYXNzPTc2ODAsdGhpcy5zdGVuY2lsV3JpdGU9ITEsdGhpcy5jbGlwcGluZ1BsYW5lcz1udWxsLHRoaXMuY2xpcEludGVyc2VjdGlvbj0hMSx0aGlzLmNsaXBTaGFkb3dzPSExLHRoaXMuc2hhZG93U2lkZT1udWxsLHRoaXMuY29sb3JXcml0ZT0hMCx0aGlzLnByZWNpc2lvbj1udWxsLHRoaXMucG9seWdvbk9mZnNldD0hMSx0aGlzLnBvbHlnb25PZmZzZXRGYWN0b3I9MCx0aGlzLnBvbHlnb25PZmZzZXRVbml0cz0wLHRoaXMuZGl0aGVyaW5nPSExLHRoaXMuYWxwaGFUb0NvdmVyYWdlPSExLHRoaXMucHJlbXVsdGlwbGllZEFscGhhPSExLHRoaXMudmlzaWJsZT0hMCx0aGlzLnRvbmVNYXBwZWQ9ITAsdGhpcy51c2VyRGF0YT17fSx0aGlzLnZlcnNpb249MCx0aGlzLl9hbHBoYVRlc3Q9MH1nZXQgYWxwaGFUZXN0KCl7cmV0dXJuIHRoaXMuX2FscGhhVGVzdH1zZXQgYWxwaGFUZXN0KGUpe3RoaXMuX2FscGhhVGVzdD4wIT1lPjAmJnRoaXMudmVyc2lvbisrLHRoaXMuX2FscGhhVGVzdD1lfW9uQnVpbGQoKXt9b25CZWZvcmVSZW5kZXIoKXt9b25CZWZvcmVDb21waWxlKCl7fWN1c3RvbVByb2dyYW1DYWNoZUtleSgpe3JldHVybiB0aGlzLm9uQmVmb3JlQ29tcGlsZS50b1N0cmluZygpfXNldFZhbHVlcyhlKXtpZihlIT09dm9pZCAwKWZvcihjb25zdCB0IGluIGUpe2NvbnN0IG49ZVt0XTtpZihuPT09dm9pZCAwKXtjb25zb2xlLndhcm4oIlRIUkVFLk1hdGVyaWFsOiAnIit0KyInIHBhcmFtZXRlciBpcyB1bmRlZmluZWQuIik7Y29udGludWV9aWYodD09PSJzaGFkaW5nIil7Y29uc29sZS53YXJuKCJUSFJFRS4iK3RoaXMudHlwZSsiOiAuc2hhZGluZyBoYXMgYmVlbiByZW1vdmVkLiBVc2UgdGhlIGJvb2xlYW4gLmZsYXRTaGFkaW5nIGluc3RlYWQuIiksdGhpcy5mbGF0U2hhZGluZz1uPT09MTtjb250aW51ZX1jb25zdCBpPXRoaXNbdF07aWYoaT09PXZvaWQgMCl7Y29uc29sZS53YXJuKCJUSFJFRS4iK3RoaXMudHlwZSsiOiAnIit0KyInIGlzIG5vdCBhIHByb3BlcnR5IG9mIHRoaXMgbWF0ZXJpYWwuIik7Y29udGludWV9aSYmaS5pc0NvbG9yP2kuc2V0KG4pOmkmJmkuaXNWZWN0b3IzJiZuJiZuLmlzVmVjdG9yMz9pLmNvcHkobik6dGhpc1t0XT1ufX10b0pTT04oZSl7Y29uc3QgdD1lPT09dm9pZCAwfHx0eXBlb2YgZT09InN0cmluZyI7dCYmKGU9e3RleHR1cmVzOnt9LGltYWdlczp7fX0pO2NvbnN0IG49e21ldGFkYXRhOnt2ZXJzaW9uOjQuNSx0eXBlOiJNYXRlcmlhbCIsZ2VuZXJhdG9yOiJNYXRlcmlhbC50b0pTT04ifX07bi51dWlkPXRoaXMudXVpZCxuLnR5cGU9dGhpcy50eXBlLHRoaXMubmFtZSE9PSIiJiYobi5uYW1lPXRoaXMubmFtZSksdGhpcy5jb2xvciYmdGhpcy5jb2xvci5pc0NvbG9yJiYobi5jb2xvcj10aGlzLmNvbG9yLmdldEhleCgpKSx0aGlzLnJvdWdobmVzcyE9PXZvaWQgMCYmKG4ucm91Z2huZXNzPXRoaXMucm91Z2huZXNzKSx0aGlzLm1ldGFsbmVzcyE9PXZvaWQgMCYmKG4ubWV0YWxuZXNzPXRoaXMubWV0YWxuZXNzKSx0aGlzLnNoZWVuIT09dm9pZCAwJiYobi5zaGVlbj10aGlzLnNoZWVuKSx0aGlzLnNoZWVuQ29sb3ImJnRoaXMuc2hlZW5Db2xvci5pc0NvbG9yJiYobi5zaGVlbkNvbG9yPXRoaXMuc2hlZW5Db2xvci5nZXRIZXgoKSksdGhpcy5zaGVlblJvdWdobmVzcyE9PXZvaWQgMCYmKG4uc2hlZW5Sb3VnaG5lc3M9dGhpcy5zaGVlblJvdWdobmVzcyksdGhpcy5lbWlzc2l2ZSYmdGhpcy5lbWlzc2l2ZS5pc0NvbG9yJiYobi5lbWlzc2l2ZT10aGlzLmVtaXNzaXZlLmdldEhleCgpKSx0aGlzLmVtaXNzaXZlSW50ZW5zaXR5JiZ0aGlzLmVtaXNzaXZlSW50ZW5zaXR5IT09MSYmKG4uZW1pc3NpdmVJbnRlbnNpdHk9dGhpcy5lbWlzc2l2ZUludGVuc2l0eSksdGhpcy5zcGVjdWxhciYmdGhpcy5zcGVjdWxhci5pc0NvbG9yJiYobi5zcGVjdWxhcj10aGlzLnNwZWN1bGFyLmdldEhleCgpKSx0aGlzLnNwZWN1bGFySW50ZW5zaXR5IT09dm9pZCAwJiYobi5zcGVjdWxhckludGVuc2l0eT10aGlzLnNwZWN1bGFySW50ZW5zaXR5KSx0aGlzLnNwZWN1bGFyQ29sb3ImJnRoaXMuc3BlY3VsYXJDb2xvci5pc0NvbG9yJiYobi5zcGVjdWxhckNvbG9yPXRoaXMuc3BlY3VsYXJDb2xvci5nZXRIZXgoKSksdGhpcy5zaGluaW5lc3MhPT12b2lkIDAmJihuLnNoaW5pbmVzcz10aGlzLnNoaW5pbmVzcyksdGhpcy5jbGVhcmNvYXQhPT12b2lkIDAmJihuLmNsZWFyY29hdD10aGlzLmNsZWFyY29hdCksdGhpcy5jbGVhcmNvYXRSb3VnaG5lc3MhPT12b2lkIDAmJihuLmNsZWFyY29hdFJvdWdobmVzcz10aGlzLmNsZWFyY29hdFJvdWdobmVzcyksdGhpcy5jbGVhcmNvYXRNYXAmJnRoaXMuY2xlYXJjb2F0TWFwLmlzVGV4dHVyZSYmKG4uY2xlYXJjb2F0TWFwPXRoaXMuY2xlYXJjb2F0TWFwLnRvSlNPTihlKS51dWlkKSx0aGlzLmNsZWFyY29hdFJvdWdobmVzc01hcCYmdGhpcy5jbGVhcmNvYXRSb3VnaG5lc3NNYXAuaXNUZXh0dXJlJiYobi5jbGVhcmNvYXRSb3VnaG5lc3NNYXA9dGhpcy5jbGVhcmNvYXRSb3VnaG5lc3NNYXAudG9KU09OKGUpLnV1aWQpLHRoaXMuY2xlYXJjb2F0Tm9ybWFsTWFwJiZ0aGlzLmNsZWFyY29hdE5vcm1hbE1hcC5pc1RleHR1cmUmJihuLmNsZWFyY29hdE5vcm1hbE1hcD10aGlzLmNsZWFyY29hdE5vcm1hbE1hcC50b0pTT04oZSkudXVpZCxuLmNsZWFyY29hdE5vcm1hbFNjYWxlPXRoaXMuY2xlYXJjb2F0Tm9ybWFsU2NhbGUudG9BcnJheSgpKSx0aGlzLm1hcCYmdGhpcy5tYXAuaXNUZXh0dXJlJiYobi5tYXA9dGhpcy5tYXAudG9KU09OKGUpLnV1aWQpLHRoaXMubWF0Y2FwJiZ0aGlzLm1hdGNhcC5pc1RleHR1cmUmJihuLm1hdGNhcD10aGlzLm1hdGNhcC50b0pTT04oZSkudXVpZCksdGhpcy5hbHBoYU1hcCYmdGhpcy5hbHBoYU1hcC5pc1RleHR1cmUmJihuLmFscGhhTWFwPXRoaXMuYWxwaGFNYXAudG9KU09OKGUpLnV1aWQpLHRoaXMubGlnaHRNYXAmJnRoaXMubGlnaHRNYXAuaXNUZXh0dXJlJiYobi5saWdodE1hcD10aGlzLmxpZ2h0TWFwLnRvSlNPTihlKS51dWlkLG4ubGlnaHRNYXBJbnRlbnNpdHk9dGhpcy5saWdodE1hcEludGVuc2l0eSksdGhpcy5hb01hcCYmdGhpcy5hb01hcC5pc1RleHR1cmUmJihuLmFvTWFwPXRoaXMuYW9NYXAudG9KU09OKGUpLnV1aWQsbi5hb01hcEludGVuc2l0eT10aGlzLmFvTWFwSW50ZW5zaXR5KSx0aGlzLmJ1bXBNYXAmJnRoaXMuYnVtcE1hcC5pc1RleHR1cmUmJihuLmJ1bXBNYXA9dGhpcy5idW1wTWFwLnRvSlNPTihlKS51dWlkLG4uYnVtcFNjYWxlPXRoaXMuYnVtcFNjYWxlKSx0aGlzLm5vcm1hbE1hcCYmdGhpcy5ub3JtYWxNYXAuaXNUZXh0dXJlJiYobi5ub3JtYWxNYXA9dGhpcy5ub3JtYWxNYXAudG9KU09OKGUpLnV1aWQsbi5ub3JtYWxNYXBUeXBlPXRoaXMubm9ybWFsTWFwVHlwZSxuLm5vcm1hbFNjYWxlPXRoaXMubm9ybWFsU2NhbGUudG9BcnJheSgpKSx0aGlzLmRpc3BsYWNlbWVudE1hcCYmdGhpcy5kaXNwbGFjZW1lbnRNYXAuaXNUZXh0dXJlJiYobi5kaXNwbGFjZW1lbnRNYXA9dGhpcy5kaXNwbGFjZW1lbnRNYXAudG9KU09OKGUpLnV1aWQsbi5kaXNwbGFjZW1lbnRTY2FsZT10aGlzLmRpc3BsYWNlbWVudFNjYWxlLG4uZGlzcGxhY2VtZW50Qmlhcz10aGlzLmRpc3BsYWNlbWVudEJpYXMpLHRoaXMucm91Z2huZXNzTWFwJiZ0aGlzLnJvdWdobmVzc01hcC5pc1RleHR1cmUmJihuLnJvdWdobmVzc01hcD10aGlzLnJvdWdobmVzc01hcC50b0pTT04oZSkudXVpZCksdGhpcy5tZXRhbG5lc3NNYXAmJnRoaXMubWV0YWxuZXNzTWFwLmlzVGV4dHVyZSYmKG4ubWV0YWxuZXNzTWFwPXRoaXMubWV0YWxuZXNzTWFwLnRvSlNPTihlKS51dWlkKSx0aGlzLmVtaXNzaXZlTWFwJiZ0aGlzLmVtaXNzaXZlTWFwLmlzVGV4dHVyZSYmKG4uZW1pc3NpdmVNYXA9dGhpcy5lbWlzc2l2ZU1hcC50b0pTT04oZSkudXVpZCksdGhpcy5zcGVjdWxhck1hcCYmdGhpcy5zcGVjdWxhck1hcC5pc1RleHR1cmUmJihuLnNwZWN1bGFyTWFwPXRoaXMuc3BlY3VsYXJNYXAudG9KU09OKGUpLnV1aWQpLHRoaXMuc3BlY3VsYXJJbnRlbnNpdHlNYXAmJnRoaXMuc3BlY3VsYXJJbnRlbnNpdHlNYXAuaXNUZXh0dXJlJiYobi5zcGVjdWxhckludGVuc2l0eU1hcD10aGlzLnNwZWN1bGFySW50ZW5zaXR5TWFwLnRvSlNPTihlKS51dWlkKSx0aGlzLnNwZWN1bGFyQ29sb3JNYXAmJnRoaXMuc3BlY3VsYXJDb2xvck1hcC5pc1RleHR1cmUmJihuLnNwZWN1bGFyQ29sb3JNYXA9dGhpcy5zcGVjdWxhckNvbG9yTWFwLnRvSlNPTihlKS51dWlkKSx0aGlzLmVudk1hcCYmdGhpcy5lbnZNYXAuaXNUZXh0dXJlJiYobi5lbnZNYXA9dGhpcy5lbnZNYXAudG9KU09OKGUpLnV1aWQsdGhpcy5jb21iaW5lIT09dm9pZCAwJiYobi5jb21iaW5lPXRoaXMuY29tYmluZSkpLHRoaXMuZW52TWFwSW50ZW5zaXR5IT09dm9pZCAwJiYobi5lbnZNYXBJbnRlbnNpdHk9dGhpcy5lbnZNYXBJbnRlbnNpdHkpLHRoaXMucmVmbGVjdGl2aXR5IT09dm9pZCAwJiYobi5yZWZsZWN0aXZpdHk9dGhpcy5yZWZsZWN0aXZpdHkpLHRoaXMucmVmcmFjdGlvblJhdGlvIT09dm9pZCAwJiYobi5yZWZyYWN0aW9uUmF0aW89dGhpcy5yZWZyYWN0aW9uUmF0aW8pLHRoaXMuZ3JhZGllbnRNYXAmJnRoaXMuZ3JhZGllbnRNYXAuaXNUZXh0dXJlJiYobi5ncmFkaWVudE1hcD10aGlzLmdyYWRpZW50TWFwLnRvSlNPTihlKS51dWlkKSx0aGlzLnRyYW5zbWlzc2lvbiE9PXZvaWQgMCYmKG4udHJhbnNtaXNzaW9uPXRoaXMudHJhbnNtaXNzaW9uKSx0aGlzLnRyYW5zbWlzc2lvbk1hcCYmdGhpcy50cmFuc21pc3Npb25NYXAuaXNUZXh0dXJlJiYobi50cmFuc21pc3Npb25NYXA9dGhpcy50cmFuc21pc3Npb25NYXAudG9KU09OKGUpLnV1aWQpLHRoaXMudGhpY2tuZXNzIT09dm9pZCAwJiYobi50aGlja25lc3M9dGhpcy50aGlja25lc3MpLHRoaXMudGhpY2tuZXNzTWFwJiZ0aGlzLnRoaWNrbmVzc01hcC5pc1RleHR1cmUmJihuLnRoaWNrbmVzc01hcD10aGlzLnRoaWNrbmVzc01hcC50b0pTT04oZSkudXVpZCksdGhpcy5hdHRlbnVhdGlvbkRpc3RhbmNlIT09dm9pZCAwJiYobi5hdHRlbnVhdGlvbkRpc3RhbmNlPXRoaXMuYXR0ZW51YXRpb25EaXN0YW5jZSksdGhpcy5hdHRlbnVhdGlvbkNvbG9yIT09dm9pZCAwJiYobi5hdHRlbnVhdGlvbkNvbG9yPXRoaXMuYXR0ZW51YXRpb25Db2xvci5nZXRIZXgoKSksdGhpcy5zaXplIT09dm9pZCAwJiYobi5zaXplPXRoaXMuc2l6ZSksdGhpcy5zaGFkb3dTaWRlIT09bnVsbCYmKG4uc2hhZG93U2lkZT10aGlzLnNoYWRvd1NpZGUpLHRoaXMuc2l6ZUF0dGVudWF0aW9uIT09dm9pZCAwJiYobi5zaXplQXR0ZW51YXRpb249dGhpcy5zaXplQXR0ZW51YXRpb24pLHRoaXMuYmxlbmRpbmchPT0xJiYobi5ibGVuZGluZz10aGlzLmJsZW5kaW5nKSx0aGlzLnNpZGUhPT0wJiYobi5zaWRlPXRoaXMuc2lkZSksdGhpcy52ZXJ0ZXhDb2xvcnMmJihuLnZlcnRleENvbG9ycz0hMCksdGhpcy5vcGFjaXR5PDEmJihuLm9wYWNpdHk9dGhpcy5vcGFjaXR5KSx0aGlzLnRyYW5zcGFyZW50PT09ITAmJihuLnRyYW5zcGFyZW50PXRoaXMudHJhbnNwYXJlbnQpLG4uZGVwdGhGdW5jPXRoaXMuZGVwdGhGdW5jLG4uZGVwdGhUZXN0PXRoaXMuZGVwdGhUZXN0LG4uZGVwdGhXcml0ZT10aGlzLmRlcHRoV3JpdGUsbi5jb2xvcldyaXRlPXRoaXMuY29sb3JXcml0ZSxuLnN0ZW5jaWxXcml0ZT10aGlzLnN0ZW5jaWxXcml0ZSxuLnN0ZW5jaWxXcml0ZU1hc2s9dGhpcy5zdGVuY2lsV3JpdGVNYXNrLG4uc3RlbmNpbEZ1bmM9dGhpcy5zdGVuY2lsRnVuYyxuLnN0ZW5jaWxSZWY9dGhpcy5zdGVuY2lsUmVmLG4uc3RlbmNpbEZ1bmNNYXNrPXRoaXMuc3RlbmNpbEZ1bmNNYXNrLG4uc3RlbmNpbEZhaWw9dGhpcy5zdGVuY2lsRmFpbCxuLnN0ZW5jaWxaRmFpbD10aGlzLnN0ZW5jaWxaRmFpbCxuLnN0ZW5jaWxaUGFzcz10aGlzLnN0ZW5jaWxaUGFzcyx0aGlzLnJvdGF0aW9uIT09dm9pZCAwJiZ0aGlzLnJvdGF0aW9uIT09MCYmKG4ucm90YXRpb249dGhpcy5yb3RhdGlvbiksdGhpcy5wb2x5Z29uT2Zmc2V0PT09ITAmJihuLnBvbHlnb25PZmZzZXQ9ITApLHRoaXMucG9seWdvbk9mZnNldEZhY3RvciE9PTAmJihuLnBvbHlnb25PZmZzZXRGYWN0b3I9dGhpcy5wb2x5Z29uT2Zmc2V0RmFjdG9yKSx0aGlzLnBvbHlnb25PZmZzZXRVbml0cyE9PTAmJihuLnBvbHlnb25PZmZzZXRVbml0cz10aGlzLnBvbHlnb25PZmZzZXRVbml0cyksdGhpcy5saW5ld2lkdGghPT12b2lkIDAmJnRoaXMubGluZXdpZHRoIT09MSYmKG4ubGluZXdpZHRoPXRoaXMubGluZXdpZHRoKSx0aGlzLmRhc2hTaXplIT09dm9pZCAwJiYobi5kYXNoU2l6ZT10aGlzLmRhc2hTaXplKSx0aGlzLmdhcFNpemUhPT12b2lkIDAmJihuLmdhcFNpemU9dGhpcy5nYXBTaXplKSx0aGlzLnNjYWxlIT09dm9pZCAwJiYobi5zY2FsZT10aGlzLnNjYWxlKSx0aGlzLmRpdGhlcmluZz09PSEwJiYobi5kaXRoZXJpbmc9ITApLHRoaXMuYWxwaGFUZXN0PjAmJihuLmFscGhhVGVzdD10aGlzLmFscGhhVGVzdCksdGhpcy5hbHBoYVRvQ292ZXJhZ2U9PT0hMCYmKG4uYWxwaGFUb0NvdmVyYWdlPXRoaXMuYWxwaGFUb0NvdmVyYWdlKSx0aGlzLnByZW11bHRpcGxpZWRBbHBoYT09PSEwJiYobi5wcmVtdWx0aXBsaWVkQWxwaGE9dGhpcy5wcmVtdWx0aXBsaWVkQWxwaGEpLHRoaXMud2lyZWZyYW1lPT09ITAmJihuLndpcmVmcmFtZT10aGlzLndpcmVmcmFtZSksdGhpcy53aXJlZnJhbWVMaW5ld2lkdGg+MSYmKG4ud2lyZWZyYW1lTGluZXdpZHRoPXRoaXMud2lyZWZyYW1lTGluZXdpZHRoKSx0aGlzLndpcmVmcmFtZUxpbmVjYXAhPT0icm91bmQiJiYobi53aXJlZnJhbWVMaW5lY2FwPXRoaXMud2lyZWZyYW1lTGluZWNhcCksdGhpcy53aXJlZnJhbWVMaW5lam9pbiE9PSJyb3VuZCImJihuLndpcmVmcmFtZUxpbmVqb2luPXRoaXMud2lyZWZyYW1lTGluZWpvaW4pLHRoaXMuZmxhdFNoYWRpbmc9PT0hMCYmKG4uZmxhdFNoYWRpbmc9dGhpcy5mbGF0U2hhZGluZyksdGhpcy52aXNpYmxlPT09ITEmJihuLnZpc2libGU9ITEpLHRoaXMudG9uZU1hcHBlZD09PSExJiYobi50b25lTWFwcGVkPSExKSxKU09OLnN0cmluZ2lmeSh0aGlzLnVzZXJEYXRhKSE9PSJ7fSImJihuLnVzZXJEYXRhPXRoaXMudXNlckRhdGEpO2Z1bmN0aW9uIGkocil7Y29uc3QgYT1bXTtmb3IoY29uc3QgbyBpbiByKXtjb25zdCBsPXJbb107ZGVsZXRlIGwubWV0YWRhdGEsYS5wdXNoKGwpfXJldHVybiBhfWlmKHQpe2NvbnN0IHI9aShlLnRleHR1cmVzKSxhPWkoZS5pbWFnZXMpO3IubGVuZ3RoPjAmJihuLnRleHR1cmVzPXIpLGEubGVuZ3RoPjAmJihuLmltYWdlcz1hKX1yZXR1cm4gbn1jbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLmNvcHkodGhpcyl9Y29weShlKXt0aGlzLm5hbWU9ZS5uYW1lLHRoaXMuZm9nPWUuZm9nLHRoaXMuYmxlbmRpbmc9ZS5ibGVuZGluZyx0aGlzLnNpZGU9ZS5zaWRlLHRoaXMudmVydGV4Q29sb3JzPWUudmVydGV4Q29sb3JzLHRoaXMub3BhY2l0eT1lLm9wYWNpdHksdGhpcy50cmFuc3BhcmVudD1lLnRyYW5zcGFyZW50LHRoaXMuYmxlbmRTcmM9ZS5ibGVuZFNyYyx0aGlzLmJsZW5kRHN0PWUuYmxlbmREc3QsdGhpcy5ibGVuZEVxdWF0aW9uPWUuYmxlbmRFcXVhdGlvbix0aGlzLmJsZW5kU3JjQWxwaGE9ZS5ibGVuZFNyY0FscGhhLHRoaXMuYmxlbmREc3RBbHBoYT1lLmJsZW5kRHN0QWxwaGEsdGhpcy5ibGVuZEVxdWF0aW9uQWxwaGE9ZS5ibGVuZEVxdWF0aW9uQWxwaGEsdGhpcy5kZXB0aEZ1bmM9ZS5kZXB0aEZ1bmMsdGhpcy5kZXB0aFRlc3Q9ZS5kZXB0aFRlc3QsdGhpcy5kZXB0aFdyaXRlPWUuZGVwdGhXcml0ZSx0aGlzLnN0ZW5jaWxXcml0ZU1hc2s9ZS5zdGVuY2lsV3JpdGVNYXNrLHRoaXMuc3RlbmNpbEZ1bmM9ZS5zdGVuY2lsRnVuYyx0aGlzLnN0ZW5jaWxSZWY9ZS5zdGVuY2lsUmVmLHRoaXMuc3RlbmNpbEZ1bmNNYXNrPWUuc3RlbmNpbEZ1bmNNYXNrLHRoaXMuc3RlbmNpbEZhaWw9ZS5zdGVuY2lsRmFpbCx0aGlzLnN0ZW5jaWxaRmFpbD1lLnN0ZW5jaWxaRmFpbCx0aGlzLnN0ZW5jaWxaUGFzcz1lLnN0ZW5jaWxaUGFzcyx0aGlzLnN0ZW5jaWxXcml0ZT1lLnN0ZW5jaWxXcml0ZTtjb25zdCB0PWUuY2xpcHBpbmdQbGFuZXM7bGV0IG49bnVsbDtpZih0IT09bnVsbCl7Y29uc3QgaT10Lmxlbmd0aDtuPW5ldyBBcnJheShpKTtmb3IobGV0IHI9MDtyIT09aTsrK3IpbltyXT10W3JdLmNsb25lKCl9cmV0dXJuIHRoaXMuY2xpcHBpbmdQbGFuZXM9bix0aGlzLmNsaXBJbnRlcnNlY3Rpb249ZS5jbGlwSW50ZXJzZWN0aW9uLHRoaXMuY2xpcFNoYWRvd3M9ZS5jbGlwU2hhZG93cyx0aGlzLnNoYWRvd1NpZGU9ZS5zaGFkb3dTaWRlLHRoaXMuY29sb3JXcml0ZT1lLmNvbG9yV3JpdGUsdGhpcy5wcmVjaXNpb249ZS5wcmVjaXNpb24sdGhpcy5wb2x5Z29uT2Zmc2V0PWUucG9seWdvbk9mZnNldCx0aGlzLnBvbHlnb25PZmZzZXRGYWN0b3I9ZS5wb2x5Z29uT2Zmc2V0RmFjdG9yLHRoaXMucG9seWdvbk9mZnNldFVuaXRzPWUucG9seWdvbk9mZnNldFVuaXRzLHRoaXMuZGl0aGVyaW5nPWUuZGl0aGVyaW5nLHRoaXMuYWxwaGFUZXN0PWUuYWxwaGFUZXN0LHRoaXMuYWxwaGFUb0NvdmVyYWdlPWUuYWxwaGFUb0NvdmVyYWdlLHRoaXMucHJlbXVsdGlwbGllZEFscGhhPWUucHJlbXVsdGlwbGllZEFscGhhLHRoaXMudmlzaWJsZT1lLnZpc2libGUsdGhpcy50b25lTWFwcGVkPWUudG9uZU1hcHBlZCx0aGlzLnVzZXJEYXRhPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZS51c2VyRGF0YSkpLHRoaXN9ZGlzcG9zZSgpe3RoaXMuZGlzcGF0Y2hFdmVudCh7dHlwZToiZGlzcG9zZSJ9KX1zZXQgbmVlZHNVcGRhdGUoZSl7ZT09PSEwJiZ0aGlzLnZlcnNpb24rK319TWF0ZXJpYWwucHJvdG90eXBlLmlzTWF0ZXJpYWw9ITAsTWF0ZXJpYWwuZnJvbVR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH07Y2xhc3MgTWVzaEJhc2ljTWF0ZXJpYWwgZXh0ZW5kcyBNYXRlcmlhbHtjb25zdHJ1Y3RvcihlKXtzdXBlcigpO3RoaXMudHlwZT0iTWVzaEJhc2ljTWF0ZXJpYWwiLHRoaXMuY29sb3I9bmV3IENvbG9yKDE2Nzc3MjE1KSx0aGlzLm1hcD1udWxsLHRoaXMubGlnaHRNYXA9bnVsbCx0aGlzLmxpZ2h0TWFwSW50ZW5zaXR5PTEsdGhpcy5hb01hcD1udWxsLHRoaXMuYW9NYXBJbnRlbnNpdHk9MSx0aGlzLnNwZWN1bGFyTWFwPW51bGwsdGhpcy5hbHBoYU1hcD1udWxsLHRoaXMuZW52TWFwPW51bGwsdGhpcy5jb21iaW5lPTAsdGhpcy5yZWZsZWN0aXZpdHk9MSx0aGlzLnJlZnJhY3Rpb25SYXRpbz0uOTgsdGhpcy53aXJlZnJhbWU9ITEsdGhpcy53aXJlZnJhbWVMaW5ld2lkdGg9MSx0aGlzLndpcmVmcmFtZUxpbmVjYXA9InJvdW5kIix0aGlzLndpcmVmcmFtZUxpbmVqb2luPSJyb3VuZCIsdGhpcy5zZXRWYWx1ZXMoZSl9Y29weShlKXtyZXR1cm4gc3VwZXIuY29weShlKSx0aGlzLmNvbG9yLmNvcHkoZS5jb2xvciksdGhpcy5tYXA9ZS5tYXAsdGhpcy5saWdodE1hcD1lLmxpZ2h0TWFwLHRoaXMubGlnaHRNYXBJbnRlbnNpdHk9ZS5saWdodE1hcEludGVuc2l0eSx0aGlzLmFvTWFwPWUuYW9NYXAsdGhpcy5hb01hcEludGVuc2l0eT1lLmFvTWFwSW50ZW5zaXR5LHRoaXMuc3BlY3VsYXJNYXA9ZS5zcGVjdWxhck1hcCx0aGlzLmFscGhhTWFwPWUuYWxwaGFNYXAsdGhpcy5lbnZNYXA9ZS5lbnZNYXAsdGhpcy5jb21iaW5lPWUuY29tYmluZSx0aGlzLnJlZmxlY3Rpdml0eT1lLnJlZmxlY3Rpdml0eSx0aGlzLnJlZnJhY3Rpb25SYXRpbz1lLnJlZnJhY3Rpb25SYXRpbyx0aGlzLndpcmVmcmFtZT1lLndpcmVmcmFtZSx0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD1lLndpcmVmcmFtZUxpbmV3aWR0aCx0aGlzLndpcmVmcmFtZUxpbmVjYXA9ZS53aXJlZnJhbWVMaW5lY2FwLHRoaXMud2lyZWZyYW1lTGluZWpvaW49ZS53aXJlZnJhbWVMaW5lam9pbix0aGlzfX1NZXNoQmFzaWNNYXRlcmlhbC5wcm90b3R5cGUuaXNNZXNoQmFzaWNNYXRlcmlhbD0hMDtjb25zdCBfdmVjdG9yJDk9bmV3IFZlY3RvcjMsX3ZlY3RvcjIkMT1uZXcgVmVjdG9yMjtjbGFzcyBCdWZmZXJBdHRyaWJ1dGV7Y29uc3RydWN0b3IoZSx0LG4pe2lmKEFycmF5LmlzQXJyYXkoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiVEhSRUUuQnVmZmVyQXR0cmlidXRlOiBhcnJheSBzaG91bGQgYmUgYSBUeXBlZCBBcnJheS4iKTt0aGlzLm5hbWU9IiIsdGhpcy5hcnJheT1lLHRoaXMuaXRlbVNpemU9dCx0aGlzLmNvdW50PWUhPT12b2lkIDA/ZS5sZW5ndGgvdDowLHRoaXMubm9ybWFsaXplZD1uPT09ITAsdGhpcy51c2FnZT0zNTA0NCx0aGlzLnVwZGF0ZVJhbmdlPXtvZmZzZXQ6MCxjb3VudDotMX0sdGhpcy52ZXJzaW9uPTB9b25VcGxvYWRDYWxsYmFjaygpe31zZXQgbmVlZHNVcGRhdGUoZSl7ZT09PSEwJiZ0aGlzLnZlcnNpb24rK31zZXRVc2FnZShlKXtyZXR1cm4gdGhpcy51c2FnZT1lLHRoaXN9Y29weShlKXtyZXR1cm4gdGhpcy5uYW1lPWUubmFtZSx0aGlzLmFycmF5PW5ldyBlLmFycmF5LmNvbnN0cnVjdG9yKGUuYXJyYXkpLHRoaXMuaXRlbVNpemU9ZS5pdGVtU2l6ZSx0aGlzLmNvdW50PWUuY291bnQsdGhpcy5ub3JtYWxpemVkPWUubm9ybWFsaXplZCx0aGlzLnVzYWdlPWUudXNhZ2UsdGhpc31jb3B5QXQoZSx0LG4pe2UqPXRoaXMuaXRlbVNpemUsbio9dC5pdGVtU2l6ZTtmb3IobGV0IGk9MCxyPXRoaXMuaXRlbVNpemU7aTxyO2krKyl0aGlzLmFycmF5W2UraV09dC5hcnJheVtuK2ldO3JldHVybiB0aGlzfWNvcHlBcnJheShlKXtyZXR1cm4gdGhpcy5hcnJheS5zZXQoZSksdGhpc31jb3B5Q29sb3JzQXJyYXkoZSl7Y29uc3QgdD10aGlzLmFycmF5O2xldCBuPTA7Zm9yKGxldCBpPTAscj1lLmxlbmd0aDtpPHI7aSsrKXtsZXQgYT1lW2ldO2E9PT12b2lkIDAmJihjb25zb2xlLndhcm4oIlRIUkVFLkJ1ZmZlckF0dHJpYnV0ZS5jb3B5Q29sb3JzQXJyYXkoKTogY29sb3IgaXMgdW5kZWZpbmVkIixpKSxhPW5ldyBDb2xvciksdFtuKytdPWEucix0W24rK109YS5nLHRbbisrXT1hLmJ9cmV0dXJuIHRoaXN9Y29weVZlY3RvcjJzQXJyYXkoZSl7Y29uc3QgdD10aGlzLmFycmF5O2xldCBuPTA7Zm9yKGxldCBpPTAscj1lLmxlbmd0aDtpPHI7aSsrKXtsZXQgYT1lW2ldO2E9PT12b2lkIDAmJihjb25zb2xlLndhcm4oIlRIUkVFLkJ1ZmZlckF0dHJpYnV0ZS5jb3B5VmVjdG9yMnNBcnJheSgpOiB2ZWN0b3IgaXMgdW5kZWZpbmVkIixpKSxhPW5ldyBWZWN0b3IyKSx0W24rK109YS54LHRbbisrXT1hLnl9cmV0dXJuIHRoaXN9Y29weVZlY3RvcjNzQXJyYXkoZSl7Y29uc3QgdD10aGlzLmFycmF5O2xldCBuPTA7Zm9yKGxldCBpPTAscj1lLmxlbmd0aDtpPHI7aSsrKXtsZXQgYT1lW2ldO2E9PT12b2lkIDAmJihjb25zb2xlLndhcm4oIlRIUkVFLkJ1ZmZlckF0dHJpYnV0ZS5jb3B5VmVjdG9yM3NBcnJheSgpOiB2ZWN0b3IgaXMgdW5kZWZpbmVkIixpKSxhPW5ldyBWZWN0b3IzKSx0W24rK109YS54LHRbbisrXT1hLnksdFtuKytdPWEuen1yZXR1cm4gdGhpc31jb3B5VmVjdG9yNHNBcnJheShlKXtjb25zdCB0PXRoaXMuYXJyYXk7bGV0IG49MDtmb3IobGV0IGk9MCxyPWUubGVuZ3RoO2k8cjtpKyspe2xldCBhPWVbaV07YT09PXZvaWQgMCYmKGNvbnNvbGUud2FybigiVEhSRUUuQnVmZmVyQXR0cmlidXRlLmNvcHlWZWN0b3I0c0FycmF5KCk6IHZlY3RvciBpcyB1bmRlZmluZWQiLGkpLGE9bmV3IFZlY3RvcjQpLHRbbisrXT1hLngsdFtuKytdPWEueSx0W24rK109YS56LHRbbisrXT1hLnd9cmV0dXJuIHRoaXN9YXBwbHlNYXRyaXgzKGUpe2lmKHRoaXMuaXRlbVNpemU9PT0yKWZvcihsZXQgdD0wLG49dGhpcy5jb3VudDt0PG47dCsrKV92ZWN0b3IyJDEuZnJvbUJ1ZmZlckF0dHJpYnV0ZSh0aGlzLHQpLF92ZWN0b3IyJDEuYXBwbHlNYXRyaXgzKGUpLHRoaXMuc2V0WFkodCxfdmVjdG9yMiQxLngsX3ZlY3RvcjIkMS55KTtlbHNlIGlmKHRoaXMuaXRlbVNpemU9PT0zKWZvcihsZXQgdD0wLG49dGhpcy5jb3VudDt0PG47dCsrKV92ZWN0b3IkOS5mcm9tQnVmZmVyQXR0cmlidXRlKHRoaXMsdCksX3ZlY3RvciQ5LmFwcGx5TWF0cml4MyhlKSx0aGlzLnNldFhZWih0LF92ZWN0b3IkOS54LF92ZWN0b3IkOS55LF92ZWN0b3IkOS56KTtyZXR1cm4gdGhpc31hcHBseU1hdHJpeDQoZSl7Zm9yKGxldCB0PTAsbj10aGlzLmNvdW50O3Q8bjt0KyspX3ZlY3RvciQ5Lng9dGhpcy5nZXRYKHQpLF92ZWN0b3IkOS55PXRoaXMuZ2V0WSh0KSxfdmVjdG9yJDkuej10aGlzLmdldFoodCksX3ZlY3RvciQ5LmFwcGx5TWF0cml4NChlKSx0aGlzLnNldFhZWih0LF92ZWN0b3IkOS54LF92ZWN0b3IkOS55LF92ZWN0b3IkOS56KTtyZXR1cm4gdGhpc31hcHBseU5vcm1hbE1hdHJpeChlKXtmb3IobGV0IHQ9MCxuPXRoaXMuY291bnQ7dDxuO3QrKylfdmVjdG9yJDkueD10aGlzLmdldFgodCksX3ZlY3RvciQ5Lnk9dGhpcy5nZXRZKHQpLF92ZWN0b3IkOS56PXRoaXMuZ2V0Wih0KSxfdmVjdG9yJDkuYXBwbHlOb3JtYWxNYXRyaXgoZSksdGhpcy5zZXRYWVoodCxfdmVjdG9yJDkueCxfdmVjdG9yJDkueSxfdmVjdG9yJDkueik7cmV0dXJuIHRoaXN9dHJhbnNmb3JtRGlyZWN0aW9uKGUpe2ZvcihsZXQgdD0wLG49dGhpcy5jb3VudDt0PG47dCsrKV92ZWN0b3IkOS54PXRoaXMuZ2V0WCh0KSxfdmVjdG9yJDkueT10aGlzLmdldFkodCksX3ZlY3RvciQ5Lno9dGhpcy5nZXRaKHQpLF92ZWN0b3IkOS50cmFuc2Zvcm1EaXJlY3Rpb24oZSksdGhpcy5zZXRYWVoodCxfdmVjdG9yJDkueCxfdmVjdG9yJDkueSxfdmVjdG9yJDkueik7cmV0dXJuIHRoaXN9c2V0KGUsdD0wKXtyZXR1cm4gdGhpcy5hcnJheS5zZXQoZSx0KSx0aGlzfWdldFgoZSl7cmV0dXJuIHRoaXMuYXJyYXlbZSp0aGlzLml0ZW1TaXplXX1zZXRYKGUsdCl7cmV0dXJuIHRoaXMuYXJyYXlbZSp0aGlzLml0ZW1TaXplXT10LHRoaXN9Z2V0WShlKXtyZXR1cm4gdGhpcy5hcnJheVtlKnRoaXMuaXRlbVNpemUrMV19c2V0WShlLHQpe3JldHVybiB0aGlzLmFycmF5W2UqdGhpcy5pdGVtU2l6ZSsxXT10LHRoaXN9Z2V0WihlKXtyZXR1cm4gdGhpcy5hcnJheVtlKnRoaXMuaXRlbVNpemUrMl19c2V0WihlLHQpe3JldHVybiB0aGlzLmFycmF5W2UqdGhpcy5pdGVtU2l6ZSsyXT10LHRoaXN9Z2V0VyhlKXtyZXR1cm4gdGhpcy5hcnJheVtlKnRoaXMuaXRlbVNpemUrM119c2V0VyhlLHQpe3JldHVybiB0aGlzLmFycmF5W2UqdGhpcy5pdGVtU2l6ZSszXT10LHRoaXN9c2V0WFkoZSx0LG4pe3JldHVybiBlKj10aGlzLml0ZW1TaXplLHRoaXMuYXJyYXlbZSswXT10LHRoaXMuYXJyYXlbZSsxXT1uLHRoaXN9c2V0WFlaKGUsdCxuLGkpe3JldHVybiBlKj10aGlzLml0ZW1TaXplLHRoaXMuYXJyYXlbZSswXT10LHRoaXMuYXJyYXlbZSsxXT1uLHRoaXMuYXJyYXlbZSsyXT1pLHRoaXN9c2V0WFlaVyhlLHQsbixpLHIpe3JldHVybiBlKj10aGlzLml0ZW1TaXplLHRoaXMuYXJyYXlbZSswXT10LHRoaXMuYXJyYXlbZSsxXT1uLHRoaXMuYXJyYXlbZSsyXT1pLHRoaXMuYXJyYXlbZSszXT1yLHRoaXN9b25VcGxvYWQoZSl7cmV0dXJuIHRoaXMub25VcGxvYWRDYWxsYmFjaz1lLHRoaXN9Y2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5hcnJheSx0aGlzLml0ZW1TaXplKS5jb3B5KHRoaXMpfXRvSlNPTigpe2NvbnN0IGU9e2l0ZW1TaXplOnRoaXMuaXRlbVNpemUsdHlwZTp0aGlzLmFycmF5LmNvbnN0cnVjdG9yLm5hbWUsYXJyYXk6QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy5hcnJheSksbm9ybWFsaXplZDp0aGlzLm5vcm1hbGl6ZWR9O3JldHVybiB0aGlzLm5hbWUhPT0iIiYmKGUubmFtZT10aGlzLm5hbWUpLHRoaXMudXNhZ2UhPT0zNTA0NCYmKGUudXNhZ2U9dGhpcy51c2FnZSksKHRoaXMudXBkYXRlUmFuZ2Uub2Zmc2V0IT09MHx8dGhpcy51cGRhdGVSYW5nZS5jb3VudCE9PS0xKSYmKGUudXBkYXRlUmFuZ2U9dGhpcy51cGRhdGVSYW5nZSksZX19QnVmZmVyQXR0cmlidXRlLnByb3RvdHlwZS5pc0J1ZmZlckF0dHJpYnV0ZT0hMDtjbGFzcyBVaW50MTZCdWZmZXJBdHRyaWJ1dGUgZXh0ZW5kcyBCdWZmZXJBdHRyaWJ1dGV7Y29uc3RydWN0b3IoZSx0LG4pe3N1cGVyKG5ldyBVaW50MTZBcnJheShlKSx0LG4pfX1jbGFzcyBVaW50MzJCdWZmZXJBdHRyaWJ1dGUgZXh0ZW5kcyBCdWZmZXJBdHRyaWJ1dGV7Y29uc3RydWN0b3IoZSx0LG4pe3N1cGVyKG5ldyBVaW50MzJBcnJheShlKSx0LG4pfX1jbGFzcyBGbG9hdDE2QnVmZmVyQXR0cmlidXRlIGV4dGVuZHMgQnVmZmVyQXR0cmlidXRle2NvbnN0cnVjdG9yKGUsdCxuKXtzdXBlcihuZXcgVWludDE2QXJyYXkoZSksdCxuKX19RmxvYXQxNkJ1ZmZlckF0dHJpYnV0ZS5wcm90b3R5cGUuaXNGbG9hdDE2QnVmZmVyQXR0cmlidXRlPSEwO2NsYXNzIEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUgZXh0ZW5kcyBCdWZmZXJBdHRyaWJ1dGV7Y29uc3RydWN0b3IoZSx0LG4pe3N1cGVyKG5ldyBGbG9hdDMyQXJyYXkoZSksdCxuKX19bGV0IF9pZCQxPTA7Y29uc3QgX20xPW5ldyBNYXRyaXg0LF9vYmo9bmV3IE9iamVjdDNELF9vZmZzZXQ9bmV3IFZlY3RvcjMsX2JveCQxPW5ldyBCb3gzLF9ib3hNb3JwaFRhcmdldHM9bmV3IEJveDMsX3ZlY3RvciQ4PW5ldyBWZWN0b3IzO2NsYXNzIEJ1ZmZlckdlb21ldHJ5IGV4dGVuZHMgRXZlbnREaXNwYXRjaGVye2NvbnN0cnVjdG9yKCl7c3VwZXIoKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywiaWQiLHt2YWx1ZTpfaWQkMSsrfSksdGhpcy51dWlkPWdlbmVyYXRlVVVJRCgpLHRoaXMubmFtZT0iIix0aGlzLnR5cGU9IkJ1ZmZlckdlb21ldHJ5Iix0aGlzLmluZGV4PW51bGwsdGhpcy5hdHRyaWJ1dGVzPXt9LHRoaXMubW9ycGhBdHRyaWJ1dGVzPXt9LHRoaXMubW9ycGhUYXJnZXRzUmVsYXRpdmU9ITEsdGhpcy5ncm91cHM9W10sdGhpcy5ib3VuZGluZ0JveD1udWxsLHRoaXMuYm91bmRpbmdTcGhlcmU9bnVsbCx0aGlzLmRyYXdSYW5nZT17c3RhcnQ6MCxjb3VudDoxLzB9LHRoaXMudXNlckRhdGE9e319Z2V0SW5kZXgoKXtyZXR1cm4gdGhpcy5pbmRleH1zZXRJbmRleChlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT90aGlzLmluZGV4PW5ldyhhcnJheU5lZWRzVWludDMyKGUpP1VpbnQzMkJ1ZmZlckF0dHJpYnV0ZTpVaW50MTZCdWZmZXJBdHRyaWJ1dGUpKGUsMSk6dGhpcy5pbmRleD1lLHRoaXN9Z2V0QXR0cmlidXRlKGUpe3JldHVybiB0aGlzLmF0dHJpYnV0ZXNbZV19c2V0QXR0cmlidXRlKGUsdCl7cmV0dXJuIHRoaXMuYXR0cmlidXRlc1tlXT10LHRoaXN9ZGVsZXRlQXR0cmlidXRlKGUpe3JldHVybiBkZWxldGUgdGhpcy5hdHRyaWJ1dGVzW2VdLHRoaXN9aGFzQXR0cmlidXRlKGUpe3JldHVybiB0aGlzLmF0dHJpYnV0ZXNbZV0hPT12b2lkIDB9YWRkR3JvdXAoZSx0LG49MCl7dGhpcy5ncm91cHMucHVzaCh7c3RhcnQ6ZSxjb3VudDp0LG1hdGVyaWFsSW5kZXg6bn0pfWNsZWFyR3JvdXBzKCl7dGhpcy5ncm91cHM9W119c2V0RHJhd1JhbmdlKGUsdCl7dGhpcy5kcmF3UmFuZ2Uuc3RhcnQ9ZSx0aGlzLmRyYXdSYW5nZS5jb3VudD10fWFwcGx5TWF0cml4NChlKXtjb25zdCB0PXRoaXMuYXR0cmlidXRlcy5wb3NpdGlvbjt0IT09dm9pZCAwJiYodC5hcHBseU1hdHJpeDQoZSksdC5uZWVkc1VwZGF0ZT0hMCk7Y29uc3Qgbj10aGlzLmF0dHJpYnV0ZXMubm9ybWFsO2lmKG4hPT12b2lkIDApe2NvbnN0IHI9bmV3IE1hdHJpeDMoKS5nZXROb3JtYWxNYXRyaXgoZSk7bi5hcHBseU5vcm1hbE1hdHJpeChyKSxuLm5lZWRzVXBkYXRlPSEwfWNvbnN0IGk9dGhpcy5hdHRyaWJ1dGVzLnRhbmdlbnQ7cmV0dXJuIGkhPT12b2lkIDAmJihpLnRyYW5zZm9ybURpcmVjdGlvbihlKSxpLm5lZWRzVXBkYXRlPSEwKSx0aGlzLmJvdW5kaW5nQm94IT09bnVsbCYmdGhpcy5jb21wdXRlQm91bmRpbmdCb3goKSx0aGlzLmJvdW5kaW5nU3BoZXJlIT09bnVsbCYmdGhpcy5jb21wdXRlQm91bmRpbmdTcGhlcmUoKSx0aGlzfWFwcGx5UXVhdGVybmlvbihlKXtyZXR1cm4gX20xLm1ha2VSb3RhdGlvbkZyb21RdWF0ZXJuaW9uKGUpLHRoaXMuYXBwbHlNYXRyaXg0KF9tMSksdGhpc31yb3RhdGVYKGUpe3JldHVybiBfbTEubWFrZVJvdGF0aW9uWChlKSx0aGlzLmFwcGx5TWF0cml4NChfbTEpLHRoaXN9cm90YXRlWShlKXtyZXR1cm4gX20xLm1ha2VSb3RhdGlvblkoZSksdGhpcy5hcHBseU1hdHJpeDQoX20xKSx0aGlzfXJvdGF0ZVooZSl7cmV0dXJuIF9tMS5tYWtlUm90YXRpb25aKGUpLHRoaXMuYXBwbHlNYXRyaXg0KF9tMSksdGhpc310cmFuc2xhdGUoZSx0LG4pe3JldHVybiBfbTEubWFrZVRyYW5zbGF0aW9uKGUsdCxuKSx0aGlzLmFwcGx5TWF0cml4NChfbTEpLHRoaXN9c2NhbGUoZSx0LG4pe3JldHVybiBfbTEubWFrZVNjYWxlKGUsdCxuKSx0aGlzLmFwcGx5TWF0cml4NChfbTEpLHRoaXN9bG9va0F0KGUpe3JldHVybiBfb2JqLmxvb2tBdChlKSxfb2JqLnVwZGF0ZU1hdHJpeCgpLHRoaXMuYXBwbHlNYXRyaXg0KF9vYmoubWF0cml4KSx0aGlzfWNlbnRlcigpe3JldHVybiB0aGlzLmNvbXB1dGVCb3VuZGluZ0JveCgpLHRoaXMuYm91bmRpbmdCb3guZ2V0Q2VudGVyKF9vZmZzZXQpLm5lZ2F0ZSgpLHRoaXMudHJhbnNsYXRlKF9vZmZzZXQueCxfb2Zmc2V0LnksX29mZnNldC56KSx0aGlzfXNldEZyb21Qb2ludHMoZSl7Y29uc3QgdD1bXTtmb3IobGV0IG49MCxpPWUubGVuZ3RoO248aTtuKyspe2NvbnN0IHI9ZVtuXTt0LnB1c2goci54LHIueSxyLnp8fDApfXJldHVybiB0aGlzLnNldEF0dHJpYnV0ZSgicG9zaXRpb24iLG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKHQsMykpLHRoaXN9Y29tcHV0ZUJvdW5kaW5nQm94KCl7dGhpcy5ib3VuZGluZ0JveD09PW51bGwmJih0aGlzLmJvdW5kaW5nQm94PW5ldyBCb3gzKTtjb25zdCBlPXRoaXMuYXR0cmlidXRlcy5wb3NpdGlvbix0PXRoaXMubW9ycGhBdHRyaWJ1dGVzLnBvc2l0aW9uO2lmKGUmJmUuaXNHTEJ1ZmZlckF0dHJpYnV0ZSl7Y29uc29sZS5lcnJvcignVEhSRUUuQnVmZmVyR2VvbWV0cnkuY29tcHV0ZUJvdW5kaW5nQm94KCk6IEdMQnVmZmVyQXR0cmlidXRlIHJlcXVpcmVzIGEgbWFudWFsIGJvdW5kaW5nIGJveC4gQWx0ZXJuYXRpdmVseSBzZXQgIm1lc2guZnJ1c3R1bUN1bGxlZCIgdG8gImZhbHNlIi4nLHRoaXMpLHRoaXMuYm91bmRpbmdCb3guc2V0KG5ldyBWZWN0b3IzKC0xLzAsLTEvMCwtMS8wKSxuZXcgVmVjdG9yMygxLzAsMS8wLDEvMCkpO3JldHVybn1pZihlIT09dm9pZCAwKXtpZih0aGlzLmJvdW5kaW5nQm94LnNldEZyb21CdWZmZXJBdHRyaWJ1dGUoZSksdClmb3IobGV0IG49MCxpPXQubGVuZ3RoO248aTtuKyspe2NvbnN0IHI9dFtuXTtfYm94JDEuc2V0RnJvbUJ1ZmZlckF0dHJpYnV0ZShyKSx0aGlzLm1vcnBoVGFyZ2V0c1JlbGF0aXZlPyhfdmVjdG9yJDguYWRkVmVjdG9ycyh0aGlzLmJvdW5kaW5nQm94Lm1pbixfYm94JDEubWluKSx0aGlzLmJvdW5kaW5nQm94LmV4cGFuZEJ5UG9pbnQoX3ZlY3RvciQ4KSxfdmVjdG9yJDguYWRkVmVjdG9ycyh0aGlzLmJvdW5kaW5nQm94Lm1heCxfYm94JDEubWF4KSx0aGlzLmJvdW5kaW5nQm94LmV4cGFuZEJ5UG9pbnQoX3ZlY3RvciQ4KSk6KHRoaXMuYm91bmRpbmdCb3guZXhwYW5kQnlQb2ludChfYm94JDEubWluKSx0aGlzLmJvdW5kaW5nQm94LmV4cGFuZEJ5UG9pbnQoX2JveCQxLm1heCkpfX1lbHNlIHRoaXMuYm91bmRpbmdCb3gubWFrZUVtcHR5KCk7KGlzTmFOKHRoaXMuYm91bmRpbmdCb3gubWluLngpfHxpc05hTih0aGlzLmJvdW5kaW5nQm94Lm1pbi55KXx8aXNOYU4odGhpcy5ib3VuZGluZ0JveC5taW4ueikpJiZjb25zb2xlLmVycm9yKCdUSFJFRS5CdWZmZXJHZW9tZXRyeS5jb21wdXRlQm91bmRpbmdCb3goKTogQ29tcHV0ZWQgbWluL21heCBoYXZlIE5hTiB2YWx1ZXMuIFRoZSAicG9zaXRpb24iIGF0dHJpYnV0ZSBpcyBsaWtlbHkgdG8gaGF2ZSBOYU4gdmFsdWVzLicsdGhpcyl9Y29tcHV0ZUJvdW5kaW5nU3BoZXJlKCl7dGhpcy5ib3VuZGluZ1NwaGVyZT09PW51bGwmJih0aGlzLmJvdW5kaW5nU3BoZXJlPW5ldyBTcGhlcmUpO2NvbnN0IGU9dGhpcy5hdHRyaWJ1dGVzLnBvc2l0aW9uLHQ9dGhpcy5tb3JwaEF0dHJpYnV0ZXMucG9zaXRpb247aWYoZSYmZS5pc0dMQnVmZmVyQXR0cmlidXRlKXtjb25zb2xlLmVycm9yKCdUSFJFRS5CdWZmZXJHZW9tZXRyeS5jb21wdXRlQm91bmRpbmdTcGhlcmUoKTogR0xCdWZmZXJBdHRyaWJ1dGUgcmVxdWlyZXMgYSBtYW51YWwgYm91bmRpbmcgc3BoZXJlLiBBbHRlcm5hdGl2ZWx5IHNldCAibWVzaC5mcnVzdHVtQ3VsbGVkIiB0byAiZmFsc2UiLicsdGhpcyksdGhpcy5ib3VuZGluZ1NwaGVyZS5zZXQobmV3IFZlY3RvcjMsMS8wKTtyZXR1cm59aWYoZSl7Y29uc3Qgbj10aGlzLmJvdW5kaW5nU3BoZXJlLmNlbnRlcjtpZihfYm94JDEuc2V0RnJvbUJ1ZmZlckF0dHJpYnV0ZShlKSx0KWZvcihsZXQgcj0wLGE9dC5sZW5ndGg7cjxhO3IrKyl7Y29uc3Qgbz10W3JdO19ib3hNb3JwaFRhcmdldHMuc2V0RnJvbUJ1ZmZlckF0dHJpYnV0ZShvKSx0aGlzLm1vcnBoVGFyZ2V0c1JlbGF0aXZlPyhfdmVjdG9yJDguYWRkVmVjdG9ycyhfYm94JDEubWluLF9ib3hNb3JwaFRhcmdldHMubWluKSxfYm94JDEuZXhwYW5kQnlQb2ludChfdmVjdG9yJDgpLF92ZWN0b3IkOC5hZGRWZWN0b3JzKF9ib3gkMS5tYXgsX2JveE1vcnBoVGFyZ2V0cy5tYXgpLF9ib3gkMS5leHBhbmRCeVBvaW50KF92ZWN0b3IkOCkpOihfYm94JDEuZXhwYW5kQnlQb2ludChfYm94TW9ycGhUYXJnZXRzLm1pbiksX2JveCQxLmV4cGFuZEJ5UG9pbnQoX2JveE1vcnBoVGFyZ2V0cy5tYXgpKX1fYm94JDEuZ2V0Q2VudGVyKG4pO2xldCBpPTA7Zm9yKGxldCByPTAsYT1lLmNvdW50O3I8YTtyKyspX3ZlY3RvciQ4LmZyb21CdWZmZXJBdHRyaWJ1dGUoZSxyKSxpPU1hdGgubWF4KGksbi5kaXN0YW5jZVRvU3F1YXJlZChfdmVjdG9yJDgpKTtpZih0KWZvcihsZXQgcj0wLGE9dC5sZW5ndGg7cjxhO3IrKyl7Y29uc3Qgbz10W3JdLGw9dGhpcy5tb3JwaFRhcmdldHNSZWxhdGl2ZTtmb3IobGV0IGM9MCxoPW8uY291bnQ7YzxoO2MrKylfdmVjdG9yJDguZnJvbUJ1ZmZlckF0dHJpYnV0ZShvLGMpLGwmJihfb2Zmc2V0LmZyb21CdWZmZXJBdHRyaWJ1dGUoZSxjKSxfdmVjdG9yJDguYWRkKF9vZmZzZXQpKSxpPU1hdGgubWF4KGksbi5kaXN0YW5jZVRvU3F1YXJlZChfdmVjdG9yJDgpKX10aGlzLmJvdW5kaW5nU3BoZXJlLnJhZGl1cz1NYXRoLnNxcnQoaSksaXNOYU4odGhpcy5ib3VuZGluZ1NwaGVyZS5yYWRpdXMpJiZjb25zb2xlLmVycm9yKCdUSFJFRS5CdWZmZXJHZW9tZXRyeS5jb21wdXRlQm91bmRpbmdTcGhlcmUoKTogQ29tcHV0ZWQgcmFkaXVzIGlzIE5hTi4gVGhlICJwb3NpdGlvbiIgYXR0cmlidXRlIGlzIGxpa2VseSB0byBoYXZlIE5hTiB2YWx1ZXMuJyx0aGlzKX19Y29tcHV0ZVRhbmdlbnRzKCl7Y29uc3QgZT10aGlzLmluZGV4LHQ9dGhpcy5hdHRyaWJ1dGVzO2lmKGU9PT1udWxsfHx0LnBvc2l0aW9uPT09dm9pZCAwfHx0Lm5vcm1hbD09PXZvaWQgMHx8dC51dj09PXZvaWQgMCl7Y29uc29sZS5lcnJvcigiVEhSRUUuQnVmZmVyR2VvbWV0cnk6IC5jb21wdXRlVGFuZ2VudHMoKSBmYWlsZWQuIE1pc3NpbmcgcmVxdWlyZWQgYXR0cmlidXRlcyAoaW5kZXgsIHBvc2l0aW9uLCBub3JtYWwgb3IgdXYpIik7cmV0dXJufWNvbnN0IG49ZS5hcnJheSxpPXQucG9zaXRpb24uYXJyYXkscj10Lm5vcm1hbC5hcnJheSxhPXQudXYuYXJyYXksbz1pLmxlbmd0aC8zO3RoaXMuaGFzQXR0cmlidXRlKCJ0YW5nZW50Iik9PT0hMSYmdGhpcy5zZXRBdHRyaWJ1dGUoInRhbmdlbnQiLG5ldyBCdWZmZXJBdHRyaWJ1dGUobmV3IEZsb2F0MzJBcnJheSg0Km8pLDQpKTtjb25zdCBsPXRoaXMuZ2V0QXR0cmlidXRlKCJ0YW5nZW50IikuYXJyYXksYz1bXSxoPVtdO2ZvcihsZXQgej0wO3o8bzt6KyspY1t6XT1uZXcgVmVjdG9yMyxoW3pdPW5ldyBWZWN0b3IzO2NvbnN0IHU9bmV3IFZlY3RvcjMsZD1uZXcgVmVjdG9yMyxmPW5ldyBWZWN0b3IzLGc9bmV3IFZlY3RvcjIsXz1uZXcgVmVjdG9yMix5PW5ldyBWZWN0b3IyLG09bmV3IFZlY3RvcjMscD1uZXcgVmVjdG9yMztmdW5jdGlvbiBUKHoseCxBKXt1LmZyb21BcnJheShpLHoqMyksZC5mcm9tQXJyYXkoaSx4KjMpLGYuZnJvbUFycmF5KGksQSozKSxnLmZyb21BcnJheShhLHoqMiksXy5mcm9tQXJyYXkoYSx4KjIpLHkuZnJvbUFycmF5KGEsQSoyKSxkLnN1Yih1KSxmLnN1Yih1KSxfLnN1YihnKSx5LnN1YihnKTtjb25zdCBQPTEvKF8ueCp5LnkteS54Kl8ueSk7IWlzRmluaXRlKFApfHwobS5jb3B5KGQpLm11bHRpcGx5U2NhbGFyKHkueSkuYWRkU2NhbGVkVmVjdG9yKGYsLV8ueSkubXVsdGlwbHlTY2FsYXIoUCkscC5jb3B5KGYpLm11bHRpcGx5U2NhbGFyKF8ueCkuYWRkU2NhbGVkVmVjdG9yKGQsLXkueCkubXVsdGlwbHlTY2FsYXIoUCksY1t6XS5hZGQobSksY1t4XS5hZGQobSksY1tBXS5hZGQobSksaFt6XS5hZGQocCksaFt4XS5hZGQocCksaFtBXS5hZGQocCkpfWxldCB3PXRoaXMuZ3JvdXBzO3cubGVuZ3RoPT09MCYmKHc9W3tzdGFydDowLGNvdW50Om4ubGVuZ3RofV0pO2ZvcihsZXQgej0wLHg9dy5sZW5ndGg7ejx4Oysreil7Y29uc3QgQT13W3pdLFA9QS5zdGFydCxCPUEuY291bnQ7Zm9yKGxldCBVPVAsRj1QK0I7VTxGO1UrPTMpVChuW1UrMF0sbltVKzFdLG5bVSsyXSl9Y29uc3QgUz1uZXcgVmVjdG9yMyxSPW5ldyBWZWN0b3IzLEQ9bmV3IFZlY3RvcjMsWD1uZXcgVmVjdG9yMztmdW5jdGlvbiBpZSh6KXtELmZyb21BcnJheShyLHoqMyksWC5jb3B5KEQpO2NvbnN0IHg9Y1t6XTtTLmNvcHkoeCksUy5zdWIoRC5tdWx0aXBseVNjYWxhcihELmRvdCh4KSkpLm5vcm1hbGl6ZSgpLFIuY3Jvc3NWZWN0b3JzKFgseCk7Y29uc3QgUD1SLmRvdChoW3pdKTwwPy0xOjE7bFt6KjRdPVMueCxsW3oqNCsxXT1TLnksbFt6KjQrMl09Uy56LGxbeio0KzNdPVB9Zm9yKGxldCB6PTAseD13Lmxlbmd0aDt6PHg7Kyt6KXtjb25zdCBBPXdbel0sUD1BLnN0YXJ0LEI9QS5jb3VudDtmb3IobGV0IFU9UCxGPVArQjtVPEY7VSs9MylpZShuW1UrMF0pLGllKG5bVSsxXSksaWUobltVKzJdKX19Y29tcHV0ZVZlcnRleE5vcm1hbHMoKXtjb25zdCBlPXRoaXMuaW5kZXgsdD10aGlzLmdldEF0dHJpYnV0ZSgicG9zaXRpb24iKTtpZih0IT09dm9pZCAwKXtsZXQgbj10aGlzLmdldEF0dHJpYnV0ZSgibm9ybWFsIik7aWYobj09PXZvaWQgMCluPW5ldyBCdWZmZXJBdHRyaWJ1dGUobmV3IEZsb2F0MzJBcnJheSh0LmNvdW50KjMpLDMpLHRoaXMuc2V0QXR0cmlidXRlKCJub3JtYWwiLG4pO2Vsc2UgZm9yKGxldCBkPTAsZj1uLmNvdW50O2Q8ZjtkKyspbi5zZXRYWVooZCwwLDAsMCk7Y29uc3QgaT1uZXcgVmVjdG9yMyxyPW5ldyBWZWN0b3IzLGE9bmV3IFZlY3RvcjMsbz1uZXcgVmVjdG9yMyxsPW5ldyBWZWN0b3IzLGM9bmV3IFZlY3RvcjMsaD1uZXcgVmVjdG9yMyx1PW5ldyBWZWN0b3IzO2lmKGUpZm9yKGxldCBkPTAsZj1lLmNvdW50O2Q8ZjtkKz0zKXtjb25zdCBnPWUuZ2V0WChkKzApLF89ZS5nZXRYKGQrMSkseT1lLmdldFgoZCsyKTtpLmZyb21CdWZmZXJBdHRyaWJ1dGUodCxnKSxyLmZyb21CdWZmZXJBdHRyaWJ1dGUodCxfKSxhLmZyb21CdWZmZXJBdHRyaWJ1dGUodCx5KSxoLnN1YlZlY3RvcnMoYSxyKSx1LnN1YlZlY3RvcnMoaSxyKSxoLmNyb3NzKHUpLG8uZnJvbUJ1ZmZlckF0dHJpYnV0ZShuLGcpLGwuZnJvbUJ1ZmZlckF0dHJpYnV0ZShuLF8pLGMuZnJvbUJ1ZmZlckF0dHJpYnV0ZShuLHkpLG8uYWRkKGgpLGwuYWRkKGgpLGMuYWRkKGgpLG4uc2V0WFlaKGcsby54LG8ueSxvLnopLG4uc2V0WFlaKF8sbC54LGwueSxsLnopLG4uc2V0WFlaKHksYy54LGMueSxjLnopfWVsc2UgZm9yKGxldCBkPTAsZj10LmNvdW50O2Q8ZjtkKz0zKWkuZnJvbUJ1ZmZlckF0dHJpYnV0ZSh0LGQrMCksci5mcm9tQnVmZmVyQXR0cmlidXRlKHQsZCsxKSxhLmZyb21CdWZmZXJBdHRyaWJ1dGUodCxkKzIpLGguc3ViVmVjdG9ycyhhLHIpLHUuc3ViVmVjdG9ycyhpLHIpLGguY3Jvc3ModSksbi5zZXRYWVooZCswLGgueCxoLnksaC56KSxuLnNldFhZWihkKzEsaC54LGgueSxoLnopLG4uc2V0WFlaKGQrMixoLngsaC55LGgueik7dGhpcy5ub3JtYWxpemVOb3JtYWxzKCksbi5uZWVkc1VwZGF0ZT0hMH19bWVyZ2UoZSx0KXtpZighKGUmJmUuaXNCdWZmZXJHZW9tZXRyeSkpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLkJ1ZmZlckdlb21ldHJ5Lm1lcmdlKCk6IGdlb21ldHJ5IG5vdCBhbiBpbnN0YW5jZSBvZiBUSFJFRS5CdWZmZXJHZW9tZXRyeS4iLGUpO3JldHVybn10PT09dm9pZCAwJiYodD0wLGNvbnNvbGUud2FybigiVEhSRUUuQnVmZmVyR2VvbWV0cnkubWVyZ2UoKTogT3ZlcndyaXRpbmcgb3JpZ2luYWwgZ2VvbWV0cnksIHN0YXJ0aW5nIGF0IG9mZnNldD0wLiBVc2UgQnVmZmVyR2VvbWV0cnlVdGlscy5tZXJnZUJ1ZmZlckdlb21ldHJpZXMoKSBmb3IgbG9zc2xlc3MgbWVyZ2UuIikpO2NvbnN0IG49dGhpcy5hdHRyaWJ1dGVzO2Zvcihjb25zdCBpIGluIG4pe2lmKGUuYXR0cmlidXRlc1tpXT09PXZvaWQgMCljb250aW51ZTtjb25zdCBhPW5baV0uYXJyYXksbz1lLmF0dHJpYnV0ZXNbaV0sbD1vLmFycmF5LGM9by5pdGVtU2l6ZSp0LGg9TWF0aC5taW4obC5sZW5ndGgsYS5sZW5ndGgtYyk7Zm9yKGxldCB1PTAsZD1jO3U8aDt1KyssZCsrKWFbZF09bFt1XX1yZXR1cm4gdGhpc31ub3JtYWxpemVOb3JtYWxzKCl7Y29uc3QgZT10aGlzLmF0dHJpYnV0ZXMubm9ybWFsO2ZvcihsZXQgdD0wLG49ZS5jb3VudDt0PG47dCsrKV92ZWN0b3IkOC5mcm9tQnVmZmVyQXR0cmlidXRlKGUsdCksX3ZlY3RvciQ4Lm5vcm1hbGl6ZSgpLGUuc2V0WFlaKHQsX3ZlY3RvciQ4LngsX3ZlY3RvciQ4LnksX3ZlY3RvciQ4LnopfXRvTm9uSW5kZXhlZCgpe2Z1bmN0aW9uIGUobyxsKXtjb25zdCBjPW8uYXJyYXksaD1vLml0ZW1TaXplLHU9by5ub3JtYWxpemVkLGQ9bmV3IGMuY29uc3RydWN0b3IobC5sZW5ndGgqaCk7bGV0IGY9MCxnPTA7Zm9yKGxldCBfPTAseT1sLmxlbmd0aDtfPHk7XysrKXtvLmlzSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGU/Zj1sW19dKm8uZGF0YS5zdHJpZGUrby5vZmZzZXQ6Zj1sW19dKmg7Zm9yKGxldCBtPTA7bTxoO20rKylkW2crK109Y1tmKytdfXJldHVybiBuZXcgQnVmZmVyQXR0cmlidXRlKGQsaCx1KX1pZih0aGlzLmluZGV4PT09bnVsbClyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5CdWZmZXJHZW9tZXRyeS50b05vbkluZGV4ZWQoKTogQnVmZmVyR2VvbWV0cnkgaXMgYWxyZWFkeSBub24taW5kZXhlZC4iKSx0aGlzO2NvbnN0IHQ9bmV3IEJ1ZmZlckdlb21ldHJ5LG49dGhpcy5pbmRleC5hcnJheSxpPXRoaXMuYXR0cmlidXRlcztmb3IoY29uc3QgbyBpbiBpKXtjb25zdCBsPWlbb10sYz1lKGwsbik7dC5zZXRBdHRyaWJ1dGUobyxjKX1jb25zdCByPXRoaXMubW9ycGhBdHRyaWJ1dGVzO2Zvcihjb25zdCBvIGluIHIpe2NvbnN0IGw9W10sYz1yW29dO2ZvcihsZXQgaD0wLHU9Yy5sZW5ndGg7aDx1O2grKyl7Y29uc3QgZD1jW2hdLGY9ZShkLG4pO2wucHVzaChmKX10Lm1vcnBoQXR0cmlidXRlc1tvXT1sfXQubW9ycGhUYXJnZXRzUmVsYXRpdmU9dGhpcy5tb3JwaFRhcmdldHNSZWxhdGl2ZTtjb25zdCBhPXRoaXMuZ3JvdXBzO2ZvcihsZXQgbz0wLGw9YS5sZW5ndGg7bzxsO28rKyl7Y29uc3QgYz1hW29dO3QuYWRkR3JvdXAoYy5zdGFydCxjLmNvdW50LGMubWF0ZXJpYWxJbmRleCl9cmV0dXJuIHR9dG9KU09OKCl7Y29uc3QgZT17bWV0YWRhdGE6e3ZlcnNpb246NC41LHR5cGU6IkJ1ZmZlckdlb21ldHJ5IixnZW5lcmF0b3I6IkJ1ZmZlckdlb21ldHJ5LnRvSlNPTiJ9fTtpZihlLnV1aWQ9dGhpcy51dWlkLGUudHlwZT10aGlzLnR5cGUsdGhpcy5uYW1lIT09IiImJihlLm5hbWU9dGhpcy5uYW1lKSxPYmplY3Qua2V5cyh0aGlzLnVzZXJEYXRhKS5sZW5ndGg+MCYmKGUudXNlckRhdGE9dGhpcy51c2VyRGF0YSksdGhpcy5wYXJhbWV0ZXJzIT09dm9pZCAwKXtjb25zdCBsPXRoaXMucGFyYW1ldGVycztmb3IoY29uc3QgYyBpbiBsKWxbY10hPT12b2lkIDAmJihlW2NdPWxbY10pO3JldHVybiBlfWUuZGF0YT17YXR0cmlidXRlczp7fX07Y29uc3QgdD10aGlzLmluZGV4O3QhPT1udWxsJiYoZS5kYXRhLmluZGV4PXt0eXBlOnQuYXJyYXkuY29uc3RydWN0b3IubmFtZSxhcnJheTpBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0LmFycmF5KX0pO2NvbnN0IG49dGhpcy5hdHRyaWJ1dGVzO2Zvcihjb25zdCBsIGluIG4pe2NvbnN0IGM9bltsXTtlLmRhdGEuYXR0cmlidXRlc1tsXT1jLnRvSlNPTihlLmRhdGEpfWNvbnN0IGk9e307bGV0IHI9ITE7Zm9yKGNvbnN0IGwgaW4gdGhpcy5tb3JwaEF0dHJpYnV0ZXMpe2NvbnN0IGM9dGhpcy5tb3JwaEF0dHJpYnV0ZXNbbF0saD1bXTtmb3IobGV0IHU9MCxkPWMubGVuZ3RoO3U8ZDt1Kyspe2NvbnN0IGY9Y1t1XTtoLnB1c2goZi50b0pTT04oZS5kYXRhKSl9aC5sZW5ndGg+MCYmKGlbbF09aCxyPSEwKX1yJiYoZS5kYXRhLm1vcnBoQXR0cmlidXRlcz1pLGUuZGF0YS5tb3JwaFRhcmdldHNSZWxhdGl2ZT10aGlzLm1vcnBoVGFyZ2V0c1JlbGF0aXZlKTtjb25zdCBhPXRoaXMuZ3JvdXBzO2EubGVuZ3RoPjAmJihlLmRhdGEuZ3JvdXBzPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoYSkpKTtjb25zdCBvPXRoaXMuYm91bmRpbmdTcGhlcmU7cmV0dXJuIG8hPT1udWxsJiYoZS5kYXRhLmJvdW5kaW5nU3BoZXJlPXtjZW50ZXI6by5jZW50ZXIudG9BcnJheSgpLHJhZGl1czpvLnJhZGl1c30pLGV9Y2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoKS5jb3B5KHRoaXMpfWNvcHkoZSl7dGhpcy5pbmRleD1udWxsLHRoaXMuYXR0cmlidXRlcz17fSx0aGlzLm1vcnBoQXR0cmlidXRlcz17fSx0aGlzLmdyb3Vwcz1bXSx0aGlzLmJvdW5kaW5nQm94PW51bGwsdGhpcy5ib3VuZGluZ1NwaGVyZT1udWxsO2NvbnN0IHQ9e307dGhpcy5uYW1lPWUubmFtZTtjb25zdCBuPWUuaW5kZXg7biE9PW51bGwmJnRoaXMuc2V0SW5kZXgobi5jbG9uZSh0KSk7Y29uc3QgaT1lLmF0dHJpYnV0ZXM7Zm9yKGNvbnN0IGMgaW4gaSl7Y29uc3QgaD1pW2NdO3RoaXMuc2V0QXR0cmlidXRlKGMsaC5jbG9uZSh0KSl9Y29uc3Qgcj1lLm1vcnBoQXR0cmlidXRlcztmb3IoY29uc3QgYyBpbiByKXtjb25zdCBoPVtdLHU9cltjXTtmb3IobGV0IGQ9MCxmPXUubGVuZ3RoO2Q8ZjtkKyspaC5wdXNoKHVbZF0uY2xvbmUodCkpO3RoaXMubW9ycGhBdHRyaWJ1dGVzW2NdPWh9dGhpcy5tb3JwaFRhcmdldHNSZWxhdGl2ZT1lLm1vcnBoVGFyZ2V0c1JlbGF0aXZlO2NvbnN0IGE9ZS5ncm91cHM7Zm9yKGxldCBjPTAsaD1hLmxlbmd0aDtjPGg7YysrKXtjb25zdCB1PWFbY107dGhpcy5hZGRHcm91cCh1LnN0YXJ0LHUuY291bnQsdS5tYXRlcmlhbEluZGV4KX1jb25zdCBvPWUuYm91bmRpbmdCb3g7byE9PW51bGwmJih0aGlzLmJvdW5kaW5nQm94PW8uY2xvbmUoKSk7Y29uc3QgbD1lLmJvdW5kaW5nU3BoZXJlO3JldHVybiBsIT09bnVsbCYmKHRoaXMuYm91bmRpbmdTcGhlcmU9bC5jbG9uZSgpKSx0aGlzLmRyYXdSYW5nZS5zdGFydD1lLmRyYXdSYW5nZS5zdGFydCx0aGlzLmRyYXdSYW5nZS5jb3VudD1lLmRyYXdSYW5nZS5jb3VudCx0aGlzLnVzZXJEYXRhPWUudXNlckRhdGEsZS5wYXJhbWV0ZXJzIT09dm9pZCAwJiYodGhpcy5wYXJhbWV0ZXJzPU9iamVjdC5hc3NpZ24oe30sZS5wYXJhbWV0ZXJzKSksdGhpc31kaXNwb3NlKCl7dGhpcy5kaXNwYXRjaEV2ZW50KHt0eXBlOiJkaXNwb3NlIn0pfX1CdWZmZXJHZW9tZXRyeS5wcm90b3R5cGUuaXNCdWZmZXJHZW9tZXRyeT0hMDtjb25zdCBfaW52ZXJzZU1hdHJpeCQyPW5ldyBNYXRyaXg0LF9yYXkkMj1uZXcgUmF5LF9zcGhlcmUkMz1uZXcgU3BoZXJlLF92QSQxPW5ldyBWZWN0b3IzLF92QiQxPW5ldyBWZWN0b3IzLF92QyQxPW5ldyBWZWN0b3IzLF90ZW1wQT1uZXcgVmVjdG9yMyxfdGVtcEI9bmV3IFZlY3RvcjMsX3RlbXBDPW5ldyBWZWN0b3IzLF9tb3JwaEE9bmV3IFZlY3RvcjMsX21vcnBoQj1uZXcgVmVjdG9yMyxfbW9ycGhDPW5ldyBWZWN0b3IzLF91dkEkMT1uZXcgVmVjdG9yMixfdXZCJDE9bmV3IFZlY3RvcjIsX3V2QyQxPW5ldyBWZWN0b3IyLF9pbnRlcnNlY3Rpb25Qb2ludD1uZXcgVmVjdG9yMyxfaW50ZXJzZWN0aW9uUG9pbnRXb3JsZD1uZXcgVmVjdG9yMztjbGFzcyBNZXNoIGV4dGVuZHMgT2JqZWN0M0R7Y29uc3RydWN0b3IoZT1uZXcgQnVmZmVyR2VvbWV0cnksdD1uZXcgTWVzaEJhc2ljTWF0ZXJpYWwpe3N1cGVyKCk7dGhpcy50eXBlPSJNZXNoIix0aGlzLmdlb21ldHJ5PWUsdGhpcy5tYXRlcmlhbD10LHRoaXMudXBkYXRlTW9ycGhUYXJnZXRzKCl9Y29weShlKXtyZXR1cm4gc3VwZXIuY29weShlKSxlLm1vcnBoVGFyZ2V0SW5mbHVlbmNlcyE9PXZvaWQgMCYmKHRoaXMubW9ycGhUYXJnZXRJbmZsdWVuY2VzPWUubW9ycGhUYXJnZXRJbmZsdWVuY2VzLnNsaWNlKCkpLGUubW9ycGhUYXJnZXREaWN0aW9uYXJ5IT09dm9pZCAwJiYodGhpcy5tb3JwaFRhcmdldERpY3Rpb25hcnk9T2JqZWN0LmFzc2lnbih7fSxlLm1vcnBoVGFyZ2V0RGljdGlvbmFyeSkpLHRoaXMubWF0ZXJpYWw9ZS5tYXRlcmlhbCx0aGlzLmdlb21ldHJ5PWUuZ2VvbWV0cnksdGhpc311cGRhdGVNb3JwaFRhcmdldHMoKXtjb25zdCBlPXRoaXMuZ2VvbWV0cnk7aWYoZS5pc0J1ZmZlckdlb21ldHJ5KXtjb25zdCB0PWUubW9ycGhBdHRyaWJ1dGVzLG49T2JqZWN0LmtleXModCk7aWYobi5sZW5ndGg+MCl7Y29uc3QgaT10W25bMF1dO2lmKGkhPT12b2lkIDApe3RoaXMubW9ycGhUYXJnZXRJbmZsdWVuY2VzPVtdLHRoaXMubW9ycGhUYXJnZXREaWN0aW9uYXJ5PXt9O2ZvcihsZXQgcj0wLGE9aS5sZW5ndGg7cjxhO3IrKyl7Y29uc3Qgbz1pW3JdLm5hbWV8fFN0cmluZyhyKTt0aGlzLm1vcnBoVGFyZ2V0SW5mbHVlbmNlcy5wdXNoKDApLHRoaXMubW9ycGhUYXJnZXREaWN0aW9uYXJ5W29dPXJ9fX19ZWxzZXtjb25zdCB0PWUubW9ycGhUYXJnZXRzO3QhPT12b2lkIDAmJnQubGVuZ3RoPjAmJmNvbnNvbGUuZXJyb3IoIlRIUkVFLk1lc2gudXBkYXRlTW9ycGhUYXJnZXRzKCkgbm8gbG9uZ2VyIHN1cHBvcnRzIFRIUkVFLkdlb21ldHJ5LiBVc2UgVEhSRUUuQnVmZmVyR2VvbWV0cnkgaW5zdGVhZC4iKX19cmF5Y2FzdChlLHQpe2NvbnN0IG49dGhpcy5nZW9tZXRyeSxpPXRoaXMubWF0ZXJpYWwscj10aGlzLm1hdHJpeFdvcmxkO2lmKGk9PT12b2lkIDB8fChuLmJvdW5kaW5nU3BoZXJlPT09bnVsbCYmbi5jb21wdXRlQm91bmRpbmdTcGhlcmUoKSxfc3BoZXJlJDMuY29weShuLmJvdW5kaW5nU3BoZXJlKSxfc3BoZXJlJDMuYXBwbHlNYXRyaXg0KHIpLGUucmF5LmludGVyc2VjdHNTcGhlcmUoX3NwaGVyZSQzKT09PSExKXx8KF9pbnZlcnNlTWF0cml4JDIuY29weShyKS5pbnZlcnQoKSxfcmF5JDIuY29weShlLnJheSkuYXBwbHlNYXRyaXg0KF9pbnZlcnNlTWF0cml4JDIpLG4uYm91bmRpbmdCb3ghPT1udWxsJiZfcmF5JDIuaW50ZXJzZWN0c0JveChuLmJvdW5kaW5nQm94KT09PSExKSlyZXR1cm47bGV0IGE7aWYobi5pc0J1ZmZlckdlb21ldHJ5KXtjb25zdCBvPW4uaW5kZXgsbD1uLmF0dHJpYnV0ZXMucG9zaXRpb24sYz1uLm1vcnBoQXR0cmlidXRlcy5wb3NpdGlvbixoPW4ubW9ycGhUYXJnZXRzUmVsYXRpdmUsdT1uLmF0dHJpYnV0ZXMudXYsZD1uLmF0dHJpYnV0ZXMudXYyLGY9bi5ncm91cHMsZz1uLmRyYXdSYW5nZTtpZihvIT09bnVsbClpZihBcnJheS5pc0FycmF5KGkpKWZvcihsZXQgXz0wLHk9Zi5sZW5ndGg7Xzx5O18rKyl7Y29uc3QgbT1mW19dLHA9aVttLm1hdGVyaWFsSW5kZXhdLFQ9TWF0aC5tYXgobS5zdGFydCxnLnN0YXJ0KSx3PU1hdGgubWluKG8uY291bnQsTWF0aC5taW4obS5zdGFydCttLmNvdW50LGcuc3RhcnQrZy5jb3VudCkpO2ZvcihsZXQgUz1ULFI9dztTPFI7Uys9Myl7Y29uc3QgRD1vLmdldFgoUyksWD1vLmdldFgoUysxKSxpZT1vLmdldFgoUysyKTthPWNoZWNrQnVmZmVyR2VvbWV0cnlJbnRlcnNlY3Rpb24odGhpcyxwLGUsX3JheSQyLGwsYyxoLHUsZCxELFgsaWUpLGEmJihhLmZhY2VJbmRleD1NYXRoLmZsb29yKFMvMyksYS5mYWNlLm1hdGVyaWFsSW5kZXg9bS5tYXRlcmlhbEluZGV4LHQucHVzaChhKSl9fWVsc2V7Y29uc3QgXz1NYXRoLm1heCgwLGcuc3RhcnQpLHk9TWF0aC5taW4oby5jb3VudCxnLnN0YXJ0K2cuY291bnQpO2ZvcihsZXQgbT1fLHA9eTttPHA7bSs9Myl7Y29uc3QgVD1vLmdldFgobSksdz1vLmdldFgobSsxKSxTPW8uZ2V0WChtKzIpO2E9Y2hlY2tCdWZmZXJHZW9tZXRyeUludGVyc2VjdGlvbih0aGlzLGksZSxfcmF5JDIsbCxjLGgsdSxkLFQsdyxTKSxhJiYoYS5mYWNlSW5kZXg9TWF0aC5mbG9vcihtLzMpLHQucHVzaChhKSl9fWVsc2UgaWYobCE9PXZvaWQgMClpZihBcnJheS5pc0FycmF5KGkpKWZvcihsZXQgXz0wLHk9Zi5sZW5ndGg7Xzx5O18rKyl7Y29uc3QgbT1mW19dLHA9aVttLm1hdGVyaWFsSW5kZXhdLFQ9TWF0aC5tYXgobS5zdGFydCxnLnN0YXJ0KSx3PU1hdGgubWluKGwuY291bnQsTWF0aC5taW4obS5zdGFydCttLmNvdW50LGcuc3RhcnQrZy5jb3VudCkpO2ZvcihsZXQgUz1ULFI9dztTPFI7Uys9Myl7Y29uc3QgRD1TLFg9UysxLGllPVMrMjthPWNoZWNrQnVmZmVyR2VvbWV0cnlJbnRlcnNlY3Rpb24odGhpcyxwLGUsX3JheSQyLGwsYyxoLHUsZCxELFgsaWUpLGEmJihhLmZhY2VJbmRleD1NYXRoLmZsb29yKFMvMyksYS5mYWNlLm1hdGVyaWFsSW5kZXg9bS5tYXRlcmlhbEluZGV4LHQucHVzaChhKSl9fWVsc2V7Y29uc3QgXz1NYXRoLm1heCgwLGcuc3RhcnQpLHk9TWF0aC5taW4obC5jb3VudCxnLnN0YXJ0K2cuY291bnQpO2ZvcihsZXQgbT1fLHA9eTttPHA7bSs9Myl7Y29uc3QgVD1tLHc9bSsxLFM9bSsyO2E9Y2hlY2tCdWZmZXJHZW9tZXRyeUludGVyc2VjdGlvbih0aGlzLGksZSxfcmF5JDIsbCxjLGgsdSxkLFQsdyxTKSxhJiYoYS5mYWNlSW5kZXg9TWF0aC5mbG9vcihtLzMpLHQucHVzaChhKSl9fX1lbHNlIG4uaXNHZW9tZXRyeSYmY29uc29sZS5lcnJvcigiVEhSRUUuTWVzaC5yYXljYXN0KCkgbm8gbG9uZ2VyIHN1cHBvcnRzIFRIUkVFLkdlb21ldHJ5LiBVc2UgVEhSRUUuQnVmZmVyR2VvbWV0cnkgaW5zdGVhZC4iKX19TWVzaC5wcm90b3R5cGUuaXNNZXNoPSEwO2Z1bmN0aW9uIGNoZWNrSW50ZXJzZWN0aW9uKHMsZSx0LG4saSxyLGEsbyl7bGV0IGw7aWYoZS5zaWRlPT09MT9sPW4uaW50ZXJzZWN0VHJpYW5nbGUoYSxyLGksITAsbyk6bD1uLmludGVyc2VjdFRyaWFuZ2xlKGkscixhLGUuc2lkZSE9PTIsbyksbD09PW51bGwpcmV0dXJuIG51bGw7X2ludGVyc2VjdGlvblBvaW50V29ybGQuY29weShvKSxfaW50ZXJzZWN0aW9uUG9pbnRXb3JsZC5hcHBseU1hdHJpeDQocy5tYXRyaXhXb3JsZCk7Y29uc3QgYz10LnJheS5vcmlnaW4uZGlzdGFuY2VUbyhfaW50ZXJzZWN0aW9uUG9pbnRXb3JsZCk7cmV0dXJuIGM8dC5uZWFyfHxjPnQuZmFyP251bGw6e2Rpc3RhbmNlOmMscG9pbnQ6X2ludGVyc2VjdGlvblBvaW50V29ybGQuY2xvbmUoKSxvYmplY3Q6c319ZnVuY3Rpb24gY2hlY2tCdWZmZXJHZW9tZXRyeUludGVyc2VjdGlvbihzLGUsdCxuLGkscixhLG8sbCxjLGgsdSl7X3ZBJDEuZnJvbUJ1ZmZlckF0dHJpYnV0ZShpLGMpLF92QiQxLmZyb21CdWZmZXJBdHRyaWJ1dGUoaSxoKSxfdkMkMS5mcm9tQnVmZmVyQXR0cmlidXRlKGksdSk7Y29uc3QgZD1zLm1vcnBoVGFyZ2V0SW5mbHVlbmNlcztpZihyJiZkKXtfbW9ycGhBLnNldCgwLDAsMCksX21vcnBoQi5zZXQoMCwwLDApLF9tb3JwaEMuc2V0KDAsMCwwKTtmb3IobGV0IGc9MCxfPXIubGVuZ3RoO2c8XztnKyspe2NvbnN0IHk9ZFtnXSxtPXJbZ107eSE9PTAmJihfdGVtcEEuZnJvbUJ1ZmZlckF0dHJpYnV0ZShtLGMpLF90ZW1wQi5mcm9tQnVmZmVyQXR0cmlidXRlKG0saCksX3RlbXBDLmZyb21CdWZmZXJBdHRyaWJ1dGUobSx1KSxhPyhfbW9ycGhBLmFkZFNjYWxlZFZlY3RvcihfdGVtcEEseSksX21vcnBoQi5hZGRTY2FsZWRWZWN0b3IoX3RlbXBCLHkpLF9tb3JwaEMuYWRkU2NhbGVkVmVjdG9yKF90ZW1wQyx5KSk6KF9tb3JwaEEuYWRkU2NhbGVkVmVjdG9yKF90ZW1wQS5zdWIoX3ZBJDEpLHkpLF9tb3JwaEIuYWRkU2NhbGVkVmVjdG9yKF90ZW1wQi5zdWIoX3ZCJDEpLHkpLF9tb3JwaEMuYWRkU2NhbGVkVmVjdG9yKF90ZW1wQy5zdWIoX3ZDJDEpLHkpKSl9X3ZBJDEuYWRkKF9tb3JwaEEpLF92QiQxLmFkZChfbW9ycGhCKSxfdkMkMS5hZGQoX21vcnBoQyl9cy5pc1NraW5uZWRNZXNoJiYocy5ib25lVHJhbnNmb3JtKGMsX3ZBJDEpLHMuYm9uZVRyYW5zZm9ybShoLF92QiQxKSxzLmJvbmVUcmFuc2Zvcm0odSxfdkMkMSkpO2NvbnN0IGY9Y2hlY2tJbnRlcnNlY3Rpb24ocyxlLHQsbixfdkEkMSxfdkIkMSxfdkMkMSxfaW50ZXJzZWN0aW9uUG9pbnQpO2lmKGYpe28mJihfdXZBJDEuZnJvbUJ1ZmZlckF0dHJpYnV0ZShvLGMpLF91dkIkMS5mcm9tQnVmZmVyQXR0cmlidXRlKG8saCksX3V2QyQxLmZyb21CdWZmZXJBdHRyaWJ1dGUobyx1KSxmLnV2PVRyaWFuZ2xlLmdldFVWKF9pbnRlcnNlY3Rpb25Qb2ludCxfdkEkMSxfdkIkMSxfdkMkMSxfdXZBJDEsX3V2QiQxLF91dkMkMSxuZXcgVmVjdG9yMikpLGwmJihfdXZBJDEuZnJvbUJ1ZmZlckF0dHJpYnV0ZShsLGMpLF91dkIkMS5mcm9tQnVmZmVyQXR0cmlidXRlKGwsaCksX3V2QyQxLmZyb21CdWZmZXJBdHRyaWJ1dGUobCx1KSxmLnV2Mj1UcmlhbmdsZS5nZXRVVihfaW50ZXJzZWN0aW9uUG9pbnQsX3ZBJDEsX3ZCJDEsX3ZDJDEsX3V2QSQxLF91dkIkMSxfdXZDJDEsbmV3IFZlY3RvcjIpKTtjb25zdCBnPXthOmMsYjpoLGM6dSxub3JtYWw6bmV3IFZlY3RvcjMsbWF0ZXJpYWxJbmRleDowfTtUcmlhbmdsZS5nZXROb3JtYWwoX3ZBJDEsX3ZCJDEsX3ZDJDEsZy5ub3JtYWwpLGYuZmFjZT1nfXJldHVybiBmfWNsYXNzIEJveEdlb21ldHJ5IGV4dGVuZHMgQnVmZmVyR2VvbWV0cnl7Y29uc3RydWN0b3IoZT0xLHQ9MSxuPTEsaT0xLHI9MSxhPTEpe3N1cGVyKCk7dGhpcy50eXBlPSJCb3hHZW9tZXRyeSIsdGhpcy5wYXJhbWV0ZXJzPXt3aWR0aDplLGhlaWdodDp0LGRlcHRoOm4sd2lkdGhTZWdtZW50czppLGhlaWdodFNlZ21lbnRzOnIsZGVwdGhTZWdtZW50czphfTtjb25zdCBvPXRoaXM7aT1NYXRoLmZsb29yKGkpLHI9TWF0aC5mbG9vcihyKSxhPU1hdGguZmxvb3IoYSk7Y29uc3QgbD1bXSxjPVtdLGg9W10sdT1bXTtsZXQgZD0wLGY9MDtnKCJ6IiwieSIsIngiLC0xLC0xLG4sdCxlLGEsciwwKSxnKCJ6IiwieSIsIngiLDEsLTEsbix0LC1lLGEsciwxKSxnKCJ4IiwieiIsInkiLDEsMSxlLG4sdCxpLGEsMiksZygieCIsInoiLCJ5IiwxLC0xLGUsbiwtdCxpLGEsMyksZygieCIsInkiLCJ6IiwxLC0xLGUsdCxuLGksciw0KSxnKCJ4IiwieSIsInoiLC0xLC0xLGUsdCwtbixpLHIsNSksdGhpcy5zZXRJbmRleChsKSx0aGlzLnNldEF0dHJpYnV0ZSgicG9zaXRpb24iLG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKGMsMykpLHRoaXMuc2V0QXR0cmlidXRlKCJub3JtYWwiLG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKGgsMykpLHRoaXMuc2V0QXR0cmlidXRlKCJ1diIsbmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUodSwyKSk7ZnVuY3Rpb24gZyhfLHksbSxwLFQsdyxTLFIsRCxYLGllKXtjb25zdCB6PXcvRCx4PVMvWCxBPXcvMixQPVMvMixCPVIvMixVPUQrMSxGPVgrMTtsZXQgRz0wLEw9MDtjb25zdCBXPW5ldyBWZWN0b3IzO2ZvcihsZXQgWj0wO1o8RjtaKyspe2NvbnN0IFk9Wip4LVA7Zm9yKGxldCBKPTA7SjxVO0orKyl7Y29uc3QgZmU9Sip6LUE7V1tfXT1mZSpwLFdbeV09WSpULFdbbV09QixjLnB1c2goVy54LFcueSxXLnopLFdbX109MCxXW3ldPTAsV1ttXT1SPjA/MTotMSxoLnB1c2goVy54LFcueSxXLnopLHUucHVzaChKL0QpLHUucHVzaCgxLVovWCksRys9MX19Zm9yKGxldCBaPTA7WjxYO1orKylmb3IobGV0IFk9MDtZPEQ7WSsrKXtjb25zdCBKPWQrWStVKlosZmU9ZCtZK1UqKForMSksUGU9ZCsoWSsxKStVKihaKzEpLG1lPWQrKFkrMSkrVSpaO2wucHVzaChKLGZlLG1lKSxsLnB1c2goZmUsUGUsbWUpLEwrPTZ9by5hZGRHcm91cChmLEwsaWUpLGYrPUwsZCs9R319c3RhdGljIGZyb21KU09OKGUpe3JldHVybiBuZXcgQm94R2VvbWV0cnkoZS53aWR0aCxlLmhlaWdodCxlLmRlcHRoLGUud2lkdGhTZWdtZW50cyxlLmhlaWdodFNlZ21lbnRzLGUuZGVwdGhTZWdtZW50cyl9fWZ1bmN0aW9uIGNsb25lVW5pZm9ybXMocyl7Y29uc3QgZT17fTtmb3IoY29uc3QgdCBpbiBzKXtlW3RdPXt9O2Zvcihjb25zdCBuIGluIHNbdF0pe2NvbnN0IGk9c1t0XVtuXTtpJiYoaS5pc0NvbG9yfHxpLmlzTWF0cml4M3x8aS5pc01hdHJpeDR8fGkuaXNWZWN0b3IyfHxpLmlzVmVjdG9yM3x8aS5pc1ZlY3RvcjR8fGkuaXNUZXh0dXJlfHxpLmlzUXVhdGVybmlvbik/ZVt0XVtuXT1pLmNsb25lKCk6QXJyYXkuaXNBcnJheShpKT9lW3RdW25dPWkuc2xpY2UoKTplW3RdW25dPWl9fXJldHVybiBlfWZ1bmN0aW9uIG1lcmdlVW5pZm9ybXMocyl7Y29uc3QgZT17fTtmb3IobGV0IHQ9MDt0PHMubGVuZ3RoO3QrKyl7Y29uc3Qgbj1jbG9uZVVuaWZvcm1zKHNbdF0pO2Zvcihjb25zdCBpIGluIG4pZVtpXT1uW2ldfXJldHVybiBlfWNvbnN0IFVuaWZvcm1zVXRpbHM9e2Nsb25lOmNsb25lVW5pZm9ybXMsbWVyZ2U6bWVyZ2VVbmlmb3Jtc307dmFyIGRlZmF1bHRfdmVydGV4PWB2b2lkIG1haW4oKSB7CglnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiBtb2RlbFZpZXdNYXRyaXggKiB2ZWM0KCBwb3NpdGlvbiwgMS4wICk7Cn1gLGRlZmF1bHRfZnJhZ21lbnQ9YHZvaWQgbWFpbigpIHsKCWdsX0ZyYWdDb2xvciA9IHZlYzQoIDEuMCwgMC4wLCAwLjAsIDEuMCApOwp9YDtjbGFzcyBTaGFkZXJNYXRlcmlhbCBleHRlbmRzIE1hdGVyaWFse2NvbnN0cnVjdG9yKGUpe3N1cGVyKCk7dGhpcy50eXBlPSJTaGFkZXJNYXRlcmlhbCIsdGhpcy5kZWZpbmVzPXt9LHRoaXMudW5pZm9ybXM9e30sdGhpcy52ZXJ0ZXhTaGFkZXI9ZGVmYXVsdF92ZXJ0ZXgsdGhpcy5mcmFnbWVudFNoYWRlcj1kZWZhdWx0X2ZyYWdtZW50LHRoaXMubGluZXdpZHRoPTEsdGhpcy53aXJlZnJhbWU9ITEsdGhpcy53aXJlZnJhbWVMaW5ld2lkdGg9MSx0aGlzLmZvZz0hMSx0aGlzLmxpZ2h0cz0hMSx0aGlzLmNsaXBwaW5nPSExLHRoaXMuZXh0ZW5zaW9ucz17ZGVyaXZhdGl2ZXM6ITEsZnJhZ0RlcHRoOiExLGRyYXdCdWZmZXJzOiExLHNoYWRlclRleHR1cmVMT0Q6ITF9LHRoaXMuZGVmYXVsdEF0dHJpYnV0ZVZhbHVlcz17Y29sb3I6WzEsMSwxXSx1djpbMCwwXSx1djI6WzAsMF19LHRoaXMuaW5kZXgwQXR0cmlidXRlTmFtZT12b2lkIDAsdGhpcy51bmlmb3Jtc05lZWRVcGRhdGU9ITEsdGhpcy5nbHNsVmVyc2lvbj1udWxsLGUhPT12b2lkIDAmJihlLmF0dHJpYnV0ZXMhPT12b2lkIDAmJmNvbnNvbGUuZXJyb3IoIlRIUkVFLlNoYWRlck1hdGVyaWFsOiBhdHRyaWJ1dGVzIHNob3VsZCBub3cgYmUgZGVmaW5lZCBpbiBUSFJFRS5CdWZmZXJHZW9tZXRyeSBpbnN0ZWFkLiIpLHRoaXMuc2V0VmFsdWVzKGUpKX1jb3B5KGUpe3JldHVybiBzdXBlci5jb3B5KGUpLHRoaXMuZnJhZ21lbnRTaGFkZXI9ZS5mcmFnbWVudFNoYWRlcix0aGlzLnZlcnRleFNoYWRlcj1lLnZlcnRleFNoYWRlcix0aGlzLnVuaWZvcm1zPWNsb25lVW5pZm9ybXMoZS51bmlmb3JtcyksdGhpcy5kZWZpbmVzPU9iamVjdC5hc3NpZ24oe30sZS5kZWZpbmVzKSx0aGlzLndpcmVmcmFtZT1lLndpcmVmcmFtZSx0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD1lLndpcmVmcmFtZUxpbmV3aWR0aCx0aGlzLmxpZ2h0cz1lLmxpZ2h0cyx0aGlzLmNsaXBwaW5nPWUuY2xpcHBpbmcsdGhpcy5leHRlbnNpb25zPU9iamVjdC5hc3NpZ24oe30sZS5leHRlbnNpb25zKSx0aGlzLmdsc2xWZXJzaW9uPWUuZ2xzbFZlcnNpb24sdGhpc310b0pTT04oZSl7Y29uc3QgdD1zdXBlci50b0pTT04oZSk7dC5nbHNsVmVyc2lvbj10aGlzLmdsc2xWZXJzaW9uLHQudW5pZm9ybXM9e307Zm9yKGNvbnN0IGkgaW4gdGhpcy51bmlmb3Jtcyl7Y29uc3QgYT10aGlzLnVuaWZvcm1zW2ldLnZhbHVlO2EmJmEuaXNUZXh0dXJlP3QudW5pZm9ybXNbaV09e3R5cGU6InQiLHZhbHVlOmEudG9KU09OKGUpLnV1aWR9OmEmJmEuaXNDb2xvcj90LnVuaWZvcm1zW2ldPXt0eXBlOiJjIix2YWx1ZTphLmdldEhleCgpfTphJiZhLmlzVmVjdG9yMj90LnVuaWZvcm1zW2ldPXt0eXBlOiJ2MiIsdmFsdWU6YS50b0FycmF5KCl9OmEmJmEuaXNWZWN0b3IzP3QudW5pZm9ybXNbaV09e3R5cGU6InYzIix2YWx1ZTphLnRvQXJyYXkoKX06YSYmYS5pc1ZlY3RvcjQ/dC51bmlmb3Jtc1tpXT17dHlwZToidjQiLHZhbHVlOmEudG9BcnJheSgpfTphJiZhLmlzTWF0cml4Mz90LnVuaWZvcm1zW2ldPXt0eXBlOiJtMyIsdmFsdWU6YS50b0FycmF5KCl9OmEmJmEuaXNNYXRyaXg0P3QudW5pZm9ybXNbaV09e3R5cGU6Im00Iix2YWx1ZTphLnRvQXJyYXkoKX06dC51bmlmb3Jtc1tpXT17dmFsdWU6YX19T2JqZWN0LmtleXModGhpcy5kZWZpbmVzKS5sZW5ndGg+MCYmKHQuZGVmaW5lcz10aGlzLmRlZmluZXMpLHQudmVydGV4U2hhZGVyPXRoaXMudmVydGV4U2hhZGVyLHQuZnJhZ21lbnRTaGFkZXI9dGhpcy5mcmFnbWVudFNoYWRlcjtjb25zdCBuPXt9O2Zvcihjb25zdCBpIGluIHRoaXMuZXh0ZW5zaW9ucyl0aGlzLmV4dGVuc2lvbnNbaV09PT0hMCYmKG5baV09ITApO3JldHVybiBPYmplY3Qua2V5cyhuKS5sZW5ndGg+MCYmKHQuZXh0ZW5zaW9ucz1uKSx0fX1TaGFkZXJNYXRlcmlhbC5wcm90b3R5cGUuaXNTaGFkZXJNYXRlcmlhbD0hMDtjbGFzcyBDYW1lcmEgZXh0ZW5kcyBPYmplY3QzRHtjb25zdHJ1Y3Rvcigpe3N1cGVyKCk7dGhpcy50eXBlPSJDYW1lcmEiLHRoaXMubWF0cml4V29ybGRJbnZlcnNlPW5ldyBNYXRyaXg0LHRoaXMucHJvamVjdGlvbk1hdHJpeD1uZXcgTWF0cml4NCx0aGlzLnByb2plY3Rpb25NYXRyaXhJbnZlcnNlPW5ldyBNYXRyaXg0fWNvcHkoZSx0KXtyZXR1cm4gc3VwZXIuY29weShlLHQpLHRoaXMubWF0cml4V29ybGRJbnZlcnNlLmNvcHkoZS5tYXRyaXhXb3JsZEludmVyc2UpLHRoaXMucHJvamVjdGlvbk1hdHJpeC5jb3B5KGUucHJvamVjdGlvbk1hdHJpeCksdGhpcy5wcm9qZWN0aW9uTWF0cml4SW52ZXJzZS5jb3B5KGUucHJvamVjdGlvbk1hdHJpeEludmVyc2UpLHRoaXN9Z2V0V29ybGREaXJlY3Rpb24oZSl7dGhpcy51cGRhdGVXb3JsZE1hdHJpeCghMCwhMSk7Y29uc3QgdD10aGlzLm1hdHJpeFdvcmxkLmVsZW1lbnRzO3JldHVybiBlLnNldCgtdFs4XSwtdFs5XSwtdFsxMF0pLm5vcm1hbGl6ZSgpfXVwZGF0ZU1hdHJpeFdvcmxkKGUpe3N1cGVyLnVwZGF0ZU1hdHJpeFdvcmxkKGUpLHRoaXMubWF0cml4V29ybGRJbnZlcnNlLmNvcHkodGhpcy5tYXRyaXhXb3JsZCkuaW52ZXJ0KCl9dXBkYXRlV29ybGRNYXRyaXgoZSx0KXtzdXBlci51cGRhdGVXb3JsZE1hdHJpeChlLHQpLHRoaXMubWF0cml4V29ybGRJbnZlcnNlLmNvcHkodGhpcy5tYXRyaXhXb3JsZCkuaW52ZXJ0KCl9Y2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoKS5jb3B5KHRoaXMpfX1DYW1lcmEucHJvdG90eXBlLmlzQ2FtZXJhPSEwO2NsYXNzIFBlcnNwZWN0aXZlQ2FtZXJhIGV4dGVuZHMgQ2FtZXJhe2NvbnN0cnVjdG9yKGU9NTAsdD0xLG49LjEsaT0yZTMpe3N1cGVyKCk7dGhpcy50eXBlPSJQZXJzcGVjdGl2ZUNhbWVyYSIsdGhpcy5mb3Y9ZSx0aGlzLnpvb209MSx0aGlzLm5lYXI9bix0aGlzLmZhcj1pLHRoaXMuZm9jdXM9MTAsdGhpcy5hc3BlY3Q9dCx0aGlzLnZpZXc9bnVsbCx0aGlzLmZpbG1HYXVnZT0zNSx0aGlzLmZpbG1PZmZzZXQ9MCx0aGlzLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKX1jb3B5KGUsdCl7cmV0dXJuIHN1cGVyLmNvcHkoZSx0KSx0aGlzLmZvdj1lLmZvdix0aGlzLnpvb209ZS56b29tLHRoaXMubmVhcj1lLm5lYXIsdGhpcy5mYXI9ZS5mYXIsdGhpcy5mb2N1cz1lLmZvY3VzLHRoaXMuYXNwZWN0PWUuYXNwZWN0LHRoaXMudmlldz1lLnZpZXc9PT1udWxsP251bGw6T2JqZWN0LmFzc2lnbih7fSxlLnZpZXcpLHRoaXMuZmlsbUdhdWdlPWUuZmlsbUdhdWdlLHRoaXMuZmlsbU9mZnNldD1lLmZpbG1PZmZzZXQsdGhpc31zZXRGb2NhbExlbmd0aChlKXtjb25zdCB0PS41KnRoaXMuZ2V0RmlsbUhlaWdodCgpL2U7dGhpcy5mb3Y9UkFEMkRFRyoyKk1hdGguYXRhbih0KSx0aGlzLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKX1nZXRGb2NhbExlbmd0aCgpe2NvbnN0IGU9TWF0aC50YW4oREVHMlJBRCouNSp0aGlzLmZvdik7cmV0dXJuIC41KnRoaXMuZ2V0RmlsbUhlaWdodCgpL2V9Z2V0RWZmZWN0aXZlRk9WKCl7cmV0dXJuIFJBRDJERUcqMipNYXRoLmF0YW4oTWF0aC50YW4oREVHMlJBRCouNSp0aGlzLmZvdikvdGhpcy56b29tKX1nZXRGaWxtV2lkdGgoKXtyZXR1cm4gdGhpcy5maWxtR2F1Z2UqTWF0aC5taW4odGhpcy5hc3BlY3QsMSl9Z2V0RmlsbUhlaWdodCgpe3JldHVybiB0aGlzLmZpbG1HYXVnZS9NYXRoLm1heCh0aGlzLmFzcGVjdCwxKX1zZXRWaWV3T2Zmc2V0KGUsdCxuLGkscixhKXt0aGlzLmFzcGVjdD1lL3QsdGhpcy52aWV3PT09bnVsbCYmKHRoaXMudmlldz17ZW5hYmxlZDohMCxmdWxsV2lkdGg6MSxmdWxsSGVpZ2h0OjEsb2Zmc2V0WDowLG9mZnNldFk6MCx3aWR0aDoxLGhlaWdodDoxfSksdGhpcy52aWV3LmVuYWJsZWQ9ITAsdGhpcy52aWV3LmZ1bGxXaWR0aD1lLHRoaXMudmlldy5mdWxsSGVpZ2h0PXQsdGhpcy52aWV3Lm9mZnNldFg9bix0aGlzLnZpZXcub2Zmc2V0WT1pLHRoaXMudmlldy53aWR0aD1yLHRoaXMudmlldy5oZWlnaHQ9YSx0aGlzLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKX1jbGVhclZpZXdPZmZzZXQoKXt0aGlzLnZpZXchPT1udWxsJiYodGhpcy52aWV3LmVuYWJsZWQ9ITEpLHRoaXMudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpfXVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKXtjb25zdCBlPXRoaXMubmVhcjtsZXQgdD1lKk1hdGgudGFuKERFRzJSQUQqLjUqdGhpcy5mb3YpL3RoaXMuem9vbSxuPTIqdCxpPXRoaXMuYXNwZWN0Km4scj0tLjUqaTtjb25zdCBhPXRoaXMudmlldztpZih0aGlzLnZpZXchPT1udWxsJiZ0aGlzLnZpZXcuZW5hYmxlZCl7Y29uc3QgbD1hLmZ1bGxXaWR0aCxjPWEuZnVsbEhlaWdodDtyKz1hLm9mZnNldFgqaS9sLHQtPWEub2Zmc2V0WSpuL2MsaSo9YS53aWR0aC9sLG4qPWEuaGVpZ2h0L2N9Y29uc3Qgbz10aGlzLmZpbG1PZmZzZXQ7byE9PTAmJihyKz1lKm8vdGhpcy5nZXRGaWxtV2lkdGgoKSksdGhpcy5wcm9qZWN0aW9uTWF0cml4Lm1ha2VQZXJzcGVjdGl2ZShyLHIraSx0LHQtbixlLHRoaXMuZmFyKSx0aGlzLnByb2plY3Rpb25NYXRyaXhJbnZlcnNlLmNvcHkodGhpcy5wcm9qZWN0aW9uTWF0cml4KS5pbnZlcnQoKX10b0pTT04oZSl7Y29uc3QgdD1zdXBlci50b0pTT04oZSk7cmV0dXJuIHQub2JqZWN0LmZvdj10aGlzLmZvdix0Lm9iamVjdC56b29tPXRoaXMuem9vbSx0Lm9iamVjdC5uZWFyPXRoaXMubmVhcix0Lm9iamVjdC5mYXI9dGhpcy5mYXIsdC5vYmplY3QuZm9jdXM9dGhpcy5mb2N1cyx0Lm9iamVjdC5hc3BlY3Q9dGhpcy5hc3BlY3QsdGhpcy52aWV3IT09bnVsbCYmKHQub2JqZWN0LnZpZXc9T2JqZWN0LmFzc2lnbih7fSx0aGlzLnZpZXcpKSx0Lm9iamVjdC5maWxtR2F1Z2U9dGhpcy5maWxtR2F1Z2UsdC5vYmplY3QuZmlsbU9mZnNldD10aGlzLmZpbG1PZmZzZXQsdH19UGVyc3BlY3RpdmVDYW1lcmEucHJvdG90eXBlLmlzUGVyc3BlY3RpdmVDYW1lcmE9ITA7Y29uc3QgZm92PTkwLGFzcGVjdD0xO2NsYXNzIEN1YmVDYW1lcmEgZXh0ZW5kcyBPYmplY3QzRHtjb25zdHJ1Y3RvcihlLHQsbil7c3VwZXIoKTtpZih0aGlzLnR5cGU9IkN1YmVDYW1lcmEiLG4uaXNXZWJHTEN1YmVSZW5kZXJUYXJnZXQhPT0hMCl7Y29uc29sZS5lcnJvcigiVEhSRUUuQ3ViZUNhbWVyYTogVGhlIGNvbnN0cnVjdG9yIG5vdyBleHBlY3RzIGFuIGluc3RhbmNlIG9mIFdlYkdMQ3ViZVJlbmRlclRhcmdldCBhcyB0aGlyZCBwYXJhbWV0ZXIuIik7cmV0dXJufXRoaXMucmVuZGVyVGFyZ2V0PW47Y29uc3QgaT1uZXcgUGVyc3BlY3RpdmVDYW1lcmEoZm92LGFzcGVjdCxlLHQpO2kubGF5ZXJzPXRoaXMubGF5ZXJzLGkudXAuc2V0KDAsLTEsMCksaS5sb29rQXQobmV3IFZlY3RvcjMoMSwwLDApKSx0aGlzLmFkZChpKTtjb25zdCByPW5ldyBQZXJzcGVjdGl2ZUNhbWVyYShmb3YsYXNwZWN0LGUsdCk7ci5sYXllcnM9dGhpcy5sYXllcnMsci51cC5zZXQoMCwtMSwwKSxyLmxvb2tBdChuZXcgVmVjdG9yMygtMSwwLDApKSx0aGlzLmFkZChyKTtjb25zdCBhPW5ldyBQZXJzcGVjdGl2ZUNhbWVyYShmb3YsYXNwZWN0LGUsdCk7YS5sYXllcnM9dGhpcy5sYXllcnMsYS51cC5zZXQoMCwwLDEpLGEubG9va0F0KG5ldyBWZWN0b3IzKDAsMSwwKSksdGhpcy5hZGQoYSk7Y29uc3Qgbz1uZXcgUGVyc3BlY3RpdmVDYW1lcmEoZm92LGFzcGVjdCxlLHQpO28ubGF5ZXJzPXRoaXMubGF5ZXJzLG8udXAuc2V0KDAsMCwtMSksby5sb29rQXQobmV3IFZlY3RvcjMoMCwtMSwwKSksdGhpcy5hZGQobyk7Y29uc3QgbD1uZXcgUGVyc3BlY3RpdmVDYW1lcmEoZm92LGFzcGVjdCxlLHQpO2wubGF5ZXJzPXRoaXMubGF5ZXJzLGwudXAuc2V0KDAsLTEsMCksbC5sb29rQXQobmV3IFZlY3RvcjMoMCwwLDEpKSx0aGlzLmFkZChsKTtjb25zdCBjPW5ldyBQZXJzcGVjdGl2ZUNhbWVyYShmb3YsYXNwZWN0LGUsdCk7Yy5sYXllcnM9dGhpcy5sYXllcnMsYy51cC5zZXQoMCwtMSwwKSxjLmxvb2tBdChuZXcgVmVjdG9yMygwLDAsLTEpKSx0aGlzLmFkZChjKX11cGRhdGUoZSx0KXt0aGlzLnBhcmVudD09PW51bGwmJnRoaXMudXBkYXRlTWF0cml4V29ybGQoKTtjb25zdCBuPXRoaXMucmVuZGVyVGFyZ2V0LFtpLHIsYSxvLGwsY109dGhpcy5jaGlsZHJlbixoPWUueHIuZW5hYmxlZCx1PWUuZ2V0UmVuZGVyVGFyZ2V0KCk7ZS54ci5lbmFibGVkPSExO2NvbnN0IGQ9bi50ZXh0dXJlLmdlbmVyYXRlTWlwbWFwcztuLnRleHR1cmUuZ2VuZXJhdGVNaXBtYXBzPSExLGUuc2V0UmVuZGVyVGFyZ2V0KG4sMCksZS5yZW5kZXIodCxpKSxlLnNldFJlbmRlclRhcmdldChuLDEpLGUucmVuZGVyKHQsciksZS5zZXRSZW5kZXJUYXJnZXQobiwyKSxlLnJlbmRlcih0LGEpLGUuc2V0UmVuZGVyVGFyZ2V0KG4sMyksZS5yZW5kZXIodCxvKSxlLnNldFJlbmRlclRhcmdldChuLDQpLGUucmVuZGVyKHQsbCksbi50ZXh0dXJlLmdlbmVyYXRlTWlwbWFwcz1kLGUuc2V0UmVuZGVyVGFyZ2V0KG4sNSksZS5yZW5kZXIodCxjKSxlLnNldFJlbmRlclRhcmdldCh1KSxlLnhyLmVuYWJsZWQ9aCxuLnRleHR1cmUubmVlZHNQTVJFTVVwZGF0ZT0hMH19Y2xhc3MgQ3ViZVRleHR1cmUgZXh0ZW5kcyBUZXh0dXJle2NvbnN0cnVjdG9yKGUsdCxuLGkscixhLG8sbCxjLGgpe2U9ZSE9PXZvaWQgMD9lOltdLHQ9dCE9PXZvaWQgMD90OjMwMTtzdXBlcihlLHQsbixpLHIsYSxvLGwsYyxoKTt0aGlzLmZsaXBZPSExfWdldCBpbWFnZXMoKXtyZXR1cm4gdGhpcy5pbWFnZX1zZXQgaW1hZ2VzKGUpe3RoaXMuaW1hZ2U9ZX19Q3ViZVRleHR1cmUucHJvdG90eXBlLmlzQ3ViZVRleHR1cmU9ITA7Y2xhc3MgV2ViR0xDdWJlUmVuZGVyVGFyZ2V0IGV4dGVuZHMgV2ViR0xSZW5kZXJUYXJnZXR7Y29uc3RydWN0b3IoZSx0PXt9KXtzdXBlcihlLGUsdCk7Y29uc3Qgbj17d2lkdGg6ZSxoZWlnaHQ6ZSxkZXB0aDoxfSxpPVtuLG4sbixuLG4sbl07dGhpcy50ZXh0dXJlPW5ldyBDdWJlVGV4dHVyZShpLHQubWFwcGluZyx0LndyYXBTLHQud3JhcFQsdC5tYWdGaWx0ZXIsdC5taW5GaWx0ZXIsdC5mb3JtYXQsdC50eXBlLHQuYW5pc290cm9weSx0LmVuY29kaW5nKSx0aGlzLnRleHR1cmUuaXNSZW5kZXJUYXJnZXRUZXh0dXJlPSEwLHRoaXMudGV4dHVyZS5nZW5lcmF0ZU1pcG1hcHM9dC5nZW5lcmF0ZU1pcG1hcHMhPT12b2lkIDA/dC5nZW5lcmF0ZU1pcG1hcHM6ITEsdGhpcy50ZXh0dXJlLm1pbkZpbHRlcj10Lm1pbkZpbHRlciE9PXZvaWQgMD90Lm1pbkZpbHRlcjoxMDA2fWZyb21FcXVpcmVjdGFuZ3VsYXJUZXh0dXJlKGUsdCl7dGhpcy50ZXh0dXJlLnR5cGU9dC50eXBlLHRoaXMudGV4dHVyZS5mb3JtYXQ9MTAyMyx0aGlzLnRleHR1cmUuZW5jb2Rpbmc9dC5lbmNvZGluZyx0aGlzLnRleHR1cmUuZ2VuZXJhdGVNaXBtYXBzPXQuZ2VuZXJhdGVNaXBtYXBzLHRoaXMudGV4dHVyZS5taW5GaWx0ZXI9dC5taW5GaWx0ZXIsdGhpcy50ZXh0dXJlLm1hZ0ZpbHRlcj10Lm1hZ0ZpbHRlcjtjb25zdCBuPXt1bmlmb3Jtczp7dEVxdWlyZWN0Ont2YWx1ZTpudWxsfX0sdmVydGV4U2hhZGVyOmAKCgkJCQl2YXJ5aW5nIHZlYzMgdldvcmxkRGlyZWN0aW9uOwoKCQkJCXZlYzMgdHJhbnNmb3JtRGlyZWN0aW9uKCBpbiB2ZWMzIGRpciwgaW4gbWF0NCBtYXRyaXggKSB7CgoJCQkJCXJldHVybiBub3JtYWxpemUoICggbWF0cml4ICogdmVjNCggZGlyLCAwLjAgKSApLnh5eiApOwoKCQkJCX0KCgkJCQl2b2lkIG1haW4oKSB7CgoJCQkJCXZXb3JsZERpcmVjdGlvbiA9IHRyYW5zZm9ybURpcmVjdGlvbiggcG9zaXRpb24sIG1vZGVsTWF0cml4ICk7CgoJCQkJCSNpbmNsdWRlIDxiZWdpbl92ZXJ0ZXg+CgkJCQkJI2luY2x1ZGUgPHByb2plY3RfdmVydGV4PgoKCQkJCX0KCQkJYCxmcmFnbWVudFNoYWRlcjpgCgoJCQkJdW5pZm9ybSBzYW1wbGVyMkQgdEVxdWlyZWN0OwoKCQkJCXZhcnlpbmcgdmVjMyB2V29ybGREaXJlY3Rpb247CgoJCQkJI2luY2x1ZGUgPGNvbW1vbj4KCgkJCQl2b2lkIG1haW4oKSB7CgoJCQkJCXZlYzMgZGlyZWN0aW9uID0gbm9ybWFsaXplKCB2V29ybGREaXJlY3Rpb24gKTsKCgkJCQkJdmVjMiBzYW1wbGVVViA9IGVxdWlyZWN0VXYoIGRpcmVjdGlvbiApOwoKCQkJCQlnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQoIHRFcXVpcmVjdCwgc2FtcGxlVVYgKTsKCgkJCQl9CgkJCWB9LGk9bmV3IEJveEdlb21ldHJ5KDUsNSw1KSxyPW5ldyBTaGFkZXJNYXRlcmlhbCh7bmFtZToiQ3ViZW1hcEZyb21FcXVpcmVjdCIsdW5pZm9ybXM6Y2xvbmVVbmlmb3JtcyhuLnVuaWZvcm1zKSx2ZXJ0ZXhTaGFkZXI6bi52ZXJ0ZXhTaGFkZXIsZnJhZ21lbnRTaGFkZXI6bi5mcmFnbWVudFNoYWRlcixzaWRlOjEsYmxlbmRpbmc6MH0pO3IudW5pZm9ybXMudEVxdWlyZWN0LnZhbHVlPXQ7Y29uc3QgYT1uZXcgTWVzaChpLHIpLG89dC5taW5GaWx0ZXI7cmV0dXJuIHQubWluRmlsdGVyPT09MTAwOCYmKHQubWluRmlsdGVyPTEwMDYpLG5ldyBDdWJlQ2FtZXJhKDEsMTAsdGhpcykudXBkYXRlKGUsYSksdC5taW5GaWx0ZXI9byxhLmdlb21ldHJ5LmRpc3Bvc2UoKSxhLm1hdGVyaWFsLmRpc3Bvc2UoKSx0aGlzfWNsZWFyKGUsdCxuLGkpe2NvbnN0IHI9ZS5nZXRSZW5kZXJUYXJnZXQoKTtmb3IobGV0IGE9MDthPDY7YSsrKWUuc2V0UmVuZGVyVGFyZ2V0KHRoaXMsYSksZS5jbGVhcih0LG4saSk7ZS5zZXRSZW5kZXJUYXJnZXQocil9fVdlYkdMQ3ViZVJlbmRlclRhcmdldC5wcm90b3R5cGUuaXNXZWJHTEN1YmVSZW5kZXJUYXJnZXQ9ITA7Y29uc3QgX3ZlY3RvcjE9bmV3IFZlY3RvcjMsX3ZlY3RvcjI9bmV3IFZlY3RvcjMsX25vcm1hbE1hdHJpeD1uZXcgTWF0cml4MztjbGFzcyBQbGFuZXtjb25zdHJ1Y3RvcihlPW5ldyBWZWN0b3IzKDEsMCwwKSx0PTApe3RoaXMubm9ybWFsPWUsdGhpcy5jb25zdGFudD10fXNldChlLHQpe3JldHVybiB0aGlzLm5vcm1hbC5jb3B5KGUpLHRoaXMuY29uc3RhbnQ9dCx0aGlzfXNldENvbXBvbmVudHMoZSx0LG4saSl7cmV0dXJuIHRoaXMubm9ybWFsLnNldChlLHQsbiksdGhpcy5jb25zdGFudD1pLHRoaXN9c2V0RnJvbU5vcm1hbEFuZENvcGxhbmFyUG9pbnQoZSx0KXtyZXR1cm4gdGhpcy5ub3JtYWwuY29weShlKSx0aGlzLmNvbnN0YW50PS10LmRvdCh0aGlzLm5vcm1hbCksdGhpc31zZXRGcm9tQ29wbGFuYXJQb2ludHMoZSx0LG4pe2NvbnN0IGk9X3ZlY3RvcjEuc3ViVmVjdG9ycyhuLHQpLmNyb3NzKF92ZWN0b3IyLnN1YlZlY3RvcnMoZSx0KSkubm9ybWFsaXplKCk7cmV0dXJuIHRoaXMuc2V0RnJvbU5vcm1hbEFuZENvcGxhbmFyUG9pbnQoaSxlKSx0aGlzfWNvcHkoZSl7cmV0dXJuIHRoaXMubm9ybWFsLmNvcHkoZS5ub3JtYWwpLHRoaXMuY29uc3RhbnQ9ZS5jb25zdGFudCx0aGlzfW5vcm1hbGl6ZSgpe2NvbnN0IGU9MS90aGlzLm5vcm1hbC5sZW5ndGgoKTtyZXR1cm4gdGhpcy5ub3JtYWwubXVsdGlwbHlTY2FsYXIoZSksdGhpcy5jb25zdGFudCo9ZSx0aGlzfW5lZ2F0ZSgpe3JldHVybiB0aGlzLmNvbnN0YW50Kj0tMSx0aGlzLm5vcm1hbC5uZWdhdGUoKSx0aGlzfWRpc3RhbmNlVG9Qb2ludChlKXtyZXR1cm4gdGhpcy5ub3JtYWwuZG90KGUpK3RoaXMuY29uc3RhbnR9ZGlzdGFuY2VUb1NwaGVyZShlKXtyZXR1cm4gdGhpcy5kaXN0YW5jZVRvUG9pbnQoZS5jZW50ZXIpLWUucmFkaXVzfXByb2plY3RQb2ludChlLHQpe3JldHVybiB0LmNvcHkodGhpcy5ub3JtYWwpLm11bHRpcGx5U2NhbGFyKC10aGlzLmRpc3RhbmNlVG9Qb2ludChlKSkuYWRkKGUpfWludGVyc2VjdExpbmUoZSx0KXtjb25zdCBuPWUuZGVsdGEoX3ZlY3RvcjEpLGk9dGhpcy5ub3JtYWwuZG90KG4pO2lmKGk9PT0wKXJldHVybiB0aGlzLmRpc3RhbmNlVG9Qb2ludChlLnN0YXJ0KT09PTA/dC5jb3B5KGUuc3RhcnQpOm51bGw7Y29uc3Qgcj0tKGUuc3RhcnQuZG90KHRoaXMubm9ybWFsKSt0aGlzLmNvbnN0YW50KS9pO3JldHVybiByPDB8fHI+MT9udWxsOnQuY29weShuKS5tdWx0aXBseVNjYWxhcihyKS5hZGQoZS5zdGFydCl9aW50ZXJzZWN0c0xpbmUoZSl7Y29uc3QgdD10aGlzLmRpc3RhbmNlVG9Qb2ludChlLnN0YXJ0KSxuPXRoaXMuZGlzdGFuY2VUb1BvaW50KGUuZW5kKTtyZXR1cm4gdDwwJiZuPjB8fG48MCYmdD4wfWludGVyc2VjdHNCb3goZSl7cmV0dXJuIGUuaW50ZXJzZWN0c1BsYW5lKHRoaXMpfWludGVyc2VjdHNTcGhlcmUoZSl7cmV0dXJuIGUuaW50ZXJzZWN0c1BsYW5lKHRoaXMpfWNvcGxhbmFyUG9pbnQoZSl7cmV0dXJuIGUuY29weSh0aGlzLm5vcm1hbCkubXVsdGlwbHlTY2FsYXIoLXRoaXMuY29uc3RhbnQpfWFwcGx5TWF0cml4NChlLHQpe2NvbnN0IG49dHx8X25vcm1hbE1hdHJpeC5nZXROb3JtYWxNYXRyaXgoZSksaT10aGlzLmNvcGxhbmFyUG9pbnQoX3ZlY3RvcjEpLmFwcGx5TWF0cml4NChlKSxyPXRoaXMubm9ybWFsLmFwcGx5TWF0cml4MyhuKS5ub3JtYWxpemUoKTtyZXR1cm4gdGhpcy5jb25zdGFudD0taS5kb3QociksdGhpc310cmFuc2xhdGUoZSl7cmV0dXJuIHRoaXMuY29uc3RhbnQtPWUuZG90KHRoaXMubm9ybWFsKSx0aGlzfWVxdWFscyhlKXtyZXR1cm4gZS5ub3JtYWwuZXF1YWxzKHRoaXMubm9ybWFsKSYmZS5jb25zdGFudD09PXRoaXMuY29uc3RhbnR9Y2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoKS5jb3B5KHRoaXMpfX1QbGFuZS5wcm90b3R5cGUuaXNQbGFuZT0hMDtjb25zdCBfc3BoZXJlJDI9bmV3IFNwaGVyZSxfdmVjdG9yJDc9bmV3IFZlY3RvcjM7Y2xhc3MgRnJ1c3R1bXtjb25zdHJ1Y3RvcihlPW5ldyBQbGFuZSx0PW5ldyBQbGFuZSxuPW5ldyBQbGFuZSxpPW5ldyBQbGFuZSxyPW5ldyBQbGFuZSxhPW5ldyBQbGFuZSl7dGhpcy5wbGFuZXM9W2UsdCxuLGkscixhXX1zZXQoZSx0LG4saSxyLGEpe2NvbnN0IG89dGhpcy5wbGFuZXM7cmV0dXJuIG9bMF0uY29weShlKSxvWzFdLmNvcHkodCksb1syXS5jb3B5KG4pLG9bM10uY29weShpKSxvWzRdLmNvcHkociksb1s1XS5jb3B5KGEpLHRoaXN9Y29weShlKXtjb25zdCB0PXRoaXMucGxhbmVzO2ZvcihsZXQgbj0wO248NjtuKyspdFtuXS5jb3B5KGUucGxhbmVzW25dKTtyZXR1cm4gdGhpc31zZXRGcm9tUHJvamVjdGlvbk1hdHJpeChlKXtjb25zdCB0PXRoaXMucGxhbmVzLG49ZS5lbGVtZW50cyxpPW5bMF0scj1uWzFdLGE9blsyXSxvPW5bM10sbD1uWzRdLGM9bls1XSxoPW5bNl0sdT1uWzddLGQ9bls4XSxmPW5bOV0sZz1uWzEwXSxfPW5bMTFdLHk9blsxMl0sbT1uWzEzXSxwPW5bMTRdLFQ9blsxNV07cmV0dXJuIHRbMF0uc2V0Q29tcG9uZW50cyhvLWksdS1sLF8tZCxULXkpLm5vcm1hbGl6ZSgpLHRbMV0uc2V0Q29tcG9uZW50cyhvK2ksdStsLF8rZCxUK3kpLm5vcm1hbGl6ZSgpLHRbMl0uc2V0Q29tcG9uZW50cyhvK3IsdStjLF8rZixUK20pLm5vcm1hbGl6ZSgpLHRbM10uc2V0Q29tcG9uZW50cyhvLXIsdS1jLF8tZixULW0pLm5vcm1hbGl6ZSgpLHRbNF0uc2V0Q29tcG9uZW50cyhvLWEsdS1oLF8tZyxULXApLm5vcm1hbGl6ZSgpLHRbNV0uc2V0Q29tcG9uZW50cyhvK2EsdStoLF8rZyxUK3ApLm5vcm1hbGl6ZSgpLHRoaXN9aW50ZXJzZWN0c09iamVjdChlKXtjb25zdCB0PWUuZ2VvbWV0cnk7cmV0dXJuIHQuYm91bmRpbmdTcGhlcmU9PT1udWxsJiZ0LmNvbXB1dGVCb3VuZGluZ1NwaGVyZSgpLF9zcGhlcmUkMi5jb3B5KHQuYm91bmRpbmdTcGhlcmUpLmFwcGx5TWF0cml4NChlLm1hdHJpeFdvcmxkKSx0aGlzLmludGVyc2VjdHNTcGhlcmUoX3NwaGVyZSQyKX1pbnRlcnNlY3RzU3ByaXRlKGUpe3JldHVybiBfc3BoZXJlJDIuY2VudGVyLnNldCgwLDAsMCksX3NwaGVyZSQyLnJhZGl1cz0uNzA3MTA2NzgxMTg2NTQ3Nixfc3BoZXJlJDIuYXBwbHlNYXRyaXg0KGUubWF0cml4V29ybGQpLHRoaXMuaW50ZXJzZWN0c1NwaGVyZShfc3BoZXJlJDIpfWludGVyc2VjdHNTcGhlcmUoZSl7Y29uc3QgdD10aGlzLnBsYW5lcyxuPWUuY2VudGVyLGk9LWUucmFkaXVzO2ZvcihsZXQgcj0wO3I8NjtyKyspaWYodFtyXS5kaXN0YW5jZVRvUG9pbnQobik8aSlyZXR1cm4hMTtyZXR1cm4hMH1pbnRlcnNlY3RzQm94KGUpe2NvbnN0IHQ9dGhpcy5wbGFuZXM7Zm9yKGxldCBuPTA7bjw2O24rKyl7Y29uc3QgaT10W25dO2lmKF92ZWN0b3IkNy54PWkubm9ybWFsLng+MD9lLm1heC54OmUubWluLngsX3ZlY3RvciQ3Lnk9aS5ub3JtYWwueT4wP2UubWF4Lnk6ZS5taW4ueSxfdmVjdG9yJDcuej1pLm5vcm1hbC56PjA/ZS5tYXguejplLm1pbi56LGkuZGlzdGFuY2VUb1BvaW50KF92ZWN0b3IkNyk8MClyZXR1cm4hMX1yZXR1cm4hMH1jb250YWluc1BvaW50KGUpe2NvbnN0IHQ9dGhpcy5wbGFuZXM7Zm9yKGxldCBuPTA7bjw2O24rKylpZih0W25dLmRpc3RhbmNlVG9Qb2ludChlKTwwKXJldHVybiExO3JldHVybiEwfWNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCkuY29weSh0aGlzKX19ZnVuY3Rpb24gV2ViR0xBbmltYXRpb24oKXtsZXQgcz1udWxsLGU9ITEsdD1udWxsLG49bnVsbDtmdW5jdGlvbiBpKHIsYSl7dChyLGEpLG49cy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoaSl9cmV0dXJue3N0YXJ0OmZ1bmN0aW9uKCl7ZSE9PSEwJiZ0IT09bnVsbCYmKG49cy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoaSksZT0hMCl9LHN0b3A6ZnVuY3Rpb24oKXtzLmNhbmNlbEFuaW1hdGlvbkZyYW1lKG4pLGU9ITF9LHNldEFuaW1hdGlvbkxvb3A6ZnVuY3Rpb24ocil7dD1yfSxzZXRDb250ZXh0OmZ1bmN0aW9uKHIpe3M9cn19fWZ1bmN0aW9uIFdlYkdMQXR0cmlidXRlcyhzLGUpe2NvbnN0IHQ9ZS5pc1dlYkdMMixuPW5ldyBXZWFrTWFwO2Z1bmN0aW9uIGkoYyxoKXtjb25zdCB1PWMuYXJyYXksZD1jLnVzYWdlLGY9cy5jcmVhdGVCdWZmZXIoKTtzLmJpbmRCdWZmZXIoaCxmKSxzLmJ1ZmZlckRhdGEoaCx1LGQpLGMub25VcGxvYWRDYWxsYmFjaygpO2xldCBnO2lmKHUgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkpZz01MTI2O2Vsc2UgaWYodSBpbnN0YW5jZW9mIFVpbnQxNkFycmF5KWlmKGMuaXNGbG9hdDE2QnVmZmVyQXR0cmlidXRlKWlmKHQpZz01MTMxO2Vsc2UgdGhyb3cgbmV3IEVycm9yKCJUSFJFRS5XZWJHTEF0dHJpYnV0ZXM6IFVzYWdlIG9mIEZsb2F0MTZCdWZmZXJBdHRyaWJ1dGUgcmVxdWlyZXMgV2ViR0wyLiIpO2Vsc2UgZz01MTIzO2Vsc2UgaWYodSBpbnN0YW5jZW9mIEludDE2QXJyYXkpZz01MTIyO2Vsc2UgaWYodSBpbnN0YW5jZW9mIFVpbnQzMkFycmF5KWc9NTEyNTtlbHNlIGlmKHUgaW5zdGFuY2VvZiBJbnQzMkFycmF5KWc9NTEyNDtlbHNlIGlmKHUgaW5zdGFuY2VvZiBJbnQ4QXJyYXkpZz01MTIwO2Vsc2UgaWYodSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpZz01MTIxO2Vsc2UgaWYodSBpbnN0YW5jZW9mIFVpbnQ4Q2xhbXBlZEFycmF5KWc9NTEyMTtlbHNlIHRocm93IG5ldyBFcnJvcigiVEhSRUUuV2ViR0xBdHRyaWJ1dGVzOiBVbnN1cHBvcnRlZCBidWZmZXIgZGF0YSBmb3JtYXQ6ICIrdSk7cmV0dXJue2J1ZmZlcjpmLHR5cGU6ZyxieXRlc1BlckVsZW1lbnQ6dS5CWVRFU19QRVJfRUxFTUVOVCx2ZXJzaW9uOmMudmVyc2lvbn19ZnVuY3Rpb24gcihjLGgsdSl7Y29uc3QgZD1oLmFycmF5LGY9aC51cGRhdGVSYW5nZTtzLmJpbmRCdWZmZXIodSxjKSxmLmNvdW50PT09LTE/cy5idWZmZXJTdWJEYXRhKHUsMCxkKToodD9zLmJ1ZmZlclN1YkRhdGEodSxmLm9mZnNldCpkLkJZVEVTX1BFUl9FTEVNRU5ULGQsZi5vZmZzZXQsZi5jb3VudCk6cy5idWZmZXJTdWJEYXRhKHUsZi5vZmZzZXQqZC5CWVRFU19QRVJfRUxFTUVOVCxkLnN1YmFycmF5KGYub2Zmc2V0LGYub2Zmc2V0K2YuY291bnQpKSxmLmNvdW50PS0xKX1mdW5jdGlvbiBhKGMpe3JldHVybiBjLmlzSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUmJihjPWMuZGF0YSksbi5nZXQoYyl9ZnVuY3Rpb24gbyhjKXtjLmlzSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUmJihjPWMuZGF0YSk7Y29uc3QgaD1uLmdldChjKTtoJiYocy5kZWxldGVCdWZmZXIoaC5idWZmZXIpLG4uZGVsZXRlKGMpKX1mdW5jdGlvbiBsKGMsaCl7aWYoYy5pc0dMQnVmZmVyQXR0cmlidXRlKXtjb25zdCBkPW4uZ2V0KGMpOyghZHx8ZC52ZXJzaW9uPGMudmVyc2lvbikmJm4uc2V0KGMse2J1ZmZlcjpjLmJ1ZmZlcix0eXBlOmMudHlwZSxieXRlc1BlckVsZW1lbnQ6Yy5lbGVtZW50U2l6ZSx2ZXJzaW9uOmMudmVyc2lvbn0pO3JldHVybn1jLmlzSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUmJihjPWMuZGF0YSk7Y29uc3QgdT1uLmdldChjKTt1PT09dm9pZCAwP24uc2V0KGMsaShjLGgpKTp1LnZlcnNpb248Yy52ZXJzaW9uJiYocih1LmJ1ZmZlcixjLGgpLHUudmVyc2lvbj1jLnZlcnNpb24pfXJldHVybntnZXQ6YSxyZW1vdmU6byx1cGRhdGU6bH19Y2xhc3MgUGxhbmVHZW9tZXRyeSBleHRlbmRzIEJ1ZmZlckdlb21ldHJ5e2NvbnN0cnVjdG9yKGU9MSx0PTEsbj0xLGk9MSl7c3VwZXIoKTt0aGlzLnR5cGU9IlBsYW5lR2VvbWV0cnkiLHRoaXMucGFyYW1ldGVycz17d2lkdGg6ZSxoZWlnaHQ6dCx3aWR0aFNlZ21lbnRzOm4saGVpZ2h0U2VnbWVudHM6aX07Y29uc3Qgcj1lLzIsYT10LzIsbz1NYXRoLmZsb29yKG4pLGw9TWF0aC5mbG9vcihpKSxjPW8rMSxoPWwrMSx1PWUvbyxkPXQvbCxmPVtdLGc9W10sXz1bXSx5PVtdO2ZvcihsZXQgbT0wO208aDttKyspe2NvbnN0IHA9bSpkLWE7Zm9yKGxldCBUPTA7VDxjO1QrKyl7Y29uc3Qgdz1UKnUtcjtnLnB1c2godywtcCwwKSxfLnB1c2goMCwwLDEpLHkucHVzaChUL28pLHkucHVzaCgxLW0vbCl9fWZvcihsZXQgbT0wO208bDttKyspZm9yKGxldCBwPTA7cDxvO3ArKyl7Y29uc3QgVD1wK2MqbSx3PXArYyoobSsxKSxTPXArMStjKihtKzEpLFI9cCsxK2MqbTtmLnB1c2goVCx3LFIpLGYucHVzaCh3LFMsUil9dGhpcy5zZXRJbmRleChmKSx0aGlzLnNldEF0dHJpYnV0ZSgicG9zaXRpb24iLG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKGcsMykpLHRoaXMuc2V0QXR0cmlidXRlKCJub3JtYWwiLG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKF8sMykpLHRoaXMuc2V0QXR0cmlidXRlKCJ1diIsbmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUoeSwyKSl9c3RhdGljIGZyb21KU09OKGUpe3JldHVybiBuZXcgUGxhbmVHZW9tZXRyeShlLndpZHRoLGUuaGVpZ2h0LGUud2lkdGhTZWdtZW50cyxlLmhlaWdodFNlZ21lbnRzKX19dmFyIGFscGhhbWFwX2ZyYWdtZW50PWAjaWZkZWYgVVNFX0FMUEhBTUFQCglkaWZmdXNlQ29sb3IuYSAqPSB0ZXh0dXJlMkQoIGFscGhhTWFwLCB2VXYgKS5nOwojZW5kaWZgLGFscGhhbWFwX3BhcnNfZnJhZ21lbnQ9YCNpZmRlZiBVU0VfQUxQSEFNQVAKCXVuaWZvcm0gc2FtcGxlcjJEIGFscGhhTWFwOwojZW5kaWZgLGFscGhhdGVzdF9mcmFnbWVudD1gI2lmZGVmIFVTRV9BTFBIQVRFU1QKCWlmICggZGlmZnVzZUNvbG9yLmEgPCBhbHBoYVRlc3QgKSBkaXNjYXJkOwojZW5kaWZgLGFscGhhdGVzdF9wYXJzX2ZyYWdtZW50PWAjaWZkZWYgVVNFX0FMUEhBVEVTVAoJdW5pZm9ybSBmbG9hdCBhbHBoYVRlc3Q7CiNlbmRpZmAsYW9tYXBfZnJhZ21lbnQ9YCNpZmRlZiBVU0VfQU9NQVAKCWZsb2F0IGFtYmllbnRPY2NsdXNpb24gPSAoIHRleHR1cmUyRCggYW9NYXAsIHZVdjIgKS5yIC0gMS4wICkgKiBhb01hcEludGVuc2l0eSArIDEuMDsKCXJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZSAqPSBhbWJpZW50T2NjbHVzaW9uOwoJI2lmIGRlZmluZWQoIFVTRV9FTlZNQVAgKSAmJiBkZWZpbmVkKCBTVEFOREFSRCApCgkJZmxvYXQgZG90TlYgPSBzYXR1cmF0ZSggZG90KCBnZW9tZXRyeS5ub3JtYWwsIGdlb21ldHJ5LnZpZXdEaXIgKSApOwoJCXJlZmxlY3RlZExpZ2h0LmluZGlyZWN0U3BlY3VsYXIgKj0gY29tcHV0ZVNwZWN1bGFyT2NjbHVzaW9uKCBkb3ROViwgYW1iaWVudE9jY2x1c2lvbiwgbWF0ZXJpYWwucm91Z2huZXNzICk7CgkjZW5kaWYKI2VuZGlmYCxhb21hcF9wYXJzX2ZyYWdtZW50PWAjaWZkZWYgVVNFX0FPTUFQCgl1bmlmb3JtIHNhbXBsZXIyRCBhb01hcDsKCXVuaWZvcm0gZmxvYXQgYW9NYXBJbnRlbnNpdHk7CiNlbmRpZmAsYmVnaW5fdmVydGV4PSJ2ZWMzIHRyYW5zZm9ybWVkID0gdmVjMyggcG9zaXRpb24gKTsiLGJlZ2lubm9ybWFsX3ZlcnRleD1gdmVjMyBvYmplY3ROb3JtYWwgPSB2ZWMzKCBub3JtYWwgKTsKI2lmZGVmIFVTRV9UQU5HRU5UCgl2ZWMzIG9iamVjdFRhbmdlbnQgPSB2ZWMzKCB0YW5nZW50Lnh5eiApOwojZW5kaWZgLGJzZGZzPWB2ZWMzIEJSREZfTGFtYmVydCggY29uc3QgaW4gdmVjMyBkaWZmdXNlQ29sb3IgKSB7CglyZXR1cm4gUkVDSVBST0NBTF9QSSAqIGRpZmZ1c2VDb2xvcjsKfQp2ZWMzIEZfU2NobGljayggY29uc3QgaW4gdmVjMyBmMCwgY29uc3QgaW4gZmxvYXQgZjkwLCBjb25zdCBpbiBmbG9hdCBkb3RWSCApIHsKCWZsb2F0IGZyZXNuZWwgPSBleHAyKCAoIC0gNS41NTQ3MyAqIGRvdFZIIC0gNi45ODMxNiApICogZG90VkggKTsKCXJldHVybiBmMCAqICggMS4wIC0gZnJlc25lbCApICsgKCBmOTAgKiBmcmVzbmVsICk7Cn0KZmxvYXQgVl9HR1hfU21pdGhDb3JyZWxhdGVkKCBjb25zdCBpbiBmbG9hdCBhbHBoYSwgY29uc3QgaW4gZmxvYXQgZG90TkwsIGNvbnN0IGluIGZsb2F0IGRvdE5WICkgewoJZmxvYXQgYTIgPSBwb3cyKCBhbHBoYSApOwoJZmxvYXQgZ3YgPSBkb3ROTCAqIHNxcnQoIGEyICsgKCAxLjAgLSBhMiApICogcG93MiggZG90TlYgKSApOwoJZmxvYXQgZ2wgPSBkb3ROViAqIHNxcnQoIGEyICsgKCAxLjAgLSBhMiApICogcG93MiggZG90TkwgKSApOwoJcmV0dXJuIDAuNSAvIG1heCggZ3YgKyBnbCwgRVBTSUxPTiApOwp9CmZsb2F0IERfR0dYKCBjb25zdCBpbiBmbG9hdCBhbHBoYSwgY29uc3QgaW4gZmxvYXQgZG90TkggKSB7CglmbG9hdCBhMiA9IHBvdzIoIGFscGhhICk7CglmbG9hdCBkZW5vbSA9IHBvdzIoIGRvdE5IICkgKiAoIGEyIC0gMS4wICkgKyAxLjA7CglyZXR1cm4gUkVDSVBST0NBTF9QSSAqIGEyIC8gcG93MiggZGVub20gKTsKfQp2ZWMzIEJSREZfR0dYKCBjb25zdCBpbiB2ZWMzIGxpZ2h0RGlyLCBjb25zdCBpbiB2ZWMzIHZpZXdEaXIsIGNvbnN0IGluIHZlYzMgbm9ybWFsLCBjb25zdCBpbiB2ZWMzIGYwLCBjb25zdCBpbiBmbG9hdCBmOTAsIGNvbnN0IGluIGZsb2F0IHJvdWdobmVzcyApIHsKCWZsb2F0IGFscGhhID0gcG93Miggcm91Z2huZXNzICk7Cgl2ZWMzIGhhbGZEaXIgPSBub3JtYWxpemUoIGxpZ2h0RGlyICsgdmlld0RpciApOwoJZmxvYXQgZG90TkwgPSBzYXR1cmF0ZSggZG90KCBub3JtYWwsIGxpZ2h0RGlyICkgKTsKCWZsb2F0IGRvdE5WID0gc2F0dXJhdGUoIGRvdCggbm9ybWFsLCB2aWV3RGlyICkgKTsKCWZsb2F0IGRvdE5IID0gc2F0dXJhdGUoIGRvdCggbm9ybWFsLCBoYWxmRGlyICkgKTsKCWZsb2F0IGRvdFZIID0gc2F0dXJhdGUoIGRvdCggdmlld0RpciwgaGFsZkRpciApICk7Cgl2ZWMzIEYgPSBGX1NjaGxpY2soIGYwLCBmOTAsIGRvdFZIICk7CglmbG9hdCBWID0gVl9HR1hfU21pdGhDb3JyZWxhdGVkKCBhbHBoYSwgZG90TkwsIGRvdE5WICk7CglmbG9hdCBEID0gRF9HR1goIGFscGhhLCBkb3ROSCApOwoJcmV0dXJuIEYgKiAoIFYgKiBEICk7Cn0KdmVjMiBMVENfVXYoIGNvbnN0IGluIHZlYzMgTiwgY29uc3QgaW4gdmVjMyBWLCBjb25zdCBpbiBmbG9hdCByb3VnaG5lc3MgKSB7Cgljb25zdCBmbG9hdCBMVVRfU0laRSA9IDY0LjA7Cgljb25zdCBmbG9hdCBMVVRfU0NBTEUgPSAoIExVVF9TSVpFIC0gMS4wICkgLyBMVVRfU0laRTsKCWNvbnN0IGZsb2F0IExVVF9CSUFTID0gMC41IC8gTFVUX1NJWkU7CglmbG9hdCBkb3ROViA9IHNhdHVyYXRlKCBkb3QoIE4sIFYgKSApOwoJdmVjMiB1diA9IHZlYzIoIHJvdWdobmVzcywgc3FydCggMS4wIC0gZG90TlYgKSApOwoJdXYgPSB1diAqIExVVF9TQ0FMRSArIExVVF9CSUFTOwoJcmV0dXJuIHV2Owp9CmZsb2F0IExUQ19DbGlwcGVkU3BoZXJlRm9ybUZhY3RvciggY29uc3QgaW4gdmVjMyBmICkgewoJZmxvYXQgbCA9IGxlbmd0aCggZiApOwoJcmV0dXJuIG1heCggKCBsICogbCArIGYueiApIC8gKCBsICsgMS4wICksIDAuMCApOwp9CnZlYzMgTFRDX0VkZ2VWZWN0b3JGb3JtRmFjdG9yKCBjb25zdCBpbiB2ZWMzIHYxLCBjb25zdCBpbiB2ZWMzIHYyICkgewoJZmxvYXQgeCA9IGRvdCggdjEsIHYyICk7CglmbG9hdCB5ID0gYWJzKCB4ICk7CglmbG9hdCBhID0gMC44NTQzOTg1ICsgKCAwLjQ5NjUxNTUgKyAwLjAxNDUyMDYgKiB5ICkgKiB5OwoJZmxvYXQgYiA9IDMuNDE3NTk0MCArICggNC4xNjE2NzI0ICsgeSApICogeTsKCWZsb2F0IHYgPSBhIC8gYjsKCWZsb2F0IHRoZXRhX3NpbnRoZXRhID0gKCB4ID4gMC4wICkgPyB2IDogMC41ICogaW52ZXJzZXNxcnQoIG1heCggMS4wIC0geCAqIHgsIDFlLTcgKSApIC0gdjsKCXJldHVybiBjcm9zcyggdjEsIHYyICkgKiB0aGV0YV9zaW50aGV0YTsKfQp2ZWMzIExUQ19FdmFsdWF0ZSggY29uc3QgaW4gdmVjMyBOLCBjb25zdCBpbiB2ZWMzIFYsIGNvbnN0IGluIHZlYzMgUCwgY29uc3QgaW4gbWF0MyBtSW52LCBjb25zdCBpbiB2ZWMzIHJlY3RDb29yZHNbIDQgXSApIHsKCXZlYzMgdjEgPSByZWN0Q29vcmRzWyAxIF0gLSByZWN0Q29vcmRzWyAwIF07Cgl2ZWMzIHYyID0gcmVjdENvb3Jkc1sgMyBdIC0gcmVjdENvb3Jkc1sgMCBdOwoJdmVjMyBsaWdodE5vcm1hbCA9IGNyb3NzKCB2MSwgdjIgKTsKCWlmKCBkb3QoIGxpZ2h0Tm9ybWFsLCBQIC0gcmVjdENvb3Jkc1sgMCBdICkgPCAwLjAgKSByZXR1cm4gdmVjMyggMC4wICk7Cgl2ZWMzIFQxLCBUMjsKCVQxID0gbm9ybWFsaXplKCBWIC0gTiAqIGRvdCggViwgTiApICk7CglUMiA9IC0gY3Jvc3MoIE4sIFQxICk7CgltYXQzIG1hdCA9IG1JbnYgKiB0cmFuc3Bvc2VNYXQzKCBtYXQzKCBUMSwgVDIsIE4gKSApOwoJdmVjMyBjb29yZHNbIDQgXTsKCWNvb3Jkc1sgMCBdID0gbWF0ICogKCByZWN0Q29vcmRzWyAwIF0gLSBQICk7Cgljb29yZHNbIDEgXSA9IG1hdCAqICggcmVjdENvb3Jkc1sgMSBdIC0gUCApOwoJY29vcmRzWyAyIF0gPSBtYXQgKiAoIHJlY3RDb29yZHNbIDIgXSAtIFAgKTsKCWNvb3Jkc1sgMyBdID0gbWF0ICogKCByZWN0Q29vcmRzWyAzIF0gLSBQICk7Cgljb29yZHNbIDAgXSA9IG5vcm1hbGl6ZSggY29vcmRzWyAwIF0gKTsKCWNvb3Jkc1sgMSBdID0gbm9ybWFsaXplKCBjb29yZHNbIDEgXSApOwoJY29vcmRzWyAyIF0gPSBub3JtYWxpemUoIGNvb3Jkc1sgMiBdICk7Cgljb29yZHNbIDMgXSA9IG5vcm1hbGl6ZSggY29vcmRzWyAzIF0gKTsKCXZlYzMgdmVjdG9yRm9ybUZhY3RvciA9IHZlYzMoIDAuMCApOwoJdmVjdG9yRm9ybUZhY3RvciArPSBMVENfRWRnZVZlY3RvckZvcm1GYWN0b3IoIGNvb3Jkc1sgMCBdLCBjb29yZHNbIDEgXSApOwoJdmVjdG9yRm9ybUZhY3RvciArPSBMVENfRWRnZVZlY3RvckZvcm1GYWN0b3IoIGNvb3Jkc1sgMSBdLCBjb29yZHNbIDIgXSApOwoJdmVjdG9yRm9ybUZhY3RvciArPSBMVENfRWRnZVZlY3RvckZvcm1GYWN0b3IoIGNvb3Jkc1sgMiBdLCBjb29yZHNbIDMgXSApOwoJdmVjdG9yRm9ybUZhY3RvciArPSBMVENfRWRnZVZlY3RvckZvcm1GYWN0b3IoIGNvb3Jkc1sgMyBdLCBjb29yZHNbIDAgXSApOwoJZmxvYXQgcmVzdWx0ID0gTFRDX0NsaXBwZWRTcGhlcmVGb3JtRmFjdG9yKCB2ZWN0b3JGb3JtRmFjdG9yICk7CglyZXR1cm4gdmVjMyggcmVzdWx0ICk7Cn0KZmxvYXQgR19CbGlublBob25nX0ltcGxpY2l0KCApIHsKCXJldHVybiAwLjI1Owp9CmZsb2F0IERfQmxpbm5QaG9uZyggY29uc3QgaW4gZmxvYXQgc2hpbmluZXNzLCBjb25zdCBpbiBmbG9hdCBkb3ROSCApIHsKCXJldHVybiBSRUNJUFJPQ0FMX1BJICogKCBzaGluaW5lc3MgKiAwLjUgKyAxLjAgKSAqIHBvdyggZG90TkgsIHNoaW5pbmVzcyApOwp9CnZlYzMgQlJERl9CbGlublBob25nKCBjb25zdCBpbiB2ZWMzIGxpZ2h0RGlyLCBjb25zdCBpbiB2ZWMzIHZpZXdEaXIsIGNvbnN0IGluIHZlYzMgbm9ybWFsLCBjb25zdCBpbiB2ZWMzIHNwZWN1bGFyQ29sb3IsIGNvbnN0IGluIGZsb2F0IHNoaW5pbmVzcyApIHsKCXZlYzMgaGFsZkRpciA9IG5vcm1hbGl6ZSggbGlnaHREaXIgKyB2aWV3RGlyICk7CglmbG9hdCBkb3ROSCA9IHNhdHVyYXRlKCBkb3QoIG5vcm1hbCwgaGFsZkRpciApICk7CglmbG9hdCBkb3RWSCA9IHNhdHVyYXRlKCBkb3QoIHZpZXdEaXIsIGhhbGZEaXIgKSApOwoJdmVjMyBGID0gRl9TY2hsaWNrKCBzcGVjdWxhckNvbG9yLCAxLjAsIGRvdFZIICk7CglmbG9hdCBHID0gR19CbGlublBob25nX0ltcGxpY2l0KCApOwoJZmxvYXQgRCA9IERfQmxpbm5QaG9uZyggc2hpbmluZXNzLCBkb3ROSCApOwoJcmV0dXJuIEYgKiAoIEcgKiBEICk7Cn0KI2lmIGRlZmluZWQoIFVTRV9TSEVFTiApCmZsb2F0IERfQ2hhcmxpZSggZmxvYXQgcm91Z2huZXNzLCBmbG9hdCBkb3ROSCApIHsKCWZsb2F0IGFscGhhID0gcG93Miggcm91Z2huZXNzICk7CglmbG9hdCBpbnZBbHBoYSA9IDEuMCAvIGFscGhhOwoJZmxvYXQgY29zMmggPSBkb3ROSCAqIGRvdE5IOwoJZmxvYXQgc2luMmggPSBtYXgoIDEuMCAtIGNvczJoLCAwLjAwNzgxMjUgKTsKCXJldHVybiAoIDIuMCArIGludkFscGhhICkgKiBwb3coIHNpbjJoLCBpbnZBbHBoYSAqIDAuNSApIC8gKCAyLjAgKiBQSSApOwp9CmZsb2F0IFZfTmV1YmVsdCggZmxvYXQgZG90TlYsIGZsb2F0IGRvdE5MICkgewoJcmV0dXJuIHNhdHVyYXRlKCAxLjAgLyAoIDQuMCAqICggZG90TkwgKyBkb3ROViAtIGRvdE5MICogZG90TlYgKSApICk7Cn0KdmVjMyBCUkRGX1NoZWVuKCBjb25zdCBpbiB2ZWMzIGxpZ2h0RGlyLCBjb25zdCBpbiB2ZWMzIHZpZXdEaXIsIGNvbnN0IGluIHZlYzMgbm9ybWFsLCB2ZWMzIHNoZWVuQ29sb3IsIGNvbnN0IGluIGZsb2F0IHNoZWVuUm91Z2huZXNzICkgewoJdmVjMyBoYWxmRGlyID0gbm9ybWFsaXplKCBsaWdodERpciArIHZpZXdEaXIgKTsKCWZsb2F0IGRvdE5MID0gc2F0dXJhdGUoIGRvdCggbm9ybWFsLCBsaWdodERpciApICk7CglmbG9hdCBkb3ROViA9IHNhdHVyYXRlKCBkb3QoIG5vcm1hbCwgdmlld0RpciApICk7CglmbG9hdCBkb3ROSCA9IHNhdHVyYXRlKCBkb3QoIG5vcm1hbCwgaGFsZkRpciApICk7CglmbG9hdCBEID0gRF9DaGFybGllKCBzaGVlblJvdWdobmVzcywgZG90TkggKTsKCWZsb2F0IFYgPSBWX05ldWJlbHQoIGRvdE5WLCBkb3ROTCApOwoJcmV0dXJuIHNoZWVuQ29sb3IgKiAoIEQgKiBWICk7Cn0KI2VuZGlmYCxidW1wbWFwX3BhcnNfZnJhZ21lbnQ9YCNpZmRlZiBVU0VfQlVNUE1BUAoJdW5pZm9ybSBzYW1wbGVyMkQgYnVtcE1hcDsKCXVuaWZvcm0gZmxvYXQgYnVtcFNjYWxlOwoJdmVjMiBkSGR4eV9md2QoKSB7CgkJdmVjMiBkU1RkeCA9IGRGZHgoIHZVdiApOwoJCXZlYzIgZFNUZHkgPSBkRmR5KCB2VXYgKTsKCQlmbG9hdCBIbGwgPSBidW1wU2NhbGUgKiB0ZXh0dXJlMkQoIGJ1bXBNYXAsIHZVdiApLng7CgkJZmxvYXQgZEJ4ID0gYnVtcFNjYWxlICogdGV4dHVyZTJEKCBidW1wTWFwLCB2VXYgKyBkU1RkeCApLnggLSBIbGw7CgkJZmxvYXQgZEJ5ID0gYnVtcFNjYWxlICogdGV4dHVyZTJEKCBidW1wTWFwLCB2VXYgKyBkU1RkeSApLnggLSBIbGw7CgkJcmV0dXJuIHZlYzIoIGRCeCwgZEJ5ICk7Cgl9Cgl2ZWMzIHBlcnR1cmJOb3JtYWxBcmIoIHZlYzMgc3VyZl9wb3MsIHZlYzMgc3VyZl9ub3JtLCB2ZWMyIGRIZHh5LCBmbG9hdCBmYWNlRGlyZWN0aW9uICkgewoJCXZlYzMgdlNpZ21hWCA9IHZlYzMoIGRGZHgoIHN1cmZfcG9zLnggKSwgZEZkeCggc3VyZl9wb3MueSApLCBkRmR4KCBzdXJmX3Bvcy56ICkgKTsKCQl2ZWMzIHZTaWdtYVkgPSB2ZWMzKCBkRmR5KCBzdXJmX3Bvcy54ICksIGRGZHkoIHN1cmZfcG9zLnkgKSwgZEZkeSggc3VyZl9wb3MueiApICk7CgkJdmVjMyB2TiA9IHN1cmZfbm9ybTsKCQl2ZWMzIFIxID0gY3Jvc3MoIHZTaWdtYVksIHZOICk7CgkJdmVjMyBSMiA9IGNyb3NzKCB2TiwgdlNpZ21hWCApOwoJCWZsb2F0IGZEZXQgPSBkb3QoIHZTaWdtYVgsIFIxICkgKiBmYWNlRGlyZWN0aW9uOwoJCXZlYzMgdkdyYWQgPSBzaWduKCBmRGV0ICkgKiAoIGRIZHh5LnggKiBSMSArIGRIZHh5LnkgKiBSMiApOwoJCXJldHVybiBub3JtYWxpemUoIGFicyggZkRldCApICogc3VyZl9ub3JtIC0gdkdyYWQgKTsKCX0KI2VuZGlmYCxjbGlwcGluZ19wbGFuZXNfZnJhZ21lbnQ9YCNpZiBOVU1fQ0xJUFBJTkdfUExBTkVTID4gMAoJdmVjNCBwbGFuZTsKCSNwcmFnbWEgdW5yb2xsX2xvb3Bfc3RhcnQKCWZvciAoIGludCBpID0gMDsgaSA8IFVOSU9OX0NMSVBQSU5HX1BMQU5FUzsgaSArKyApIHsKCQlwbGFuZSA9IGNsaXBwaW5nUGxhbmVzWyBpIF07CgkJaWYgKCBkb3QoIHZDbGlwUG9zaXRpb24sIHBsYW5lLnh5eiApID4gcGxhbmUudyApIGRpc2NhcmQ7Cgl9CgkjcHJhZ21hIHVucm9sbF9sb29wX2VuZAoJI2lmIFVOSU9OX0NMSVBQSU5HX1BMQU5FUyA8IE5VTV9DTElQUElOR19QTEFORVMKCQlib29sIGNsaXBwZWQgPSB0cnVlOwoJCSNwcmFnbWEgdW5yb2xsX2xvb3Bfc3RhcnQKCQlmb3IgKCBpbnQgaSA9IFVOSU9OX0NMSVBQSU5HX1BMQU5FUzsgaSA8IE5VTV9DTElQUElOR19QTEFORVM7IGkgKysgKSB7CgkJCXBsYW5lID0gY2xpcHBpbmdQbGFuZXNbIGkgXTsKCQkJY2xpcHBlZCA9ICggZG90KCB2Q2xpcFBvc2l0aW9uLCBwbGFuZS54eXogKSA+IHBsYW5lLncgKSAmJiBjbGlwcGVkOwoJCX0KCQkjcHJhZ21hIHVucm9sbF9sb29wX2VuZAoJCWlmICggY2xpcHBlZCApIGRpc2NhcmQ7CgkjZW5kaWYKI2VuZGlmYCxjbGlwcGluZ19wbGFuZXNfcGFyc19mcmFnbWVudD1gI2lmIE5VTV9DTElQUElOR19QTEFORVMgPiAwCgl2YXJ5aW5nIHZlYzMgdkNsaXBQb3NpdGlvbjsKCXVuaWZvcm0gdmVjNCBjbGlwcGluZ1BsYW5lc1sgTlVNX0NMSVBQSU5HX1BMQU5FUyBdOwojZW5kaWZgLGNsaXBwaW5nX3BsYW5lc19wYXJzX3ZlcnRleD1gI2lmIE5VTV9DTElQUElOR19QTEFORVMgPiAwCgl2YXJ5aW5nIHZlYzMgdkNsaXBQb3NpdGlvbjsKI2VuZGlmYCxjbGlwcGluZ19wbGFuZXNfdmVydGV4PWAjaWYgTlVNX0NMSVBQSU5HX1BMQU5FUyA+IDAKCXZDbGlwUG9zaXRpb24gPSAtIG12UG9zaXRpb24ueHl6OwojZW5kaWZgLGNvbG9yX2ZyYWdtZW50PWAjaWYgZGVmaW5lZCggVVNFX0NPTE9SX0FMUEhBICkKCWRpZmZ1c2VDb2xvciAqPSB2Q29sb3I7CiNlbGlmIGRlZmluZWQoIFVTRV9DT0xPUiApCglkaWZmdXNlQ29sb3IucmdiICo9IHZDb2xvcjsKI2VuZGlmYCxjb2xvcl9wYXJzX2ZyYWdtZW50PWAjaWYgZGVmaW5lZCggVVNFX0NPTE9SX0FMUEhBICkKCXZhcnlpbmcgdmVjNCB2Q29sb3I7CiNlbGlmIGRlZmluZWQoIFVTRV9DT0xPUiApCgl2YXJ5aW5nIHZlYzMgdkNvbG9yOwojZW5kaWZgLGNvbG9yX3BhcnNfdmVydGV4PWAjaWYgZGVmaW5lZCggVVNFX0NPTE9SX0FMUEhBICkKCXZhcnlpbmcgdmVjNCB2Q29sb3I7CiNlbGlmIGRlZmluZWQoIFVTRV9DT0xPUiApIHx8IGRlZmluZWQoIFVTRV9JTlNUQU5DSU5HX0NPTE9SICkKCXZhcnlpbmcgdmVjMyB2Q29sb3I7CiNlbmRpZmAsY29sb3JfdmVydGV4PWAjaWYgZGVmaW5lZCggVVNFX0NPTE9SX0FMUEhBICkKCXZDb2xvciA9IHZlYzQoIDEuMCApOwojZWxpZiBkZWZpbmVkKCBVU0VfQ09MT1IgKSB8fCBkZWZpbmVkKCBVU0VfSU5TVEFOQ0lOR19DT0xPUiApCgl2Q29sb3IgPSB2ZWMzKCAxLjAgKTsKI2VuZGlmCiNpZmRlZiBVU0VfQ09MT1IKCXZDb2xvciAqPSBjb2xvcjsKI2VuZGlmCiNpZmRlZiBVU0VfSU5TVEFOQ0lOR19DT0xPUgoJdkNvbG9yLnh5eiAqPSBpbnN0YW5jZUNvbG9yLnh5ejsKI2VuZGlmYCxjb21tb249YCNkZWZpbmUgUEkgMy4xNDE1OTI2NTM1ODk3OTMKI2RlZmluZSBQSTIgNi4yODMxODUzMDcxNzk1ODYKI2RlZmluZSBQSV9IQUxGIDEuNTcwNzk2MzI2Nzk0ODk2NgojZGVmaW5lIFJFQ0lQUk9DQUxfUEkgMC4zMTgzMDk4ODYxODM3OTA3CiNkZWZpbmUgUkVDSVBST0NBTF9QSTIgMC4xNTkxNTQ5NDMwOTE4OTUzNQojZGVmaW5lIEVQU0lMT04gMWUtNgojaWZuZGVmIHNhdHVyYXRlCiNkZWZpbmUgc2F0dXJhdGUoIGEgKSBjbGFtcCggYSwgMC4wLCAxLjAgKQojZW5kaWYKI2RlZmluZSB3aGl0ZUNvbXBsZW1lbnQoIGEgKSAoIDEuMCAtIHNhdHVyYXRlKCBhICkgKQpmbG9hdCBwb3cyKCBjb25zdCBpbiBmbG9hdCB4ICkgeyByZXR1cm4geCp4OyB9CmZsb2F0IHBvdzMoIGNvbnN0IGluIGZsb2F0IHggKSB7IHJldHVybiB4KngqeDsgfQpmbG9hdCBwb3c0KCBjb25zdCBpbiBmbG9hdCB4ICkgeyBmbG9hdCB4MiA9IHgqeDsgcmV0dXJuIHgyKngyOyB9CmZsb2F0IG1heDMoIGNvbnN0IGluIHZlYzMgdiApIHsgcmV0dXJuIG1heCggbWF4KCB2LngsIHYueSApLCB2LnogKTsgfQpmbG9hdCBhdmVyYWdlKCBjb25zdCBpbiB2ZWMzIGNvbG9yICkgeyByZXR1cm4gZG90KCBjb2xvciwgdmVjMyggMC4zMzMzICkgKTsgfQpoaWdocCBmbG9hdCByYW5kKCBjb25zdCBpbiB2ZWMyIHV2ICkgewoJY29uc3QgaGlnaHAgZmxvYXQgYSA9IDEyLjk4OTgsIGIgPSA3OC4yMzMsIGMgPSA0Mzc1OC41NDUzOwoJaGlnaHAgZmxvYXQgZHQgPSBkb3QoIHV2Lnh5LCB2ZWMyKCBhLGIgKSApLCBzbiA9IG1vZCggZHQsIFBJICk7CglyZXR1cm4gZnJhY3QoIHNpbiggc24gKSAqIGMgKTsKfQojaWZkZWYgSElHSF9QUkVDSVNJT04KCWZsb2F0IHByZWNpc2lvblNhZmVMZW5ndGgoIHZlYzMgdiApIHsgcmV0dXJuIGxlbmd0aCggdiApOyB9CiNlbHNlCglmbG9hdCBwcmVjaXNpb25TYWZlTGVuZ3RoKCB2ZWMzIHYgKSB7CgkJZmxvYXQgbWF4Q29tcG9uZW50ID0gbWF4MyggYWJzKCB2ICkgKTsKCQlyZXR1cm4gbGVuZ3RoKCB2IC8gbWF4Q29tcG9uZW50ICkgKiBtYXhDb21wb25lbnQ7Cgl9CiNlbmRpZgpzdHJ1Y3QgSW5jaWRlbnRMaWdodCB7Cgl2ZWMzIGNvbG9yOwoJdmVjMyBkaXJlY3Rpb247Cglib29sIHZpc2libGU7Cn07CnN0cnVjdCBSZWZsZWN0ZWRMaWdodCB7Cgl2ZWMzIGRpcmVjdERpZmZ1c2U7Cgl2ZWMzIGRpcmVjdFNwZWN1bGFyOwoJdmVjMyBpbmRpcmVjdERpZmZ1c2U7Cgl2ZWMzIGluZGlyZWN0U3BlY3VsYXI7Cn07CnN0cnVjdCBHZW9tZXRyaWNDb250ZXh0IHsKCXZlYzMgcG9zaXRpb247Cgl2ZWMzIG5vcm1hbDsKCXZlYzMgdmlld0RpcjsKI2lmZGVmIFVTRV9DTEVBUkNPQVQKCXZlYzMgY2xlYXJjb2F0Tm9ybWFsOwojZW5kaWYKfTsKdmVjMyB0cmFuc2Zvcm1EaXJlY3Rpb24oIGluIHZlYzMgZGlyLCBpbiBtYXQ0IG1hdHJpeCApIHsKCXJldHVybiBub3JtYWxpemUoICggbWF0cml4ICogdmVjNCggZGlyLCAwLjAgKSApLnh5eiApOwp9CnZlYzMgaW52ZXJzZVRyYW5zZm9ybURpcmVjdGlvbiggaW4gdmVjMyBkaXIsIGluIG1hdDQgbWF0cml4ICkgewoJcmV0dXJuIG5vcm1hbGl6ZSggKCB2ZWM0KCBkaXIsIDAuMCApICogbWF0cml4ICkueHl6ICk7Cn0KbWF0MyB0cmFuc3Bvc2VNYXQzKCBjb25zdCBpbiBtYXQzIG0gKSB7CgltYXQzIHRtcDsKCXRtcFsgMCBdID0gdmVjMyggbVsgMCBdLngsIG1bIDEgXS54LCBtWyAyIF0ueCApOwoJdG1wWyAxIF0gPSB2ZWMzKCBtWyAwIF0ueSwgbVsgMSBdLnksIG1bIDIgXS55ICk7Cgl0bXBbIDIgXSA9IHZlYzMoIG1bIDAgXS56LCBtWyAxIF0ueiwgbVsgMiBdLnogKTsKCXJldHVybiB0bXA7Cn0KZmxvYXQgbGluZWFyVG9SZWxhdGl2ZUx1bWluYW5jZSggY29uc3QgaW4gdmVjMyBjb2xvciApIHsKCXZlYzMgd2VpZ2h0cyA9IHZlYzMoIDAuMjEyNiwgMC43MTUyLCAwLjA3MjIgKTsKCXJldHVybiBkb3QoIHdlaWdodHMsIGNvbG9yLnJnYiApOwp9CmJvb2wgaXNQZXJzcGVjdGl2ZU1hdHJpeCggbWF0NCBtICkgewoJcmV0dXJuIG1bIDIgXVsgMyBdID09IC0gMS4wOwp9CnZlYzIgZXF1aXJlY3RVdiggaW4gdmVjMyBkaXIgKSB7CglmbG9hdCB1ID0gYXRhbiggZGlyLnosIGRpci54ICkgKiBSRUNJUFJPQ0FMX1BJMiArIDAuNTsKCWZsb2F0IHYgPSBhc2luKCBjbGFtcCggZGlyLnksIC0gMS4wLCAxLjAgKSApICogUkVDSVBST0NBTF9QSSArIDAuNTsKCXJldHVybiB2ZWMyKCB1LCB2ICk7Cn1gLGN1YmVfdXZfcmVmbGVjdGlvbl9mcmFnbWVudD1gI2lmZGVmIEVOVk1BUF9UWVBFX0NVQkVfVVYKCSNkZWZpbmUgY3ViZVVWX21pbk1pcExldmVsIDQuMAoJI2RlZmluZSBjdWJlVVZfbWluVGlsZVNpemUgMTYuMAoJZmxvYXQgZ2V0RmFjZSggdmVjMyBkaXJlY3Rpb24gKSB7CgkJdmVjMyBhYnNEaXJlY3Rpb24gPSBhYnMoIGRpcmVjdGlvbiApOwoJCWZsb2F0IGZhY2UgPSAtIDEuMDsKCQlpZiAoIGFic0RpcmVjdGlvbi54ID4gYWJzRGlyZWN0aW9uLnogKSB7CgkJCWlmICggYWJzRGlyZWN0aW9uLnggPiBhYnNEaXJlY3Rpb24ueSApCgkJCQlmYWNlID0gZGlyZWN0aW9uLnggPiAwLjAgPyAwLjAgOiAzLjA7CgkJCWVsc2UKCQkJCWZhY2UgPSBkaXJlY3Rpb24ueSA+IDAuMCA/IDEuMCA6IDQuMDsKCQl9IGVsc2UgewoJCQlpZiAoIGFic0RpcmVjdGlvbi56ID4gYWJzRGlyZWN0aW9uLnkgKQoJCQkJZmFjZSA9IGRpcmVjdGlvbi56ID4gMC4wID8gMi4wIDogNS4wOwoJCQllbHNlCgkJCQlmYWNlID0gZGlyZWN0aW9uLnkgPiAwLjAgPyAxLjAgOiA0LjA7CgkJfQoJCXJldHVybiBmYWNlOwoJfQoJdmVjMiBnZXRVViggdmVjMyBkaXJlY3Rpb24sIGZsb2F0IGZhY2UgKSB7CgkJdmVjMiB1djsKCQlpZiAoIGZhY2UgPT0gMC4wICkgewoJCQl1diA9IHZlYzIoIGRpcmVjdGlvbi56LCBkaXJlY3Rpb24ueSApIC8gYWJzKCBkaXJlY3Rpb24ueCApOwoJCX0gZWxzZSBpZiAoIGZhY2UgPT0gMS4wICkgewoJCQl1diA9IHZlYzIoIC0gZGlyZWN0aW9uLngsIC0gZGlyZWN0aW9uLnogKSAvIGFicyggZGlyZWN0aW9uLnkgKTsKCQl9IGVsc2UgaWYgKCBmYWNlID09IDIuMCApIHsKCQkJdXYgPSB2ZWMyKCAtIGRpcmVjdGlvbi54LCBkaXJlY3Rpb24ueSApIC8gYWJzKCBkaXJlY3Rpb24ueiApOwoJCX0gZWxzZSBpZiAoIGZhY2UgPT0gMy4wICkgewoJCQl1diA9IHZlYzIoIC0gZGlyZWN0aW9uLnosIGRpcmVjdGlvbi55ICkgLyBhYnMoIGRpcmVjdGlvbi54ICk7CgkJfSBlbHNlIGlmICggZmFjZSA9PSA0LjAgKSB7CgkJCXV2ID0gdmVjMiggLSBkaXJlY3Rpb24ueCwgZGlyZWN0aW9uLnogKSAvIGFicyggZGlyZWN0aW9uLnkgKTsKCQl9IGVsc2UgewoJCQl1diA9IHZlYzIoIGRpcmVjdGlvbi54LCBkaXJlY3Rpb24ueSApIC8gYWJzKCBkaXJlY3Rpb24ueiApOwoJCX0KCQlyZXR1cm4gMC41ICogKCB1diArIDEuMCApOwoJfQoJdmVjMyBiaWxpbmVhckN1YmVVViggc2FtcGxlcjJEIGVudk1hcCwgdmVjMyBkaXJlY3Rpb24sIGZsb2F0IG1pcEludCApIHsKCQlmbG9hdCBmYWNlID0gZ2V0RmFjZSggZGlyZWN0aW9uICk7CgkJZmxvYXQgZmlsdGVySW50ID0gbWF4KCBjdWJlVVZfbWluTWlwTGV2ZWwgLSBtaXBJbnQsIDAuMCApOwoJCW1pcEludCA9IG1heCggbWlwSW50LCBjdWJlVVZfbWluTWlwTGV2ZWwgKTsKCQlmbG9hdCBmYWNlU2l6ZSA9IGV4cDIoIG1pcEludCApOwoJCXZlYzIgdXYgPSBnZXRVViggZGlyZWN0aW9uLCBmYWNlICkgKiAoIGZhY2VTaXplIC0gMS4wICkgKyAwLjU7CgkJaWYgKCBmYWNlID4gMi4wICkgewoJCQl1di55ICs9IGZhY2VTaXplOwoJCQlmYWNlIC09IDMuMDsKCQl9CgkJdXYueCArPSBmYWNlICogZmFjZVNpemU7CgkJdXYueCArPSBmaWx0ZXJJbnQgKiAzLjAgKiBjdWJlVVZfbWluVGlsZVNpemU7CgkJdXYueSArPSA0LjAgKiAoIGV4cDIoIENVQkVVVl9NQVhfTUlQICkgLSBmYWNlU2l6ZSApOwoJCXV2LnggKj0gQ1VCRVVWX1RFWEVMX1dJRFRIOwoJCXV2LnkgKj0gQ1VCRVVWX1RFWEVMX0hFSUdIVDsKCQkjaWZkZWYgdGV4dHVyZTJER3JhZEVYVAoJCQlyZXR1cm4gdGV4dHVyZTJER3JhZEVYVCggZW52TWFwLCB1diwgdmVjMiggMC4wICksIHZlYzIoIDAuMCApICkucmdiOwoJCSNlbHNlCgkJCXJldHVybiB0ZXh0dXJlMkQoIGVudk1hcCwgdXYgKS5yZ2I7CgkJI2VuZGlmCgl9CgkjZGVmaW5lIHIwIDEuMAoJI2RlZmluZSB2MCAwLjMzOQoJI2RlZmluZSBtMCAtIDIuMAoJI2RlZmluZSByMSAwLjgKCSNkZWZpbmUgdjEgMC4yNzYKCSNkZWZpbmUgbTEgLSAxLjAKCSNkZWZpbmUgcjQgMC40CgkjZGVmaW5lIHY0IDAuMDQ2CgkjZGVmaW5lIG00IDIuMAoJI2RlZmluZSByNSAwLjMwNQoJI2RlZmluZSB2NSAwLjAxNgoJI2RlZmluZSBtNSAzLjAKCSNkZWZpbmUgcjYgMC4yMQoJI2RlZmluZSB2NiAwLjAwMzgKCSNkZWZpbmUgbTYgNC4wCglmbG9hdCByb3VnaG5lc3NUb01pcCggZmxvYXQgcm91Z2huZXNzICkgewoJCWZsb2F0IG1pcCA9IDAuMDsKCQlpZiAoIHJvdWdobmVzcyA+PSByMSApIHsKCQkJbWlwID0gKCByMCAtIHJvdWdobmVzcyApICogKCBtMSAtIG0wICkgLyAoIHIwIC0gcjEgKSArIG0wOwoJCX0gZWxzZSBpZiAoIHJvdWdobmVzcyA+PSByNCApIHsKCQkJbWlwID0gKCByMSAtIHJvdWdobmVzcyApICogKCBtNCAtIG0xICkgLyAoIHIxIC0gcjQgKSArIG0xOwoJCX0gZWxzZSBpZiAoIHJvdWdobmVzcyA+PSByNSApIHsKCQkJbWlwID0gKCByNCAtIHJvdWdobmVzcyApICogKCBtNSAtIG00ICkgLyAoIHI0IC0gcjUgKSArIG00OwoJCX0gZWxzZSBpZiAoIHJvdWdobmVzcyA+PSByNiApIHsKCQkJbWlwID0gKCByNSAtIHJvdWdobmVzcyApICogKCBtNiAtIG01ICkgLyAoIHI1IC0gcjYgKSArIG01OwoJCX0gZWxzZSB7CgkJCW1pcCA9IC0gMi4wICogbG9nMiggMS4xNiAqIHJvdWdobmVzcyApOwkJfQoJCXJldHVybiBtaXA7Cgl9Cgl2ZWM0IHRleHR1cmVDdWJlVVYoIHNhbXBsZXIyRCBlbnZNYXAsIHZlYzMgc2FtcGxlRGlyLCBmbG9hdCByb3VnaG5lc3MgKSB7CgkJZmxvYXQgbWlwID0gY2xhbXAoIHJvdWdobmVzc1RvTWlwKCByb3VnaG5lc3MgKSwgbTAsIENVQkVVVl9NQVhfTUlQICk7CgkJZmxvYXQgbWlwRiA9IGZyYWN0KCBtaXAgKTsKCQlmbG9hdCBtaXBJbnQgPSBmbG9vciggbWlwICk7CgkJdmVjMyBjb2xvcjAgPSBiaWxpbmVhckN1YmVVViggZW52TWFwLCBzYW1wbGVEaXIsIG1pcEludCApOwoJCWlmICggbWlwRiA9PSAwLjAgKSB7CgkJCXJldHVybiB2ZWM0KCBjb2xvcjAsIDEuMCApOwoJCX0gZWxzZSB7CgkJCXZlYzMgY29sb3IxID0gYmlsaW5lYXJDdWJlVVYoIGVudk1hcCwgc2FtcGxlRGlyLCBtaXBJbnQgKyAxLjAgKTsKCQkJcmV0dXJuIHZlYzQoIG1peCggY29sb3IwLCBjb2xvcjEsIG1pcEYgKSwgMS4wICk7CgkJfQoJfQojZW5kaWZgLGRlZmF1bHRub3JtYWxfdmVydGV4PWB2ZWMzIHRyYW5zZm9ybWVkTm9ybWFsID0gb2JqZWN0Tm9ybWFsOwojaWZkZWYgVVNFX0lOU1RBTkNJTkcKCW1hdDMgbSA9IG1hdDMoIGluc3RhbmNlTWF0cml4ICk7Cgl0cmFuc2Zvcm1lZE5vcm1hbCAvPSB2ZWMzKCBkb3QoIG1bIDAgXSwgbVsgMCBdICksIGRvdCggbVsgMSBdLCBtWyAxIF0gKSwgZG90KCBtWyAyIF0sIG1bIDIgXSApICk7Cgl0cmFuc2Zvcm1lZE5vcm1hbCA9IG0gKiB0cmFuc2Zvcm1lZE5vcm1hbDsKI2VuZGlmCnRyYW5zZm9ybWVkTm9ybWFsID0gbm9ybWFsTWF0cml4ICogdHJhbnNmb3JtZWROb3JtYWw7CiNpZmRlZiBGTElQX1NJREVECgl0cmFuc2Zvcm1lZE5vcm1hbCA9IC0gdHJhbnNmb3JtZWROb3JtYWw7CiNlbmRpZgojaWZkZWYgVVNFX1RBTkdFTlQKCXZlYzMgdHJhbnNmb3JtZWRUYW5nZW50ID0gKCBtb2RlbFZpZXdNYXRyaXggKiB2ZWM0KCBvYmplY3RUYW5nZW50LCAwLjAgKSApLnh5ejsKCSNpZmRlZiBGTElQX1NJREVECgkJdHJhbnNmb3JtZWRUYW5nZW50ID0gLSB0cmFuc2Zvcm1lZFRhbmdlbnQ7CgkjZW5kaWYKI2VuZGlmYCxkaXNwbGFjZW1lbnRtYXBfcGFyc192ZXJ0ZXg9YCNpZmRlZiBVU0VfRElTUExBQ0VNRU5UTUFQCgl1bmlmb3JtIHNhbXBsZXIyRCBkaXNwbGFjZW1lbnRNYXA7Cgl1bmlmb3JtIGZsb2F0IGRpc3BsYWNlbWVudFNjYWxlOwoJdW5pZm9ybSBmbG9hdCBkaXNwbGFjZW1lbnRCaWFzOwojZW5kaWZgLGRpc3BsYWNlbWVudG1hcF92ZXJ0ZXg9YCNpZmRlZiBVU0VfRElTUExBQ0VNRU5UTUFQCgl0cmFuc2Zvcm1lZCArPSBub3JtYWxpemUoIG9iamVjdE5vcm1hbCApICogKCB0ZXh0dXJlMkQoIGRpc3BsYWNlbWVudE1hcCwgdlV2ICkueCAqIGRpc3BsYWNlbWVudFNjYWxlICsgZGlzcGxhY2VtZW50QmlhcyApOwojZW5kaWZgLGVtaXNzaXZlbWFwX2ZyYWdtZW50PWAjaWZkZWYgVVNFX0VNSVNTSVZFTUFQCgl2ZWM0IGVtaXNzaXZlQ29sb3IgPSB0ZXh0dXJlMkQoIGVtaXNzaXZlTWFwLCB2VXYgKTsKCXRvdGFsRW1pc3NpdmVSYWRpYW5jZSAqPSBlbWlzc2l2ZUNvbG9yLnJnYjsKI2VuZGlmYCxlbWlzc2l2ZW1hcF9wYXJzX2ZyYWdtZW50PWAjaWZkZWYgVVNFX0VNSVNTSVZFTUFQCgl1bmlmb3JtIHNhbXBsZXIyRCBlbWlzc2l2ZU1hcDsKI2VuZGlmYCxlbmNvZGluZ3NfZnJhZ21lbnQ9ImdsX0ZyYWdDb2xvciA9IGxpbmVhclRvT3V0cHV0VGV4ZWwoIGdsX0ZyYWdDb2xvciApOyIsZW5jb2RpbmdzX3BhcnNfZnJhZ21lbnQ9YHZlYzQgTGluZWFyVG9MaW5lYXIoIGluIHZlYzQgdmFsdWUgKSB7CglyZXR1cm4gdmFsdWU7Cn0KdmVjNCBMaW5lYXJUb3NSR0IoIGluIHZlYzQgdmFsdWUgKSB7CglyZXR1cm4gdmVjNCggbWl4KCBwb3coIHZhbHVlLnJnYiwgdmVjMyggMC40MTY2NiApICkgKiAxLjA1NSAtIHZlYzMoIDAuMDU1ICksIHZhbHVlLnJnYiAqIDEyLjkyLCB2ZWMzKCBsZXNzVGhhbkVxdWFsKCB2YWx1ZS5yZ2IsIHZlYzMoIDAuMDAzMTMwOCApICkgKSApLCB2YWx1ZS5hICk7Cn1gLGVudm1hcF9mcmFnbWVudD1gI2lmZGVmIFVTRV9FTlZNQVAKCSNpZmRlZiBFTlZfV09STERQT1MKCQl2ZWMzIGNhbWVyYVRvRnJhZzsKCQlpZiAoIGlzT3J0aG9ncmFwaGljICkgewoJCQljYW1lcmFUb0ZyYWcgPSBub3JtYWxpemUoIHZlYzMoIC0gdmlld01hdHJpeFsgMCBdWyAyIF0sIC0gdmlld01hdHJpeFsgMSBdWyAyIF0sIC0gdmlld01hdHJpeFsgMiBdWyAyIF0gKSApOwoJCX0gZWxzZSB7CgkJCWNhbWVyYVRvRnJhZyA9IG5vcm1hbGl6ZSggdldvcmxkUG9zaXRpb24gLSBjYW1lcmFQb3NpdGlvbiApOwoJCX0KCQl2ZWMzIHdvcmxkTm9ybWFsID0gaW52ZXJzZVRyYW5zZm9ybURpcmVjdGlvbiggbm9ybWFsLCB2aWV3TWF0cml4ICk7CgkJI2lmZGVmIEVOVk1BUF9NT0RFX1JFRkxFQ1RJT04KCQkJdmVjMyByZWZsZWN0VmVjID0gcmVmbGVjdCggY2FtZXJhVG9GcmFnLCB3b3JsZE5vcm1hbCApOwoJCSNlbHNlCgkJCXZlYzMgcmVmbGVjdFZlYyA9IHJlZnJhY3QoIGNhbWVyYVRvRnJhZywgd29ybGROb3JtYWwsIHJlZnJhY3Rpb25SYXRpbyApOwoJCSNlbmRpZgoJI2Vsc2UKCQl2ZWMzIHJlZmxlY3RWZWMgPSB2UmVmbGVjdDsKCSNlbmRpZgoJI2lmZGVmIEVOVk1BUF9UWVBFX0NVQkUKCQl2ZWM0IGVudkNvbG9yID0gdGV4dHVyZUN1YmUoIGVudk1hcCwgdmVjMyggZmxpcEVudk1hcCAqIHJlZmxlY3RWZWMueCwgcmVmbGVjdFZlYy55eiApICk7CgkjZWxpZiBkZWZpbmVkKCBFTlZNQVBfVFlQRV9DVUJFX1VWICkKCQl2ZWM0IGVudkNvbG9yID0gdGV4dHVyZUN1YmVVViggZW52TWFwLCByZWZsZWN0VmVjLCAwLjAgKTsKCSNlbHNlCgkJdmVjNCBlbnZDb2xvciA9IHZlYzQoIDAuMCApOwoJI2VuZGlmCgkjaWZkZWYgRU5WTUFQX0JMRU5ESU5HX01VTFRJUExZCgkJb3V0Z29pbmdMaWdodCA9IG1peCggb3V0Z29pbmdMaWdodCwgb3V0Z29pbmdMaWdodCAqIGVudkNvbG9yLnh5eiwgc3BlY3VsYXJTdHJlbmd0aCAqIHJlZmxlY3Rpdml0eSApOwoJI2VsaWYgZGVmaW5lZCggRU5WTUFQX0JMRU5ESU5HX01JWCApCgkJb3V0Z29pbmdMaWdodCA9IG1peCggb3V0Z29pbmdMaWdodCwgZW52Q29sb3IueHl6LCBzcGVjdWxhclN0cmVuZ3RoICogcmVmbGVjdGl2aXR5ICk7CgkjZWxpZiBkZWZpbmVkKCBFTlZNQVBfQkxFTkRJTkdfQUREICkKCQlvdXRnb2luZ0xpZ2h0ICs9IGVudkNvbG9yLnh5eiAqIHNwZWN1bGFyU3RyZW5ndGggKiByZWZsZWN0aXZpdHk7CgkjZW5kaWYKI2VuZGlmYCxlbnZtYXBfY29tbW9uX3BhcnNfZnJhZ21lbnQ9YCNpZmRlZiBVU0VfRU5WTUFQCgl1bmlmb3JtIGZsb2F0IGVudk1hcEludGVuc2l0eTsKCXVuaWZvcm0gZmxvYXQgZmxpcEVudk1hcDsKCSNpZmRlZiBFTlZNQVBfVFlQRV9DVUJFCgkJdW5pZm9ybSBzYW1wbGVyQ3ViZSBlbnZNYXA7CgkjZWxzZQoJCXVuaWZvcm0gc2FtcGxlcjJEIGVudk1hcDsKCSNlbmRpZgoJCiNlbmRpZmAsZW52bWFwX3BhcnNfZnJhZ21lbnQ9YCNpZmRlZiBVU0VfRU5WTUFQCgl1bmlmb3JtIGZsb2F0IHJlZmxlY3Rpdml0eTsKCSNpZiBkZWZpbmVkKCBVU0VfQlVNUE1BUCApIHx8IGRlZmluZWQoIFVTRV9OT1JNQUxNQVAgKSB8fCBkZWZpbmVkKCBQSE9ORyApCgkJI2RlZmluZSBFTlZfV09STERQT1MKCSNlbmRpZgoJI2lmZGVmIEVOVl9XT1JMRFBPUwoJCXZhcnlpbmcgdmVjMyB2V29ybGRQb3NpdGlvbjsKCQl1bmlmb3JtIGZsb2F0IHJlZnJhY3Rpb25SYXRpbzsKCSNlbHNlCgkJdmFyeWluZyB2ZWMzIHZSZWZsZWN0OwoJI2VuZGlmCiNlbmRpZmAsZW52bWFwX3BhcnNfdmVydGV4PWAjaWZkZWYgVVNFX0VOVk1BUAoJI2lmIGRlZmluZWQoIFVTRV9CVU1QTUFQICkgfHwgZGVmaW5lZCggVVNFX05PUk1BTE1BUCApIHx8ZGVmaW5lZCggUEhPTkcgKQoJCSNkZWZpbmUgRU5WX1dPUkxEUE9TCgkjZW5kaWYKCSNpZmRlZiBFTlZfV09STERQT1MKCQkKCQl2YXJ5aW5nIHZlYzMgdldvcmxkUG9zaXRpb247CgkjZWxzZQoJCXZhcnlpbmcgdmVjMyB2UmVmbGVjdDsKCQl1bmlmb3JtIGZsb2F0IHJlZnJhY3Rpb25SYXRpbzsKCSNlbmRpZgojZW5kaWZgLGVudm1hcF92ZXJ0ZXg9YCNpZmRlZiBVU0VfRU5WTUFQCgkjaWZkZWYgRU5WX1dPUkxEUE9TCgkJdldvcmxkUG9zaXRpb24gPSB3b3JsZFBvc2l0aW9uLnh5ejsKCSNlbHNlCgkJdmVjMyBjYW1lcmFUb1ZlcnRleDsKCQlpZiAoIGlzT3J0aG9ncmFwaGljICkgewoJCQljYW1lcmFUb1ZlcnRleCA9IG5vcm1hbGl6ZSggdmVjMyggLSB2aWV3TWF0cml4WyAwIF1bIDIgXSwgLSB2aWV3TWF0cml4WyAxIF1bIDIgXSwgLSB2aWV3TWF0cml4WyAyIF1bIDIgXSApICk7CgkJfSBlbHNlIHsKCQkJY2FtZXJhVG9WZXJ0ZXggPSBub3JtYWxpemUoIHdvcmxkUG9zaXRpb24ueHl6IC0gY2FtZXJhUG9zaXRpb24gKTsKCQl9CgkJdmVjMyB3b3JsZE5vcm1hbCA9IGludmVyc2VUcmFuc2Zvcm1EaXJlY3Rpb24oIHRyYW5zZm9ybWVkTm9ybWFsLCB2aWV3TWF0cml4ICk7CgkJI2lmZGVmIEVOVk1BUF9NT0RFX1JFRkxFQ1RJT04KCQkJdlJlZmxlY3QgPSByZWZsZWN0KCBjYW1lcmFUb1ZlcnRleCwgd29ybGROb3JtYWwgKTsKCQkjZWxzZQoJCQl2UmVmbGVjdCA9IHJlZnJhY3QoIGNhbWVyYVRvVmVydGV4LCB3b3JsZE5vcm1hbCwgcmVmcmFjdGlvblJhdGlvICk7CgkJI2VuZGlmCgkjZW5kaWYKI2VuZGlmYCxmb2dfdmVydGV4PWAjaWZkZWYgVVNFX0ZPRwoJdkZvZ0RlcHRoID0gLSBtdlBvc2l0aW9uLno7CiNlbmRpZmAsZm9nX3BhcnNfdmVydGV4PWAjaWZkZWYgVVNFX0ZPRwoJdmFyeWluZyBmbG9hdCB2Rm9nRGVwdGg7CiNlbmRpZmAsZm9nX2ZyYWdtZW50PWAjaWZkZWYgVVNFX0ZPRwoJI2lmZGVmIEZPR19FWFAyCgkJZmxvYXQgZm9nRmFjdG9yID0gMS4wIC0gZXhwKCAtIGZvZ0RlbnNpdHkgKiBmb2dEZW5zaXR5ICogdkZvZ0RlcHRoICogdkZvZ0RlcHRoICk7CgkjZWxzZQoJCWZsb2F0IGZvZ0ZhY3RvciA9IHNtb290aHN0ZXAoIGZvZ05lYXIsIGZvZ0ZhciwgdkZvZ0RlcHRoICk7CgkjZW5kaWYKCWdsX0ZyYWdDb2xvci5yZ2IgPSBtaXgoIGdsX0ZyYWdDb2xvci5yZ2IsIGZvZ0NvbG9yLCBmb2dGYWN0b3IgKTsKI2VuZGlmYCxmb2dfcGFyc19mcmFnbWVudD1gI2lmZGVmIFVTRV9GT0cKCXVuaWZvcm0gdmVjMyBmb2dDb2xvcjsKCXZhcnlpbmcgZmxvYXQgdkZvZ0RlcHRoOwoJI2lmZGVmIEZPR19FWFAyCgkJdW5pZm9ybSBmbG9hdCBmb2dEZW5zaXR5OwoJI2Vsc2UKCQl1bmlmb3JtIGZsb2F0IGZvZ05lYXI7CgkJdW5pZm9ybSBmbG9hdCBmb2dGYXI7CgkjZW5kaWYKI2VuZGlmYCxncmFkaWVudG1hcF9wYXJzX2ZyYWdtZW50PWAjaWZkZWYgVVNFX0dSQURJRU5UTUFQCgl1bmlmb3JtIHNhbXBsZXIyRCBncmFkaWVudE1hcDsKI2VuZGlmCnZlYzMgZ2V0R3JhZGllbnRJcnJhZGlhbmNlKCB2ZWMzIG5vcm1hbCwgdmVjMyBsaWdodERpcmVjdGlvbiApIHsKCWZsb2F0IGRvdE5MID0gZG90KCBub3JtYWwsIGxpZ2h0RGlyZWN0aW9uICk7Cgl2ZWMyIGNvb3JkID0gdmVjMiggZG90TkwgKiAwLjUgKyAwLjUsIDAuMCApOwoJI2lmZGVmIFVTRV9HUkFESUVOVE1BUAoJCXJldHVybiB2ZWMzKCB0ZXh0dXJlMkQoIGdyYWRpZW50TWFwLCBjb29yZCApLnIgKTsKCSNlbHNlCgkJcmV0dXJuICggY29vcmQueCA8IDAuNyApID8gdmVjMyggMC43ICkgOiB2ZWMzKCAxLjAgKTsKCSNlbmRpZgp9YCxsaWdodG1hcF9mcmFnbWVudD1gI2lmZGVmIFVTRV9MSUdIVE1BUAoJdmVjNCBsaWdodE1hcFRleGVsID0gdGV4dHVyZTJEKCBsaWdodE1hcCwgdlV2MiApOwoJdmVjMyBsaWdodE1hcElycmFkaWFuY2UgPSBsaWdodE1hcFRleGVsLnJnYiAqIGxpZ2h0TWFwSW50ZW5zaXR5OwoJI2lmbmRlZiBQSFlTSUNBTExZX0NPUlJFQ1RfTElHSFRTCgkJbGlnaHRNYXBJcnJhZGlhbmNlICo9IFBJOwoJI2VuZGlmCglyZWZsZWN0ZWRMaWdodC5pbmRpcmVjdERpZmZ1c2UgKz0gbGlnaHRNYXBJcnJhZGlhbmNlOwojZW5kaWZgLGxpZ2h0bWFwX3BhcnNfZnJhZ21lbnQ9YCNpZmRlZiBVU0VfTElHSFRNQVAKCXVuaWZvcm0gc2FtcGxlcjJEIGxpZ2h0TWFwOwoJdW5pZm9ybSBmbG9hdCBsaWdodE1hcEludGVuc2l0eTsKI2VuZGlmYCxsaWdodHNfbGFtYmVydF92ZXJ0ZXg9YHZlYzMgZGlmZnVzZSA9IHZlYzMoIDEuMCApOwpHZW9tZXRyaWNDb250ZXh0IGdlb21ldHJ5OwpnZW9tZXRyeS5wb3NpdGlvbiA9IG12UG9zaXRpb24ueHl6OwpnZW9tZXRyeS5ub3JtYWwgPSBub3JtYWxpemUoIHRyYW5zZm9ybWVkTm9ybWFsICk7Cmdlb21ldHJ5LnZpZXdEaXIgPSAoIGlzT3J0aG9ncmFwaGljICkgPyB2ZWMzKCAwLCAwLCAxICkgOiBub3JtYWxpemUoIC1tdlBvc2l0aW9uLnh5eiApOwpHZW9tZXRyaWNDb250ZXh0IGJhY2tHZW9tZXRyeTsKYmFja0dlb21ldHJ5LnBvc2l0aW9uID0gZ2VvbWV0cnkucG9zaXRpb247CmJhY2tHZW9tZXRyeS5ub3JtYWwgPSAtZ2VvbWV0cnkubm9ybWFsOwpiYWNrR2VvbWV0cnkudmlld0RpciA9IGdlb21ldHJ5LnZpZXdEaXI7CnZMaWdodEZyb250ID0gdmVjMyggMC4wICk7CnZJbmRpcmVjdEZyb250ID0gdmVjMyggMC4wICk7CiNpZmRlZiBET1VCTEVfU0lERUQKCXZMaWdodEJhY2sgPSB2ZWMzKCAwLjAgKTsKCXZJbmRpcmVjdEJhY2sgPSB2ZWMzKCAwLjAgKTsKI2VuZGlmCkluY2lkZW50TGlnaHQgZGlyZWN0TGlnaHQ7CmZsb2F0IGRvdE5MOwp2ZWMzIGRpcmVjdExpZ2h0Q29sb3JfRGlmZnVzZTsKdkluZGlyZWN0RnJvbnQgKz0gZ2V0QW1iaWVudExpZ2h0SXJyYWRpYW5jZSggYW1iaWVudExpZ2h0Q29sb3IgKTsKdkluZGlyZWN0RnJvbnQgKz0gZ2V0TGlnaHRQcm9iZUlycmFkaWFuY2UoIGxpZ2h0UHJvYmUsIGdlb21ldHJ5Lm5vcm1hbCApOwojaWZkZWYgRE9VQkxFX1NJREVECgl2SW5kaXJlY3RCYWNrICs9IGdldEFtYmllbnRMaWdodElycmFkaWFuY2UoIGFtYmllbnRMaWdodENvbG9yICk7Cgl2SW5kaXJlY3RCYWNrICs9IGdldExpZ2h0UHJvYmVJcnJhZGlhbmNlKCBsaWdodFByb2JlLCBiYWNrR2VvbWV0cnkubm9ybWFsICk7CiNlbmRpZgojaWYgTlVNX1BPSU5UX0xJR0hUUyA+IDAKCSNwcmFnbWEgdW5yb2xsX2xvb3Bfc3RhcnQKCWZvciAoIGludCBpID0gMDsgaSA8IE5VTV9QT0lOVF9MSUdIVFM7IGkgKysgKSB7CgkJZ2V0UG9pbnRMaWdodEluZm8oIHBvaW50TGlnaHRzWyBpIF0sIGdlb21ldHJ5LCBkaXJlY3RMaWdodCApOwoJCWRvdE5MID0gZG90KCBnZW9tZXRyeS5ub3JtYWwsIGRpcmVjdExpZ2h0LmRpcmVjdGlvbiApOwoJCWRpcmVjdExpZ2h0Q29sb3JfRGlmZnVzZSA9IGRpcmVjdExpZ2h0LmNvbG9yOwoJCXZMaWdodEZyb250ICs9IHNhdHVyYXRlKCBkb3ROTCApICogZGlyZWN0TGlnaHRDb2xvcl9EaWZmdXNlOwoJCSNpZmRlZiBET1VCTEVfU0lERUQKCQkJdkxpZ2h0QmFjayArPSBzYXR1cmF0ZSggLSBkb3ROTCApICogZGlyZWN0TGlnaHRDb2xvcl9EaWZmdXNlOwoJCSNlbmRpZgoJfQoJI3ByYWdtYSB1bnJvbGxfbG9vcF9lbmQKI2VuZGlmCiNpZiBOVU1fU1BPVF9MSUdIVFMgPiAwCgkjcHJhZ21hIHVucm9sbF9sb29wX3N0YXJ0Cglmb3IgKCBpbnQgaSA9IDA7IGkgPCBOVU1fU1BPVF9MSUdIVFM7IGkgKysgKSB7CgkJZ2V0U3BvdExpZ2h0SW5mbyggc3BvdExpZ2h0c1sgaSBdLCBnZW9tZXRyeSwgZGlyZWN0TGlnaHQgKTsKCQlkb3ROTCA9IGRvdCggZ2VvbWV0cnkubm9ybWFsLCBkaXJlY3RMaWdodC5kaXJlY3Rpb24gKTsKCQlkaXJlY3RMaWdodENvbG9yX0RpZmZ1c2UgPSBkaXJlY3RMaWdodC5jb2xvcjsKCQl2TGlnaHRGcm9udCArPSBzYXR1cmF0ZSggZG90TkwgKSAqIGRpcmVjdExpZ2h0Q29sb3JfRGlmZnVzZTsKCQkjaWZkZWYgRE9VQkxFX1NJREVECgkJCXZMaWdodEJhY2sgKz0gc2F0dXJhdGUoIC0gZG90TkwgKSAqIGRpcmVjdExpZ2h0Q29sb3JfRGlmZnVzZTsKCQkjZW5kaWYKCX0KCSNwcmFnbWEgdW5yb2xsX2xvb3BfZW5kCiNlbmRpZgojaWYgTlVNX0RJUl9MSUdIVFMgPiAwCgkjcHJhZ21hIHVucm9sbF9sb29wX3N0YXJ0Cglmb3IgKCBpbnQgaSA9IDA7IGkgPCBOVU1fRElSX0xJR0hUUzsgaSArKyApIHsKCQlnZXREaXJlY3Rpb25hbExpZ2h0SW5mbyggZGlyZWN0aW9uYWxMaWdodHNbIGkgXSwgZ2VvbWV0cnksIGRpcmVjdExpZ2h0ICk7CgkJZG90TkwgPSBkb3QoIGdlb21ldHJ5Lm5vcm1hbCwgZGlyZWN0TGlnaHQuZGlyZWN0aW9uICk7CgkJZGlyZWN0TGlnaHRDb2xvcl9EaWZmdXNlID0gZGlyZWN0TGlnaHQuY29sb3I7CgkJdkxpZ2h0RnJvbnQgKz0gc2F0dXJhdGUoIGRvdE5MICkgKiBkaXJlY3RMaWdodENvbG9yX0RpZmZ1c2U7CgkJI2lmZGVmIERPVUJMRV9TSURFRAoJCQl2TGlnaHRCYWNrICs9IHNhdHVyYXRlKCAtIGRvdE5MICkgKiBkaXJlY3RMaWdodENvbG9yX0RpZmZ1c2U7CgkJI2VuZGlmCgl9CgkjcHJhZ21hIHVucm9sbF9sb29wX2VuZAojZW5kaWYKI2lmIE5VTV9IRU1JX0xJR0hUUyA+IDAKCSNwcmFnbWEgdW5yb2xsX2xvb3Bfc3RhcnQKCWZvciAoIGludCBpID0gMDsgaSA8IE5VTV9IRU1JX0xJR0hUUzsgaSArKyApIHsKCQl2SW5kaXJlY3RGcm9udCArPSBnZXRIZW1pc3BoZXJlTGlnaHRJcnJhZGlhbmNlKCBoZW1pc3BoZXJlTGlnaHRzWyBpIF0sIGdlb21ldHJ5Lm5vcm1hbCApOwoJCSNpZmRlZiBET1VCTEVfU0lERUQKCQkJdkluZGlyZWN0QmFjayArPSBnZXRIZW1pc3BoZXJlTGlnaHRJcnJhZGlhbmNlKCBoZW1pc3BoZXJlTGlnaHRzWyBpIF0sIGJhY2tHZW9tZXRyeS5ub3JtYWwgKTsKCQkjZW5kaWYKCX0KCSNwcmFnbWEgdW5yb2xsX2xvb3BfZW5kCiNlbmRpZmAsbGlnaHRzX3BhcnNfYmVnaW49YHVuaWZvcm0gYm9vbCByZWNlaXZlU2hhZG93Owp1bmlmb3JtIHZlYzMgYW1iaWVudExpZ2h0Q29sb3I7CnVuaWZvcm0gdmVjMyBsaWdodFByb2JlWyA5IF07CnZlYzMgc2hHZXRJcnJhZGlhbmNlQXQoIGluIHZlYzMgbm9ybWFsLCBpbiB2ZWMzIHNoQ29lZmZpY2llbnRzWyA5IF0gKSB7CglmbG9hdCB4ID0gbm9ybWFsLngsIHkgPSBub3JtYWwueSwgeiA9IG5vcm1hbC56OwoJdmVjMyByZXN1bHQgPSBzaENvZWZmaWNpZW50c1sgMCBdICogMC44ODYyMjc7CglyZXN1bHQgKz0gc2hDb2VmZmljaWVudHNbIDEgXSAqIDIuMCAqIDAuNTExNjY0ICogeTsKCXJlc3VsdCArPSBzaENvZWZmaWNpZW50c1sgMiBdICogMi4wICogMC41MTE2NjQgKiB6OwoJcmVzdWx0ICs9IHNoQ29lZmZpY2llbnRzWyAzIF0gKiAyLjAgKiAwLjUxMTY2NCAqIHg7CglyZXN1bHQgKz0gc2hDb2VmZmljaWVudHNbIDQgXSAqIDIuMCAqIDAuNDI5MDQzICogeCAqIHk7CglyZXN1bHQgKz0gc2hDb2VmZmljaWVudHNbIDUgXSAqIDIuMCAqIDAuNDI5MDQzICogeSAqIHo7CglyZXN1bHQgKz0gc2hDb2VmZmljaWVudHNbIDYgXSAqICggMC43NDMxMjUgKiB6ICogeiAtIDAuMjQ3NzA4ICk7CglyZXN1bHQgKz0gc2hDb2VmZmljaWVudHNbIDcgXSAqIDIuMCAqIDAuNDI5MDQzICogeCAqIHo7CglyZXN1bHQgKz0gc2hDb2VmZmljaWVudHNbIDggXSAqIDAuNDI5MDQzICogKCB4ICogeCAtIHkgKiB5ICk7CglyZXR1cm4gcmVzdWx0Owp9CnZlYzMgZ2V0TGlnaHRQcm9iZUlycmFkaWFuY2UoIGNvbnN0IGluIHZlYzMgbGlnaHRQcm9iZVsgOSBdLCBjb25zdCBpbiB2ZWMzIG5vcm1hbCApIHsKCXZlYzMgd29ybGROb3JtYWwgPSBpbnZlcnNlVHJhbnNmb3JtRGlyZWN0aW9uKCBub3JtYWwsIHZpZXdNYXRyaXggKTsKCXZlYzMgaXJyYWRpYW5jZSA9IHNoR2V0SXJyYWRpYW5jZUF0KCB3b3JsZE5vcm1hbCwgbGlnaHRQcm9iZSApOwoJcmV0dXJuIGlycmFkaWFuY2U7Cn0KdmVjMyBnZXRBbWJpZW50TGlnaHRJcnJhZGlhbmNlKCBjb25zdCBpbiB2ZWMzIGFtYmllbnRMaWdodENvbG9yICkgewoJdmVjMyBpcnJhZGlhbmNlID0gYW1iaWVudExpZ2h0Q29sb3I7CglyZXR1cm4gaXJyYWRpYW5jZTsKfQpmbG9hdCBnZXREaXN0YW5jZUF0dGVudWF0aW9uKCBjb25zdCBpbiBmbG9hdCBsaWdodERpc3RhbmNlLCBjb25zdCBpbiBmbG9hdCBjdXRvZmZEaXN0YW5jZSwgY29uc3QgaW4gZmxvYXQgZGVjYXlFeHBvbmVudCApIHsKCSNpZiBkZWZpbmVkICggUEhZU0lDQUxMWV9DT1JSRUNUX0xJR0hUUyApCgkJZmxvYXQgZGlzdGFuY2VGYWxsb2ZmID0gMS4wIC8gbWF4KCBwb3coIGxpZ2h0RGlzdGFuY2UsIGRlY2F5RXhwb25lbnQgKSwgMC4wMSApOwoJCWlmICggY3V0b2ZmRGlzdGFuY2UgPiAwLjAgKSB7CgkJCWRpc3RhbmNlRmFsbG9mZiAqPSBwb3cyKCBzYXR1cmF0ZSggMS4wIC0gcG93NCggbGlnaHREaXN0YW5jZSAvIGN1dG9mZkRpc3RhbmNlICkgKSApOwoJCX0KCQlyZXR1cm4gZGlzdGFuY2VGYWxsb2ZmOwoJI2Vsc2UKCQlpZiAoIGN1dG9mZkRpc3RhbmNlID4gMC4wICYmIGRlY2F5RXhwb25lbnQgPiAwLjAgKSB7CgkJCXJldHVybiBwb3coIHNhdHVyYXRlKCAtIGxpZ2h0RGlzdGFuY2UgLyBjdXRvZmZEaXN0YW5jZSArIDEuMCApLCBkZWNheUV4cG9uZW50ICk7CgkJfQoJCXJldHVybiAxLjA7CgkjZW5kaWYKfQpmbG9hdCBnZXRTcG90QXR0ZW51YXRpb24oIGNvbnN0IGluIGZsb2F0IGNvbmVDb3NpbmUsIGNvbnN0IGluIGZsb2F0IHBlbnVtYnJhQ29zaW5lLCBjb25zdCBpbiBmbG9hdCBhbmdsZUNvc2luZSApIHsKCXJldHVybiBzbW9vdGhzdGVwKCBjb25lQ29zaW5lLCBwZW51bWJyYUNvc2luZSwgYW5nbGVDb3NpbmUgKTsKfQojaWYgTlVNX0RJUl9MSUdIVFMgPiAwCglzdHJ1Y3QgRGlyZWN0aW9uYWxMaWdodCB7CgkJdmVjMyBkaXJlY3Rpb247CgkJdmVjMyBjb2xvcjsKCX07Cgl1bmlmb3JtIERpcmVjdGlvbmFsTGlnaHQgZGlyZWN0aW9uYWxMaWdodHNbIE5VTV9ESVJfTElHSFRTIF07Cgl2b2lkIGdldERpcmVjdGlvbmFsTGlnaHRJbmZvKCBjb25zdCBpbiBEaXJlY3Rpb25hbExpZ2h0IGRpcmVjdGlvbmFsTGlnaHQsIGNvbnN0IGluIEdlb21ldHJpY0NvbnRleHQgZ2VvbWV0cnksIG91dCBJbmNpZGVudExpZ2h0IGxpZ2h0ICkgewoJCWxpZ2h0LmNvbG9yID0gZGlyZWN0aW9uYWxMaWdodC5jb2xvcjsKCQlsaWdodC5kaXJlY3Rpb24gPSBkaXJlY3Rpb25hbExpZ2h0LmRpcmVjdGlvbjsKCQlsaWdodC52aXNpYmxlID0gdHJ1ZTsKCX0KI2VuZGlmCiNpZiBOVU1fUE9JTlRfTElHSFRTID4gMAoJc3RydWN0IFBvaW50TGlnaHQgewoJCXZlYzMgcG9zaXRpb247CgkJdmVjMyBjb2xvcjsKCQlmbG9hdCBkaXN0YW5jZTsKCQlmbG9hdCBkZWNheTsKCX07Cgl1bmlmb3JtIFBvaW50TGlnaHQgcG9pbnRMaWdodHNbIE5VTV9QT0lOVF9MSUdIVFMgXTsKCXZvaWQgZ2V0UG9pbnRMaWdodEluZm8oIGNvbnN0IGluIFBvaW50TGlnaHQgcG9pbnRMaWdodCwgY29uc3QgaW4gR2VvbWV0cmljQ29udGV4dCBnZW9tZXRyeSwgb3V0IEluY2lkZW50TGlnaHQgbGlnaHQgKSB7CgkJdmVjMyBsVmVjdG9yID0gcG9pbnRMaWdodC5wb3NpdGlvbiAtIGdlb21ldHJ5LnBvc2l0aW9uOwoJCWxpZ2h0LmRpcmVjdGlvbiA9IG5vcm1hbGl6ZSggbFZlY3RvciApOwoJCWZsb2F0IGxpZ2h0RGlzdGFuY2UgPSBsZW5ndGgoIGxWZWN0b3IgKTsKCQlsaWdodC5jb2xvciA9IHBvaW50TGlnaHQuY29sb3I7CgkJbGlnaHQuY29sb3IgKj0gZ2V0RGlzdGFuY2VBdHRlbnVhdGlvbiggbGlnaHREaXN0YW5jZSwgcG9pbnRMaWdodC5kaXN0YW5jZSwgcG9pbnRMaWdodC5kZWNheSApOwoJCWxpZ2h0LnZpc2libGUgPSAoIGxpZ2h0LmNvbG9yICE9IHZlYzMoIDAuMCApICk7Cgl9CiNlbmRpZgojaWYgTlVNX1NQT1RfTElHSFRTID4gMAoJc3RydWN0IFNwb3RMaWdodCB7CgkJdmVjMyBwb3NpdGlvbjsKCQl2ZWMzIGRpcmVjdGlvbjsKCQl2ZWMzIGNvbG9yOwoJCWZsb2F0IGRpc3RhbmNlOwoJCWZsb2F0IGRlY2F5OwoJCWZsb2F0IGNvbmVDb3M7CgkJZmxvYXQgcGVudW1icmFDb3M7Cgl9OwoJdW5pZm9ybSBTcG90TGlnaHQgc3BvdExpZ2h0c1sgTlVNX1NQT1RfTElHSFRTIF07Cgl2b2lkIGdldFNwb3RMaWdodEluZm8oIGNvbnN0IGluIFNwb3RMaWdodCBzcG90TGlnaHQsIGNvbnN0IGluIEdlb21ldHJpY0NvbnRleHQgZ2VvbWV0cnksIG91dCBJbmNpZGVudExpZ2h0IGxpZ2h0ICkgewoJCXZlYzMgbFZlY3RvciA9IHNwb3RMaWdodC5wb3NpdGlvbiAtIGdlb21ldHJ5LnBvc2l0aW9uOwoJCWxpZ2h0LmRpcmVjdGlvbiA9IG5vcm1hbGl6ZSggbFZlY3RvciApOwoJCWZsb2F0IGFuZ2xlQ29zID0gZG90KCBsaWdodC5kaXJlY3Rpb24sIHNwb3RMaWdodC5kaXJlY3Rpb24gKTsKCQlmbG9hdCBzcG90QXR0ZW51YXRpb24gPSBnZXRTcG90QXR0ZW51YXRpb24oIHNwb3RMaWdodC5jb25lQ29zLCBzcG90TGlnaHQucGVudW1icmFDb3MsIGFuZ2xlQ29zICk7CgkJaWYgKCBzcG90QXR0ZW51YXRpb24gPiAwLjAgKSB7CgkJCWZsb2F0IGxpZ2h0RGlzdGFuY2UgPSBsZW5ndGgoIGxWZWN0b3IgKTsKCQkJbGlnaHQuY29sb3IgPSBzcG90TGlnaHQuY29sb3IgKiBzcG90QXR0ZW51YXRpb247CgkJCWxpZ2h0LmNvbG9yICo9IGdldERpc3RhbmNlQXR0ZW51YXRpb24oIGxpZ2h0RGlzdGFuY2UsIHNwb3RMaWdodC5kaXN0YW5jZSwgc3BvdExpZ2h0LmRlY2F5ICk7CgkJCWxpZ2h0LnZpc2libGUgPSAoIGxpZ2h0LmNvbG9yICE9IHZlYzMoIDAuMCApICk7CgkJfSBlbHNlIHsKCQkJbGlnaHQuY29sb3IgPSB2ZWMzKCAwLjAgKTsKCQkJbGlnaHQudmlzaWJsZSA9IGZhbHNlOwoJCX0KCX0KI2VuZGlmCiNpZiBOVU1fUkVDVF9BUkVBX0xJR0hUUyA+IDAKCXN0cnVjdCBSZWN0QXJlYUxpZ2h0IHsKCQl2ZWMzIGNvbG9yOwoJCXZlYzMgcG9zaXRpb247CgkJdmVjMyBoYWxmV2lkdGg7CgkJdmVjMyBoYWxmSGVpZ2h0OwoJfTsKCXVuaWZvcm0gc2FtcGxlcjJEIGx0Y18xOwl1bmlmb3JtIHNhbXBsZXIyRCBsdGNfMjsKCXVuaWZvcm0gUmVjdEFyZWFMaWdodCByZWN0QXJlYUxpZ2h0c1sgTlVNX1JFQ1RfQVJFQV9MSUdIVFMgXTsKI2VuZGlmCiNpZiBOVU1fSEVNSV9MSUdIVFMgPiAwCglzdHJ1Y3QgSGVtaXNwaGVyZUxpZ2h0IHsKCQl2ZWMzIGRpcmVjdGlvbjsKCQl2ZWMzIHNreUNvbG9yOwoJCXZlYzMgZ3JvdW5kQ29sb3I7Cgl9OwoJdW5pZm9ybSBIZW1pc3BoZXJlTGlnaHQgaGVtaXNwaGVyZUxpZ2h0c1sgTlVNX0hFTUlfTElHSFRTIF07Cgl2ZWMzIGdldEhlbWlzcGhlcmVMaWdodElycmFkaWFuY2UoIGNvbnN0IGluIEhlbWlzcGhlcmVMaWdodCBoZW1pTGlnaHQsIGNvbnN0IGluIHZlYzMgbm9ybWFsICkgewoJCWZsb2F0IGRvdE5MID0gZG90KCBub3JtYWwsIGhlbWlMaWdodC5kaXJlY3Rpb24gKTsKCQlmbG9hdCBoZW1pRGlmZnVzZVdlaWdodCA9IDAuNSAqIGRvdE5MICsgMC41OwoJCXZlYzMgaXJyYWRpYW5jZSA9IG1peCggaGVtaUxpZ2h0Lmdyb3VuZENvbG9yLCBoZW1pTGlnaHQuc2t5Q29sb3IsIGhlbWlEaWZmdXNlV2VpZ2h0ICk7CgkJcmV0dXJuIGlycmFkaWFuY2U7Cgl9CiNlbmRpZmAsZW52bWFwX3BoeXNpY2FsX3BhcnNfZnJhZ21lbnQ9YCNpZiBkZWZpbmVkKCBVU0VfRU5WTUFQICkKCSNpZmRlZiBFTlZNQVBfTU9ERV9SRUZSQUNUSU9OCgkJdW5pZm9ybSBmbG9hdCByZWZyYWN0aW9uUmF0aW87CgkjZW5kaWYKCXZlYzMgZ2V0SUJMSXJyYWRpYW5jZSggY29uc3QgaW4gdmVjMyBub3JtYWwgKSB7CgkJI2lmIGRlZmluZWQoIEVOVk1BUF9UWVBFX0NVQkVfVVYgKQoJCQl2ZWMzIHdvcmxkTm9ybWFsID0gaW52ZXJzZVRyYW5zZm9ybURpcmVjdGlvbiggbm9ybWFsLCB2aWV3TWF0cml4ICk7CgkJCXZlYzQgZW52TWFwQ29sb3IgPSB0ZXh0dXJlQ3ViZVVWKCBlbnZNYXAsIHdvcmxkTm9ybWFsLCAxLjAgKTsKCQkJcmV0dXJuIFBJICogZW52TWFwQ29sb3IucmdiICogZW52TWFwSW50ZW5zaXR5OwoJCSNlbHNlCgkJCXJldHVybiB2ZWMzKCAwLjAgKTsKCQkjZW5kaWYKCX0KCXZlYzMgZ2V0SUJMUmFkaWFuY2UoIGNvbnN0IGluIHZlYzMgdmlld0RpciwgY29uc3QgaW4gdmVjMyBub3JtYWwsIGNvbnN0IGluIGZsb2F0IHJvdWdobmVzcyApIHsKCQkjaWYgZGVmaW5lZCggRU5WTUFQX1RZUEVfQ1VCRV9VViApCgkJCXZlYzMgcmVmbGVjdFZlYzsKCQkJI2lmZGVmIEVOVk1BUF9NT0RFX1JFRkxFQ1RJT04KCQkJCXJlZmxlY3RWZWMgPSByZWZsZWN0KCAtIHZpZXdEaXIsIG5vcm1hbCApOwoJCQkJcmVmbGVjdFZlYyA9IG5vcm1hbGl6ZSggbWl4KCByZWZsZWN0VmVjLCBub3JtYWwsIHJvdWdobmVzcyAqIHJvdWdobmVzcykgKTsKCQkJI2Vsc2UKCQkJCXJlZmxlY3RWZWMgPSByZWZyYWN0KCAtIHZpZXdEaXIsIG5vcm1hbCwgcmVmcmFjdGlvblJhdGlvICk7CgkJCSNlbmRpZgoJCQlyZWZsZWN0VmVjID0gaW52ZXJzZVRyYW5zZm9ybURpcmVjdGlvbiggcmVmbGVjdFZlYywgdmlld01hdHJpeCApOwoJCQl2ZWM0IGVudk1hcENvbG9yID0gdGV4dHVyZUN1YmVVViggZW52TWFwLCByZWZsZWN0VmVjLCByb3VnaG5lc3MgKTsKCQkJcmV0dXJuIGVudk1hcENvbG9yLnJnYiAqIGVudk1hcEludGVuc2l0eTsKCQkjZWxzZQoJCQlyZXR1cm4gdmVjMyggMC4wICk7CgkJI2VuZGlmCgl9CiNlbmRpZmAsbGlnaHRzX3Rvb25fZnJhZ21lbnQ9YFRvb25NYXRlcmlhbCBtYXRlcmlhbDsKbWF0ZXJpYWwuZGlmZnVzZUNvbG9yID0gZGlmZnVzZUNvbG9yLnJnYjtgLGxpZ2h0c190b29uX3BhcnNfZnJhZ21lbnQ9YHZhcnlpbmcgdmVjMyB2Vmlld1Bvc2l0aW9uOwpzdHJ1Y3QgVG9vbk1hdGVyaWFsIHsKCXZlYzMgZGlmZnVzZUNvbG9yOwp9Owp2b2lkIFJFX0RpcmVjdF9Ub29uKCBjb25zdCBpbiBJbmNpZGVudExpZ2h0IGRpcmVjdExpZ2h0LCBjb25zdCBpbiBHZW9tZXRyaWNDb250ZXh0IGdlb21ldHJ5LCBjb25zdCBpbiBUb29uTWF0ZXJpYWwgbWF0ZXJpYWwsIGlub3V0IFJlZmxlY3RlZExpZ2h0IHJlZmxlY3RlZExpZ2h0ICkgewoJdmVjMyBpcnJhZGlhbmNlID0gZ2V0R3JhZGllbnRJcnJhZGlhbmNlKCBnZW9tZXRyeS5ub3JtYWwsIGRpcmVjdExpZ2h0LmRpcmVjdGlvbiApICogZGlyZWN0TGlnaHQuY29sb3I7CglyZWZsZWN0ZWRMaWdodC5kaXJlY3REaWZmdXNlICs9IGlycmFkaWFuY2UgKiBCUkRGX0xhbWJlcnQoIG1hdGVyaWFsLmRpZmZ1c2VDb2xvciApOwp9CnZvaWQgUkVfSW5kaXJlY3REaWZmdXNlX1Rvb24oIGNvbnN0IGluIHZlYzMgaXJyYWRpYW5jZSwgY29uc3QgaW4gR2VvbWV0cmljQ29udGV4dCBnZW9tZXRyeSwgY29uc3QgaW4gVG9vbk1hdGVyaWFsIG1hdGVyaWFsLCBpbm91dCBSZWZsZWN0ZWRMaWdodCByZWZsZWN0ZWRMaWdodCApIHsKCXJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZSArPSBpcnJhZGlhbmNlICogQlJERl9MYW1iZXJ0KCBtYXRlcmlhbC5kaWZmdXNlQ29sb3IgKTsKfQojZGVmaW5lIFJFX0RpcmVjdAkJCQlSRV9EaXJlY3RfVG9vbgojZGVmaW5lIFJFX0luZGlyZWN0RGlmZnVzZQkJUkVfSW5kaXJlY3REaWZmdXNlX1Rvb24KI2RlZmluZSBNYXRlcmlhbF9MaWdodFByb2JlTE9EKCBtYXRlcmlhbCApCSgwKWAsbGlnaHRzX3Bob25nX2ZyYWdtZW50PWBCbGlublBob25nTWF0ZXJpYWwgbWF0ZXJpYWw7Cm1hdGVyaWFsLmRpZmZ1c2VDb2xvciA9IGRpZmZ1c2VDb2xvci5yZ2I7Cm1hdGVyaWFsLnNwZWN1bGFyQ29sb3IgPSBzcGVjdWxhcjsKbWF0ZXJpYWwuc3BlY3VsYXJTaGluaW5lc3MgPSBzaGluaW5lc3M7Cm1hdGVyaWFsLnNwZWN1bGFyU3RyZW5ndGggPSBzcGVjdWxhclN0cmVuZ3RoO2AsbGlnaHRzX3Bob25nX3BhcnNfZnJhZ21lbnQ9YHZhcnlpbmcgdmVjMyB2Vmlld1Bvc2l0aW9uOwpzdHJ1Y3QgQmxpbm5QaG9uZ01hdGVyaWFsIHsKCXZlYzMgZGlmZnVzZUNvbG9yOwoJdmVjMyBzcGVjdWxhckNvbG9yOwoJZmxvYXQgc3BlY3VsYXJTaGluaW5lc3M7CglmbG9hdCBzcGVjdWxhclN0cmVuZ3RoOwp9Owp2b2lkIFJFX0RpcmVjdF9CbGlublBob25nKCBjb25zdCBpbiBJbmNpZGVudExpZ2h0IGRpcmVjdExpZ2h0LCBjb25zdCBpbiBHZW9tZXRyaWNDb250ZXh0IGdlb21ldHJ5LCBjb25zdCBpbiBCbGlublBob25nTWF0ZXJpYWwgbWF0ZXJpYWwsIGlub3V0IFJlZmxlY3RlZExpZ2h0IHJlZmxlY3RlZExpZ2h0ICkgewoJZmxvYXQgZG90TkwgPSBzYXR1cmF0ZSggZG90KCBnZW9tZXRyeS5ub3JtYWwsIGRpcmVjdExpZ2h0LmRpcmVjdGlvbiApICk7Cgl2ZWMzIGlycmFkaWFuY2UgPSBkb3ROTCAqIGRpcmVjdExpZ2h0LmNvbG9yOwoJcmVmbGVjdGVkTGlnaHQuZGlyZWN0RGlmZnVzZSArPSBpcnJhZGlhbmNlICogQlJERl9MYW1iZXJ0KCBtYXRlcmlhbC5kaWZmdXNlQ29sb3IgKTsKCXJlZmxlY3RlZExpZ2h0LmRpcmVjdFNwZWN1bGFyICs9IGlycmFkaWFuY2UgKiBCUkRGX0JsaW5uUGhvbmcoIGRpcmVjdExpZ2h0LmRpcmVjdGlvbiwgZ2VvbWV0cnkudmlld0RpciwgZ2VvbWV0cnkubm9ybWFsLCBtYXRlcmlhbC5zcGVjdWxhckNvbG9yLCBtYXRlcmlhbC5zcGVjdWxhclNoaW5pbmVzcyApICogbWF0ZXJpYWwuc3BlY3VsYXJTdHJlbmd0aDsKfQp2b2lkIFJFX0luZGlyZWN0RGlmZnVzZV9CbGlublBob25nKCBjb25zdCBpbiB2ZWMzIGlycmFkaWFuY2UsIGNvbnN0IGluIEdlb21ldHJpY0NvbnRleHQgZ2VvbWV0cnksIGNvbnN0IGluIEJsaW5uUGhvbmdNYXRlcmlhbCBtYXRlcmlhbCwgaW5vdXQgUmVmbGVjdGVkTGlnaHQgcmVmbGVjdGVkTGlnaHQgKSB7CglyZWZsZWN0ZWRMaWdodC5pbmRpcmVjdERpZmZ1c2UgKz0gaXJyYWRpYW5jZSAqIEJSREZfTGFtYmVydCggbWF0ZXJpYWwuZGlmZnVzZUNvbG9yICk7Cn0KI2RlZmluZSBSRV9EaXJlY3QJCQkJUkVfRGlyZWN0X0JsaW5uUGhvbmcKI2RlZmluZSBSRV9JbmRpcmVjdERpZmZ1c2UJCVJFX0luZGlyZWN0RGlmZnVzZV9CbGlublBob25nCiNkZWZpbmUgTWF0ZXJpYWxfTGlnaHRQcm9iZUxPRCggbWF0ZXJpYWwgKQkoMClgLGxpZ2h0c19waHlzaWNhbF9mcmFnbWVudD1gUGh5c2ljYWxNYXRlcmlhbCBtYXRlcmlhbDsKbWF0ZXJpYWwuZGlmZnVzZUNvbG9yID0gZGlmZnVzZUNvbG9yLnJnYiAqICggMS4wIC0gbWV0YWxuZXNzRmFjdG9yICk7CnZlYzMgZHh5ID0gbWF4KCBhYnMoIGRGZHgoIGdlb21ldHJ5Tm9ybWFsICkgKSwgYWJzKCBkRmR5KCBnZW9tZXRyeU5vcm1hbCApICkgKTsKZmxvYXQgZ2VvbWV0cnlSb3VnaG5lc3MgPSBtYXgoIG1heCggZHh5LngsIGR4eS55ICksIGR4eS56ICk7Cm1hdGVyaWFsLnJvdWdobmVzcyA9IG1heCggcm91Z2huZXNzRmFjdG9yLCAwLjA1MjUgKTttYXRlcmlhbC5yb3VnaG5lc3MgKz0gZ2VvbWV0cnlSb3VnaG5lc3M7Cm1hdGVyaWFsLnJvdWdobmVzcyA9IG1pbiggbWF0ZXJpYWwucm91Z2huZXNzLCAxLjAgKTsKI2lmZGVmIElPUgoJI2lmZGVmIFNQRUNVTEFSCgkJZmxvYXQgc3BlY3VsYXJJbnRlbnNpdHlGYWN0b3IgPSBzcGVjdWxhckludGVuc2l0eTsKCQl2ZWMzIHNwZWN1bGFyQ29sb3JGYWN0b3IgPSBzcGVjdWxhckNvbG9yOwoJCSNpZmRlZiBVU0VfU1BFQ1VMQVJJTlRFTlNJVFlNQVAKCQkJc3BlY3VsYXJJbnRlbnNpdHlGYWN0b3IgKj0gdGV4dHVyZTJEKCBzcGVjdWxhckludGVuc2l0eU1hcCwgdlV2ICkuYTsKCQkjZW5kaWYKCQkjaWZkZWYgVVNFX1NQRUNVTEFSQ09MT1JNQVAKCQkJc3BlY3VsYXJDb2xvckZhY3RvciAqPSB0ZXh0dXJlMkQoIHNwZWN1bGFyQ29sb3JNYXAsIHZVdiApLnJnYjsKCQkjZW5kaWYKCQltYXRlcmlhbC5zcGVjdWxhckY5MCA9IG1peCggc3BlY3VsYXJJbnRlbnNpdHlGYWN0b3IsIDEuMCwgbWV0YWxuZXNzRmFjdG9yICk7CgkjZWxzZQoJCWZsb2F0IHNwZWN1bGFySW50ZW5zaXR5RmFjdG9yID0gMS4wOwoJCXZlYzMgc3BlY3VsYXJDb2xvckZhY3RvciA9IHZlYzMoIDEuMCApOwoJCW1hdGVyaWFsLnNwZWN1bGFyRjkwID0gMS4wOwoJI2VuZGlmCgltYXRlcmlhbC5zcGVjdWxhckNvbG9yID0gbWl4KCBtaW4oIHBvdzIoICggaW9yIC0gMS4wICkgLyAoIGlvciArIDEuMCApICkgKiBzcGVjdWxhckNvbG9yRmFjdG9yLCB2ZWMzKCAxLjAgKSApICogc3BlY3VsYXJJbnRlbnNpdHlGYWN0b3IsIGRpZmZ1c2VDb2xvci5yZ2IsIG1ldGFsbmVzc0ZhY3RvciApOwojZWxzZQoJbWF0ZXJpYWwuc3BlY3VsYXJDb2xvciA9IG1peCggdmVjMyggMC4wNCApLCBkaWZmdXNlQ29sb3IucmdiLCBtZXRhbG5lc3NGYWN0b3IgKTsKCW1hdGVyaWFsLnNwZWN1bGFyRjkwID0gMS4wOwojZW5kaWYKI2lmZGVmIFVTRV9DTEVBUkNPQVQKCW1hdGVyaWFsLmNsZWFyY29hdCA9IGNsZWFyY29hdDsKCW1hdGVyaWFsLmNsZWFyY29hdFJvdWdobmVzcyA9IGNsZWFyY29hdFJvdWdobmVzczsKCW1hdGVyaWFsLmNsZWFyY29hdEYwID0gdmVjMyggMC4wNCApOwoJbWF0ZXJpYWwuY2xlYXJjb2F0RjkwID0gMS4wOwoJI2lmZGVmIFVTRV9DTEVBUkNPQVRNQVAKCQltYXRlcmlhbC5jbGVhcmNvYXQgKj0gdGV4dHVyZTJEKCBjbGVhcmNvYXRNYXAsIHZVdiApLng7CgkjZW5kaWYKCSNpZmRlZiBVU0VfQ0xFQVJDT0FUX1JPVUdITkVTU01BUAoJCW1hdGVyaWFsLmNsZWFyY29hdFJvdWdobmVzcyAqPSB0ZXh0dXJlMkQoIGNsZWFyY29hdFJvdWdobmVzc01hcCwgdlV2ICkueTsKCSNlbmRpZgoJbWF0ZXJpYWwuY2xlYXJjb2F0ID0gc2F0dXJhdGUoIG1hdGVyaWFsLmNsZWFyY29hdCApOwltYXRlcmlhbC5jbGVhcmNvYXRSb3VnaG5lc3MgPSBtYXgoIG1hdGVyaWFsLmNsZWFyY29hdFJvdWdobmVzcywgMC4wNTI1ICk7CgltYXRlcmlhbC5jbGVhcmNvYXRSb3VnaG5lc3MgKz0gZ2VvbWV0cnlSb3VnaG5lc3M7CgltYXRlcmlhbC5jbGVhcmNvYXRSb3VnaG5lc3MgPSBtaW4oIG1hdGVyaWFsLmNsZWFyY29hdFJvdWdobmVzcywgMS4wICk7CiNlbmRpZgojaWZkZWYgVVNFX1NIRUVOCgltYXRlcmlhbC5zaGVlbkNvbG9yID0gc2hlZW5Db2xvcjsKCSNpZmRlZiBVU0VfU0hFRU5DT0xPUk1BUAoJCW1hdGVyaWFsLnNoZWVuQ29sb3IgKj0gdGV4dHVyZTJEKCBzaGVlbkNvbG9yTWFwLCB2VXYgKS5yZ2I7CgkjZW5kaWYKCW1hdGVyaWFsLnNoZWVuUm91Z2huZXNzID0gY2xhbXAoIHNoZWVuUm91Z2huZXNzLCAwLjA3LCAxLjAgKTsKCSNpZmRlZiBVU0VfU0hFRU5ST1VHSE5FU1NNQVAKCQltYXRlcmlhbC5zaGVlblJvdWdobmVzcyAqPSB0ZXh0dXJlMkQoIHNoZWVuUm91Z2huZXNzTWFwLCB2VXYgKS5hOwoJI2VuZGlmCiNlbmRpZmAsbGlnaHRzX3BoeXNpY2FsX3BhcnNfZnJhZ21lbnQ9YHN0cnVjdCBQaHlzaWNhbE1hdGVyaWFsIHsKCXZlYzMgZGlmZnVzZUNvbG9yOwoJZmxvYXQgcm91Z2huZXNzOwoJdmVjMyBzcGVjdWxhckNvbG9yOwoJZmxvYXQgc3BlY3VsYXJGOTA7CgkjaWZkZWYgVVNFX0NMRUFSQ09BVAoJCWZsb2F0IGNsZWFyY29hdDsKCQlmbG9hdCBjbGVhcmNvYXRSb3VnaG5lc3M7CgkJdmVjMyBjbGVhcmNvYXRGMDsKCQlmbG9hdCBjbGVhcmNvYXRGOTA7CgkjZW5kaWYKCSNpZmRlZiBVU0VfU0hFRU4KCQl2ZWMzIHNoZWVuQ29sb3I7CgkJZmxvYXQgc2hlZW5Sb3VnaG5lc3M7CgkjZW5kaWYKfTsKdmVjMyBjbGVhcmNvYXRTcGVjdWxhciA9IHZlYzMoIDAuMCApOwp2ZWMzIHNoZWVuU3BlY3VsYXIgPSB2ZWMzKCAwLjAgKTsKZmxvYXQgSUJMU2hlZW5CUkRGKCBjb25zdCBpbiB2ZWMzIG5vcm1hbCwgY29uc3QgaW4gdmVjMyB2aWV3RGlyLCBjb25zdCBpbiBmbG9hdCByb3VnaG5lc3MpIHsKCWZsb2F0IGRvdE5WID0gc2F0dXJhdGUoIGRvdCggbm9ybWFsLCB2aWV3RGlyICkgKTsKCWZsb2F0IHIyID0gcm91Z2huZXNzICogcm91Z2huZXNzOwoJZmxvYXQgYSA9IHJvdWdobmVzcyA8IDAuMjUgPyAtMzM5LjIgKiByMiArIDE2MS40ICogcm91Z2huZXNzIC0gMjUuOSA6IC04LjQ4ICogcjIgKyAxNC4zICogcm91Z2huZXNzIC0gOS45NTsKCWZsb2F0IGIgPSByb3VnaG5lc3MgPCAwLjI1ID8gNDQuMCAqIHIyIC0gMjMuNyAqIHJvdWdobmVzcyArIDMuMjYgOiAxLjk3ICogcjIgLSAzLjI3ICogcm91Z2huZXNzICsgMC43MjsKCWZsb2F0IERHID0gZXhwKCBhICogZG90TlYgKyBiICkgKyAoIHJvdWdobmVzcyA8IDAuMjUgPyAwLjAgOiAwLjEgKiAoIHJvdWdobmVzcyAtIDAuMjUgKSApOwoJcmV0dXJuIHNhdHVyYXRlKCBERyAqIFJFQ0lQUk9DQUxfUEkgKTsKfQp2ZWMyIERGR0FwcHJveCggY29uc3QgaW4gdmVjMyBub3JtYWwsIGNvbnN0IGluIHZlYzMgdmlld0RpciwgY29uc3QgaW4gZmxvYXQgcm91Z2huZXNzICkgewoJZmxvYXQgZG90TlYgPSBzYXR1cmF0ZSggZG90KCBub3JtYWwsIHZpZXdEaXIgKSApOwoJY29uc3QgdmVjNCBjMCA9IHZlYzQoIC0gMSwgLSAwLjAyNzUsIC0gMC41NzIsIDAuMDIyICk7Cgljb25zdCB2ZWM0IGMxID0gdmVjNCggMSwgMC4wNDI1LCAxLjA0LCAtIDAuMDQgKTsKCXZlYzQgciA9IHJvdWdobmVzcyAqIGMwICsgYzE7CglmbG9hdCBhMDA0ID0gbWluKCByLnggKiByLngsIGV4cDIoIC0gOS4yOCAqIGRvdE5WICkgKSAqIHIueCArIHIueTsKCXZlYzIgZmFiID0gdmVjMiggLSAxLjA0LCAxLjA0ICkgKiBhMDA0ICsgci56dzsKCXJldHVybiBmYWI7Cn0KdmVjMyBFbnZpcm9ubWVudEJSREYoIGNvbnN0IGluIHZlYzMgbm9ybWFsLCBjb25zdCBpbiB2ZWMzIHZpZXdEaXIsIGNvbnN0IGluIHZlYzMgc3BlY3VsYXJDb2xvciwgY29uc3QgaW4gZmxvYXQgc3BlY3VsYXJGOTAsIGNvbnN0IGluIGZsb2F0IHJvdWdobmVzcyApIHsKCXZlYzIgZmFiID0gREZHQXBwcm94KCBub3JtYWwsIHZpZXdEaXIsIHJvdWdobmVzcyApOwoJcmV0dXJuIHNwZWN1bGFyQ29sb3IgKiBmYWIueCArIHNwZWN1bGFyRjkwICogZmFiLnk7Cn0Kdm9pZCBjb21wdXRlTXVsdGlzY2F0dGVyaW5nKCBjb25zdCBpbiB2ZWMzIG5vcm1hbCwgY29uc3QgaW4gdmVjMyB2aWV3RGlyLCBjb25zdCBpbiB2ZWMzIHNwZWN1bGFyQ29sb3IsIGNvbnN0IGluIGZsb2F0IHNwZWN1bGFyRjkwLCBjb25zdCBpbiBmbG9hdCByb3VnaG5lc3MsIGlub3V0IHZlYzMgc2luZ2xlU2NhdHRlciwgaW5vdXQgdmVjMyBtdWx0aVNjYXR0ZXIgKSB7Cgl2ZWMyIGZhYiA9IERGR0FwcHJveCggbm9ybWFsLCB2aWV3RGlyLCByb3VnaG5lc3MgKTsKCXZlYzMgRnNzRXNzID0gc3BlY3VsYXJDb2xvciAqIGZhYi54ICsgc3BlY3VsYXJGOTAgKiBmYWIueTsKCWZsb2F0IEVzcyA9IGZhYi54ICsgZmFiLnk7CglmbG9hdCBFbXMgPSAxLjAgLSBFc3M7Cgl2ZWMzIEZhdmcgPSBzcGVjdWxhckNvbG9yICsgKCAxLjAgLSBzcGVjdWxhckNvbG9yICkgKiAwLjA0NzYxOTsJdmVjMyBGbXMgPSBGc3NFc3MgKiBGYXZnIC8gKCAxLjAgLSBFbXMgKiBGYXZnICk7CglzaW5nbGVTY2F0dGVyICs9IEZzc0VzczsKCW11bHRpU2NhdHRlciArPSBGbXMgKiBFbXM7Cn0KI2lmIE5VTV9SRUNUX0FSRUFfTElHSFRTID4gMAoJdm9pZCBSRV9EaXJlY3RfUmVjdEFyZWFfUGh5c2ljYWwoIGNvbnN0IGluIFJlY3RBcmVhTGlnaHQgcmVjdEFyZWFMaWdodCwgY29uc3QgaW4gR2VvbWV0cmljQ29udGV4dCBnZW9tZXRyeSwgY29uc3QgaW4gUGh5c2ljYWxNYXRlcmlhbCBtYXRlcmlhbCwgaW5vdXQgUmVmbGVjdGVkTGlnaHQgcmVmbGVjdGVkTGlnaHQgKSB7CgkJdmVjMyBub3JtYWwgPSBnZW9tZXRyeS5ub3JtYWw7CgkJdmVjMyB2aWV3RGlyID0gZ2VvbWV0cnkudmlld0RpcjsKCQl2ZWMzIHBvc2l0aW9uID0gZ2VvbWV0cnkucG9zaXRpb247CgkJdmVjMyBsaWdodFBvcyA9IHJlY3RBcmVhTGlnaHQucG9zaXRpb247CgkJdmVjMyBoYWxmV2lkdGggPSByZWN0QXJlYUxpZ2h0LmhhbGZXaWR0aDsKCQl2ZWMzIGhhbGZIZWlnaHQgPSByZWN0QXJlYUxpZ2h0LmhhbGZIZWlnaHQ7CgkJdmVjMyBsaWdodENvbG9yID0gcmVjdEFyZWFMaWdodC5jb2xvcjsKCQlmbG9hdCByb3VnaG5lc3MgPSBtYXRlcmlhbC5yb3VnaG5lc3M7CgkJdmVjMyByZWN0Q29vcmRzWyA0IF07CgkJcmVjdENvb3Jkc1sgMCBdID0gbGlnaHRQb3MgKyBoYWxmV2lkdGggLSBoYWxmSGVpZ2h0OwkJcmVjdENvb3Jkc1sgMSBdID0gbGlnaHRQb3MgLSBoYWxmV2lkdGggLSBoYWxmSGVpZ2h0OwoJCXJlY3RDb29yZHNbIDIgXSA9IGxpZ2h0UG9zIC0gaGFsZldpZHRoICsgaGFsZkhlaWdodDsKCQlyZWN0Q29vcmRzWyAzIF0gPSBsaWdodFBvcyArIGhhbGZXaWR0aCArIGhhbGZIZWlnaHQ7CgkJdmVjMiB1diA9IExUQ19Vdiggbm9ybWFsLCB2aWV3RGlyLCByb3VnaG5lc3MgKTsKCQl2ZWM0IHQxID0gdGV4dHVyZTJEKCBsdGNfMSwgdXYgKTsKCQl2ZWM0IHQyID0gdGV4dHVyZTJEKCBsdGNfMiwgdXYgKTsKCQltYXQzIG1JbnYgPSBtYXQzKAoJCQl2ZWMzKCB0MS54LCAwLCB0MS55ICksCgkJCXZlYzMoICAgIDAsIDEsICAgIDAgKSwKCQkJdmVjMyggdDEueiwgMCwgdDEudyApCgkJKTsKCQl2ZWMzIGZyZXNuZWwgPSAoIG1hdGVyaWFsLnNwZWN1bGFyQ29sb3IgKiB0Mi54ICsgKCB2ZWMzKCAxLjAgKSAtIG1hdGVyaWFsLnNwZWN1bGFyQ29sb3IgKSAqIHQyLnkgKTsKCQlyZWZsZWN0ZWRMaWdodC5kaXJlY3RTcGVjdWxhciArPSBsaWdodENvbG9yICogZnJlc25lbCAqIExUQ19FdmFsdWF0ZSggbm9ybWFsLCB2aWV3RGlyLCBwb3NpdGlvbiwgbUludiwgcmVjdENvb3JkcyApOwoJCXJlZmxlY3RlZExpZ2h0LmRpcmVjdERpZmZ1c2UgKz0gbGlnaHRDb2xvciAqIG1hdGVyaWFsLmRpZmZ1c2VDb2xvciAqIExUQ19FdmFsdWF0ZSggbm9ybWFsLCB2aWV3RGlyLCBwb3NpdGlvbiwgbWF0MyggMS4wICksIHJlY3RDb29yZHMgKTsKCX0KI2VuZGlmCnZvaWQgUkVfRGlyZWN0X1BoeXNpY2FsKCBjb25zdCBpbiBJbmNpZGVudExpZ2h0IGRpcmVjdExpZ2h0LCBjb25zdCBpbiBHZW9tZXRyaWNDb250ZXh0IGdlb21ldHJ5LCBjb25zdCBpbiBQaHlzaWNhbE1hdGVyaWFsIG1hdGVyaWFsLCBpbm91dCBSZWZsZWN0ZWRMaWdodCByZWZsZWN0ZWRMaWdodCApIHsKCWZsb2F0IGRvdE5MID0gc2F0dXJhdGUoIGRvdCggZ2VvbWV0cnkubm9ybWFsLCBkaXJlY3RMaWdodC5kaXJlY3Rpb24gKSApOwoJdmVjMyBpcnJhZGlhbmNlID0gZG90TkwgKiBkaXJlY3RMaWdodC5jb2xvcjsKCSNpZmRlZiBVU0VfQ0xFQVJDT0FUCgkJZmxvYXQgZG90TkxjYyA9IHNhdHVyYXRlKCBkb3QoIGdlb21ldHJ5LmNsZWFyY29hdE5vcm1hbCwgZGlyZWN0TGlnaHQuZGlyZWN0aW9uICkgKTsKCQl2ZWMzIGNjSXJyYWRpYW5jZSA9IGRvdE5MY2MgKiBkaXJlY3RMaWdodC5jb2xvcjsKCQljbGVhcmNvYXRTcGVjdWxhciArPSBjY0lycmFkaWFuY2UgKiBCUkRGX0dHWCggZGlyZWN0TGlnaHQuZGlyZWN0aW9uLCBnZW9tZXRyeS52aWV3RGlyLCBnZW9tZXRyeS5jbGVhcmNvYXROb3JtYWwsIG1hdGVyaWFsLmNsZWFyY29hdEYwLCBtYXRlcmlhbC5jbGVhcmNvYXRGOTAsIG1hdGVyaWFsLmNsZWFyY29hdFJvdWdobmVzcyApOwoJI2VuZGlmCgkjaWZkZWYgVVNFX1NIRUVOCgkJc2hlZW5TcGVjdWxhciArPSBpcnJhZGlhbmNlICogQlJERl9TaGVlbiggZGlyZWN0TGlnaHQuZGlyZWN0aW9uLCBnZW9tZXRyeS52aWV3RGlyLCBnZW9tZXRyeS5ub3JtYWwsIG1hdGVyaWFsLnNoZWVuQ29sb3IsIG1hdGVyaWFsLnNoZWVuUm91Z2huZXNzICk7CgkjZW5kaWYKCXJlZmxlY3RlZExpZ2h0LmRpcmVjdFNwZWN1bGFyICs9IGlycmFkaWFuY2UgKiBCUkRGX0dHWCggZGlyZWN0TGlnaHQuZGlyZWN0aW9uLCBnZW9tZXRyeS52aWV3RGlyLCBnZW9tZXRyeS5ub3JtYWwsIG1hdGVyaWFsLnNwZWN1bGFyQ29sb3IsIG1hdGVyaWFsLnNwZWN1bGFyRjkwLCBtYXRlcmlhbC5yb3VnaG5lc3MgKTsKCXJlZmxlY3RlZExpZ2h0LmRpcmVjdERpZmZ1c2UgKz0gaXJyYWRpYW5jZSAqIEJSREZfTGFtYmVydCggbWF0ZXJpYWwuZGlmZnVzZUNvbG9yICk7Cn0Kdm9pZCBSRV9JbmRpcmVjdERpZmZ1c2VfUGh5c2ljYWwoIGNvbnN0IGluIHZlYzMgaXJyYWRpYW5jZSwgY29uc3QgaW4gR2VvbWV0cmljQ29udGV4dCBnZW9tZXRyeSwgY29uc3QgaW4gUGh5c2ljYWxNYXRlcmlhbCBtYXRlcmlhbCwgaW5vdXQgUmVmbGVjdGVkTGlnaHQgcmVmbGVjdGVkTGlnaHQgKSB7CglyZWZsZWN0ZWRMaWdodC5pbmRpcmVjdERpZmZ1c2UgKz0gaXJyYWRpYW5jZSAqIEJSREZfTGFtYmVydCggbWF0ZXJpYWwuZGlmZnVzZUNvbG9yICk7Cn0Kdm9pZCBSRV9JbmRpcmVjdFNwZWN1bGFyX1BoeXNpY2FsKCBjb25zdCBpbiB2ZWMzIHJhZGlhbmNlLCBjb25zdCBpbiB2ZWMzIGlycmFkaWFuY2UsIGNvbnN0IGluIHZlYzMgY2xlYXJjb2F0UmFkaWFuY2UsIGNvbnN0IGluIEdlb21ldHJpY0NvbnRleHQgZ2VvbWV0cnksIGNvbnN0IGluIFBoeXNpY2FsTWF0ZXJpYWwgbWF0ZXJpYWwsIGlub3V0IFJlZmxlY3RlZExpZ2h0IHJlZmxlY3RlZExpZ2h0KSB7CgkjaWZkZWYgVVNFX0NMRUFSQ09BVAoJCWNsZWFyY29hdFNwZWN1bGFyICs9IGNsZWFyY29hdFJhZGlhbmNlICogRW52aXJvbm1lbnRCUkRGKCBnZW9tZXRyeS5jbGVhcmNvYXROb3JtYWwsIGdlb21ldHJ5LnZpZXdEaXIsIG1hdGVyaWFsLmNsZWFyY29hdEYwLCBtYXRlcmlhbC5jbGVhcmNvYXRGOTAsIG1hdGVyaWFsLmNsZWFyY29hdFJvdWdobmVzcyApOwoJI2VuZGlmCgkjaWZkZWYgVVNFX1NIRUVOCgkJc2hlZW5TcGVjdWxhciArPSBpcnJhZGlhbmNlICogbWF0ZXJpYWwuc2hlZW5Db2xvciAqIElCTFNoZWVuQlJERiggZ2VvbWV0cnkubm9ybWFsLCBnZW9tZXRyeS52aWV3RGlyLCBtYXRlcmlhbC5zaGVlblJvdWdobmVzcyApOwoJI2VuZGlmCgl2ZWMzIHNpbmdsZVNjYXR0ZXJpbmcgPSB2ZWMzKCAwLjAgKTsKCXZlYzMgbXVsdGlTY2F0dGVyaW5nID0gdmVjMyggMC4wICk7Cgl2ZWMzIGNvc2luZVdlaWdodGVkSXJyYWRpYW5jZSA9IGlycmFkaWFuY2UgKiBSRUNJUFJPQ0FMX1BJOwoJY29tcHV0ZU11bHRpc2NhdHRlcmluZyggZ2VvbWV0cnkubm9ybWFsLCBnZW9tZXRyeS52aWV3RGlyLCBtYXRlcmlhbC5zcGVjdWxhckNvbG9yLCBtYXRlcmlhbC5zcGVjdWxhckY5MCwgbWF0ZXJpYWwucm91Z2huZXNzLCBzaW5nbGVTY2F0dGVyaW5nLCBtdWx0aVNjYXR0ZXJpbmcgKTsKCXZlYzMgZGlmZnVzZSA9IG1hdGVyaWFsLmRpZmZ1c2VDb2xvciAqICggMS4wIC0gKCBzaW5nbGVTY2F0dGVyaW5nICsgbXVsdGlTY2F0dGVyaW5nICkgKTsKCXJlZmxlY3RlZExpZ2h0LmluZGlyZWN0U3BlY3VsYXIgKz0gcmFkaWFuY2UgKiBzaW5nbGVTY2F0dGVyaW5nOwoJcmVmbGVjdGVkTGlnaHQuaW5kaXJlY3RTcGVjdWxhciArPSBtdWx0aVNjYXR0ZXJpbmcgKiBjb3NpbmVXZWlnaHRlZElycmFkaWFuY2U7CglyZWZsZWN0ZWRMaWdodC5pbmRpcmVjdERpZmZ1c2UgKz0gZGlmZnVzZSAqIGNvc2luZVdlaWdodGVkSXJyYWRpYW5jZTsKfQojZGVmaW5lIFJFX0RpcmVjdAkJCQlSRV9EaXJlY3RfUGh5c2ljYWwKI2RlZmluZSBSRV9EaXJlY3RfUmVjdEFyZWEJCVJFX0RpcmVjdF9SZWN0QXJlYV9QaHlzaWNhbAojZGVmaW5lIFJFX0luZGlyZWN0RGlmZnVzZQkJUkVfSW5kaXJlY3REaWZmdXNlX1BoeXNpY2FsCiNkZWZpbmUgUkVfSW5kaXJlY3RTcGVjdWxhcgkJUkVfSW5kaXJlY3RTcGVjdWxhcl9QaHlzaWNhbApmbG9hdCBjb21wdXRlU3BlY3VsYXJPY2NsdXNpb24oIGNvbnN0IGluIGZsb2F0IGRvdE5WLCBjb25zdCBpbiBmbG9hdCBhbWJpZW50T2NjbHVzaW9uLCBjb25zdCBpbiBmbG9hdCByb3VnaG5lc3MgKSB7CglyZXR1cm4gc2F0dXJhdGUoIHBvdyggZG90TlYgKyBhbWJpZW50T2NjbHVzaW9uLCBleHAyKCAtIDE2LjAgKiByb3VnaG5lc3MgLSAxLjAgKSApIC0gMS4wICsgYW1iaWVudE9jY2x1c2lvbiApOwp9YCxsaWdodHNfZnJhZ21lbnRfYmVnaW49YApHZW9tZXRyaWNDb250ZXh0IGdlb21ldHJ5OwpnZW9tZXRyeS5wb3NpdGlvbiA9IC0gdlZpZXdQb3NpdGlvbjsKZ2VvbWV0cnkubm9ybWFsID0gbm9ybWFsOwpnZW9tZXRyeS52aWV3RGlyID0gKCBpc09ydGhvZ3JhcGhpYyApID8gdmVjMyggMCwgMCwgMSApIDogbm9ybWFsaXplKCB2Vmlld1Bvc2l0aW9uICk7CiNpZmRlZiBVU0VfQ0xFQVJDT0FUCglnZW9tZXRyeS5jbGVhcmNvYXROb3JtYWwgPSBjbGVhcmNvYXROb3JtYWw7CiNlbmRpZgpJbmNpZGVudExpZ2h0IGRpcmVjdExpZ2h0OwojaWYgKCBOVU1fUE9JTlRfTElHSFRTID4gMCApICYmIGRlZmluZWQoIFJFX0RpcmVjdCApCglQb2ludExpZ2h0IHBvaW50TGlnaHQ7CgkjaWYgZGVmaW5lZCggVVNFX1NIQURPV01BUCApICYmIE5VTV9QT0lOVF9MSUdIVF9TSEFET1dTID4gMAoJUG9pbnRMaWdodFNoYWRvdyBwb2ludExpZ2h0U2hhZG93OwoJI2VuZGlmCgkjcHJhZ21hIHVucm9sbF9sb29wX3N0YXJ0Cglmb3IgKCBpbnQgaSA9IDA7IGkgPCBOVU1fUE9JTlRfTElHSFRTOyBpICsrICkgewoJCXBvaW50TGlnaHQgPSBwb2ludExpZ2h0c1sgaSBdOwoJCWdldFBvaW50TGlnaHRJbmZvKCBwb2ludExpZ2h0LCBnZW9tZXRyeSwgZGlyZWN0TGlnaHQgKTsKCQkjaWYgZGVmaW5lZCggVVNFX1NIQURPV01BUCApICYmICggVU5ST0xMRURfTE9PUF9JTkRFWCA8IE5VTV9QT0lOVF9MSUdIVF9TSEFET1dTICkKCQlwb2ludExpZ2h0U2hhZG93ID0gcG9pbnRMaWdodFNoYWRvd3NbIGkgXTsKCQlkaXJlY3RMaWdodC5jb2xvciAqPSBhbGwoIGJ2ZWMyKCBkaXJlY3RMaWdodC52aXNpYmxlLCByZWNlaXZlU2hhZG93ICkgKSA/IGdldFBvaW50U2hhZG93KCBwb2ludFNoYWRvd01hcFsgaSBdLCBwb2ludExpZ2h0U2hhZG93LnNoYWRvd01hcFNpemUsIHBvaW50TGlnaHRTaGFkb3cuc2hhZG93QmlhcywgcG9pbnRMaWdodFNoYWRvdy5zaGFkb3dSYWRpdXMsIHZQb2ludFNoYWRvd0Nvb3JkWyBpIF0sIHBvaW50TGlnaHRTaGFkb3cuc2hhZG93Q2FtZXJhTmVhciwgcG9pbnRMaWdodFNoYWRvdy5zaGFkb3dDYW1lcmFGYXIgKSA6IDEuMDsKCQkjZW5kaWYKCQlSRV9EaXJlY3QoIGRpcmVjdExpZ2h0LCBnZW9tZXRyeSwgbWF0ZXJpYWwsIHJlZmxlY3RlZExpZ2h0ICk7Cgl9CgkjcHJhZ21hIHVucm9sbF9sb29wX2VuZAojZW5kaWYKI2lmICggTlVNX1NQT1RfTElHSFRTID4gMCApICYmIGRlZmluZWQoIFJFX0RpcmVjdCApCglTcG90TGlnaHQgc3BvdExpZ2h0OwoJI2lmIGRlZmluZWQoIFVTRV9TSEFET1dNQVAgKSAmJiBOVU1fU1BPVF9MSUdIVF9TSEFET1dTID4gMAoJU3BvdExpZ2h0U2hhZG93IHNwb3RMaWdodFNoYWRvdzsKCSNlbmRpZgoJI3ByYWdtYSB1bnJvbGxfbG9vcF9zdGFydAoJZm9yICggaW50IGkgPSAwOyBpIDwgTlVNX1NQT1RfTElHSFRTOyBpICsrICkgewoJCXNwb3RMaWdodCA9IHNwb3RMaWdodHNbIGkgXTsKCQlnZXRTcG90TGlnaHRJbmZvKCBzcG90TGlnaHQsIGdlb21ldHJ5LCBkaXJlY3RMaWdodCApOwoJCSNpZiBkZWZpbmVkKCBVU0VfU0hBRE9XTUFQICkgJiYgKCBVTlJPTExFRF9MT09QX0lOREVYIDwgTlVNX1NQT1RfTElHSFRfU0hBRE9XUyApCgkJc3BvdExpZ2h0U2hhZG93ID0gc3BvdExpZ2h0U2hhZG93c1sgaSBdOwoJCWRpcmVjdExpZ2h0LmNvbG9yICo9IGFsbCggYnZlYzIoIGRpcmVjdExpZ2h0LnZpc2libGUsIHJlY2VpdmVTaGFkb3cgKSApID8gZ2V0U2hhZG93KCBzcG90U2hhZG93TWFwWyBpIF0sIHNwb3RMaWdodFNoYWRvdy5zaGFkb3dNYXBTaXplLCBzcG90TGlnaHRTaGFkb3cuc2hhZG93Qmlhcywgc3BvdExpZ2h0U2hhZG93LnNoYWRvd1JhZGl1cywgdlNwb3RTaGFkb3dDb29yZFsgaSBdICkgOiAxLjA7CgkJI2VuZGlmCgkJUkVfRGlyZWN0KCBkaXJlY3RMaWdodCwgZ2VvbWV0cnksIG1hdGVyaWFsLCByZWZsZWN0ZWRMaWdodCApOwoJfQoJI3ByYWdtYSB1bnJvbGxfbG9vcF9lbmQKI2VuZGlmCiNpZiAoIE5VTV9ESVJfTElHSFRTID4gMCApICYmIGRlZmluZWQoIFJFX0RpcmVjdCApCglEaXJlY3Rpb25hbExpZ2h0IGRpcmVjdGlvbmFsTGlnaHQ7CgkjaWYgZGVmaW5lZCggVVNFX1NIQURPV01BUCApICYmIE5VTV9ESVJfTElHSFRfU0hBRE9XUyA+IDAKCURpcmVjdGlvbmFsTGlnaHRTaGFkb3cgZGlyZWN0aW9uYWxMaWdodFNoYWRvdzsKCSNlbmRpZgoJI3ByYWdtYSB1bnJvbGxfbG9vcF9zdGFydAoJZm9yICggaW50IGkgPSAwOyBpIDwgTlVNX0RJUl9MSUdIVFM7IGkgKysgKSB7CgkJZGlyZWN0aW9uYWxMaWdodCA9IGRpcmVjdGlvbmFsTGlnaHRzWyBpIF07CgkJZ2V0RGlyZWN0aW9uYWxMaWdodEluZm8oIGRpcmVjdGlvbmFsTGlnaHQsIGdlb21ldHJ5LCBkaXJlY3RMaWdodCApOwoJCSNpZiBkZWZpbmVkKCBVU0VfU0hBRE9XTUFQICkgJiYgKCBVTlJPTExFRF9MT09QX0lOREVYIDwgTlVNX0RJUl9MSUdIVF9TSEFET1dTICkKCQlkaXJlY3Rpb25hbExpZ2h0U2hhZG93ID0gZGlyZWN0aW9uYWxMaWdodFNoYWRvd3NbIGkgXTsKCQlkaXJlY3RMaWdodC5jb2xvciAqPSBhbGwoIGJ2ZWMyKCBkaXJlY3RMaWdodC52aXNpYmxlLCByZWNlaXZlU2hhZG93ICkgKSA/IGdldFNoYWRvdyggZGlyZWN0aW9uYWxTaGFkb3dNYXBbIGkgXSwgZGlyZWN0aW9uYWxMaWdodFNoYWRvdy5zaGFkb3dNYXBTaXplLCBkaXJlY3Rpb25hbExpZ2h0U2hhZG93LnNoYWRvd0JpYXMsIGRpcmVjdGlvbmFsTGlnaHRTaGFkb3cuc2hhZG93UmFkaXVzLCB2RGlyZWN0aW9uYWxTaGFkb3dDb29yZFsgaSBdICkgOiAxLjA7CgkJI2VuZGlmCgkJUkVfRGlyZWN0KCBkaXJlY3RMaWdodCwgZ2VvbWV0cnksIG1hdGVyaWFsLCByZWZsZWN0ZWRMaWdodCApOwoJfQoJI3ByYWdtYSB1bnJvbGxfbG9vcF9lbmQKI2VuZGlmCiNpZiAoIE5VTV9SRUNUX0FSRUFfTElHSFRTID4gMCApICYmIGRlZmluZWQoIFJFX0RpcmVjdF9SZWN0QXJlYSApCglSZWN0QXJlYUxpZ2h0IHJlY3RBcmVhTGlnaHQ7CgkjcHJhZ21hIHVucm9sbF9sb29wX3N0YXJ0Cglmb3IgKCBpbnQgaSA9IDA7IGkgPCBOVU1fUkVDVF9BUkVBX0xJR0hUUzsgaSArKyApIHsKCQlyZWN0QXJlYUxpZ2h0ID0gcmVjdEFyZWFMaWdodHNbIGkgXTsKCQlSRV9EaXJlY3RfUmVjdEFyZWEoIHJlY3RBcmVhTGlnaHQsIGdlb21ldHJ5LCBtYXRlcmlhbCwgcmVmbGVjdGVkTGlnaHQgKTsKCX0KCSNwcmFnbWEgdW5yb2xsX2xvb3BfZW5kCiNlbmRpZgojaWYgZGVmaW5lZCggUkVfSW5kaXJlY3REaWZmdXNlICkKCXZlYzMgaWJsSXJyYWRpYW5jZSA9IHZlYzMoIDAuMCApOwoJdmVjMyBpcnJhZGlhbmNlID0gZ2V0QW1iaWVudExpZ2h0SXJyYWRpYW5jZSggYW1iaWVudExpZ2h0Q29sb3IgKTsKCWlycmFkaWFuY2UgKz0gZ2V0TGlnaHRQcm9iZUlycmFkaWFuY2UoIGxpZ2h0UHJvYmUsIGdlb21ldHJ5Lm5vcm1hbCApOwoJI2lmICggTlVNX0hFTUlfTElHSFRTID4gMCApCgkJI3ByYWdtYSB1bnJvbGxfbG9vcF9zdGFydAoJCWZvciAoIGludCBpID0gMDsgaSA8IE5VTV9IRU1JX0xJR0hUUzsgaSArKyApIHsKCQkJaXJyYWRpYW5jZSArPSBnZXRIZW1pc3BoZXJlTGlnaHRJcnJhZGlhbmNlKCBoZW1pc3BoZXJlTGlnaHRzWyBpIF0sIGdlb21ldHJ5Lm5vcm1hbCApOwoJCX0KCQkjcHJhZ21hIHVucm9sbF9sb29wX2VuZAoJI2VuZGlmCiNlbmRpZgojaWYgZGVmaW5lZCggUkVfSW5kaXJlY3RTcGVjdWxhciApCgl2ZWMzIHJhZGlhbmNlID0gdmVjMyggMC4wICk7Cgl2ZWMzIGNsZWFyY29hdFJhZGlhbmNlID0gdmVjMyggMC4wICk7CiNlbmRpZmAsbGlnaHRzX2ZyYWdtZW50X21hcHM9YCNpZiBkZWZpbmVkKCBSRV9JbmRpcmVjdERpZmZ1c2UgKQoJI2lmZGVmIFVTRV9MSUdIVE1BUAoJCXZlYzQgbGlnaHRNYXBUZXhlbCA9IHRleHR1cmUyRCggbGlnaHRNYXAsIHZVdjIgKTsKCQl2ZWMzIGxpZ2h0TWFwSXJyYWRpYW5jZSA9IGxpZ2h0TWFwVGV4ZWwucmdiICogbGlnaHRNYXBJbnRlbnNpdHk7CgkJI2lmbmRlZiBQSFlTSUNBTExZX0NPUlJFQ1RfTElHSFRTCgkJCWxpZ2h0TWFwSXJyYWRpYW5jZSAqPSBQSTsKCQkjZW5kaWYKCQlpcnJhZGlhbmNlICs9IGxpZ2h0TWFwSXJyYWRpYW5jZTsKCSNlbmRpZgoJI2lmIGRlZmluZWQoIFVTRV9FTlZNQVAgKSAmJiBkZWZpbmVkKCBTVEFOREFSRCApICYmIGRlZmluZWQoIEVOVk1BUF9UWVBFX0NVQkVfVVYgKQoJCWlibElycmFkaWFuY2UgKz0gZ2V0SUJMSXJyYWRpYW5jZSggZ2VvbWV0cnkubm9ybWFsICk7CgkjZW5kaWYKI2VuZGlmCiNpZiBkZWZpbmVkKCBVU0VfRU5WTUFQICkgJiYgZGVmaW5lZCggUkVfSW5kaXJlY3RTcGVjdWxhciApCglyYWRpYW5jZSArPSBnZXRJQkxSYWRpYW5jZSggZ2VvbWV0cnkudmlld0RpciwgZ2VvbWV0cnkubm9ybWFsLCBtYXRlcmlhbC5yb3VnaG5lc3MgKTsKCSNpZmRlZiBVU0VfQ0xFQVJDT0FUCgkJY2xlYXJjb2F0UmFkaWFuY2UgKz0gZ2V0SUJMUmFkaWFuY2UoIGdlb21ldHJ5LnZpZXdEaXIsIGdlb21ldHJ5LmNsZWFyY29hdE5vcm1hbCwgbWF0ZXJpYWwuY2xlYXJjb2F0Um91Z2huZXNzICk7CgkjZW5kaWYKI2VuZGlmYCxsaWdodHNfZnJhZ21lbnRfZW5kPWAjaWYgZGVmaW5lZCggUkVfSW5kaXJlY3REaWZmdXNlICkKCVJFX0luZGlyZWN0RGlmZnVzZSggaXJyYWRpYW5jZSwgZ2VvbWV0cnksIG1hdGVyaWFsLCByZWZsZWN0ZWRMaWdodCApOwojZW5kaWYKI2lmIGRlZmluZWQoIFJFX0luZGlyZWN0U3BlY3VsYXIgKQoJUkVfSW5kaXJlY3RTcGVjdWxhciggcmFkaWFuY2UsIGlibElycmFkaWFuY2UsIGNsZWFyY29hdFJhZGlhbmNlLCBnZW9tZXRyeSwgbWF0ZXJpYWwsIHJlZmxlY3RlZExpZ2h0ICk7CiNlbmRpZmAsbG9nZGVwdGhidWZfZnJhZ21lbnQ9YCNpZiBkZWZpbmVkKCBVU0VfTE9HREVQVEhCVUYgKSAmJiBkZWZpbmVkKCBVU0VfTE9HREVQVEhCVUZfRVhUICkKCWdsX0ZyYWdEZXB0aEVYVCA9IHZJc1BlcnNwZWN0aXZlID09IDAuMCA/IGdsX0ZyYWdDb29yZC56IDogbG9nMiggdkZyYWdEZXB0aCApICogbG9nRGVwdGhCdWZGQyAqIDAuNTsKI2VuZGlmYCxsb2dkZXB0aGJ1Zl9wYXJzX2ZyYWdtZW50PWAjaWYgZGVmaW5lZCggVVNFX0xPR0RFUFRIQlVGICkgJiYgZGVmaW5lZCggVVNFX0xPR0RFUFRIQlVGX0VYVCApCgl1bmlmb3JtIGZsb2F0IGxvZ0RlcHRoQnVmRkM7Cgl2YXJ5aW5nIGZsb2F0IHZGcmFnRGVwdGg7Cgl2YXJ5aW5nIGZsb2F0IHZJc1BlcnNwZWN0aXZlOwojZW5kaWZgLGxvZ2RlcHRoYnVmX3BhcnNfdmVydGV4PWAjaWZkZWYgVVNFX0xPR0RFUFRIQlVGCgkjaWZkZWYgVVNFX0xPR0RFUFRIQlVGX0VYVAoJCXZhcnlpbmcgZmxvYXQgdkZyYWdEZXB0aDsKCQl2YXJ5aW5nIGZsb2F0IHZJc1BlcnNwZWN0aXZlOwoJI2Vsc2UKCQl1bmlmb3JtIGZsb2F0IGxvZ0RlcHRoQnVmRkM7CgkjZW5kaWYKI2VuZGlmYCxsb2dkZXB0aGJ1Zl92ZXJ0ZXg9YCNpZmRlZiBVU0VfTE9HREVQVEhCVUYKCSNpZmRlZiBVU0VfTE9HREVQVEhCVUZfRVhUCgkJdkZyYWdEZXB0aCA9IDEuMCArIGdsX1Bvc2l0aW9uLnc7CgkJdklzUGVyc3BlY3RpdmUgPSBmbG9hdCggaXNQZXJzcGVjdGl2ZU1hdHJpeCggcHJvamVjdGlvbk1hdHJpeCApICk7CgkjZWxzZQoJCWlmICggaXNQZXJzcGVjdGl2ZU1hdHJpeCggcHJvamVjdGlvbk1hdHJpeCApICkgewoJCQlnbF9Qb3NpdGlvbi56ID0gbG9nMiggbWF4KCBFUFNJTE9OLCBnbF9Qb3NpdGlvbi53ICsgMS4wICkgKSAqIGxvZ0RlcHRoQnVmRkMgLSAxLjA7CgkJCWdsX1Bvc2l0aW9uLnogKj0gZ2xfUG9zaXRpb24udzsKCQl9CgkjZW5kaWYKI2VuZGlmYCxtYXBfZnJhZ21lbnQ9YCNpZmRlZiBVU0VfTUFQCgl2ZWM0IHNhbXBsZWREaWZmdXNlQ29sb3IgPSB0ZXh0dXJlMkQoIG1hcCwgdlV2ICk7CgkjaWZkZWYgREVDT0RFX1ZJREVPX1RFWFRVUkUKCQlzYW1wbGVkRGlmZnVzZUNvbG9yID0gdmVjNCggbWl4KCBwb3coIHNhbXBsZWREaWZmdXNlQ29sb3IucmdiICogMC45NDc4NjcyOTg2ICsgdmVjMyggMC4wNTIxMzI3MDE0ICksIHZlYzMoIDIuNCApICksIHNhbXBsZWREaWZmdXNlQ29sb3IucmdiICogMC4wNzczOTkzODA4LCB2ZWMzKCBsZXNzVGhhbkVxdWFsKCBzYW1wbGVkRGlmZnVzZUNvbG9yLnJnYiwgdmVjMyggMC4wNDA0NSApICkgKSApLCBzYW1wbGVkRGlmZnVzZUNvbG9yLncgKTsKCSNlbmRpZgoJZGlmZnVzZUNvbG9yICo9IHNhbXBsZWREaWZmdXNlQ29sb3I7CiNlbmRpZmAsbWFwX3BhcnNfZnJhZ21lbnQ9YCNpZmRlZiBVU0VfTUFQCgl1bmlmb3JtIHNhbXBsZXIyRCBtYXA7CiNlbmRpZmAsbWFwX3BhcnRpY2xlX2ZyYWdtZW50PWAjaWYgZGVmaW5lZCggVVNFX01BUCApIHx8IGRlZmluZWQoIFVTRV9BTFBIQU1BUCApCgl2ZWMyIHV2ID0gKCB1dlRyYW5zZm9ybSAqIHZlYzMoIGdsX1BvaW50Q29vcmQueCwgMS4wIC0gZ2xfUG9pbnRDb29yZC55LCAxICkgKS54eTsKI2VuZGlmCiNpZmRlZiBVU0VfTUFQCglkaWZmdXNlQ29sb3IgKj0gdGV4dHVyZTJEKCBtYXAsIHV2ICk7CiNlbmRpZgojaWZkZWYgVVNFX0FMUEhBTUFQCglkaWZmdXNlQ29sb3IuYSAqPSB0ZXh0dXJlMkQoIGFscGhhTWFwLCB1diApLmc7CiNlbmRpZmAsbWFwX3BhcnRpY2xlX3BhcnNfZnJhZ21lbnQ9YCNpZiBkZWZpbmVkKCBVU0VfTUFQICkgfHwgZGVmaW5lZCggVVNFX0FMUEhBTUFQICkKCXVuaWZvcm0gbWF0MyB1dlRyYW5zZm9ybTsKI2VuZGlmCiNpZmRlZiBVU0VfTUFQCgl1bmlmb3JtIHNhbXBsZXIyRCBtYXA7CiNlbmRpZgojaWZkZWYgVVNFX0FMUEhBTUFQCgl1bmlmb3JtIHNhbXBsZXIyRCBhbHBoYU1hcDsKI2VuZGlmYCxtZXRhbG5lc3NtYXBfZnJhZ21lbnQ9YGZsb2F0IG1ldGFsbmVzc0ZhY3RvciA9IG1ldGFsbmVzczsKI2lmZGVmIFVTRV9NRVRBTE5FU1NNQVAKCXZlYzQgdGV4ZWxNZXRhbG5lc3MgPSB0ZXh0dXJlMkQoIG1ldGFsbmVzc01hcCwgdlV2ICk7CgltZXRhbG5lc3NGYWN0b3IgKj0gdGV4ZWxNZXRhbG5lc3MuYjsKI2VuZGlmYCxtZXRhbG5lc3NtYXBfcGFyc19mcmFnbWVudD1gI2lmZGVmIFVTRV9NRVRBTE5FU1NNQVAKCXVuaWZvcm0gc2FtcGxlcjJEIG1ldGFsbmVzc01hcDsKI2VuZGlmYCxtb3JwaGNvbG9yX3ZlcnRleD1gI2lmIGRlZmluZWQoIFVTRV9NT1JQSENPTE9SUyApICYmIGRlZmluZWQoIE1PUlBIVEFSR0VUU19URVhUVVJFICkKCXZDb2xvciAqPSBtb3JwaFRhcmdldEJhc2VJbmZsdWVuY2U7Cglmb3IgKCBpbnQgaSA9IDA7IGkgPCBNT1JQSFRBUkdFVFNfQ09VTlQ7IGkgKysgKSB7CgkJI2lmIGRlZmluZWQoIFVTRV9DT0xPUl9BTFBIQSApCgkJCWlmICggbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyBpIF0gIT0gMC4wICkgdkNvbG9yICs9IGdldE1vcnBoKCBnbF9WZXJ0ZXhJRCwgaSwgMiApICogbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyBpIF07CgkJI2VsaWYgZGVmaW5lZCggVVNFX0NPTE9SICkKCQkJaWYgKCBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIGkgXSAhPSAwLjAgKSB2Q29sb3IgKz0gZ2V0TW9ycGgoIGdsX1ZlcnRleElELCBpLCAyICkucmdiICogbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyBpIF0KCQkjZW5kaWYKCX0KI2VuZGlmYCxtb3JwaG5vcm1hbF92ZXJ0ZXg9YCNpZmRlZiBVU0VfTU9SUEhOT1JNQUxTCglvYmplY3ROb3JtYWwgKj0gbW9ycGhUYXJnZXRCYXNlSW5mbHVlbmNlOwoJI2lmZGVmIE1PUlBIVEFSR0VUU19URVhUVVJFCgkJZm9yICggaW50IGkgPSAwOyBpIDwgTU9SUEhUQVJHRVRTX0NPVU5UOyBpICsrICkgewoJCQlpZiAoIG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgaSBdICE9IDAuMCApIG9iamVjdE5vcm1hbCArPSBnZXRNb3JwaCggZ2xfVmVydGV4SUQsIGksIDEgKS54eXogKiBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIGkgXTsKCQl9CgkjZWxzZQoJCW9iamVjdE5vcm1hbCArPSBtb3JwaE5vcm1hbDAgKiBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIDAgXTsKCQlvYmplY3ROb3JtYWwgKz0gbW9ycGhOb3JtYWwxICogbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyAxIF07CgkJb2JqZWN0Tm9ybWFsICs9IG1vcnBoTm9ybWFsMiAqIG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgMiBdOwoJCW9iamVjdE5vcm1hbCArPSBtb3JwaE5vcm1hbDMgKiBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIDMgXTsKCSNlbmRpZgojZW5kaWZgLG1vcnBodGFyZ2V0X3BhcnNfdmVydGV4PWAjaWZkZWYgVVNFX01PUlBIVEFSR0VUUwoJdW5pZm9ybSBmbG9hdCBtb3JwaFRhcmdldEJhc2VJbmZsdWVuY2U7CgkjaWZkZWYgTU9SUEhUQVJHRVRTX1RFWFRVUkUKCQl1bmlmb3JtIGZsb2F0IG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgTU9SUEhUQVJHRVRTX0NPVU5UIF07CgkJdW5pZm9ybSBzYW1wbGVyMkRBcnJheSBtb3JwaFRhcmdldHNUZXh0dXJlOwoJCXVuaWZvcm0gdmVjMiBtb3JwaFRhcmdldHNUZXh0dXJlU2l6ZTsKCQl2ZWM0IGdldE1vcnBoKCBjb25zdCBpbiBpbnQgdmVydGV4SW5kZXgsIGNvbnN0IGluIGludCBtb3JwaFRhcmdldEluZGV4LCBjb25zdCBpbiBpbnQgb2Zmc2V0ICkgewoJCQlmbG9hdCB0ZXhlbEluZGV4ID0gZmxvYXQoIHZlcnRleEluZGV4ICogTU9SUEhUQVJHRVRTX1RFWFRVUkVfU1RSSURFICsgb2Zmc2V0ICk7CgkJCWZsb2F0IHkgPSBmbG9vciggdGV4ZWxJbmRleCAvIG1vcnBoVGFyZ2V0c1RleHR1cmVTaXplLnggKTsKCQkJZmxvYXQgeCA9IHRleGVsSW5kZXggLSB5ICogbW9ycGhUYXJnZXRzVGV4dHVyZVNpemUueDsKCQkJdmVjMyBtb3JwaFVWID0gdmVjMyggKCB4ICsgMC41ICkgLyBtb3JwaFRhcmdldHNUZXh0dXJlU2l6ZS54LCB5IC8gbW9ycGhUYXJnZXRzVGV4dHVyZVNpemUueSwgbW9ycGhUYXJnZXRJbmRleCApOwoJCQlyZXR1cm4gdGV4dHVyZSggbW9ycGhUYXJnZXRzVGV4dHVyZSwgbW9ycGhVViApOwoJCX0KCSNlbHNlCgkJI2lmbmRlZiBVU0VfTU9SUEhOT1JNQUxTCgkJCXVuaWZvcm0gZmxvYXQgbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyA4IF07CgkJI2Vsc2UKCQkJdW5pZm9ybSBmbG9hdCBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIDQgXTsKCQkjZW5kaWYKCSNlbmRpZgojZW5kaWZgLG1vcnBodGFyZ2V0X3ZlcnRleD1gI2lmZGVmIFVTRV9NT1JQSFRBUkdFVFMKCXRyYW5zZm9ybWVkICo9IG1vcnBoVGFyZ2V0QmFzZUluZmx1ZW5jZTsKCSNpZmRlZiBNT1JQSFRBUkdFVFNfVEVYVFVSRQoJCWZvciAoIGludCBpID0gMDsgaSA8IE1PUlBIVEFSR0VUU19DT1VOVDsgaSArKyApIHsKCQkJaWYgKCBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIGkgXSAhPSAwLjAgKSB0cmFuc2Zvcm1lZCArPSBnZXRNb3JwaCggZ2xfVmVydGV4SUQsIGksIDAgKS54eXogKiBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIGkgXTsKCQl9CgkjZWxzZQoJCXRyYW5zZm9ybWVkICs9IG1vcnBoVGFyZ2V0MCAqIG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgMCBdOwoJCXRyYW5zZm9ybWVkICs9IG1vcnBoVGFyZ2V0MSAqIG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgMSBdOwoJCXRyYW5zZm9ybWVkICs9IG1vcnBoVGFyZ2V0MiAqIG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgMiBdOwoJCXRyYW5zZm9ybWVkICs9IG1vcnBoVGFyZ2V0MyAqIG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgMyBdOwoJCSNpZm5kZWYgVVNFX01PUlBITk9STUFMUwoJCQl0cmFuc2Zvcm1lZCArPSBtb3JwaFRhcmdldDQgKiBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIDQgXTsKCQkJdHJhbnNmb3JtZWQgKz0gbW9ycGhUYXJnZXQ1ICogbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyA1IF07CgkJCXRyYW5zZm9ybWVkICs9IG1vcnBoVGFyZ2V0NiAqIG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgNiBdOwoJCQl0cmFuc2Zvcm1lZCArPSBtb3JwaFRhcmdldDcgKiBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIDcgXTsKCQkjZW5kaWYKCSNlbmRpZgojZW5kaWZgLG5vcm1hbF9mcmFnbWVudF9iZWdpbj1gZmxvYXQgZmFjZURpcmVjdGlvbiA9IGdsX0Zyb250RmFjaW5nID8gMS4wIDogLSAxLjA7CiNpZmRlZiBGTEFUX1NIQURFRAoJdmVjMyBmZHggPSB2ZWMzKCBkRmR4KCB2Vmlld1Bvc2l0aW9uLnggKSwgZEZkeCggdlZpZXdQb3NpdGlvbi55ICksIGRGZHgoIHZWaWV3UG9zaXRpb24ueiApICk7Cgl2ZWMzIGZkeSA9IHZlYzMoIGRGZHkoIHZWaWV3UG9zaXRpb24ueCApLCBkRmR5KCB2Vmlld1Bvc2l0aW9uLnkgKSwgZEZkeSggdlZpZXdQb3NpdGlvbi56ICkgKTsKCXZlYzMgbm9ybWFsID0gbm9ybWFsaXplKCBjcm9zcyggZmR4LCBmZHkgKSApOwojZWxzZQoJdmVjMyBub3JtYWwgPSBub3JtYWxpemUoIHZOb3JtYWwgKTsKCSNpZmRlZiBET1VCTEVfU0lERUQKCQlub3JtYWwgPSBub3JtYWwgKiBmYWNlRGlyZWN0aW9uOwoJI2VuZGlmCgkjaWZkZWYgVVNFX1RBTkdFTlQKCQl2ZWMzIHRhbmdlbnQgPSBub3JtYWxpemUoIHZUYW5nZW50ICk7CgkJdmVjMyBiaXRhbmdlbnQgPSBub3JtYWxpemUoIHZCaXRhbmdlbnQgKTsKCQkjaWZkZWYgRE9VQkxFX1NJREVECgkJCXRhbmdlbnQgPSB0YW5nZW50ICogZmFjZURpcmVjdGlvbjsKCQkJYml0YW5nZW50ID0gYml0YW5nZW50ICogZmFjZURpcmVjdGlvbjsKCQkjZW5kaWYKCQkjaWYgZGVmaW5lZCggVEFOR0VOVFNQQUNFX05PUk1BTE1BUCApIHx8IGRlZmluZWQoIFVTRV9DTEVBUkNPQVRfTk9STUFMTUFQICkKCQkJbWF0MyB2VEJOID0gbWF0MyggdGFuZ2VudCwgYml0YW5nZW50LCBub3JtYWwgKTsKCQkjZW5kaWYKCSNlbmRpZgojZW5kaWYKdmVjMyBnZW9tZXRyeU5vcm1hbCA9IG5vcm1hbDtgLG5vcm1hbF9mcmFnbWVudF9tYXBzPWAjaWZkZWYgT0JKRUNUU1BBQ0VfTk9STUFMTUFQCglub3JtYWwgPSB0ZXh0dXJlMkQoIG5vcm1hbE1hcCwgdlV2ICkueHl6ICogMi4wIC0gMS4wOwoJI2lmZGVmIEZMSVBfU0lERUQKCQlub3JtYWwgPSAtIG5vcm1hbDsKCSNlbmRpZgoJI2lmZGVmIERPVUJMRV9TSURFRAoJCW5vcm1hbCA9IG5vcm1hbCAqIGZhY2VEaXJlY3Rpb247CgkjZW5kaWYKCW5vcm1hbCA9IG5vcm1hbGl6ZSggbm9ybWFsTWF0cml4ICogbm9ybWFsICk7CiNlbGlmIGRlZmluZWQoIFRBTkdFTlRTUEFDRV9OT1JNQUxNQVAgKQoJdmVjMyBtYXBOID0gdGV4dHVyZTJEKCBub3JtYWxNYXAsIHZVdiApLnh5eiAqIDIuMCAtIDEuMDsKCW1hcE4ueHkgKj0gbm9ybWFsU2NhbGU7CgkjaWZkZWYgVVNFX1RBTkdFTlQKCQlub3JtYWwgPSBub3JtYWxpemUoIHZUQk4gKiBtYXBOICk7CgkjZWxzZQoJCW5vcm1hbCA9IHBlcnR1cmJOb3JtYWwyQXJiKCAtIHZWaWV3UG9zaXRpb24sIG5vcm1hbCwgbWFwTiwgZmFjZURpcmVjdGlvbiApOwoJI2VuZGlmCiNlbGlmIGRlZmluZWQoIFVTRV9CVU1QTUFQICkKCW5vcm1hbCA9IHBlcnR1cmJOb3JtYWxBcmIoIC0gdlZpZXdQb3NpdGlvbiwgbm9ybWFsLCBkSGR4eV9md2QoKSwgZmFjZURpcmVjdGlvbiApOwojZW5kaWZgLG5vcm1hbF9wYXJzX2ZyYWdtZW50PWAjaWZuZGVmIEZMQVRfU0hBREVECgl2YXJ5aW5nIHZlYzMgdk5vcm1hbDsKCSNpZmRlZiBVU0VfVEFOR0VOVAoJCXZhcnlpbmcgdmVjMyB2VGFuZ2VudDsKCQl2YXJ5aW5nIHZlYzMgdkJpdGFuZ2VudDsKCSNlbmRpZgojZW5kaWZgLG5vcm1hbF9wYXJzX3ZlcnRleD1gI2lmbmRlZiBGTEFUX1NIQURFRAoJdmFyeWluZyB2ZWMzIHZOb3JtYWw7CgkjaWZkZWYgVVNFX1RBTkdFTlQKCQl2YXJ5aW5nIHZlYzMgdlRhbmdlbnQ7CgkJdmFyeWluZyB2ZWMzIHZCaXRhbmdlbnQ7CgkjZW5kaWYKI2VuZGlmYCxub3JtYWxfdmVydGV4PWAjaWZuZGVmIEZMQVRfU0hBREVECgl2Tm9ybWFsID0gbm9ybWFsaXplKCB0cmFuc2Zvcm1lZE5vcm1hbCApOwoJI2lmZGVmIFVTRV9UQU5HRU5UCgkJdlRhbmdlbnQgPSBub3JtYWxpemUoIHRyYW5zZm9ybWVkVGFuZ2VudCApOwoJCXZCaXRhbmdlbnQgPSBub3JtYWxpemUoIGNyb3NzKCB2Tm9ybWFsLCB2VGFuZ2VudCApICogdGFuZ2VudC53ICk7CgkjZW5kaWYKI2VuZGlmYCxub3JtYWxtYXBfcGFyc19mcmFnbWVudD1gI2lmZGVmIFVTRV9OT1JNQUxNQVAKCXVuaWZvcm0gc2FtcGxlcjJEIG5vcm1hbE1hcDsKCXVuaWZvcm0gdmVjMiBub3JtYWxTY2FsZTsKI2VuZGlmCiNpZmRlZiBPQkpFQ1RTUEFDRV9OT1JNQUxNQVAKCXVuaWZvcm0gbWF0MyBub3JtYWxNYXRyaXg7CiNlbmRpZgojaWYgISBkZWZpbmVkICggVVNFX1RBTkdFTlQgKSAmJiAoIGRlZmluZWQgKCBUQU5HRU5UU1BBQ0VfTk9STUFMTUFQICkgfHwgZGVmaW5lZCAoIFVTRV9DTEVBUkNPQVRfTk9STUFMTUFQICkgKQoJdmVjMyBwZXJ0dXJiTm9ybWFsMkFyYiggdmVjMyBleWVfcG9zLCB2ZWMzIHN1cmZfbm9ybSwgdmVjMyBtYXBOLCBmbG9hdCBmYWNlRGlyZWN0aW9uICkgewoJCXZlYzMgcTAgPSB2ZWMzKCBkRmR4KCBleWVfcG9zLnggKSwgZEZkeCggZXllX3Bvcy55ICksIGRGZHgoIGV5ZV9wb3MueiApICk7CgkJdmVjMyBxMSA9IHZlYzMoIGRGZHkoIGV5ZV9wb3MueCApLCBkRmR5KCBleWVfcG9zLnkgKSwgZEZkeSggZXllX3Bvcy56ICkgKTsKCQl2ZWMyIHN0MCA9IGRGZHgoIHZVdi5zdCApOwoJCXZlYzIgc3QxID0gZEZkeSggdlV2LnN0ICk7CgkJdmVjMyBOID0gc3VyZl9ub3JtOwoJCXZlYzMgcTFwZXJwID0gY3Jvc3MoIHExLCBOICk7CgkJdmVjMyBxMHBlcnAgPSBjcm9zcyggTiwgcTAgKTsKCQl2ZWMzIFQgPSBxMXBlcnAgKiBzdDAueCArIHEwcGVycCAqIHN0MS54OwoJCXZlYzMgQiA9IHExcGVycCAqIHN0MC55ICsgcTBwZXJwICogc3QxLnk7CgkJZmxvYXQgZGV0ID0gbWF4KCBkb3QoIFQsIFQgKSwgZG90KCBCLCBCICkgKTsKCQlmbG9hdCBzY2FsZSA9ICggZGV0ID09IDAuMCApID8gMC4wIDogZmFjZURpcmVjdGlvbiAqIGludmVyc2VzcXJ0KCBkZXQgKTsKCQlyZXR1cm4gbm9ybWFsaXplKCBUICogKCBtYXBOLnggKiBzY2FsZSApICsgQiAqICggbWFwTi55ICogc2NhbGUgKSArIE4gKiBtYXBOLnogKTsKCX0KI2VuZGlmYCxjbGVhcmNvYXRfbm9ybWFsX2ZyYWdtZW50X2JlZ2luPWAjaWZkZWYgVVNFX0NMRUFSQ09BVAoJdmVjMyBjbGVhcmNvYXROb3JtYWwgPSBnZW9tZXRyeU5vcm1hbDsKI2VuZGlmYCxjbGVhcmNvYXRfbm9ybWFsX2ZyYWdtZW50X21hcHM9YCNpZmRlZiBVU0VfQ0xFQVJDT0FUX05PUk1BTE1BUAoJdmVjMyBjbGVhcmNvYXRNYXBOID0gdGV4dHVyZTJEKCBjbGVhcmNvYXROb3JtYWxNYXAsIHZVdiApLnh5eiAqIDIuMCAtIDEuMDsKCWNsZWFyY29hdE1hcE4ueHkgKj0gY2xlYXJjb2F0Tm9ybWFsU2NhbGU7CgkjaWZkZWYgVVNFX1RBTkdFTlQKCQljbGVhcmNvYXROb3JtYWwgPSBub3JtYWxpemUoIHZUQk4gKiBjbGVhcmNvYXRNYXBOICk7CgkjZWxzZQoJCWNsZWFyY29hdE5vcm1hbCA9IHBlcnR1cmJOb3JtYWwyQXJiKCAtIHZWaWV3UG9zaXRpb24sIGNsZWFyY29hdE5vcm1hbCwgY2xlYXJjb2F0TWFwTiwgZmFjZURpcmVjdGlvbiApOwoJI2VuZGlmCiNlbmRpZmAsY2xlYXJjb2F0X3BhcnNfZnJhZ21lbnQ9YCNpZmRlZiBVU0VfQ0xFQVJDT0FUTUFQCgl1bmlmb3JtIHNhbXBsZXIyRCBjbGVhcmNvYXRNYXA7CiNlbmRpZgojaWZkZWYgVVNFX0NMRUFSQ09BVF9ST1VHSE5FU1NNQVAKCXVuaWZvcm0gc2FtcGxlcjJEIGNsZWFyY29hdFJvdWdobmVzc01hcDsKI2VuZGlmCiNpZmRlZiBVU0VfQ0xFQVJDT0FUX05PUk1BTE1BUAoJdW5pZm9ybSBzYW1wbGVyMkQgY2xlYXJjb2F0Tm9ybWFsTWFwOwoJdW5pZm9ybSB2ZWMyIGNsZWFyY29hdE5vcm1hbFNjYWxlOwojZW5kaWZgLG91dHB1dF9mcmFnbWVudD1gI2lmZGVmIE9QQVFVRQpkaWZmdXNlQ29sb3IuYSA9IDEuMDsKI2VuZGlmCiNpZmRlZiBVU0VfVFJBTlNNSVNTSU9OCmRpZmZ1c2VDb2xvci5hICo9IHRyYW5zbWlzc2lvbkFscGhhICsgMC4xOwojZW5kaWYKZ2xfRnJhZ0NvbG9yID0gdmVjNCggb3V0Z29pbmdMaWdodCwgZGlmZnVzZUNvbG9yLmEgKTtgLHBhY2tpbmc9YHZlYzMgcGFja05vcm1hbFRvUkdCKCBjb25zdCBpbiB2ZWMzIG5vcm1hbCApIHsKCXJldHVybiBub3JtYWxpemUoIG5vcm1hbCApICogMC41ICsgMC41Owp9CnZlYzMgdW5wYWNrUkdCVG9Ob3JtYWwoIGNvbnN0IGluIHZlYzMgcmdiICkgewoJcmV0dXJuIDIuMCAqIHJnYi54eXogLSAxLjA7Cn0KY29uc3QgZmxvYXQgUGFja1Vwc2NhbGUgPSAyNTYuIC8gMjU1Ljtjb25zdCBmbG9hdCBVbnBhY2tEb3duc2NhbGUgPSAyNTUuIC8gMjU2LjsKY29uc3QgdmVjMyBQYWNrRmFjdG9ycyA9IHZlYzMoIDI1Ni4gKiAyNTYuICogMjU2LiwgMjU2LiAqIDI1Ni4sIDI1Ni4gKTsKY29uc3QgdmVjNCBVbnBhY2tGYWN0b3JzID0gVW5wYWNrRG93bnNjYWxlIC8gdmVjNCggUGFja0ZhY3RvcnMsIDEuICk7CmNvbnN0IGZsb2F0IFNoaWZ0UmlnaHQ4ID0gMS4gLyAyNTYuOwp2ZWM0IHBhY2tEZXB0aFRvUkdCQSggY29uc3QgaW4gZmxvYXQgdiApIHsKCXZlYzQgciA9IHZlYzQoIGZyYWN0KCB2ICogUGFja0ZhY3RvcnMgKSwgdiApOwoJci55encgLT0gci54eXogKiBTaGlmdFJpZ2h0ODsJcmV0dXJuIHIgKiBQYWNrVXBzY2FsZTsKfQpmbG9hdCB1bnBhY2tSR0JBVG9EZXB0aCggY29uc3QgaW4gdmVjNCB2ICkgewoJcmV0dXJuIGRvdCggdiwgVW5wYWNrRmFjdG9ycyApOwp9CnZlYzQgcGFjazJIYWxmVG9SR0JBKCB2ZWMyIHYgKSB7Cgl2ZWM0IHIgPSB2ZWM0KCB2LngsIGZyYWN0KCB2LnggKiAyNTUuMCApLCB2LnksIGZyYWN0KCB2LnkgKiAyNTUuMCApICk7CglyZXR1cm4gdmVjNCggci54IC0gci55IC8gMjU1LjAsIHIueSwgci56IC0gci53IC8gMjU1LjAsIHIudyApOwp9CnZlYzIgdW5wYWNrUkdCQVRvMkhhbGYoIHZlYzQgdiApIHsKCXJldHVybiB2ZWMyKCB2LnggKyAoIHYueSAvIDI1NS4wICksIHYueiArICggdi53IC8gMjU1LjAgKSApOwp9CmZsb2F0IHZpZXdaVG9PcnRob2dyYXBoaWNEZXB0aCggY29uc3QgaW4gZmxvYXQgdmlld1osIGNvbnN0IGluIGZsb2F0IG5lYXIsIGNvbnN0IGluIGZsb2F0IGZhciApIHsKCXJldHVybiAoIHZpZXdaICsgbmVhciApIC8gKCBuZWFyIC0gZmFyICk7Cn0KZmxvYXQgb3J0aG9ncmFwaGljRGVwdGhUb1ZpZXdaKCBjb25zdCBpbiBmbG9hdCBsaW5lYXJDbGlwWiwgY29uc3QgaW4gZmxvYXQgbmVhciwgY29uc3QgaW4gZmxvYXQgZmFyICkgewoJcmV0dXJuIGxpbmVhckNsaXBaICogKCBuZWFyIC0gZmFyICkgLSBuZWFyOwp9CmZsb2F0IHZpZXdaVG9QZXJzcGVjdGl2ZURlcHRoKCBjb25zdCBpbiBmbG9hdCB2aWV3WiwgY29uc3QgaW4gZmxvYXQgbmVhciwgY29uc3QgaW4gZmxvYXQgZmFyICkgewoJcmV0dXJuICggKCBuZWFyICsgdmlld1ogKSAqIGZhciApIC8gKCAoIGZhciAtIG5lYXIgKSAqIHZpZXdaICk7Cn0KZmxvYXQgcGVyc3BlY3RpdmVEZXB0aFRvVmlld1ooIGNvbnN0IGluIGZsb2F0IGludkNsaXBaLCBjb25zdCBpbiBmbG9hdCBuZWFyLCBjb25zdCBpbiBmbG9hdCBmYXIgKSB7CglyZXR1cm4gKCBuZWFyICogZmFyICkgLyAoICggZmFyIC0gbmVhciApICogaW52Q2xpcFogLSBmYXIgKTsKfWAscHJlbXVsdGlwbGllZF9hbHBoYV9mcmFnbWVudD1gI2lmZGVmIFBSRU1VTFRJUExJRURfQUxQSEEKCWdsX0ZyYWdDb2xvci5yZ2IgKj0gZ2xfRnJhZ0NvbG9yLmE7CiNlbmRpZmAscHJvamVjdF92ZXJ0ZXg9YHZlYzQgbXZQb3NpdGlvbiA9IHZlYzQoIHRyYW5zZm9ybWVkLCAxLjAgKTsKI2lmZGVmIFVTRV9JTlNUQU5DSU5HCgltdlBvc2l0aW9uID0gaW5zdGFuY2VNYXRyaXggKiBtdlBvc2l0aW9uOwojZW5kaWYKbXZQb3NpdGlvbiA9IG1vZGVsVmlld01hdHJpeCAqIG12UG9zaXRpb247CmdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIG12UG9zaXRpb247YCxkaXRoZXJpbmdfZnJhZ21lbnQ9YCNpZmRlZiBESVRIRVJJTkcKCWdsX0ZyYWdDb2xvci5yZ2IgPSBkaXRoZXJpbmcoIGdsX0ZyYWdDb2xvci5yZ2IgKTsKI2VuZGlmYCxkaXRoZXJpbmdfcGFyc19mcmFnbWVudD1gI2lmZGVmIERJVEhFUklORwoJdmVjMyBkaXRoZXJpbmcoIHZlYzMgY29sb3IgKSB7CgkJZmxvYXQgZ3JpZF9wb3NpdGlvbiA9IHJhbmQoIGdsX0ZyYWdDb29yZC54eSApOwoJCXZlYzMgZGl0aGVyX3NoaWZ0X1JHQiA9IHZlYzMoIDAuMjUgLyAyNTUuMCwgLTAuMjUgLyAyNTUuMCwgMC4yNSAvIDI1NS4wICk7CgkJZGl0aGVyX3NoaWZ0X1JHQiA9IG1peCggMi4wICogZGl0aGVyX3NoaWZ0X1JHQiwgLTIuMCAqIGRpdGhlcl9zaGlmdF9SR0IsIGdyaWRfcG9zaXRpb24gKTsKCQlyZXR1cm4gY29sb3IgKyBkaXRoZXJfc2hpZnRfUkdCOwoJfQojZW5kaWZgLHJvdWdobmVzc21hcF9mcmFnbWVudD1gZmxvYXQgcm91Z2huZXNzRmFjdG9yID0gcm91Z2huZXNzOwojaWZkZWYgVVNFX1JPVUdITkVTU01BUAoJdmVjNCB0ZXhlbFJvdWdobmVzcyA9IHRleHR1cmUyRCggcm91Z2huZXNzTWFwLCB2VXYgKTsKCXJvdWdobmVzc0ZhY3RvciAqPSB0ZXhlbFJvdWdobmVzcy5nOwojZW5kaWZgLHJvdWdobmVzc21hcF9wYXJzX2ZyYWdtZW50PWAjaWZkZWYgVVNFX1JPVUdITkVTU01BUAoJdW5pZm9ybSBzYW1wbGVyMkQgcm91Z2huZXNzTWFwOwojZW5kaWZgLHNoYWRvd21hcF9wYXJzX2ZyYWdtZW50PWAjaWZkZWYgVVNFX1NIQURPV01BUAoJI2lmIE5VTV9ESVJfTElHSFRfU0hBRE9XUyA+IDAKCQl1bmlmb3JtIHNhbXBsZXIyRCBkaXJlY3Rpb25hbFNoYWRvd01hcFsgTlVNX0RJUl9MSUdIVF9TSEFET1dTIF07CgkJdmFyeWluZyB2ZWM0IHZEaXJlY3Rpb25hbFNoYWRvd0Nvb3JkWyBOVU1fRElSX0xJR0hUX1NIQURPV1MgXTsKCQlzdHJ1Y3QgRGlyZWN0aW9uYWxMaWdodFNoYWRvdyB7CgkJCWZsb2F0IHNoYWRvd0JpYXM7CgkJCWZsb2F0IHNoYWRvd05vcm1hbEJpYXM7CgkJCWZsb2F0IHNoYWRvd1JhZGl1czsKCQkJdmVjMiBzaGFkb3dNYXBTaXplOwoJCX07CgkJdW5pZm9ybSBEaXJlY3Rpb25hbExpZ2h0U2hhZG93IGRpcmVjdGlvbmFsTGlnaHRTaGFkb3dzWyBOVU1fRElSX0xJR0hUX1NIQURPV1MgXTsKCSNlbmRpZgoJI2lmIE5VTV9TUE9UX0xJR0hUX1NIQURPV1MgPiAwCgkJdW5pZm9ybSBzYW1wbGVyMkQgc3BvdFNoYWRvd01hcFsgTlVNX1NQT1RfTElHSFRfU0hBRE9XUyBdOwoJCXZhcnlpbmcgdmVjNCB2U3BvdFNoYWRvd0Nvb3JkWyBOVU1fU1BPVF9MSUdIVF9TSEFET1dTIF07CgkJc3RydWN0IFNwb3RMaWdodFNoYWRvdyB7CgkJCWZsb2F0IHNoYWRvd0JpYXM7CgkJCWZsb2F0IHNoYWRvd05vcm1hbEJpYXM7CgkJCWZsb2F0IHNoYWRvd1JhZGl1czsKCQkJdmVjMiBzaGFkb3dNYXBTaXplOwoJCX07CgkJdW5pZm9ybSBTcG90TGlnaHRTaGFkb3cgc3BvdExpZ2h0U2hhZG93c1sgTlVNX1NQT1RfTElHSFRfU0hBRE9XUyBdOwoJI2VuZGlmCgkjaWYgTlVNX1BPSU5UX0xJR0hUX1NIQURPV1MgPiAwCgkJdW5pZm9ybSBzYW1wbGVyMkQgcG9pbnRTaGFkb3dNYXBbIE5VTV9QT0lOVF9MSUdIVF9TSEFET1dTIF07CgkJdmFyeWluZyB2ZWM0IHZQb2ludFNoYWRvd0Nvb3JkWyBOVU1fUE9JTlRfTElHSFRfU0hBRE9XUyBdOwoJCXN0cnVjdCBQb2ludExpZ2h0U2hhZG93IHsKCQkJZmxvYXQgc2hhZG93QmlhczsKCQkJZmxvYXQgc2hhZG93Tm9ybWFsQmlhczsKCQkJZmxvYXQgc2hhZG93UmFkaXVzOwoJCQl2ZWMyIHNoYWRvd01hcFNpemU7CgkJCWZsb2F0IHNoYWRvd0NhbWVyYU5lYXI7CgkJCWZsb2F0IHNoYWRvd0NhbWVyYUZhcjsKCQl9OwoJCXVuaWZvcm0gUG9pbnRMaWdodFNoYWRvdyBwb2ludExpZ2h0U2hhZG93c1sgTlVNX1BPSU5UX0xJR0hUX1NIQURPV1MgXTsKCSNlbmRpZgoJZmxvYXQgdGV4dHVyZTJEQ29tcGFyZSggc2FtcGxlcjJEIGRlcHRocywgdmVjMiB1diwgZmxvYXQgY29tcGFyZSApIHsKCQlyZXR1cm4gc3RlcCggY29tcGFyZSwgdW5wYWNrUkdCQVRvRGVwdGgoIHRleHR1cmUyRCggZGVwdGhzLCB1diApICkgKTsKCX0KCXZlYzIgdGV4dHVyZTJERGlzdHJpYnV0aW9uKCBzYW1wbGVyMkQgc2hhZG93LCB2ZWMyIHV2ICkgewoJCXJldHVybiB1bnBhY2tSR0JBVG8ySGFsZiggdGV4dHVyZTJEKCBzaGFkb3csIHV2ICkgKTsKCX0KCWZsb2F0IFZTTVNoYWRvdyAoc2FtcGxlcjJEIHNoYWRvdywgdmVjMiB1diwgZmxvYXQgY29tcGFyZSApewoJCWZsb2F0IG9jY2x1c2lvbiA9IDEuMDsKCQl2ZWMyIGRpc3RyaWJ1dGlvbiA9IHRleHR1cmUyRERpc3RyaWJ1dGlvbiggc2hhZG93LCB1diApOwoJCWZsb2F0IGhhcmRfc2hhZG93ID0gc3RlcCggY29tcGFyZSAsIGRpc3RyaWJ1dGlvbi54ICk7CgkJaWYgKGhhcmRfc2hhZG93ICE9IDEuMCApIHsKCQkJZmxvYXQgZGlzdGFuY2UgPSBjb21wYXJlIC0gZGlzdHJpYnV0aW9uLnggOwoJCQlmbG9hdCB2YXJpYW5jZSA9IG1heCggMC4wMDAwMCwgZGlzdHJpYnV0aW9uLnkgKiBkaXN0cmlidXRpb24ueSApOwoJCQlmbG9hdCBzb2Z0bmVzc19wcm9iYWJpbGl0eSA9IHZhcmlhbmNlIC8gKHZhcmlhbmNlICsgZGlzdGFuY2UgKiBkaXN0YW5jZSApOwkJCXNvZnRuZXNzX3Byb2JhYmlsaXR5ID0gY2xhbXAoICggc29mdG5lc3NfcHJvYmFiaWxpdHkgLSAwLjMgKSAvICggMC45NSAtIDAuMyApLCAwLjAsIDEuMCApOwkJCW9jY2x1c2lvbiA9IGNsYW1wKCBtYXgoIGhhcmRfc2hhZG93LCBzb2Z0bmVzc19wcm9iYWJpbGl0eSApLCAwLjAsIDEuMCApOwoJCX0KCQlyZXR1cm4gb2NjbHVzaW9uOwoJfQoJZmxvYXQgZ2V0U2hhZG93KCBzYW1wbGVyMkQgc2hhZG93TWFwLCB2ZWMyIHNoYWRvd01hcFNpemUsIGZsb2F0IHNoYWRvd0JpYXMsIGZsb2F0IHNoYWRvd1JhZGl1cywgdmVjNCBzaGFkb3dDb29yZCApIHsKCQlmbG9hdCBzaGFkb3cgPSAxLjA7CgkJc2hhZG93Q29vcmQueHl6IC89IHNoYWRvd0Nvb3JkLnc7CgkJc2hhZG93Q29vcmQueiArPSBzaGFkb3dCaWFzOwoJCWJ2ZWM0IGluRnJ1c3R1bVZlYyA9IGJ2ZWM0ICggc2hhZG93Q29vcmQueCA+PSAwLjAsIHNoYWRvd0Nvb3JkLnggPD0gMS4wLCBzaGFkb3dDb29yZC55ID49IDAuMCwgc2hhZG93Q29vcmQueSA8PSAxLjAgKTsKCQlib29sIGluRnJ1c3R1bSA9IGFsbCggaW5GcnVzdHVtVmVjICk7CgkJYnZlYzIgZnJ1c3R1bVRlc3RWZWMgPSBidmVjMiggaW5GcnVzdHVtLCBzaGFkb3dDb29yZC56IDw9IDEuMCApOwoJCWJvb2wgZnJ1c3R1bVRlc3QgPSBhbGwoIGZydXN0dW1UZXN0VmVjICk7CgkJaWYgKCBmcnVzdHVtVGVzdCApIHsKCQkjaWYgZGVmaW5lZCggU0hBRE9XTUFQX1RZUEVfUENGICkKCQkJdmVjMiB0ZXhlbFNpemUgPSB2ZWMyKCAxLjAgKSAvIHNoYWRvd01hcFNpemU7CgkJCWZsb2F0IGR4MCA9IC0gdGV4ZWxTaXplLnggKiBzaGFkb3dSYWRpdXM7CgkJCWZsb2F0IGR5MCA9IC0gdGV4ZWxTaXplLnkgKiBzaGFkb3dSYWRpdXM7CgkJCWZsb2F0IGR4MSA9ICsgdGV4ZWxTaXplLnggKiBzaGFkb3dSYWRpdXM7CgkJCWZsb2F0IGR5MSA9ICsgdGV4ZWxTaXplLnkgKiBzaGFkb3dSYWRpdXM7CgkJCWZsb2F0IGR4MiA9IGR4MCAvIDIuMDsKCQkJZmxvYXQgZHkyID0gZHkwIC8gMi4wOwoJCQlmbG9hdCBkeDMgPSBkeDEgLyAyLjA7CgkJCWZsb2F0IGR5MyA9IGR5MSAvIDIuMDsKCQkJc2hhZG93ID0gKAoJCQkJdGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIGR4MCwgZHkwICksIHNoYWRvd0Nvb3JkLnogKSArCgkJCQl0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5ICsgdmVjMiggMC4wLCBkeTAgKSwgc2hhZG93Q29vcmQueiApICsKCQkJCXRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCBkeDEsIGR5MCApLCBzaGFkb3dDb29yZC56ICkgKwoJCQkJdGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIGR4MiwgZHkyICksIHNoYWRvd0Nvb3JkLnogKSArCgkJCQl0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5ICsgdmVjMiggMC4wLCBkeTIgKSwgc2hhZG93Q29vcmQueiApICsKCQkJCXRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCBkeDMsIGR5MiApLCBzaGFkb3dDb29yZC56ICkgKwoJCQkJdGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIGR4MCwgMC4wICksIHNoYWRvd0Nvb3JkLnogKSArCgkJCQl0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5ICsgdmVjMiggZHgyLCAwLjAgKSwgc2hhZG93Q29vcmQueiApICsKCQkJCXRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHksIHNoYWRvd0Nvb3JkLnogKSArCgkJCQl0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5ICsgdmVjMiggZHgzLCAwLjAgKSwgc2hhZG93Q29vcmQueiApICsKCQkJCXRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCBkeDEsIDAuMCApLCBzaGFkb3dDb29yZC56ICkgKwoJCQkJdGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIGR4MiwgZHkzICksIHNoYWRvd0Nvb3JkLnogKSArCgkJCQl0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5ICsgdmVjMiggMC4wLCBkeTMgKSwgc2hhZG93Q29vcmQueiApICsKCQkJCXRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCBkeDMsIGR5MyApLCBzaGFkb3dDb29yZC56ICkgKwoJCQkJdGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIGR4MCwgZHkxICksIHNoYWRvd0Nvb3JkLnogKSArCgkJCQl0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5ICsgdmVjMiggMC4wLCBkeTEgKSwgc2hhZG93Q29vcmQueiApICsKCQkJCXRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCBkeDEsIGR5MSApLCBzaGFkb3dDb29yZC56ICkKCQkJKSAqICggMS4wIC8gMTcuMCApOwoJCSNlbGlmIGRlZmluZWQoIFNIQURPV01BUF9UWVBFX1BDRl9TT0ZUICkKCQkJdmVjMiB0ZXhlbFNpemUgPSB2ZWMyKCAxLjAgKSAvIHNoYWRvd01hcFNpemU7CgkJCWZsb2F0IGR4ID0gdGV4ZWxTaXplLng7CgkJCWZsb2F0IGR5ID0gdGV4ZWxTaXplLnk7CgkJCXZlYzIgdXYgPSBzaGFkb3dDb29yZC54eTsKCQkJdmVjMiBmID0gZnJhY3QoIHV2ICogc2hhZG93TWFwU2l6ZSArIDAuNSApOwoJCQl1diAtPSBmICogdGV4ZWxTaXplOwoJCQlzaGFkb3cgPSAoCgkJCQl0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHV2LCBzaGFkb3dDb29yZC56ICkgKwoJCQkJdGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCB1diArIHZlYzIoIGR4LCAwLjAgKSwgc2hhZG93Q29vcmQueiApICsKCQkJCXRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgdXYgKyB2ZWMyKCAwLjAsIGR5ICksIHNoYWRvd0Nvb3JkLnogKSArCgkJCQl0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHV2ICsgdGV4ZWxTaXplLCBzaGFkb3dDb29yZC56ICkgKwoJCQkJbWl4KCB0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHV2ICsgdmVjMiggLWR4LCAwLjAgKSwgc2hhZG93Q29vcmQueiApLCAKCQkJCQkgdGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCB1diArIHZlYzIoIDIuMCAqIGR4LCAwLjAgKSwgc2hhZG93Q29vcmQueiApLAoJCQkJCSBmLnggKSArCgkJCQltaXgoIHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgdXYgKyB2ZWMyKCAtZHgsIGR5ICksIHNoYWRvd0Nvb3JkLnogKSwgCgkJCQkJIHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgdXYgKyB2ZWMyKCAyLjAgKiBkeCwgZHkgKSwgc2hhZG93Q29vcmQueiApLAoJCQkJCSBmLnggKSArCgkJCQltaXgoIHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgdXYgKyB2ZWMyKCAwLjAsIC1keSApLCBzaGFkb3dDb29yZC56ICksIAoJCQkJCSB0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHV2ICsgdmVjMiggMC4wLCAyLjAgKiBkeSApLCBzaGFkb3dDb29yZC56ICksCgkJCQkJIGYueSApICsKCQkJCW1peCggdGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCB1diArIHZlYzIoIGR4LCAtZHkgKSwgc2hhZG93Q29vcmQueiApLCAKCQkJCQkgdGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCB1diArIHZlYzIoIGR4LCAyLjAgKiBkeSApLCBzaGFkb3dDb29yZC56ICksCgkJCQkJIGYueSApICsKCQkJCW1peCggbWl4KCB0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHV2ICsgdmVjMiggLWR4LCAtZHkgKSwgc2hhZG93Q29vcmQueiApLCAKCQkJCQkJICB0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHV2ICsgdmVjMiggMi4wICogZHgsIC1keSApLCBzaGFkb3dDb29yZC56ICksCgkJCQkJCSAgZi54ICksCgkJCQkJIG1peCggdGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCB1diArIHZlYzIoIC1keCwgMi4wICogZHkgKSwgc2hhZG93Q29vcmQueiApLCAKCQkJCQkJICB0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHV2ICsgdmVjMiggMi4wICogZHgsIDIuMCAqIGR5ICksIHNoYWRvd0Nvb3JkLnogKSwKCQkJCQkJICBmLnggKSwKCQkJCQkgZi55ICkKCQkJKSAqICggMS4wIC8gOS4wICk7CgkJI2VsaWYgZGVmaW5lZCggU0hBRE9XTUFQX1RZUEVfVlNNICkKCQkJc2hhZG93ID0gVlNNU2hhZG93KCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5LCBzaGFkb3dDb29yZC56ICk7CgkJI2Vsc2UKCQkJc2hhZG93ID0gdGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBzaGFkb3dDb29yZC54eSwgc2hhZG93Q29vcmQueiApOwoJCSNlbmRpZgoJCX0KCQlyZXR1cm4gc2hhZG93OwoJfQoJdmVjMiBjdWJlVG9VViggdmVjMyB2LCBmbG9hdCB0ZXhlbFNpemVZICkgewoJCXZlYzMgYWJzViA9IGFicyggdiApOwoJCWZsb2F0IHNjYWxlVG9DdWJlID0gMS4wIC8gbWF4KCBhYnNWLngsIG1heCggYWJzVi55LCBhYnNWLnogKSApOwoJCWFic1YgKj0gc2NhbGVUb0N1YmU7CgkJdiAqPSBzY2FsZVRvQ3ViZSAqICggMS4wIC0gMi4wICogdGV4ZWxTaXplWSApOwoJCXZlYzIgcGxhbmFyID0gdi54eTsKCQlmbG9hdCBhbG1vc3RBVGV4ZWwgPSAxLjUgKiB0ZXhlbFNpemVZOwoJCWZsb2F0IGFsbW9zdE9uZSA9IDEuMCAtIGFsbW9zdEFUZXhlbDsKCQlpZiAoIGFic1YueiA+PSBhbG1vc3RPbmUgKSB7CgkJCWlmICggdi56ID4gMC4wICkKCQkJCXBsYW5hci54ID0gNC4wIC0gdi54OwoJCX0gZWxzZSBpZiAoIGFic1YueCA+PSBhbG1vc3RPbmUgKSB7CgkJCWZsb2F0IHNpZ25YID0gc2lnbiggdi54ICk7CgkJCXBsYW5hci54ID0gdi56ICogc2lnblggKyAyLjAgKiBzaWduWDsKCQl9IGVsc2UgaWYgKCBhYnNWLnkgPj0gYWxtb3N0T25lICkgewoJCQlmbG9hdCBzaWduWSA9IHNpZ24oIHYueSApOwoJCQlwbGFuYXIueCA9IHYueCArIDIuMCAqIHNpZ25ZICsgMi4wOwoJCQlwbGFuYXIueSA9IHYueiAqIHNpZ25ZIC0gMi4wOwoJCX0KCQlyZXR1cm4gdmVjMiggMC4xMjUsIDAuMjUgKSAqIHBsYW5hciArIHZlYzIoIDAuMzc1LCAwLjc1ICk7Cgl9CglmbG9hdCBnZXRQb2ludFNoYWRvdyggc2FtcGxlcjJEIHNoYWRvd01hcCwgdmVjMiBzaGFkb3dNYXBTaXplLCBmbG9hdCBzaGFkb3dCaWFzLCBmbG9hdCBzaGFkb3dSYWRpdXMsIHZlYzQgc2hhZG93Q29vcmQsIGZsb2F0IHNoYWRvd0NhbWVyYU5lYXIsIGZsb2F0IHNoYWRvd0NhbWVyYUZhciApIHsKCQl2ZWMyIHRleGVsU2l6ZSA9IHZlYzIoIDEuMCApIC8gKCBzaGFkb3dNYXBTaXplICogdmVjMiggNC4wLCAyLjAgKSApOwoJCXZlYzMgbGlnaHRUb1Bvc2l0aW9uID0gc2hhZG93Q29vcmQueHl6OwoJCWZsb2F0IGRwID0gKCBsZW5ndGgoIGxpZ2h0VG9Qb3NpdGlvbiApIC0gc2hhZG93Q2FtZXJhTmVhciApIC8gKCBzaGFkb3dDYW1lcmFGYXIgLSBzaGFkb3dDYW1lcmFOZWFyICk7CQlkcCArPSBzaGFkb3dCaWFzOwoJCXZlYzMgYmQzRCA9IG5vcm1hbGl6ZSggbGlnaHRUb1Bvc2l0aW9uICk7CgkJI2lmIGRlZmluZWQoIFNIQURPV01BUF9UWVBFX1BDRiApIHx8IGRlZmluZWQoIFNIQURPV01BUF9UWVBFX1BDRl9TT0ZUICkgfHwgZGVmaW5lZCggU0hBRE9XTUFQX1RZUEVfVlNNICkKCQkJdmVjMiBvZmZzZXQgPSB2ZWMyKCAtIDEsIDEgKSAqIHNoYWRvd1JhZGl1cyAqIHRleGVsU2l6ZS55OwoJCQlyZXR1cm4gKAoJCQkJdGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBjdWJlVG9VViggYmQzRCArIG9mZnNldC54eXksIHRleGVsU2l6ZS55ICksIGRwICkgKwoJCQkJdGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBjdWJlVG9VViggYmQzRCArIG9mZnNldC55eXksIHRleGVsU2l6ZS55ICksIGRwICkgKwoJCQkJdGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBjdWJlVG9VViggYmQzRCArIG9mZnNldC54eXgsIHRleGVsU2l6ZS55ICksIGRwICkgKwoJCQkJdGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBjdWJlVG9VViggYmQzRCArIG9mZnNldC55eXgsIHRleGVsU2l6ZS55ICksIGRwICkgKwoJCQkJdGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBjdWJlVG9VViggYmQzRCwgdGV4ZWxTaXplLnkgKSwgZHAgKSArCgkJCQl0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIGN1YmVUb1VWKCBiZDNEICsgb2Zmc2V0Lnh4eSwgdGV4ZWxTaXplLnkgKSwgZHAgKSArCgkJCQl0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIGN1YmVUb1VWKCBiZDNEICsgb2Zmc2V0Lnl4eSwgdGV4ZWxTaXplLnkgKSwgZHAgKSArCgkJCQl0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIGN1YmVUb1VWKCBiZDNEICsgb2Zmc2V0Lnh4eCwgdGV4ZWxTaXplLnkgKSwgZHAgKSArCgkJCQl0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIGN1YmVUb1VWKCBiZDNEICsgb2Zmc2V0Lnl4eCwgdGV4ZWxTaXplLnkgKSwgZHAgKQoJCQkpICogKCAxLjAgLyA5LjAgKTsKCQkjZWxzZQoJCQlyZXR1cm4gdGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBjdWJlVG9VViggYmQzRCwgdGV4ZWxTaXplLnkgKSwgZHAgKTsKCQkjZW5kaWYKCX0KI2VuZGlmYCxzaGFkb3dtYXBfcGFyc192ZXJ0ZXg9YCNpZmRlZiBVU0VfU0hBRE9XTUFQCgkjaWYgTlVNX0RJUl9MSUdIVF9TSEFET1dTID4gMAoJCXVuaWZvcm0gbWF0NCBkaXJlY3Rpb25hbFNoYWRvd01hdHJpeFsgTlVNX0RJUl9MSUdIVF9TSEFET1dTIF07CgkJdmFyeWluZyB2ZWM0IHZEaXJlY3Rpb25hbFNoYWRvd0Nvb3JkWyBOVU1fRElSX0xJR0hUX1NIQURPV1MgXTsKCQlzdHJ1Y3QgRGlyZWN0aW9uYWxMaWdodFNoYWRvdyB7CgkJCWZsb2F0IHNoYWRvd0JpYXM7CgkJCWZsb2F0IHNoYWRvd05vcm1hbEJpYXM7CgkJCWZsb2F0IHNoYWRvd1JhZGl1czsKCQkJdmVjMiBzaGFkb3dNYXBTaXplOwoJCX07CgkJdW5pZm9ybSBEaXJlY3Rpb25hbExpZ2h0U2hhZG93IGRpcmVjdGlvbmFsTGlnaHRTaGFkb3dzWyBOVU1fRElSX0xJR0hUX1NIQURPV1MgXTsKCSNlbmRpZgoJI2lmIE5VTV9TUE9UX0xJR0hUX1NIQURPV1MgPiAwCgkJdW5pZm9ybSBtYXQ0IHNwb3RTaGFkb3dNYXRyaXhbIE5VTV9TUE9UX0xJR0hUX1NIQURPV1MgXTsKCQl2YXJ5aW5nIHZlYzQgdlNwb3RTaGFkb3dDb29yZFsgTlVNX1NQT1RfTElHSFRfU0hBRE9XUyBdOwoJCXN0cnVjdCBTcG90TGlnaHRTaGFkb3cgewoJCQlmbG9hdCBzaGFkb3dCaWFzOwoJCQlmbG9hdCBzaGFkb3dOb3JtYWxCaWFzOwoJCQlmbG9hdCBzaGFkb3dSYWRpdXM7CgkJCXZlYzIgc2hhZG93TWFwU2l6ZTsKCQl9OwoJCXVuaWZvcm0gU3BvdExpZ2h0U2hhZG93IHNwb3RMaWdodFNoYWRvd3NbIE5VTV9TUE9UX0xJR0hUX1NIQURPV1MgXTsKCSNlbmRpZgoJI2lmIE5VTV9QT0lOVF9MSUdIVF9TSEFET1dTID4gMAoJCXVuaWZvcm0gbWF0NCBwb2ludFNoYWRvd01hdHJpeFsgTlVNX1BPSU5UX0xJR0hUX1NIQURPV1MgXTsKCQl2YXJ5aW5nIHZlYzQgdlBvaW50U2hhZG93Q29vcmRbIE5VTV9QT0lOVF9MSUdIVF9TSEFET1dTIF07CgkJc3RydWN0IFBvaW50TGlnaHRTaGFkb3cgewoJCQlmbG9hdCBzaGFkb3dCaWFzOwoJCQlmbG9hdCBzaGFkb3dOb3JtYWxCaWFzOwoJCQlmbG9hdCBzaGFkb3dSYWRpdXM7CgkJCXZlYzIgc2hhZG93TWFwU2l6ZTsKCQkJZmxvYXQgc2hhZG93Q2FtZXJhTmVhcjsKCQkJZmxvYXQgc2hhZG93Q2FtZXJhRmFyOwoJCX07CgkJdW5pZm9ybSBQb2ludExpZ2h0U2hhZG93IHBvaW50TGlnaHRTaGFkb3dzWyBOVU1fUE9JTlRfTElHSFRfU0hBRE9XUyBdOwoJI2VuZGlmCiNlbmRpZmAsc2hhZG93bWFwX3ZlcnRleD1gI2lmZGVmIFVTRV9TSEFET1dNQVAKCSNpZiBOVU1fRElSX0xJR0hUX1NIQURPV1MgPiAwIHx8IE5VTV9TUE9UX0xJR0hUX1NIQURPV1MgPiAwIHx8IE5VTV9QT0lOVF9MSUdIVF9TSEFET1dTID4gMAoJCXZlYzMgc2hhZG93V29ybGROb3JtYWwgPSBpbnZlcnNlVHJhbnNmb3JtRGlyZWN0aW9uKCB0cmFuc2Zvcm1lZE5vcm1hbCwgdmlld01hdHJpeCApOwoJCXZlYzQgc2hhZG93V29ybGRQb3NpdGlvbjsKCSNlbmRpZgoJI2lmIE5VTV9ESVJfTElHSFRfU0hBRE9XUyA+IDAKCSNwcmFnbWEgdW5yb2xsX2xvb3Bfc3RhcnQKCWZvciAoIGludCBpID0gMDsgaSA8IE5VTV9ESVJfTElHSFRfU0hBRE9XUzsgaSArKyApIHsKCQlzaGFkb3dXb3JsZFBvc2l0aW9uID0gd29ybGRQb3NpdGlvbiArIHZlYzQoIHNoYWRvd1dvcmxkTm9ybWFsICogZGlyZWN0aW9uYWxMaWdodFNoYWRvd3NbIGkgXS5zaGFkb3dOb3JtYWxCaWFzLCAwICk7CgkJdkRpcmVjdGlvbmFsU2hhZG93Q29vcmRbIGkgXSA9IGRpcmVjdGlvbmFsU2hhZG93TWF0cml4WyBpIF0gKiBzaGFkb3dXb3JsZFBvc2l0aW9uOwoJfQoJI3ByYWdtYSB1bnJvbGxfbG9vcF9lbmQKCSNlbmRpZgoJI2lmIE5VTV9TUE9UX0xJR0hUX1NIQURPV1MgPiAwCgkjcHJhZ21hIHVucm9sbF9sb29wX3N0YXJ0Cglmb3IgKCBpbnQgaSA9IDA7IGkgPCBOVU1fU1BPVF9MSUdIVF9TSEFET1dTOyBpICsrICkgewoJCXNoYWRvd1dvcmxkUG9zaXRpb24gPSB3b3JsZFBvc2l0aW9uICsgdmVjNCggc2hhZG93V29ybGROb3JtYWwgKiBzcG90TGlnaHRTaGFkb3dzWyBpIF0uc2hhZG93Tm9ybWFsQmlhcywgMCApOwoJCXZTcG90U2hhZG93Q29vcmRbIGkgXSA9IHNwb3RTaGFkb3dNYXRyaXhbIGkgXSAqIHNoYWRvd1dvcmxkUG9zaXRpb247Cgl9CgkjcHJhZ21hIHVucm9sbF9sb29wX2VuZAoJI2VuZGlmCgkjaWYgTlVNX1BPSU5UX0xJR0hUX1NIQURPV1MgPiAwCgkjcHJhZ21hIHVucm9sbF9sb29wX3N0YXJ0Cglmb3IgKCBpbnQgaSA9IDA7IGkgPCBOVU1fUE9JTlRfTElHSFRfU0hBRE9XUzsgaSArKyApIHsKCQlzaGFkb3dXb3JsZFBvc2l0aW9uID0gd29ybGRQb3NpdGlvbiArIHZlYzQoIHNoYWRvd1dvcmxkTm9ybWFsICogcG9pbnRMaWdodFNoYWRvd3NbIGkgXS5zaGFkb3dOb3JtYWxCaWFzLCAwICk7CgkJdlBvaW50U2hhZG93Q29vcmRbIGkgXSA9IHBvaW50U2hhZG93TWF0cml4WyBpIF0gKiBzaGFkb3dXb3JsZFBvc2l0aW9uOwoJfQoJI3ByYWdtYSB1bnJvbGxfbG9vcF9lbmQKCSNlbmRpZgojZW5kaWZgLHNoYWRvd21hc2tfcGFyc19mcmFnbWVudD1gZmxvYXQgZ2V0U2hhZG93TWFzaygpIHsKCWZsb2F0IHNoYWRvdyA9IDEuMDsKCSNpZmRlZiBVU0VfU0hBRE9XTUFQCgkjaWYgTlVNX0RJUl9MSUdIVF9TSEFET1dTID4gMAoJRGlyZWN0aW9uYWxMaWdodFNoYWRvdyBkaXJlY3Rpb25hbExpZ2h0OwoJI3ByYWdtYSB1bnJvbGxfbG9vcF9zdGFydAoJZm9yICggaW50IGkgPSAwOyBpIDwgTlVNX0RJUl9MSUdIVF9TSEFET1dTOyBpICsrICkgewoJCWRpcmVjdGlvbmFsTGlnaHQgPSBkaXJlY3Rpb25hbExpZ2h0U2hhZG93c1sgaSBdOwoJCXNoYWRvdyAqPSByZWNlaXZlU2hhZG93ID8gZ2V0U2hhZG93KCBkaXJlY3Rpb25hbFNoYWRvd01hcFsgaSBdLCBkaXJlY3Rpb25hbExpZ2h0LnNoYWRvd01hcFNpemUsIGRpcmVjdGlvbmFsTGlnaHQuc2hhZG93QmlhcywgZGlyZWN0aW9uYWxMaWdodC5zaGFkb3dSYWRpdXMsIHZEaXJlY3Rpb25hbFNoYWRvd0Nvb3JkWyBpIF0gKSA6IDEuMDsKCX0KCSNwcmFnbWEgdW5yb2xsX2xvb3BfZW5kCgkjZW5kaWYKCSNpZiBOVU1fU1BPVF9MSUdIVF9TSEFET1dTID4gMAoJU3BvdExpZ2h0U2hhZG93IHNwb3RMaWdodDsKCSNwcmFnbWEgdW5yb2xsX2xvb3Bfc3RhcnQKCWZvciAoIGludCBpID0gMDsgaSA8IE5VTV9TUE9UX0xJR0hUX1NIQURPV1M7IGkgKysgKSB7CgkJc3BvdExpZ2h0ID0gc3BvdExpZ2h0U2hhZG93c1sgaSBdOwoJCXNoYWRvdyAqPSByZWNlaXZlU2hhZG93ID8gZ2V0U2hhZG93KCBzcG90U2hhZG93TWFwWyBpIF0sIHNwb3RMaWdodC5zaGFkb3dNYXBTaXplLCBzcG90TGlnaHQuc2hhZG93Qmlhcywgc3BvdExpZ2h0LnNoYWRvd1JhZGl1cywgdlNwb3RTaGFkb3dDb29yZFsgaSBdICkgOiAxLjA7Cgl9CgkjcHJhZ21hIHVucm9sbF9sb29wX2VuZAoJI2VuZGlmCgkjaWYgTlVNX1BPSU5UX0xJR0hUX1NIQURPV1MgPiAwCglQb2ludExpZ2h0U2hhZG93IHBvaW50TGlnaHQ7CgkjcHJhZ21hIHVucm9sbF9sb29wX3N0YXJ0Cglmb3IgKCBpbnQgaSA9IDA7IGkgPCBOVU1fUE9JTlRfTElHSFRfU0hBRE9XUzsgaSArKyApIHsKCQlwb2ludExpZ2h0ID0gcG9pbnRMaWdodFNoYWRvd3NbIGkgXTsKCQlzaGFkb3cgKj0gcmVjZWl2ZVNoYWRvdyA/IGdldFBvaW50U2hhZG93KCBwb2ludFNoYWRvd01hcFsgaSBdLCBwb2ludExpZ2h0LnNoYWRvd01hcFNpemUsIHBvaW50TGlnaHQuc2hhZG93QmlhcywgcG9pbnRMaWdodC5zaGFkb3dSYWRpdXMsIHZQb2ludFNoYWRvd0Nvb3JkWyBpIF0sIHBvaW50TGlnaHQuc2hhZG93Q2FtZXJhTmVhciwgcG9pbnRMaWdodC5zaGFkb3dDYW1lcmFGYXIgKSA6IDEuMDsKCX0KCSNwcmFnbWEgdW5yb2xsX2xvb3BfZW5kCgkjZW5kaWYKCSNlbmRpZgoJcmV0dXJuIHNoYWRvdzsKfWAsc2tpbmJhc2VfdmVydGV4PWAjaWZkZWYgVVNFX1NLSU5OSU5HCgltYXQ0IGJvbmVNYXRYID0gZ2V0Qm9uZU1hdHJpeCggc2tpbkluZGV4LnggKTsKCW1hdDQgYm9uZU1hdFkgPSBnZXRCb25lTWF0cml4KCBza2luSW5kZXgueSApOwoJbWF0NCBib25lTWF0WiA9IGdldEJvbmVNYXRyaXgoIHNraW5JbmRleC56ICk7CgltYXQ0IGJvbmVNYXRXID0gZ2V0Qm9uZU1hdHJpeCggc2tpbkluZGV4LncgKTsKI2VuZGlmYCxza2lubmluZ19wYXJzX3ZlcnRleD1gI2lmZGVmIFVTRV9TS0lOTklORwoJdW5pZm9ybSBtYXQ0IGJpbmRNYXRyaXg7Cgl1bmlmb3JtIG1hdDQgYmluZE1hdHJpeEludmVyc2U7CgkjaWZkZWYgQk9ORV9URVhUVVJFCgkJdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgYm9uZVRleHR1cmU7CgkJdW5pZm9ybSBpbnQgYm9uZVRleHR1cmVTaXplOwoJCW1hdDQgZ2V0Qm9uZU1hdHJpeCggY29uc3QgaW4gZmxvYXQgaSApIHsKCQkJZmxvYXQgaiA9IGkgKiA0LjA7CgkJCWZsb2F0IHggPSBtb2QoIGosIGZsb2F0KCBib25lVGV4dHVyZVNpemUgKSApOwoJCQlmbG9hdCB5ID0gZmxvb3IoIGogLyBmbG9hdCggYm9uZVRleHR1cmVTaXplICkgKTsKCQkJZmxvYXQgZHggPSAxLjAgLyBmbG9hdCggYm9uZVRleHR1cmVTaXplICk7CgkJCWZsb2F0IGR5ID0gMS4wIC8gZmxvYXQoIGJvbmVUZXh0dXJlU2l6ZSApOwoJCQl5ID0gZHkgKiAoIHkgKyAwLjUgKTsKCQkJdmVjNCB2MSA9IHRleHR1cmUyRCggYm9uZVRleHR1cmUsIHZlYzIoIGR4ICogKCB4ICsgMC41ICksIHkgKSApOwoJCQl2ZWM0IHYyID0gdGV4dHVyZTJEKCBib25lVGV4dHVyZSwgdmVjMiggZHggKiAoIHggKyAxLjUgKSwgeSApICk7CgkJCXZlYzQgdjMgPSB0ZXh0dXJlMkQoIGJvbmVUZXh0dXJlLCB2ZWMyKCBkeCAqICggeCArIDIuNSApLCB5ICkgKTsKCQkJdmVjNCB2NCA9IHRleHR1cmUyRCggYm9uZVRleHR1cmUsIHZlYzIoIGR4ICogKCB4ICsgMy41ICksIHkgKSApOwoJCQltYXQ0IGJvbmUgPSBtYXQ0KCB2MSwgdjIsIHYzLCB2NCApOwoJCQlyZXR1cm4gYm9uZTsKCQl9CgkjZWxzZQoJCXVuaWZvcm0gbWF0NCBib25lTWF0cmljZXNbIE1BWF9CT05FUyBdOwoJCW1hdDQgZ2V0Qm9uZU1hdHJpeCggY29uc3QgaW4gZmxvYXQgaSApIHsKCQkJbWF0NCBib25lID0gYm9uZU1hdHJpY2VzWyBpbnQoaSkgXTsKCQkJcmV0dXJuIGJvbmU7CgkJfQoJI2VuZGlmCiNlbmRpZmAsc2tpbm5pbmdfdmVydGV4PWAjaWZkZWYgVVNFX1NLSU5OSU5HCgl2ZWM0IHNraW5WZXJ0ZXggPSBiaW5kTWF0cml4ICogdmVjNCggdHJhbnNmb3JtZWQsIDEuMCApOwoJdmVjNCBza2lubmVkID0gdmVjNCggMC4wICk7Cglza2lubmVkICs9IGJvbmVNYXRYICogc2tpblZlcnRleCAqIHNraW5XZWlnaHQueDsKCXNraW5uZWQgKz0gYm9uZU1hdFkgKiBza2luVmVydGV4ICogc2tpbldlaWdodC55OwoJc2tpbm5lZCArPSBib25lTWF0WiAqIHNraW5WZXJ0ZXggKiBza2luV2VpZ2h0Lno7Cglza2lubmVkICs9IGJvbmVNYXRXICogc2tpblZlcnRleCAqIHNraW5XZWlnaHQudzsKCXRyYW5zZm9ybWVkID0gKCBiaW5kTWF0cml4SW52ZXJzZSAqIHNraW5uZWQgKS54eXo7CiNlbmRpZmAsc2tpbm5vcm1hbF92ZXJ0ZXg9YCNpZmRlZiBVU0VfU0tJTk5JTkcKCW1hdDQgc2tpbk1hdHJpeCA9IG1hdDQoIDAuMCApOwoJc2tpbk1hdHJpeCArPSBza2luV2VpZ2h0LnggKiBib25lTWF0WDsKCXNraW5NYXRyaXggKz0gc2tpbldlaWdodC55ICogYm9uZU1hdFk7Cglza2luTWF0cml4ICs9IHNraW5XZWlnaHQueiAqIGJvbmVNYXRaOwoJc2tpbk1hdHJpeCArPSBza2luV2VpZ2h0LncgKiBib25lTWF0VzsKCXNraW5NYXRyaXggPSBiaW5kTWF0cml4SW52ZXJzZSAqIHNraW5NYXRyaXggKiBiaW5kTWF0cml4OwoJb2JqZWN0Tm9ybWFsID0gdmVjNCggc2tpbk1hdHJpeCAqIHZlYzQoIG9iamVjdE5vcm1hbCwgMC4wICkgKS54eXo7CgkjaWZkZWYgVVNFX1RBTkdFTlQKCQlvYmplY3RUYW5nZW50ID0gdmVjNCggc2tpbk1hdHJpeCAqIHZlYzQoIG9iamVjdFRhbmdlbnQsIDAuMCApICkueHl6OwoJI2VuZGlmCiNlbmRpZmAsc3BlY3VsYXJtYXBfZnJhZ21lbnQ9YGZsb2F0IHNwZWN1bGFyU3RyZW5ndGg7CiNpZmRlZiBVU0VfU1BFQ1VMQVJNQVAKCXZlYzQgdGV4ZWxTcGVjdWxhciA9IHRleHR1cmUyRCggc3BlY3VsYXJNYXAsIHZVdiApOwoJc3BlY3VsYXJTdHJlbmd0aCA9IHRleGVsU3BlY3VsYXIucjsKI2Vsc2UKCXNwZWN1bGFyU3RyZW5ndGggPSAxLjA7CiNlbmRpZmAsc3BlY3VsYXJtYXBfcGFyc19mcmFnbWVudD1gI2lmZGVmIFVTRV9TUEVDVUxBUk1BUAoJdW5pZm9ybSBzYW1wbGVyMkQgc3BlY3VsYXJNYXA7CiNlbmRpZmAsdG9uZW1hcHBpbmdfZnJhZ21lbnQ9YCNpZiBkZWZpbmVkKCBUT05FX01BUFBJTkcgKQoJZ2xfRnJhZ0NvbG9yLnJnYiA9IHRvbmVNYXBwaW5nKCBnbF9GcmFnQ29sb3IucmdiICk7CiNlbmRpZmAsdG9uZW1hcHBpbmdfcGFyc19mcmFnbWVudD1gI2lmbmRlZiBzYXR1cmF0ZQojZGVmaW5lIHNhdHVyYXRlKCBhICkgY2xhbXAoIGEsIDAuMCwgMS4wICkKI2VuZGlmCnVuaWZvcm0gZmxvYXQgdG9uZU1hcHBpbmdFeHBvc3VyZTsKdmVjMyBMaW5lYXJUb25lTWFwcGluZyggdmVjMyBjb2xvciApIHsKCXJldHVybiB0b25lTWFwcGluZ0V4cG9zdXJlICogY29sb3I7Cn0KdmVjMyBSZWluaGFyZFRvbmVNYXBwaW5nKCB2ZWMzIGNvbG9yICkgewoJY29sb3IgKj0gdG9uZU1hcHBpbmdFeHBvc3VyZTsKCXJldHVybiBzYXR1cmF0ZSggY29sb3IgLyAoIHZlYzMoIDEuMCApICsgY29sb3IgKSApOwp9CnZlYzMgT3B0aW1pemVkQ2luZW9uVG9uZU1hcHBpbmcoIHZlYzMgY29sb3IgKSB7Cgljb2xvciAqPSB0b25lTWFwcGluZ0V4cG9zdXJlOwoJY29sb3IgPSBtYXgoIHZlYzMoIDAuMCApLCBjb2xvciAtIDAuMDA0ICk7CglyZXR1cm4gcG93KCAoIGNvbG9yICogKCA2LjIgKiBjb2xvciArIDAuNSApICkgLyAoIGNvbG9yICogKCA2LjIgKiBjb2xvciArIDEuNyApICsgMC4wNiApLCB2ZWMzKCAyLjIgKSApOwp9CnZlYzMgUlJUQW5kT0RURml0KCB2ZWMzIHYgKSB7Cgl2ZWMzIGEgPSB2ICogKCB2ICsgMC4wMjQ1Nzg2ICkgLSAwLjAwMDA5MDUzNzsKCXZlYzMgYiA9IHYgKiAoIDAuOTgzNzI5ICogdiArIDAuNDMyOTUxMCApICsgMC4yMzgwODE7CglyZXR1cm4gYSAvIGI7Cn0KdmVjMyBBQ0VTRmlsbWljVG9uZU1hcHBpbmcoIHZlYzMgY29sb3IgKSB7Cgljb25zdCBtYXQzIEFDRVNJbnB1dE1hdCA9IG1hdDMoCgkJdmVjMyggMC41OTcxOSwgMC4wNzYwMCwgMC4wMjg0MCApLAkJdmVjMyggMC4zNTQ1OCwgMC45MDgzNCwgMC4xMzM4MyApLAoJCXZlYzMoIDAuMDQ4MjMsIDAuMDE1NjYsIDAuODM3NzcgKQoJKTsKCWNvbnN0IG1hdDMgQUNFU091dHB1dE1hdCA9IG1hdDMoCgkJdmVjMyggIDEuNjA0NzUsIC0wLjEwMjA4LCAtMC4wMDMyNyApLAkJdmVjMyggLTAuNTMxMDgsICAxLjEwODEzLCAtMC4wNzI3NiApLAoJCXZlYzMoIC0wLjA3MzY3LCAtMC4wMDYwNSwgIDEuMDc2MDIgKQoJKTsKCWNvbG9yICo9IHRvbmVNYXBwaW5nRXhwb3N1cmUgLyAwLjY7Cgljb2xvciA9IEFDRVNJbnB1dE1hdCAqIGNvbG9yOwoJY29sb3IgPSBSUlRBbmRPRFRGaXQoIGNvbG9yICk7Cgljb2xvciA9IEFDRVNPdXRwdXRNYXQgKiBjb2xvcjsKCXJldHVybiBzYXR1cmF0ZSggY29sb3IgKTsKfQp2ZWMzIEN1c3RvbVRvbmVNYXBwaW5nKCB2ZWMzIGNvbG9yICkgeyByZXR1cm4gY29sb3I7IH1gLHRyYW5zbWlzc2lvbl9mcmFnbWVudD1gI2lmZGVmIFVTRV9UUkFOU01JU1NJT04KCWZsb2F0IHRyYW5zbWlzc2lvbkFscGhhID0gMS4wOwoJZmxvYXQgdHJhbnNtaXNzaW9uRmFjdG9yID0gdHJhbnNtaXNzaW9uOwoJZmxvYXQgdGhpY2tuZXNzRmFjdG9yID0gdGhpY2tuZXNzOwoJI2lmZGVmIFVTRV9UUkFOU01JU1NJT05NQVAKCQl0cmFuc21pc3Npb25GYWN0b3IgKj0gdGV4dHVyZTJEKCB0cmFuc21pc3Npb25NYXAsIHZVdiApLnI7CgkjZW5kaWYKCSNpZmRlZiBVU0VfVEhJQ0tORVNTTUFQCgkJdGhpY2tuZXNzRmFjdG9yICo9IHRleHR1cmUyRCggdGhpY2tuZXNzTWFwLCB2VXYgKS5nOwoJI2VuZGlmCgl2ZWMzIHBvcyA9IHZXb3JsZFBvc2l0aW9uOwoJdmVjMyB2ID0gbm9ybWFsaXplKCBjYW1lcmFQb3NpdGlvbiAtIHBvcyApOwoJdmVjMyBuID0gaW52ZXJzZVRyYW5zZm9ybURpcmVjdGlvbiggbm9ybWFsLCB2aWV3TWF0cml4ICk7Cgl2ZWM0IHRyYW5zbWlzc2lvbiA9IGdldElCTFZvbHVtZVJlZnJhY3Rpb24oCgkJbiwgdiwgcm91Z2huZXNzRmFjdG9yLCBtYXRlcmlhbC5kaWZmdXNlQ29sb3IsIG1hdGVyaWFsLnNwZWN1bGFyQ29sb3IsIG1hdGVyaWFsLnNwZWN1bGFyRjkwLAoJCXBvcywgbW9kZWxNYXRyaXgsIHZpZXdNYXRyaXgsIHByb2plY3Rpb25NYXRyaXgsIGlvciwgdGhpY2tuZXNzRmFjdG9yLAoJCWF0dGVudWF0aW9uQ29sb3IsIGF0dGVudWF0aW9uRGlzdGFuY2UgKTsKCXRvdGFsRGlmZnVzZSA9IG1peCggdG90YWxEaWZmdXNlLCB0cmFuc21pc3Npb24ucmdiLCB0cmFuc21pc3Npb25GYWN0b3IgKTsKCXRyYW5zbWlzc2lvbkFscGhhID0gbWl4KCB0cmFuc21pc3Npb25BbHBoYSwgdHJhbnNtaXNzaW9uLmEsIHRyYW5zbWlzc2lvbkZhY3RvciApOwojZW5kaWZgLHRyYW5zbWlzc2lvbl9wYXJzX2ZyYWdtZW50PWAjaWZkZWYgVVNFX1RSQU5TTUlTU0lPTgoJdW5pZm9ybSBmbG9hdCB0cmFuc21pc3Npb247Cgl1bmlmb3JtIGZsb2F0IHRoaWNrbmVzczsKCXVuaWZvcm0gZmxvYXQgYXR0ZW51YXRpb25EaXN0YW5jZTsKCXVuaWZvcm0gdmVjMyBhdHRlbnVhdGlvbkNvbG9yOwoJI2lmZGVmIFVTRV9UUkFOU01JU1NJT05NQVAKCQl1bmlmb3JtIHNhbXBsZXIyRCB0cmFuc21pc3Npb25NYXA7CgkjZW5kaWYKCSNpZmRlZiBVU0VfVEhJQ0tORVNTTUFQCgkJdW5pZm9ybSBzYW1wbGVyMkQgdGhpY2tuZXNzTWFwOwoJI2VuZGlmCgl1bmlmb3JtIHZlYzIgdHJhbnNtaXNzaW9uU2FtcGxlclNpemU7Cgl1bmlmb3JtIHNhbXBsZXIyRCB0cmFuc21pc3Npb25TYW1wbGVyTWFwOwoJdW5pZm9ybSBtYXQ0IG1vZGVsTWF0cml4OwoJdW5pZm9ybSBtYXQ0IHByb2plY3Rpb25NYXRyaXg7Cgl2YXJ5aW5nIHZlYzMgdldvcmxkUG9zaXRpb247Cgl2ZWMzIGdldFZvbHVtZVRyYW5zbWlzc2lvblJheSggY29uc3QgaW4gdmVjMyBuLCBjb25zdCBpbiB2ZWMzIHYsIGNvbnN0IGluIGZsb2F0IHRoaWNrbmVzcywgY29uc3QgaW4gZmxvYXQgaW9yLCBjb25zdCBpbiBtYXQ0IG1vZGVsTWF0cml4ICkgewoJCXZlYzMgcmVmcmFjdGlvblZlY3RvciA9IHJlZnJhY3QoIC0gdiwgbm9ybWFsaXplKCBuICksIDEuMCAvIGlvciApOwoJCXZlYzMgbW9kZWxTY2FsZTsKCQltb2RlbFNjYWxlLnggPSBsZW5ndGgoIHZlYzMoIG1vZGVsTWF0cml4WyAwIF0ueHl6ICkgKTsKCQltb2RlbFNjYWxlLnkgPSBsZW5ndGgoIHZlYzMoIG1vZGVsTWF0cml4WyAxIF0ueHl6ICkgKTsKCQltb2RlbFNjYWxlLnogPSBsZW5ndGgoIHZlYzMoIG1vZGVsTWF0cml4WyAyIF0ueHl6ICkgKTsKCQlyZXR1cm4gbm9ybWFsaXplKCByZWZyYWN0aW9uVmVjdG9yICkgKiB0aGlja25lc3MgKiBtb2RlbFNjYWxlOwoJfQoJZmxvYXQgYXBwbHlJb3JUb1JvdWdobmVzcyggY29uc3QgaW4gZmxvYXQgcm91Z2huZXNzLCBjb25zdCBpbiBmbG9hdCBpb3IgKSB7CgkJcmV0dXJuIHJvdWdobmVzcyAqIGNsYW1wKCBpb3IgKiAyLjAgLSAyLjAsIDAuMCwgMS4wICk7Cgl9Cgl2ZWM0IGdldFRyYW5zbWlzc2lvblNhbXBsZSggY29uc3QgaW4gdmVjMiBmcmFnQ29vcmQsIGNvbnN0IGluIGZsb2F0IHJvdWdobmVzcywgY29uc3QgaW4gZmxvYXQgaW9yICkgewoJCWZsb2F0IGZyYW1lYnVmZmVyTG9kID0gbG9nMiggdHJhbnNtaXNzaW9uU2FtcGxlclNpemUueCApICogYXBwbHlJb3JUb1JvdWdobmVzcyggcm91Z2huZXNzLCBpb3IgKTsKCQkjaWZkZWYgdGV4dHVyZTJETG9kRVhUCgkJCXJldHVybiB0ZXh0dXJlMkRMb2RFWFQoIHRyYW5zbWlzc2lvblNhbXBsZXJNYXAsIGZyYWdDb29yZC54eSwgZnJhbWVidWZmZXJMb2QgKTsKCQkjZWxzZQoJCQlyZXR1cm4gdGV4dHVyZTJEKCB0cmFuc21pc3Npb25TYW1wbGVyTWFwLCBmcmFnQ29vcmQueHksIGZyYW1lYnVmZmVyTG9kICk7CgkJI2VuZGlmCgl9Cgl2ZWMzIGFwcGx5Vm9sdW1lQXR0ZW51YXRpb24oIGNvbnN0IGluIHZlYzMgcmFkaWFuY2UsIGNvbnN0IGluIGZsb2F0IHRyYW5zbWlzc2lvbkRpc3RhbmNlLCBjb25zdCBpbiB2ZWMzIGF0dGVudWF0aW9uQ29sb3IsIGNvbnN0IGluIGZsb2F0IGF0dGVudWF0aW9uRGlzdGFuY2UgKSB7CgkJaWYgKCBhdHRlbnVhdGlvbkRpc3RhbmNlID09IDAuMCApIHsKCQkJcmV0dXJuIHJhZGlhbmNlOwoJCX0gZWxzZSB7CgkJCXZlYzMgYXR0ZW51YXRpb25Db2VmZmljaWVudCA9IC1sb2coIGF0dGVudWF0aW9uQ29sb3IgKSAvIGF0dGVudWF0aW9uRGlzdGFuY2U7CgkJCXZlYzMgdHJhbnNtaXR0YW5jZSA9IGV4cCggLSBhdHRlbnVhdGlvbkNvZWZmaWNpZW50ICogdHJhbnNtaXNzaW9uRGlzdGFuY2UgKTsJCQlyZXR1cm4gdHJhbnNtaXR0YW5jZSAqIHJhZGlhbmNlOwoJCX0KCX0KCXZlYzQgZ2V0SUJMVm9sdW1lUmVmcmFjdGlvbiggY29uc3QgaW4gdmVjMyBuLCBjb25zdCBpbiB2ZWMzIHYsIGNvbnN0IGluIGZsb2F0IHJvdWdobmVzcywgY29uc3QgaW4gdmVjMyBkaWZmdXNlQ29sb3IsCgkJY29uc3QgaW4gdmVjMyBzcGVjdWxhckNvbG9yLCBjb25zdCBpbiBmbG9hdCBzcGVjdWxhckY5MCwgY29uc3QgaW4gdmVjMyBwb3NpdGlvbiwgY29uc3QgaW4gbWF0NCBtb2RlbE1hdHJpeCwKCQljb25zdCBpbiBtYXQ0IHZpZXdNYXRyaXgsIGNvbnN0IGluIG1hdDQgcHJvak1hdHJpeCwgY29uc3QgaW4gZmxvYXQgaW9yLCBjb25zdCBpbiBmbG9hdCB0aGlja25lc3MsCgkJY29uc3QgaW4gdmVjMyBhdHRlbnVhdGlvbkNvbG9yLCBjb25zdCBpbiBmbG9hdCBhdHRlbnVhdGlvbkRpc3RhbmNlICkgewoJCXZlYzMgdHJhbnNtaXNzaW9uUmF5ID0gZ2V0Vm9sdW1lVHJhbnNtaXNzaW9uUmF5KCBuLCB2LCB0aGlja25lc3MsIGlvciwgbW9kZWxNYXRyaXggKTsKCQl2ZWMzIHJlZnJhY3RlZFJheUV4aXQgPSBwb3NpdGlvbiArIHRyYW5zbWlzc2lvblJheTsKCQl2ZWM0IG5kY1BvcyA9IHByb2pNYXRyaXggKiB2aWV3TWF0cml4ICogdmVjNCggcmVmcmFjdGVkUmF5RXhpdCwgMS4wICk7CgkJdmVjMiByZWZyYWN0aW9uQ29vcmRzID0gbmRjUG9zLnh5IC8gbmRjUG9zLnc7CgkJcmVmcmFjdGlvbkNvb3JkcyArPSAxLjA7CgkJcmVmcmFjdGlvbkNvb3JkcyAvPSAyLjA7CgkJdmVjNCB0cmFuc21pdHRlZExpZ2h0ID0gZ2V0VHJhbnNtaXNzaW9uU2FtcGxlKCByZWZyYWN0aW9uQ29vcmRzLCByb3VnaG5lc3MsIGlvciApOwoJCXZlYzMgYXR0ZW51YXRlZENvbG9yID0gYXBwbHlWb2x1bWVBdHRlbnVhdGlvbiggdHJhbnNtaXR0ZWRMaWdodC5yZ2IsIGxlbmd0aCggdHJhbnNtaXNzaW9uUmF5ICksIGF0dGVudWF0aW9uQ29sb3IsIGF0dGVudWF0aW9uRGlzdGFuY2UgKTsKCQl2ZWMzIEYgPSBFbnZpcm9ubWVudEJSREYoIG4sIHYsIHNwZWN1bGFyQ29sb3IsIHNwZWN1bGFyRjkwLCByb3VnaG5lc3MgKTsKCQlyZXR1cm4gdmVjNCggKCAxLjAgLSBGICkgKiBhdHRlbnVhdGVkQ29sb3IgKiBkaWZmdXNlQ29sb3IsIHRyYW5zbWl0dGVkTGlnaHQuYSApOwoJfQojZW5kaWZgLHV2X3BhcnNfZnJhZ21lbnQ9YCNpZiAoIGRlZmluZWQoIFVTRV9VViApICYmICEgZGVmaW5lZCggVVZTX1ZFUlRFWF9PTkxZICkgKQoJdmFyeWluZyB2ZWMyIHZVdjsKI2VuZGlmYCx1dl9wYXJzX3ZlcnRleD1gI2lmZGVmIFVTRV9VVgoJI2lmZGVmIFVWU19WRVJURVhfT05MWQoJCXZlYzIgdlV2OwoJI2Vsc2UKCQl2YXJ5aW5nIHZlYzIgdlV2OwoJI2VuZGlmCgl1bmlmb3JtIG1hdDMgdXZUcmFuc2Zvcm07CiNlbmRpZmAsdXZfdmVydGV4PWAjaWZkZWYgVVNFX1VWCgl2VXYgPSAoIHV2VHJhbnNmb3JtICogdmVjMyggdXYsIDEgKSApLnh5OwojZW5kaWZgLHV2Ml9wYXJzX2ZyYWdtZW50PWAjaWYgZGVmaW5lZCggVVNFX0xJR0hUTUFQICkgfHwgZGVmaW5lZCggVVNFX0FPTUFQICkKCXZhcnlpbmcgdmVjMiB2VXYyOwojZW5kaWZgLHV2Ml9wYXJzX3ZlcnRleD1gI2lmIGRlZmluZWQoIFVTRV9MSUdIVE1BUCApIHx8IGRlZmluZWQoIFVTRV9BT01BUCApCglhdHRyaWJ1dGUgdmVjMiB1djI7Cgl2YXJ5aW5nIHZlYzIgdlV2MjsKCXVuaWZvcm0gbWF0MyB1djJUcmFuc2Zvcm07CiNlbmRpZmAsdXYyX3ZlcnRleD1gI2lmIGRlZmluZWQoIFVTRV9MSUdIVE1BUCApIHx8IGRlZmluZWQoIFVTRV9BT01BUCApCgl2VXYyID0gKCB1djJUcmFuc2Zvcm0gKiB2ZWMzKCB1djIsIDEgKSApLnh5OwojZW5kaWZgLHdvcmxkcG9zX3ZlcnRleD1gI2lmIGRlZmluZWQoIFVTRV9FTlZNQVAgKSB8fCBkZWZpbmVkKCBESVNUQU5DRSApIHx8IGRlZmluZWQgKCBVU0VfU0hBRE9XTUFQICkgfHwgZGVmaW5lZCAoIFVTRV9UUkFOU01JU1NJT04gKQoJdmVjNCB3b3JsZFBvc2l0aW9uID0gdmVjNCggdHJhbnNmb3JtZWQsIDEuMCApOwoJI2lmZGVmIFVTRV9JTlNUQU5DSU5HCgkJd29ybGRQb3NpdGlvbiA9IGluc3RhbmNlTWF0cml4ICogd29ybGRQb3NpdGlvbjsKCSNlbmRpZgoJd29ybGRQb3NpdGlvbiA9IG1vZGVsTWF0cml4ICogd29ybGRQb3NpdGlvbjsKI2VuZGlmYDtjb25zdCB2ZXJ0ZXgkZz1gdmFyeWluZyB2ZWMyIHZVdjsKdW5pZm9ybSBtYXQzIHV2VHJhbnNmb3JtOwp2b2lkIG1haW4oKSB7Cgl2VXYgPSAoIHV2VHJhbnNmb3JtICogdmVjMyggdXYsIDEgKSApLnh5OwoJZ2xfUG9zaXRpb24gPSB2ZWM0KCBwb3NpdGlvbi54eSwgMS4wLCAxLjAgKTsKfWAsZnJhZ21lbnQkZz1gdW5pZm9ybSBzYW1wbGVyMkQgdDJEOwp2YXJ5aW5nIHZlYzIgdlV2Owp2b2lkIG1haW4oKSB7CglnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQoIHQyRCwgdlV2ICk7CgkjaW5jbHVkZSA8dG9uZW1hcHBpbmdfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8ZW5jb2RpbmdzX2ZyYWdtZW50Pgp9YCx2ZXJ0ZXgkZj1gdmFyeWluZyB2ZWMzIHZXb3JsZERpcmVjdGlvbjsKI2luY2x1ZGUgPGNvbW1vbj4Kdm9pZCBtYWluKCkgewoJdldvcmxkRGlyZWN0aW9uID0gdHJhbnNmb3JtRGlyZWN0aW9uKCBwb3NpdGlvbiwgbW9kZWxNYXRyaXggKTsKCSNpbmNsdWRlIDxiZWdpbl92ZXJ0ZXg+CgkjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+CglnbF9Qb3NpdGlvbi56ID0gZ2xfUG9zaXRpb24udzsKfWAsZnJhZ21lbnQkZj1gI2luY2x1ZGUgPGVudm1hcF9jb21tb25fcGFyc19mcmFnbWVudD4KdW5pZm9ybSBmbG9hdCBvcGFjaXR5Owp2YXJ5aW5nIHZlYzMgdldvcmxkRGlyZWN0aW9uOwojaW5jbHVkZSA8Y3ViZV91dl9yZWZsZWN0aW9uX2ZyYWdtZW50Pgp2b2lkIG1haW4oKSB7Cgl2ZWMzIHZSZWZsZWN0ID0gdldvcmxkRGlyZWN0aW9uOwoJI2luY2x1ZGUgPGVudm1hcF9mcmFnbWVudD4KCWdsX0ZyYWdDb2xvciA9IGVudkNvbG9yOwoJZ2xfRnJhZ0NvbG9yLmEgKj0gb3BhY2l0eTsKCSNpbmNsdWRlIDx0b25lbWFwcGluZ19mcmFnbWVudD4KCSNpbmNsdWRlIDxlbmNvZGluZ3NfZnJhZ21lbnQ+Cn1gLHZlcnRleCRlPWAjaW5jbHVkZSA8Y29tbW9uPgojaW5jbHVkZSA8dXZfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxkaXNwbGFjZW1lbnRtYXBfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxtb3JwaHRhcmdldF9wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPHNraW5uaW5nX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc192ZXJ0ZXg+CnZhcnlpbmcgdmVjMiB2SGlnaFByZWNpc2lvblpXOwp2b2lkIG1haW4oKSB7CgkjaW5jbHVkZSA8dXZfdmVydGV4PgoJI2luY2x1ZGUgPHNraW5iYXNlX3ZlcnRleD4KCSNpZmRlZiBVU0VfRElTUExBQ0VNRU5UTUFQCgkJI2luY2x1ZGUgPGJlZ2lubm9ybWFsX3ZlcnRleD4KCQkjaW5jbHVkZSA8bW9ycGhub3JtYWxfdmVydGV4PgoJCSNpbmNsdWRlIDxza2lubm9ybWFsX3ZlcnRleD4KCSNlbmRpZgoJI2luY2x1ZGUgPGJlZ2luX3ZlcnRleD4KCSNpbmNsdWRlIDxtb3JwaHRhcmdldF92ZXJ0ZXg+CgkjaW5jbHVkZSA8c2tpbm5pbmdfdmVydGV4PgoJI2luY2x1ZGUgPGRpc3BsYWNlbWVudG1hcF92ZXJ0ZXg+CgkjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+CgkjaW5jbHVkZSA8bG9nZGVwdGhidWZfdmVydGV4PgoJI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc192ZXJ0ZXg+Cgl2SGlnaFByZWNpc2lvblpXID0gZ2xfUG9zaXRpb24uenc7Cn1gLGZyYWdtZW50JGU9YCNpZiBERVBUSF9QQUNLSU5HID09IDMyMDAKCXVuaWZvcm0gZmxvYXQgb3BhY2l0eTsKI2VuZGlmCiNpbmNsdWRlIDxjb21tb24+CiNpbmNsdWRlIDxwYWNraW5nPgojaW5jbHVkZSA8dXZfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPG1hcF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8YWxwaGFtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGFscGhhdGVzdF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX2ZyYWdtZW50Pgp2YXJ5aW5nIHZlYzIgdkhpZ2hQcmVjaXNpb25aVzsKdm9pZCBtYWluKCkgewoJI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19mcmFnbWVudD4KCXZlYzQgZGlmZnVzZUNvbG9yID0gdmVjNCggMS4wICk7CgkjaWYgREVQVEhfUEFDS0lORyA9PSAzMjAwCgkJZGlmZnVzZUNvbG9yLmEgPSBvcGFjaXR5OwoJI2VuZGlmCgkjaW5jbHVkZSA8bWFwX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGFscGhhbWFwX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGFscGhhdGVzdF9mcmFnbWVudD4KCSNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9mcmFnbWVudD4KCWZsb2F0IGZyYWdDb29yZFogPSAwLjUgKiB2SGlnaFByZWNpc2lvblpXWzBdIC8gdkhpZ2hQcmVjaXNpb25aV1sxXSArIDAuNTsKCSNpZiBERVBUSF9QQUNLSU5HID09IDMyMDAKCQlnbF9GcmFnQ29sb3IgPSB2ZWM0KCB2ZWMzKCAxLjAgLSBmcmFnQ29vcmRaICksIG9wYWNpdHkgKTsKCSNlbGlmIERFUFRIX1BBQ0tJTkcgPT0gMzIwMQoJCWdsX0ZyYWdDb2xvciA9IHBhY2tEZXB0aFRvUkdCQSggZnJhZ0Nvb3JkWiApOwoJI2VuZGlmCn1gLHZlcnRleCRkPWAjZGVmaW5lIERJU1RBTkNFCnZhcnlpbmcgdmVjMyB2V29ybGRQb3NpdGlvbjsKI2luY2x1ZGUgPGNvbW1vbj4KI2luY2x1ZGUgPHV2X3BhcnNfdmVydGV4PgojaW5jbHVkZSA8ZGlzcGxhY2VtZW50bWFwX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8bW9ycGh0YXJnZXRfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxza2lubmluZ19wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX3ZlcnRleD4Kdm9pZCBtYWluKCkgewoJI2luY2x1ZGUgPHV2X3ZlcnRleD4KCSNpbmNsdWRlIDxza2luYmFzZV92ZXJ0ZXg+CgkjaWZkZWYgVVNFX0RJU1BMQUNFTUVOVE1BUAoJCSNpbmNsdWRlIDxiZWdpbm5vcm1hbF92ZXJ0ZXg+CgkJI2luY2x1ZGUgPG1vcnBobm9ybWFsX3ZlcnRleD4KCQkjaW5jbHVkZSA8c2tpbm5vcm1hbF92ZXJ0ZXg+CgkjZW5kaWYKCSNpbmNsdWRlIDxiZWdpbl92ZXJ0ZXg+CgkjaW5jbHVkZSA8bW9ycGh0YXJnZXRfdmVydGV4PgoJI2luY2x1ZGUgPHNraW5uaW5nX3ZlcnRleD4KCSNpbmNsdWRlIDxkaXNwbGFjZW1lbnRtYXBfdmVydGV4PgoJI2luY2x1ZGUgPHByb2plY3RfdmVydGV4PgoJI2luY2x1ZGUgPHdvcmxkcG9zX3ZlcnRleD4KCSNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfdmVydGV4PgoJdldvcmxkUG9zaXRpb24gPSB3b3JsZFBvc2l0aW9uLnh5ejsKfWAsZnJhZ21lbnQkZD1gI2RlZmluZSBESVNUQU5DRQp1bmlmb3JtIHZlYzMgcmVmZXJlbmNlUG9zaXRpb247CnVuaWZvcm0gZmxvYXQgbmVhckRpc3RhbmNlOwp1bmlmb3JtIGZsb2F0IGZhckRpc3RhbmNlOwp2YXJ5aW5nIHZlYzMgdldvcmxkUG9zaXRpb247CiNpbmNsdWRlIDxjb21tb24+CiNpbmNsdWRlIDxwYWNraW5nPgojaW5jbHVkZSA8dXZfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPG1hcF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8YWxwaGFtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGFscGhhdGVzdF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfZnJhZ21lbnQ+CnZvaWQgbWFpbiAoKSB7CgkjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX2ZyYWdtZW50PgoJdmVjNCBkaWZmdXNlQ29sb3IgPSB2ZWM0KCAxLjAgKTsKCSNpbmNsdWRlIDxtYXBfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8YWxwaGFtYXBfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8YWxwaGF0ZXN0X2ZyYWdtZW50PgoJZmxvYXQgZGlzdCA9IGxlbmd0aCggdldvcmxkUG9zaXRpb24gLSByZWZlcmVuY2VQb3NpdGlvbiApOwoJZGlzdCA9ICggZGlzdCAtIG5lYXJEaXN0YW5jZSApIC8gKCBmYXJEaXN0YW5jZSAtIG5lYXJEaXN0YW5jZSApOwoJZGlzdCA9IHNhdHVyYXRlKCBkaXN0ICk7CglnbF9GcmFnQ29sb3IgPSBwYWNrRGVwdGhUb1JHQkEoIGRpc3QgKTsKfWAsdmVydGV4JGM9YHZhcnlpbmcgdmVjMyB2V29ybGREaXJlY3Rpb247CiNpbmNsdWRlIDxjb21tb24+CnZvaWQgbWFpbigpIHsKCXZXb3JsZERpcmVjdGlvbiA9IHRyYW5zZm9ybURpcmVjdGlvbiggcG9zaXRpb24sIG1vZGVsTWF0cml4ICk7CgkjaW5jbHVkZSA8YmVnaW5fdmVydGV4PgoJI2luY2x1ZGUgPHByb2plY3RfdmVydGV4Pgp9YCxmcmFnbWVudCRjPWB1bmlmb3JtIHNhbXBsZXIyRCB0RXF1aXJlY3Q7CnZhcnlpbmcgdmVjMyB2V29ybGREaXJlY3Rpb247CiNpbmNsdWRlIDxjb21tb24+CnZvaWQgbWFpbigpIHsKCXZlYzMgZGlyZWN0aW9uID0gbm9ybWFsaXplKCB2V29ybGREaXJlY3Rpb24gKTsKCXZlYzIgc2FtcGxlVVYgPSBlcXVpcmVjdFV2KCBkaXJlY3Rpb24gKTsKCWdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCggdEVxdWlyZWN0LCBzYW1wbGVVViApOwoJI2luY2x1ZGUgPHRvbmVtYXBwaW5nX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGVuY29kaW5nc19mcmFnbWVudD4KfWAsdmVydGV4JGI9YHVuaWZvcm0gZmxvYXQgc2NhbGU7CmF0dHJpYnV0ZSBmbG9hdCBsaW5lRGlzdGFuY2U7CnZhcnlpbmcgZmxvYXQgdkxpbmVEaXN0YW5jZTsKI2luY2x1ZGUgPGNvbW1vbj4KI2luY2x1ZGUgPGNvbG9yX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8Zm9nX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8bW9ycGh0YXJnZXRfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX3ZlcnRleD4Kdm9pZCBtYWluKCkgewoJdkxpbmVEaXN0YW5jZSA9IHNjYWxlICogbGluZURpc3RhbmNlOwoJI2luY2x1ZGUgPGNvbG9yX3ZlcnRleD4KCSNpbmNsdWRlIDxtb3JwaGNvbG9yX3ZlcnRleD4KCSNpbmNsdWRlIDxiZWdpbl92ZXJ0ZXg+CgkjaW5jbHVkZSA8bW9ycGh0YXJnZXRfdmVydGV4PgoJI2luY2x1ZGUgPHByb2plY3RfdmVydGV4PgoJI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3ZlcnRleD4KCSNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfdmVydGV4PgoJI2luY2x1ZGUgPGZvZ192ZXJ0ZXg+Cn1gLGZyYWdtZW50JGI9YHVuaWZvcm0gdmVjMyBkaWZmdXNlOwp1bmlmb3JtIGZsb2F0IG9wYWNpdHk7CnVuaWZvcm0gZmxvYXQgZGFzaFNpemU7CnVuaWZvcm0gZmxvYXQgdG90YWxTaXplOwp2YXJ5aW5nIGZsb2F0IHZMaW5lRGlzdGFuY2U7CiNpbmNsdWRlIDxjb21tb24+CiNpbmNsdWRlIDxjb2xvcl9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8Zm9nX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfZnJhZ21lbnQ+CnZvaWQgbWFpbigpIHsKCSNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfZnJhZ21lbnQ+CglpZiAoIG1vZCggdkxpbmVEaXN0YW5jZSwgdG90YWxTaXplICkgPiBkYXNoU2l6ZSApIHsKCQlkaXNjYXJkOwoJfQoJdmVjMyBvdXRnb2luZ0xpZ2h0ID0gdmVjMyggMC4wICk7Cgl2ZWM0IGRpZmZ1c2VDb2xvciA9IHZlYzQoIGRpZmZ1c2UsIG9wYWNpdHkgKTsKCSNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9mcmFnbWVudD4KCSNpbmNsdWRlIDxjb2xvcl9mcmFnbWVudD4KCW91dGdvaW5nTGlnaHQgPSBkaWZmdXNlQ29sb3IucmdiOwoJI2luY2x1ZGUgPG91dHB1dF9mcmFnbWVudD4KCSNpbmNsdWRlIDx0b25lbWFwcGluZ19mcmFnbWVudD4KCSNpbmNsdWRlIDxlbmNvZGluZ3NfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8Zm9nX2ZyYWdtZW50PgoJI2luY2x1ZGUgPHByZW11bHRpcGxpZWRfYWxwaGFfZnJhZ21lbnQ+Cn1gLHZlcnRleCRhPWAjaW5jbHVkZSA8Y29tbW9uPgojaW5jbHVkZSA8dXZfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDx1djJfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxlbnZtYXBfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxjb2xvcl9wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPGZvZ19wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPG1vcnBodGFyZ2V0X3BhcnNfdmVydGV4PgojaW5jbHVkZSA8c2tpbm5pbmdfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX3ZlcnRleD4Kdm9pZCBtYWluKCkgewoJI2luY2x1ZGUgPHV2X3ZlcnRleD4KCSNpbmNsdWRlIDx1djJfdmVydGV4PgoJI2luY2x1ZGUgPGNvbG9yX3ZlcnRleD4KCSNpbmNsdWRlIDxtb3JwaGNvbG9yX3ZlcnRleD4KCSNpZiBkZWZpbmVkICggVVNFX0VOVk1BUCApIHx8IGRlZmluZWQgKCBVU0VfU0tJTk5JTkcgKQoJCSNpbmNsdWRlIDxiZWdpbm5vcm1hbF92ZXJ0ZXg+CgkJI2luY2x1ZGUgPG1vcnBobm9ybWFsX3ZlcnRleD4KCQkjaW5jbHVkZSA8c2tpbmJhc2VfdmVydGV4PgoJCSNpbmNsdWRlIDxza2lubm9ybWFsX3ZlcnRleD4KCQkjaW5jbHVkZSA8ZGVmYXVsdG5vcm1hbF92ZXJ0ZXg+CgkjZW5kaWYKCSNpbmNsdWRlIDxiZWdpbl92ZXJ0ZXg+CgkjaW5jbHVkZSA8bW9ycGh0YXJnZXRfdmVydGV4PgoJI2luY2x1ZGUgPHNraW5uaW5nX3ZlcnRleD4KCSNpbmNsdWRlIDxwcm9qZWN0X3ZlcnRleD4KCSNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl92ZXJ0ZXg+CgkjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3ZlcnRleD4KCSNpbmNsdWRlIDx3b3JsZHBvc192ZXJ0ZXg+CgkjaW5jbHVkZSA8ZW52bWFwX3ZlcnRleD4KCSNpbmNsdWRlIDxmb2dfdmVydGV4Pgp9YCxmcmFnbWVudCRhPWB1bmlmb3JtIHZlYzMgZGlmZnVzZTsKdW5pZm9ybSBmbG9hdCBvcGFjaXR5OwojaWZuZGVmIEZMQVRfU0hBREVECgl2YXJ5aW5nIHZlYzMgdk5vcm1hbDsKI2VuZGlmCiNpbmNsdWRlIDxjb21tb24+CiNpbmNsdWRlIDxkaXRoZXJpbmdfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGNvbG9yX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDx1dl9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8dXYyX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGFscGhhbWFwX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxhbHBoYXRlc3RfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGFvbWFwX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxsaWdodG1hcF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8ZW52bWFwX2NvbW1vbl9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8ZW52bWFwX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxjdWJlX3V2X3JlZmxlY3Rpb25fZnJhZ21lbnQ+CiNpbmNsdWRlIDxmb2dfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPHNwZWN1bGFybWFwX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfZnJhZ21lbnQ+CnZvaWQgbWFpbigpIHsKCSNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfZnJhZ21lbnQ+Cgl2ZWM0IGRpZmZ1c2VDb2xvciA9IHZlYzQoIGRpZmZ1c2UsIG9wYWNpdHkgKTsKCSNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9mcmFnbWVudD4KCSNpbmNsdWRlIDxtYXBfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8Y29sb3JfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8YWxwaGFtYXBfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8YWxwaGF0ZXN0X2ZyYWdtZW50PgoJI2luY2x1ZGUgPHNwZWN1bGFybWFwX2ZyYWdtZW50PgoJUmVmbGVjdGVkTGlnaHQgcmVmbGVjdGVkTGlnaHQgPSBSZWZsZWN0ZWRMaWdodCggdmVjMyggMC4wICksIHZlYzMoIDAuMCApLCB2ZWMzKCAwLjAgKSwgdmVjMyggMC4wICkgKTsKCSNpZmRlZiBVU0VfTElHSFRNQVAKCQl2ZWM0IGxpZ2h0TWFwVGV4ZWw9IHRleHR1cmUyRCggbGlnaHRNYXAsIHZVdjIgKTsKCQlyZWZsZWN0ZWRMaWdodC5pbmRpcmVjdERpZmZ1c2UgKz0gbGlnaHRNYXBUZXhlbC5yZ2IgKiBsaWdodE1hcEludGVuc2l0eTsKCSNlbHNlCgkJcmVmbGVjdGVkTGlnaHQuaW5kaXJlY3REaWZmdXNlICs9IHZlYzMoIDEuMCApOwoJI2VuZGlmCgkjaW5jbHVkZSA8YW9tYXBfZnJhZ21lbnQ+CglyZWZsZWN0ZWRMaWdodC5pbmRpcmVjdERpZmZ1c2UgKj0gZGlmZnVzZUNvbG9yLnJnYjsKCXZlYzMgb3V0Z29pbmdMaWdodCA9IHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZTsKCSNpbmNsdWRlIDxlbnZtYXBfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8b3V0cHV0X2ZyYWdtZW50PgoJI2luY2x1ZGUgPHRvbmVtYXBwaW5nX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGVuY29kaW5nc19mcmFnbWVudD4KCSNpbmNsdWRlIDxmb2dfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8cHJlbXVsdGlwbGllZF9hbHBoYV9mcmFnbWVudD4KCSNpbmNsdWRlIDxkaXRoZXJpbmdfZnJhZ21lbnQ+Cn1gLHZlcnRleCQ5PWAjZGVmaW5lIExBTUJFUlQKdmFyeWluZyB2ZWMzIHZMaWdodEZyb250Owp2YXJ5aW5nIHZlYzMgdkluZGlyZWN0RnJvbnQ7CiNpZmRlZiBET1VCTEVfU0lERUQKCXZhcnlpbmcgdmVjMyB2TGlnaHRCYWNrOwoJdmFyeWluZyB2ZWMzIHZJbmRpcmVjdEJhY2s7CiNlbmRpZgojaW5jbHVkZSA8Y29tbW9uPgojaW5jbHVkZSA8dXZfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDx1djJfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxlbnZtYXBfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxic2Rmcz4KI2luY2x1ZGUgPGxpZ2h0c19wYXJzX2JlZ2luPgojaW5jbHVkZSA8Y29sb3JfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxmb2dfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxtb3JwaHRhcmdldF9wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPHNraW5uaW5nX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8c2hhZG93bWFwX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc192ZXJ0ZXg+CnZvaWQgbWFpbigpIHsKCSNpbmNsdWRlIDx1dl92ZXJ0ZXg+CgkjaW5jbHVkZSA8dXYyX3ZlcnRleD4KCSNpbmNsdWRlIDxjb2xvcl92ZXJ0ZXg+CgkjaW5jbHVkZSA8bW9ycGhjb2xvcl92ZXJ0ZXg+CgkjaW5jbHVkZSA8YmVnaW5ub3JtYWxfdmVydGV4PgoJI2luY2x1ZGUgPG1vcnBobm9ybWFsX3ZlcnRleD4KCSNpbmNsdWRlIDxza2luYmFzZV92ZXJ0ZXg+CgkjaW5jbHVkZSA8c2tpbm5vcm1hbF92ZXJ0ZXg+CgkjaW5jbHVkZSA8ZGVmYXVsdG5vcm1hbF92ZXJ0ZXg+CgkjaW5jbHVkZSA8YmVnaW5fdmVydGV4PgoJI2luY2x1ZGUgPG1vcnBodGFyZ2V0X3ZlcnRleD4KCSNpbmNsdWRlIDxza2lubmluZ192ZXJ0ZXg+CgkjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+CgkjaW5jbHVkZSA8bG9nZGVwdGhidWZfdmVydGV4PgoJI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc192ZXJ0ZXg+CgkjaW5jbHVkZSA8d29ybGRwb3NfdmVydGV4PgoJI2luY2x1ZGUgPGVudm1hcF92ZXJ0ZXg+CgkjaW5jbHVkZSA8bGlnaHRzX2xhbWJlcnRfdmVydGV4PgoJI2luY2x1ZGUgPHNoYWRvd21hcF92ZXJ0ZXg+CgkjaW5jbHVkZSA8Zm9nX3ZlcnRleD4KfWAsZnJhZ21lbnQkOT1gdW5pZm9ybSB2ZWMzIGRpZmZ1c2U7CnVuaWZvcm0gdmVjMyBlbWlzc2l2ZTsKdW5pZm9ybSBmbG9hdCBvcGFjaXR5Owp2YXJ5aW5nIHZlYzMgdkxpZ2h0RnJvbnQ7CnZhcnlpbmcgdmVjMyB2SW5kaXJlY3RGcm9udDsKI2lmZGVmIERPVUJMRV9TSURFRAoJdmFyeWluZyB2ZWMzIHZMaWdodEJhY2s7Cgl2YXJ5aW5nIHZlYzMgdkluZGlyZWN0QmFjazsKI2VuZGlmCiNpbmNsdWRlIDxjb21tb24+CiNpbmNsdWRlIDxwYWNraW5nPgojaW5jbHVkZSA8ZGl0aGVyaW5nX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxjb2xvcl9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8dXZfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPHV2Ml9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8bWFwX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxhbHBoYW1hcF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8YWxwaGF0ZXN0X3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxhb21hcF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8bGlnaHRtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGVtaXNzaXZlbWFwX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxlbnZtYXBfY29tbW9uX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxlbnZtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGN1YmVfdXZfcmVmbGVjdGlvbl9mcmFnbWVudD4KI2luY2x1ZGUgPGJzZGZzPgojaW5jbHVkZSA8bGlnaHRzX3BhcnNfYmVnaW4+CiNpbmNsdWRlIDxmb2dfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPHNoYWRvd21hcF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8c2hhZG93bWFza19wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8c3BlY3VsYXJtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc19mcmFnbWVudD4Kdm9pZCBtYWluKCkgewoJI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19mcmFnbWVudD4KCXZlYzQgZGlmZnVzZUNvbG9yID0gdmVjNCggZGlmZnVzZSwgb3BhY2l0eSApOwoJUmVmbGVjdGVkTGlnaHQgcmVmbGVjdGVkTGlnaHQgPSBSZWZsZWN0ZWRMaWdodCggdmVjMyggMC4wICksIHZlYzMoIDAuMCApLCB2ZWMzKCAwLjAgKSwgdmVjMyggMC4wICkgKTsKCXZlYzMgdG90YWxFbWlzc2l2ZVJhZGlhbmNlID0gZW1pc3NpdmU7CgkjaW5jbHVkZSA8bG9nZGVwdGhidWZfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8bWFwX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGNvbG9yX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGFscGhhbWFwX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGFscGhhdGVzdF9mcmFnbWVudD4KCSNpbmNsdWRlIDxzcGVjdWxhcm1hcF9mcmFnbWVudD4KCSNpbmNsdWRlIDxlbWlzc2l2ZW1hcF9mcmFnbWVudD4KCSNpZmRlZiBET1VCTEVfU0lERUQKCQlyZWZsZWN0ZWRMaWdodC5pbmRpcmVjdERpZmZ1c2UgKz0gKCBnbF9Gcm9udEZhY2luZyApID8gdkluZGlyZWN0RnJvbnQgOiB2SW5kaXJlY3RCYWNrOwoJI2Vsc2UKCQlyZWZsZWN0ZWRMaWdodC5pbmRpcmVjdERpZmZ1c2UgKz0gdkluZGlyZWN0RnJvbnQ7CgkjZW5kaWYKCSNpbmNsdWRlIDxsaWdodG1hcF9mcmFnbWVudD4KCXJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZSAqPSBCUkRGX0xhbWJlcnQoIGRpZmZ1c2VDb2xvci5yZ2IgKTsKCSNpZmRlZiBET1VCTEVfU0lERUQKCQlyZWZsZWN0ZWRMaWdodC5kaXJlY3REaWZmdXNlID0gKCBnbF9Gcm9udEZhY2luZyApID8gdkxpZ2h0RnJvbnQgOiB2TGlnaHRCYWNrOwoJI2Vsc2UKCQlyZWZsZWN0ZWRMaWdodC5kaXJlY3REaWZmdXNlID0gdkxpZ2h0RnJvbnQ7CgkjZW5kaWYKCXJlZmxlY3RlZExpZ2h0LmRpcmVjdERpZmZ1c2UgKj0gQlJERl9MYW1iZXJ0KCBkaWZmdXNlQ29sb3IucmdiICkgKiBnZXRTaGFkb3dNYXNrKCk7CgkjaW5jbHVkZSA8YW9tYXBfZnJhZ21lbnQ+Cgl2ZWMzIG91dGdvaW5nTGlnaHQgPSByZWZsZWN0ZWRMaWdodC5kaXJlY3REaWZmdXNlICsgcmVmbGVjdGVkTGlnaHQuaW5kaXJlY3REaWZmdXNlICsgdG90YWxFbWlzc2l2ZVJhZGlhbmNlOwoJI2luY2x1ZGUgPGVudm1hcF9mcmFnbWVudD4KCSNpbmNsdWRlIDxvdXRwdXRfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8dG9uZW1hcHBpbmdfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8ZW5jb2RpbmdzX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGZvZ19mcmFnbWVudD4KCSNpbmNsdWRlIDxwcmVtdWx0aXBsaWVkX2FscGhhX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGRpdGhlcmluZ19mcmFnbWVudD4KfWAsdmVydGV4JDg9YCNkZWZpbmUgTUFUQ0FQCnZhcnlpbmcgdmVjMyB2Vmlld1Bvc2l0aW9uOwojaW5jbHVkZSA8Y29tbW9uPgojaW5jbHVkZSA8dXZfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxjb2xvcl9wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPGRpc3BsYWNlbWVudG1hcF9wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPGZvZ19wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPG5vcm1hbF9wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPG1vcnBodGFyZ2V0X3BhcnNfdmVydGV4PgojaW5jbHVkZSA8c2tpbm5pbmdfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX3ZlcnRleD4Kdm9pZCBtYWluKCkgewoJI2luY2x1ZGUgPHV2X3ZlcnRleD4KCSNpbmNsdWRlIDxjb2xvcl92ZXJ0ZXg+CgkjaW5jbHVkZSA8bW9ycGhjb2xvcl92ZXJ0ZXg+CgkjaW5jbHVkZSA8YmVnaW5ub3JtYWxfdmVydGV4PgoJI2luY2x1ZGUgPG1vcnBobm9ybWFsX3ZlcnRleD4KCSNpbmNsdWRlIDxza2luYmFzZV92ZXJ0ZXg+CgkjaW5jbHVkZSA8c2tpbm5vcm1hbF92ZXJ0ZXg+CgkjaW5jbHVkZSA8ZGVmYXVsdG5vcm1hbF92ZXJ0ZXg+CgkjaW5jbHVkZSA8bm9ybWFsX3ZlcnRleD4KCSNpbmNsdWRlIDxiZWdpbl92ZXJ0ZXg+CgkjaW5jbHVkZSA8bW9ycGh0YXJnZXRfdmVydGV4PgoJI2luY2x1ZGUgPHNraW5uaW5nX3ZlcnRleD4KCSNpbmNsdWRlIDxkaXNwbGFjZW1lbnRtYXBfdmVydGV4PgoJI2luY2x1ZGUgPHByb2plY3RfdmVydGV4PgoJI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3ZlcnRleD4KCSNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfdmVydGV4PgoJI2luY2x1ZGUgPGZvZ192ZXJ0ZXg+Cgl2Vmlld1Bvc2l0aW9uID0gLSBtdlBvc2l0aW9uLnh5ejsKfWAsZnJhZ21lbnQkOD1gI2RlZmluZSBNQVRDQVAKdW5pZm9ybSB2ZWMzIGRpZmZ1c2U7CnVuaWZvcm0gZmxvYXQgb3BhY2l0eTsKdW5pZm9ybSBzYW1wbGVyMkQgbWF0Y2FwOwp2YXJ5aW5nIHZlYzMgdlZpZXdQb3NpdGlvbjsKI2luY2x1ZGUgPGNvbW1vbj4KI2luY2x1ZGUgPGRpdGhlcmluZ19wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8Y29sb3JfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPHV2X3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGFscGhhbWFwX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxhbHBoYXRlc3RfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGZvZ19wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8bm9ybWFsX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxidW1wbWFwX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxub3JtYWxtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc19mcmFnbWVudD4Kdm9pZCBtYWluKCkgewoJI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19mcmFnbWVudD4KCXZlYzQgZGlmZnVzZUNvbG9yID0gdmVjNCggZGlmZnVzZSwgb3BhY2l0eSApOwoJI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX2ZyYWdtZW50PgoJI2luY2x1ZGUgPG1hcF9mcmFnbWVudD4KCSNpbmNsdWRlIDxjb2xvcl9mcmFnbWVudD4KCSNpbmNsdWRlIDxhbHBoYW1hcF9mcmFnbWVudD4KCSNpbmNsdWRlIDxhbHBoYXRlc3RfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8bm9ybWFsX2ZyYWdtZW50X2JlZ2luPgoJI2luY2x1ZGUgPG5vcm1hbF9mcmFnbWVudF9tYXBzPgoJdmVjMyB2aWV3RGlyID0gbm9ybWFsaXplKCB2Vmlld1Bvc2l0aW9uICk7Cgl2ZWMzIHggPSBub3JtYWxpemUoIHZlYzMoIHZpZXdEaXIueiwgMC4wLCAtIHZpZXdEaXIueCApICk7Cgl2ZWMzIHkgPSBjcm9zcyggdmlld0RpciwgeCApOwoJdmVjMiB1diA9IHZlYzIoIGRvdCggeCwgbm9ybWFsICksIGRvdCggeSwgbm9ybWFsICkgKSAqIDAuNDk1ICsgMC41OwoJI2lmZGVmIFVTRV9NQVRDQVAKCQl2ZWM0IG1hdGNhcENvbG9yID0gdGV4dHVyZTJEKCBtYXRjYXAsIHV2ICk7CgkjZWxzZQoJCXZlYzQgbWF0Y2FwQ29sb3IgPSB2ZWM0KCB2ZWMzKCBtaXgoIDAuMiwgMC44LCB1di55ICkgKSwgMS4wICk7CgkjZW5kaWYKCXZlYzMgb3V0Z29pbmdMaWdodCA9IGRpZmZ1c2VDb2xvci5yZ2IgKiBtYXRjYXBDb2xvci5yZ2I7CgkjaW5jbHVkZSA8b3V0cHV0X2ZyYWdtZW50PgoJI2luY2x1ZGUgPHRvbmVtYXBwaW5nX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGVuY29kaW5nc19mcmFnbWVudD4KCSNpbmNsdWRlIDxmb2dfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8cHJlbXVsdGlwbGllZF9hbHBoYV9mcmFnbWVudD4KCSNpbmNsdWRlIDxkaXRoZXJpbmdfZnJhZ21lbnQ+Cn1gLHZlcnRleCQ3PWAjZGVmaW5lIE5PUk1BTAojaWYgZGVmaW5lZCggRkxBVF9TSEFERUQgKSB8fCBkZWZpbmVkKCBVU0VfQlVNUE1BUCApIHx8IGRlZmluZWQoIFRBTkdFTlRTUEFDRV9OT1JNQUxNQVAgKQoJdmFyeWluZyB2ZWMzIHZWaWV3UG9zaXRpb247CiNlbmRpZgojaW5jbHVkZSA8Y29tbW9uPgojaW5jbHVkZSA8dXZfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxkaXNwbGFjZW1lbnRtYXBfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxub3JtYWxfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxtb3JwaHRhcmdldF9wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPHNraW5uaW5nX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc192ZXJ0ZXg+CnZvaWQgbWFpbigpIHsKCSNpbmNsdWRlIDx1dl92ZXJ0ZXg+CgkjaW5jbHVkZSA8YmVnaW5ub3JtYWxfdmVydGV4PgoJI2luY2x1ZGUgPG1vcnBobm9ybWFsX3ZlcnRleD4KCSNpbmNsdWRlIDxza2luYmFzZV92ZXJ0ZXg+CgkjaW5jbHVkZSA8c2tpbm5vcm1hbF92ZXJ0ZXg+CgkjaW5jbHVkZSA8ZGVmYXVsdG5vcm1hbF92ZXJ0ZXg+CgkjaW5jbHVkZSA8bm9ybWFsX3ZlcnRleD4KCSNpbmNsdWRlIDxiZWdpbl92ZXJ0ZXg+CgkjaW5jbHVkZSA8bW9ycGh0YXJnZXRfdmVydGV4PgoJI2luY2x1ZGUgPHNraW5uaW5nX3ZlcnRleD4KCSNpbmNsdWRlIDxkaXNwbGFjZW1lbnRtYXBfdmVydGV4PgoJI2luY2x1ZGUgPHByb2plY3RfdmVydGV4PgoJI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3ZlcnRleD4KCSNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfdmVydGV4PgojaWYgZGVmaW5lZCggRkxBVF9TSEFERUQgKSB8fCBkZWZpbmVkKCBVU0VfQlVNUE1BUCApIHx8IGRlZmluZWQoIFRBTkdFTlRTUEFDRV9OT1JNQUxNQVAgKQoJdlZpZXdQb3NpdGlvbiA9IC0gbXZQb3NpdGlvbi54eXo7CiNlbmRpZgp9YCxmcmFnbWVudCQ3PWAjZGVmaW5lIE5PUk1BTAp1bmlmb3JtIGZsb2F0IG9wYWNpdHk7CiNpZiBkZWZpbmVkKCBGTEFUX1NIQURFRCApIHx8IGRlZmluZWQoIFVTRV9CVU1QTUFQICkgfHwgZGVmaW5lZCggVEFOR0VOVFNQQUNFX05PUk1BTE1BUCApCgl2YXJ5aW5nIHZlYzMgdlZpZXdQb3NpdGlvbjsKI2VuZGlmCiNpbmNsdWRlIDxwYWNraW5nPgojaW5jbHVkZSA8dXZfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPG5vcm1hbF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8YnVtcG1hcF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8bm9ybWFsbWFwX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfZnJhZ21lbnQ+CnZvaWQgbWFpbigpIHsKCSNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8bG9nZGVwdGhidWZfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8bm9ybWFsX2ZyYWdtZW50X2JlZ2luPgoJI2luY2x1ZGUgPG5vcm1hbF9mcmFnbWVudF9tYXBzPgoJZ2xfRnJhZ0NvbG9yID0gdmVjNCggcGFja05vcm1hbFRvUkdCKCBub3JtYWwgKSwgb3BhY2l0eSApOwoJI2lmZGVmIE9QQVFVRQoJCWdsX0ZyYWdDb2xvci5hID0gMS4wOwoJI2VuZGlmCn1gLHZlcnRleCQ2PWAjZGVmaW5lIFBIT05HCnZhcnlpbmcgdmVjMyB2Vmlld1Bvc2l0aW9uOwojaW5jbHVkZSA8Y29tbW9uPgojaW5jbHVkZSA8dXZfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDx1djJfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxkaXNwbGFjZW1lbnRtYXBfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxlbnZtYXBfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxjb2xvcl9wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPGZvZ19wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPG5vcm1hbF9wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPG1vcnBodGFyZ2V0X3BhcnNfdmVydGV4PgojaW5jbHVkZSA8c2tpbm5pbmdfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxzaGFkb3dtYXBfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX3ZlcnRleD4Kdm9pZCBtYWluKCkgewoJI2luY2x1ZGUgPHV2X3ZlcnRleD4KCSNpbmNsdWRlIDx1djJfdmVydGV4PgoJI2luY2x1ZGUgPGNvbG9yX3ZlcnRleD4KCSNpbmNsdWRlIDxtb3JwaGNvbG9yX3ZlcnRleD4KCSNpbmNsdWRlIDxiZWdpbm5vcm1hbF92ZXJ0ZXg+CgkjaW5jbHVkZSA8bW9ycGhub3JtYWxfdmVydGV4PgoJI2luY2x1ZGUgPHNraW5iYXNlX3ZlcnRleD4KCSNpbmNsdWRlIDxza2lubm9ybWFsX3ZlcnRleD4KCSNpbmNsdWRlIDxkZWZhdWx0bm9ybWFsX3ZlcnRleD4KCSNpbmNsdWRlIDxub3JtYWxfdmVydGV4PgoJI2luY2x1ZGUgPGJlZ2luX3ZlcnRleD4KCSNpbmNsdWRlIDxtb3JwaHRhcmdldF92ZXJ0ZXg+CgkjaW5jbHVkZSA8c2tpbm5pbmdfdmVydGV4PgoJI2luY2x1ZGUgPGRpc3BsYWNlbWVudG1hcF92ZXJ0ZXg+CgkjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+CgkjaW5jbHVkZSA8bG9nZGVwdGhidWZfdmVydGV4PgoJI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc192ZXJ0ZXg+Cgl2Vmlld1Bvc2l0aW9uID0gLSBtdlBvc2l0aW9uLnh5ejsKCSNpbmNsdWRlIDx3b3JsZHBvc192ZXJ0ZXg+CgkjaW5jbHVkZSA8ZW52bWFwX3ZlcnRleD4KCSNpbmNsdWRlIDxzaGFkb3dtYXBfdmVydGV4PgoJI2luY2x1ZGUgPGZvZ192ZXJ0ZXg+Cn1gLGZyYWdtZW50JDY9YCNkZWZpbmUgUEhPTkcKdW5pZm9ybSB2ZWMzIGRpZmZ1c2U7CnVuaWZvcm0gdmVjMyBlbWlzc2l2ZTsKdW5pZm9ybSB2ZWMzIHNwZWN1bGFyOwp1bmlmb3JtIGZsb2F0IHNoaW5pbmVzczsKdW5pZm9ybSBmbG9hdCBvcGFjaXR5OwojaW5jbHVkZSA8Y29tbW9uPgojaW5jbHVkZSA8cGFja2luZz4KI2luY2x1ZGUgPGRpdGhlcmluZ19wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8Y29sb3JfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPHV2X3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDx1djJfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPG1hcF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8YWxwaGFtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGFscGhhdGVzdF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8YW9tYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGxpZ2h0bWFwX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxlbWlzc2l2ZW1hcF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8ZW52bWFwX2NvbW1vbl9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8ZW52bWFwX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxjdWJlX3V2X3JlZmxlY3Rpb25fZnJhZ21lbnQ+CiNpbmNsdWRlIDxmb2dfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGJzZGZzPgojaW5jbHVkZSA8bGlnaHRzX3BhcnNfYmVnaW4+CiNpbmNsdWRlIDxub3JtYWxfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGxpZ2h0c19waG9uZ19wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8c2hhZG93bWFwX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxidW1wbWFwX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxub3JtYWxtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPHNwZWN1bGFybWFwX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfZnJhZ21lbnQ+CnZvaWQgbWFpbigpIHsKCSNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfZnJhZ21lbnQ+Cgl2ZWM0IGRpZmZ1c2VDb2xvciA9IHZlYzQoIGRpZmZ1c2UsIG9wYWNpdHkgKTsKCVJlZmxlY3RlZExpZ2h0IHJlZmxlY3RlZExpZ2h0ID0gUmVmbGVjdGVkTGlnaHQoIHZlYzMoIDAuMCApLCB2ZWMzKCAwLjAgKSwgdmVjMyggMC4wICksIHZlYzMoIDAuMCApICk7Cgl2ZWMzIHRvdGFsRW1pc3NpdmVSYWRpYW5jZSA9IGVtaXNzaXZlOwoJI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX2ZyYWdtZW50PgoJI2luY2x1ZGUgPG1hcF9mcmFnbWVudD4KCSNpbmNsdWRlIDxjb2xvcl9mcmFnbWVudD4KCSNpbmNsdWRlIDxhbHBoYW1hcF9mcmFnbWVudD4KCSNpbmNsdWRlIDxhbHBoYXRlc3RfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8c3BlY3VsYXJtYXBfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8bm9ybWFsX2ZyYWdtZW50X2JlZ2luPgoJI2luY2x1ZGUgPG5vcm1hbF9mcmFnbWVudF9tYXBzPgoJI2luY2x1ZGUgPGVtaXNzaXZlbWFwX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGxpZ2h0c19waG9uZ19mcmFnbWVudD4KCSNpbmNsdWRlIDxsaWdodHNfZnJhZ21lbnRfYmVnaW4+CgkjaW5jbHVkZSA8bGlnaHRzX2ZyYWdtZW50X21hcHM+CgkjaW5jbHVkZSA8bGlnaHRzX2ZyYWdtZW50X2VuZD4KCSNpbmNsdWRlIDxhb21hcF9mcmFnbWVudD4KCXZlYzMgb3V0Z29pbmdMaWdodCA9IHJlZmxlY3RlZExpZ2h0LmRpcmVjdERpZmZ1c2UgKyByZWZsZWN0ZWRMaWdodC5pbmRpcmVjdERpZmZ1c2UgKyByZWZsZWN0ZWRMaWdodC5kaXJlY3RTcGVjdWxhciArIHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0U3BlY3VsYXIgKyB0b3RhbEVtaXNzaXZlUmFkaWFuY2U7CgkjaW5jbHVkZSA8ZW52bWFwX2ZyYWdtZW50PgoJI2luY2x1ZGUgPG91dHB1dF9mcmFnbWVudD4KCSNpbmNsdWRlIDx0b25lbWFwcGluZ19mcmFnbWVudD4KCSNpbmNsdWRlIDxlbmNvZGluZ3NfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8Zm9nX2ZyYWdtZW50PgoJI2luY2x1ZGUgPHByZW11bHRpcGxpZWRfYWxwaGFfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8ZGl0aGVyaW5nX2ZyYWdtZW50Pgp9YCx2ZXJ0ZXgkNT1gI2RlZmluZSBTVEFOREFSRAp2YXJ5aW5nIHZlYzMgdlZpZXdQb3NpdGlvbjsKI2lmZGVmIFVTRV9UUkFOU01JU1NJT04KCXZhcnlpbmcgdmVjMyB2V29ybGRQb3NpdGlvbjsKI2VuZGlmCiNpbmNsdWRlIDxjb21tb24+CiNpbmNsdWRlIDx1dl9wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPHV2Ml9wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPGRpc3BsYWNlbWVudG1hcF9wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPGNvbG9yX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8Zm9nX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8bm9ybWFsX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8bW9ycGh0YXJnZXRfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxza2lubmluZ19wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPHNoYWRvd21hcF9wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfdmVydGV4Pgp2b2lkIG1haW4oKSB7CgkjaW5jbHVkZSA8dXZfdmVydGV4PgoJI2luY2x1ZGUgPHV2Ml92ZXJ0ZXg+CgkjaW5jbHVkZSA8Y29sb3JfdmVydGV4PgoJI2luY2x1ZGUgPG1vcnBoY29sb3JfdmVydGV4PgoJI2luY2x1ZGUgPGJlZ2lubm9ybWFsX3ZlcnRleD4KCSNpbmNsdWRlIDxtb3JwaG5vcm1hbF92ZXJ0ZXg+CgkjaW5jbHVkZSA8c2tpbmJhc2VfdmVydGV4PgoJI2luY2x1ZGUgPHNraW5ub3JtYWxfdmVydGV4PgoJI2luY2x1ZGUgPGRlZmF1bHRub3JtYWxfdmVydGV4PgoJI2luY2x1ZGUgPG5vcm1hbF92ZXJ0ZXg+CgkjaW5jbHVkZSA8YmVnaW5fdmVydGV4PgoJI2luY2x1ZGUgPG1vcnBodGFyZ2V0X3ZlcnRleD4KCSNpbmNsdWRlIDxza2lubmluZ192ZXJ0ZXg+CgkjaW5jbHVkZSA8ZGlzcGxhY2VtZW50bWFwX3ZlcnRleD4KCSNpbmNsdWRlIDxwcm9qZWN0X3ZlcnRleD4KCSNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl92ZXJ0ZXg+CgkjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3ZlcnRleD4KCXZWaWV3UG9zaXRpb24gPSAtIG12UG9zaXRpb24ueHl6OwoJI2luY2x1ZGUgPHdvcmxkcG9zX3ZlcnRleD4KCSNpbmNsdWRlIDxzaGFkb3dtYXBfdmVydGV4PgoJI2luY2x1ZGUgPGZvZ192ZXJ0ZXg+CiNpZmRlZiBVU0VfVFJBTlNNSVNTSU9OCgl2V29ybGRQb3NpdGlvbiA9IHdvcmxkUG9zaXRpb24ueHl6OwojZW5kaWYKfWAsZnJhZ21lbnQkNT1gI2RlZmluZSBTVEFOREFSRAojaWZkZWYgUEhZU0lDQUwKCSNkZWZpbmUgSU9SCgkjZGVmaW5lIFNQRUNVTEFSCiNlbmRpZgp1bmlmb3JtIHZlYzMgZGlmZnVzZTsKdW5pZm9ybSB2ZWMzIGVtaXNzaXZlOwp1bmlmb3JtIGZsb2F0IHJvdWdobmVzczsKdW5pZm9ybSBmbG9hdCBtZXRhbG5lc3M7CnVuaWZvcm0gZmxvYXQgb3BhY2l0eTsKI2lmZGVmIElPUgoJdW5pZm9ybSBmbG9hdCBpb3I7CiNlbmRpZgojaWZkZWYgU1BFQ1VMQVIKCXVuaWZvcm0gZmxvYXQgc3BlY3VsYXJJbnRlbnNpdHk7Cgl1bmlmb3JtIHZlYzMgc3BlY3VsYXJDb2xvcjsKCSNpZmRlZiBVU0VfU1BFQ1VMQVJJTlRFTlNJVFlNQVAKCQl1bmlmb3JtIHNhbXBsZXIyRCBzcGVjdWxhckludGVuc2l0eU1hcDsKCSNlbmRpZgoJI2lmZGVmIFVTRV9TUEVDVUxBUkNPTE9STUFQCgkJdW5pZm9ybSBzYW1wbGVyMkQgc3BlY3VsYXJDb2xvck1hcDsKCSNlbmRpZgojZW5kaWYKI2lmZGVmIFVTRV9DTEVBUkNPQVQKCXVuaWZvcm0gZmxvYXQgY2xlYXJjb2F0OwoJdW5pZm9ybSBmbG9hdCBjbGVhcmNvYXRSb3VnaG5lc3M7CiNlbmRpZgojaWZkZWYgVVNFX1NIRUVOCgl1bmlmb3JtIHZlYzMgc2hlZW5Db2xvcjsKCXVuaWZvcm0gZmxvYXQgc2hlZW5Sb3VnaG5lc3M7CgkjaWZkZWYgVVNFX1NIRUVOQ09MT1JNQVAKCQl1bmlmb3JtIHNhbXBsZXIyRCBzaGVlbkNvbG9yTWFwOwoJI2VuZGlmCgkjaWZkZWYgVVNFX1NIRUVOUk9VR0hORVNTTUFQCgkJdW5pZm9ybSBzYW1wbGVyMkQgc2hlZW5Sb3VnaG5lc3NNYXA7CgkjZW5kaWYKI2VuZGlmCnZhcnlpbmcgdmVjMyB2Vmlld1Bvc2l0aW9uOwojaW5jbHVkZSA8Y29tbW9uPgojaW5jbHVkZSA8cGFja2luZz4KI2luY2x1ZGUgPGRpdGhlcmluZ19wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8Y29sb3JfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPHV2X3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDx1djJfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPG1hcF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8YWxwaGFtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGFscGhhdGVzdF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8YW9tYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGxpZ2h0bWFwX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxlbWlzc2l2ZW1hcF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8YnNkZnM+CiNpbmNsdWRlIDxjdWJlX3V2X3JlZmxlY3Rpb25fZnJhZ21lbnQ+CiNpbmNsdWRlIDxlbnZtYXBfY29tbW9uX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxlbnZtYXBfcGh5c2ljYWxfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGZvZ19wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8bGlnaHRzX3BhcnNfYmVnaW4+CiNpbmNsdWRlIDxub3JtYWxfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGxpZ2h0c19waHlzaWNhbF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8dHJhbnNtaXNzaW9uX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxzaGFkb3dtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGJ1bXBtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPG5vcm1hbG1hcF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8Y2xlYXJjb2F0X3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxyb3VnaG5lc3NtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPG1ldGFsbmVzc21hcF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX2ZyYWdtZW50Pgp2b2lkIG1haW4oKSB7CgkjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX2ZyYWdtZW50PgoJdmVjNCBkaWZmdXNlQ29sb3IgPSB2ZWM0KCBkaWZmdXNlLCBvcGFjaXR5ICk7CglSZWZsZWN0ZWRMaWdodCByZWZsZWN0ZWRMaWdodCA9IFJlZmxlY3RlZExpZ2h0KCB2ZWMzKCAwLjAgKSwgdmVjMyggMC4wICksIHZlYzMoIDAuMCApLCB2ZWMzKCAwLjAgKSApOwoJdmVjMyB0b3RhbEVtaXNzaXZlUmFkaWFuY2UgPSBlbWlzc2l2ZTsKCSNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9mcmFnbWVudD4KCSNpbmNsdWRlIDxtYXBfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8Y29sb3JfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8YWxwaGFtYXBfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8YWxwaGF0ZXN0X2ZyYWdtZW50PgoJI2luY2x1ZGUgPHJvdWdobmVzc21hcF9mcmFnbWVudD4KCSNpbmNsdWRlIDxtZXRhbG5lc3NtYXBfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8bm9ybWFsX2ZyYWdtZW50X2JlZ2luPgoJI2luY2x1ZGUgPG5vcm1hbF9mcmFnbWVudF9tYXBzPgoJI2luY2x1ZGUgPGNsZWFyY29hdF9ub3JtYWxfZnJhZ21lbnRfYmVnaW4+CgkjaW5jbHVkZSA8Y2xlYXJjb2F0X25vcm1hbF9mcmFnbWVudF9tYXBzPgoJI2luY2x1ZGUgPGVtaXNzaXZlbWFwX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGxpZ2h0c19waHlzaWNhbF9mcmFnbWVudD4KCSNpbmNsdWRlIDxsaWdodHNfZnJhZ21lbnRfYmVnaW4+CgkjaW5jbHVkZSA8bGlnaHRzX2ZyYWdtZW50X21hcHM+CgkjaW5jbHVkZSA8bGlnaHRzX2ZyYWdtZW50X2VuZD4KCSNpbmNsdWRlIDxhb21hcF9mcmFnbWVudD4KCXZlYzMgdG90YWxEaWZmdXNlID0gcmVmbGVjdGVkTGlnaHQuZGlyZWN0RGlmZnVzZSArIHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZTsKCXZlYzMgdG90YWxTcGVjdWxhciA9IHJlZmxlY3RlZExpZ2h0LmRpcmVjdFNwZWN1bGFyICsgcmVmbGVjdGVkTGlnaHQuaW5kaXJlY3RTcGVjdWxhcjsKCSNpbmNsdWRlIDx0cmFuc21pc3Npb25fZnJhZ21lbnQ+Cgl2ZWMzIG91dGdvaW5nTGlnaHQgPSB0b3RhbERpZmZ1c2UgKyB0b3RhbFNwZWN1bGFyICsgdG90YWxFbWlzc2l2ZVJhZGlhbmNlOwoJI2lmZGVmIFVTRV9TSEVFTgoJCWZsb2F0IHNoZWVuRW5lcmd5Q29tcCA9IDEuMCAtIDAuMTU3ICogbWF4MyggbWF0ZXJpYWwuc2hlZW5Db2xvciApOwoJCW91dGdvaW5nTGlnaHQgPSBvdXRnb2luZ0xpZ2h0ICogc2hlZW5FbmVyZ3lDb21wICsgc2hlZW5TcGVjdWxhcjsKCSNlbmRpZgoJI2lmZGVmIFVTRV9DTEVBUkNPQVQKCQlmbG9hdCBkb3ROVmNjID0gc2F0dXJhdGUoIGRvdCggZ2VvbWV0cnkuY2xlYXJjb2F0Tm9ybWFsLCBnZW9tZXRyeS52aWV3RGlyICkgKTsKCQl2ZWMzIEZjYyA9IEZfU2NobGljayggbWF0ZXJpYWwuY2xlYXJjb2F0RjAsIG1hdGVyaWFsLmNsZWFyY29hdEY5MCwgZG90TlZjYyApOwoJCW91dGdvaW5nTGlnaHQgPSBvdXRnb2luZ0xpZ2h0ICogKCAxLjAgLSBtYXRlcmlhbC5jbGVhcmNvYXQgKiBGY2MgKSArIGNsZWFyY29hdFNwZWN1bGFyICogbWF0ZXJpYWwuY2xlYXJjb2F0OwoJI2VuZGlmCgkjaW5jbHVkZSA8b3V0cHV0X2ZyYWdtZW50PgoJI2luY2x1ZGUgPHRvbmVtYXBwaW5nX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGVuY29kaW5nc19mcmFnbWVudD4KCSNpbmNsdWRlIDxmb2dfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8cHJlbXVsdGlwbGllZF9hbHBoYV9mcmFnbWVudD4KCSNpbmNsdWRlIDxkaXRoZXJpbmdfZnJhZ21lbnQ+Cn1gLHZlcnRleCQ0PWAjZGVmaW5lIFRPT04KdmFyeWluZyB2ZWMzIHZWaWV3UG9zaXRpb247CiNpbmNsdWRlIDxjb21tb24+CiNpbmNsdWRlIDx1dl9wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPHV2Ml9wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPGRpc3BsYWNlbWVudG1hcF9wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPGNvbG9yX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8Zm9nX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8bm9ybWFsX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8bW9ycGh0YXJnZXRfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxza2lubmluZ19wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPHNoYWRvd21hcF9wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfdmVydGV4Pgp2b2lkIG1haW4oKSB7CgkjaW5jbHVkZSA8dXZfdmVydGV4PgoJI2luY2x1ZGUgPHV2Ml92ZXJ0ZXg+CgkjaW5jbHVkZSA8Y29sb3JfdmVydGV4PgoJI2luY2x1ZGUgPG1vcnBoY29sb3JfdmVydGV4PgoJI2luY2x1ZGUgPGJlZ2lubm9ybWFsX3ZlcnRleD4KCSNpbmNsdWRlIDxtb3JwaG5vcm1hbF92ZXJ0ZXg+CgkjaW5jbHVkZSA8c2tpbmJhc2VfdmVydGV4PgoJI2luY2x1ZGUgPHNraW5ub3JtYWxfdmVydGV4PgoJI2luY2x1ZGUgPGRlZmF1bHRub3JtYWxfdmVydGV4PgoJI2luY2x1ZGUgPG5vcm1hbF92ZXJ0ZXg+CgkjaW5jbHVkZSA8YmVnaW5fdmVydGV4PgoJI2luY2x1ZGUgPG1vcnBodGFyZ2V0X3ZlcnRleD4KCSNpbmNsdWRlIDxza2lubmluZ192ZXJ0ZXg+CgkjaW5jbHVkZSA8ZGlzcGxhY2VtZW50bWFwX3ZlcnRleD4KCSNpbmNsdWRlIDxwcm9qZWN0X3ZlcnRleD4KCSNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl92ZXJ0ZXg+CgkjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3ZlcnRleD4KCXZWaWV3UG9zaXRpb24gPSAtIG12UG9zaXRpb24ueHl6OwoJI2luY2x1ZGUgPHdvcmxkcG9zX3ZlcnRleD4KCSNpbmNsdWRlIDxzaGFkb3dtYXBfdmVydGV4PgoJI2luY2x1ZGUgPGZvZ192ZXJ0ZXg+Cn1gLGZyYWdtZW50JDQ9YCNkZWZpbmUgVE9PTgp1bmlmb3JtIHZlYzMgZGlmZnVzZTsKdW5pZm9ybSB2ZWMzIGVtaXNzaXZlOwp1bmlmb3JtIGZsb2F0IG9wYWNpdHk7CiNpbmNsdWRlIDxjb21tb24+CiNpbmNsdWRlIDxwYWNraW5nPgojaW5jbHVkZSA8ZGl0aGVyaW5nX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxjb2xvcl9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8dXZfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPHV2Ml9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8bWFwX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxhbHBoYW1hcF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8YWxwaGF0ZXN0X3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxhb21hcF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8bGlnaHRtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGVtaXNzaXZlbWFwX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxncmFkaWVudG1hcF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8Zm9nX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxic2Rmcz4KI2luY2x1ZGUgPGxpZ2h0c19wYXJzX2JlZ2luPgojaW5jbHVkZSA8bm9ybWFsX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxsaWdodHNfdG9vbl9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8c2hhZG93bWFwX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxidW1wbWFwX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxub3JtYWxtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc19mcmFnbWVudD4Kdm9pZCBtYWluKCkgewoJI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19mcmFnbWVudD4KCXZlYzQgZGlmZnVzZUNvbG9yID0gdmVjNCggZGlmZnVzZSwgb3BhY2l0eSApOwoJUmVmbGVjdGVkTGlnaHQgcmVmbGVjdGVkTGlnaHQgPSBSZWZsZWN0ZWRMaWdodCggdmVjMyggMC4wICksIHZlYzMoIDAuMCApLCB2ZWMzKCAwLjAgKSwgdmVjMyggMC4wICkgKTsKCXZlYzMgdG90YWxFbWlzc2l2ZVJhZGlhbmNlID0gZW1pc3NpdmU7CgkjaW5jbHVkZSA8bG9nZGVwdGhidWZfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8bWFwX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGNvbG9yX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGFscGhhbWFwX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGFscGhhdGVzdF9mcmFnbWVudD4KCSNpbmNsdWRlIDxub3JtYWxfZnJhZ21lbnRfYmVnaW4+CgkjaW5jbHVkZSA8bm9ybWFsX2ZyYWdtZW50X21hcHM+CgkjaW5jbHVkZSA8ZW1pc3NpdmVtYXBfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8bGlnaHRzX3Rvb25fZnJhZ21lbnQ+CgkjaW5jbHVkZSA8bGlnaHRzX2ZyYWdtZW50X2JlZ2luPgoJI2luY2x1ZGUgPGxpZ2h0c19mcmFnbWVudF9tYXBzPgoJI2luY2x1ZGUgPGxpZ2h0c19mcmFnbWVudF9lbmQ+CgkjaW5jbHVkZSA8YW9tYXBfZnJhZ21lbnQ+Cgl2ZWMzIG91dGdvaW5nTGlnaHQgPSByZWZsZWN0ZWRMaWdodC5kaXJlY3REaWZmdXNlICsgcmVmbGVjdGVkTGlnaHQuaW5kaXJlY3REaWZmdXNlICsgdG90YWxFbWlzc2l2ZVJhZGlhbmNlOwoJI2luY2x1ZGUgPG91dHB1dF9mcmFnbWVudD4KCSNpbmNsdWRlIDx0b25lbWFwcGluZ19mcmFnbWVudD4KCSNpbmNsdWRlIDxlbmNvZGluZ3NfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8Zm9nX2ZyYWdtZW50PgoJI2luY2x1ZGUgPHByZW11bHRpcGxpZWRfYWxwaGFfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8ZGl0aGVyaW5nX2ZyYWdtZW50Pgp9YCx2ZXJ0ZXgkMz1gdW5pZm9ybSBmbG9hdCBzaXplOwp1bmlmb3JtIGZsb2F0IHNjYWxlOwojaW5jbHVkZSA8Y29tbW9uPgojaW5jbHVkZSA8Y29sb3JfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxmb2dfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxtb3JwaHRhcmdldF9wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfdmVydGV4Pgp2b2lkIG1haW4oKSB7CgkjaW5jbHVkZSA8Y29sb3JfdmVydGV4PgoJI2luY2x1ZGUgPG1vcnBoY29sb3JfdmVydGV4PgoJI2luY2x1ZGUgPGJlZ2luX3ZlcnRleD4KCSNpbmNsdWRlIDxtb3JwaHRhcmdldF92ZXJ0ZXg+CgkjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+CglnbF9Qb2ludFNpemUgPSBzaXplOwoJI2lmZGVmIFVTRV9TSVpFQVRURU5VQVRJT04KCQlib29sIGlzUGVyc3BlY3RpdmUgPSBpc1BlcnNwZWN0aXZlTWF0cml4KCBwcm9qZWN0aW9uTWF0cml4ICk7CgkJaWYgKCBpc1BlcnNwZWN0aXZlICkgZ2xfUG9pbnRTaXplICo9ICggc2NhbGUgLyAtIG12UG9zaXRpb24ueiApOwoJI2VuZGlmCgkjaW5jbHVkZSA8bG9nZGVwdGhidWZfdmVydGV4PgoJI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc192ZXJ0ZXg+CgkjaW5jbHVkZSA8d29ybGRwb3NfdmVydGV4PgoJI2luY2x1ZGUgPGZvZ192ZXJ0ZXg+Cn1gLGZyYWdtZW50JDM9YHVuaWZvcm0gdmVjMyBkaWZmdXNlOwp1bmlmb3JtIGZsb2F0IG9wYWNpdHk7CiNpbmNsdWRlIDxjb21tb24+CiNpbmNsdWRlIDxjb2xvcl9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8bWFwX3BhcnRpY2xlX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxhbHBoYXRlc3RfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGZvZ19wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX2ZyYWdtZW50Pgp2b2lkIG1haW4oKSB7CgkjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX2ZyYWdtZW50PgoJdmVjMyBvdXRnb2luZ0xpZ2h0ID0gdmVjMyggMC4wICk7Cgl2ZWM0IGRpZmZ1c2VDb2xvciA9IHZlYzQoIGRpZmZ1c2UsIG9wYWNpdHkgKTsKCSNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9mcmFnbWVudD4KCSNpbmNsdWRlIDxtYXBfcGFydGljbGVfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8Y29sb3JfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8YWxwaGF0ZXN0X2ZyYWdtZW50PgoJb3V0Z29pbmdMaWdodCA9IGRpZmZ1c2VDb2xvci5yZ2I7CgkjaW5jbHVkZSA8b3V0cHV0X2ZyYWdtZW50PgoJI2luY2x1ZGUgPHRvbmVtYXBwaW5nX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGVuY29kaW5nc19mcmFnbWVudD4KCSNpbmNsdWRlIDxmb2dfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8cHJlbXVsdGlwbGllZF9hbHBoYV9mcmFnbWVudD4KfWAsdmVydGV4JDI9YCNpbmNsdWRlIDxjb21tb24+CiNpbmNsdWRlIDxmb2dfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxtb3JwaHRhcmdldF9wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPHNraW5uaW5nX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8c2hhZG93bWFwX3BhcnNfdmVydGV4Pgp2b2lkIG1haW4oKSB7CgkjaW5jbHVkZSA8YmVnaW5ub3JtYWxfdmVydGV4PgoJI2luY2x1ZGUgPG1vcnBobm9ybWFsX3ZlcnRleD4KCSNpbmNsdWRlIDxza2luYmFzZV92ZXJ0ZXg+CgkjaW5jbHVkZSA8c2tpbm5vcm1hbF92ZXJ0ZXg+CgkjaW5jbHVkZSA8ZGVmYXVsdG5vcm1hbF92ZXJ0ZXg+CgkjaW5jbHVkZSA8YmVnaW5fdmVydGV4PgoJI2luY2x1ZGUgPG1vcnBodGFyZ2V0X3ZlcnRleD4KCSNpbmNsdWRlIDxza2lubmluZ192ZXJ0ZXg+CgkjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+CgkjaW5jbHVkZSA8d29ybGRwb3NfdmVydGV4PgoJI2luY2x1ZGUgPHNoYWRvd21hcF92ZXJ0ZXg+CgkjaW5jbHVkZSA8Zm9nX3ZlcnRleD4KfWAsZnJhZ21lbnQkMj1gdW5pZm9ybSB2ZWMzIGNvbG9yOwp1bmlmb3JtIGZsb2F0IG9wYWNpdHk7CiNpbmNsdWRlIDxjb21tb24+CiNpbmNsdWRlIDxwYWNraW5nPgojaW5jbHVkZSA8Zm9nX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxic2Rmcz4KI2luY2x1ZGUgPGxpZ2h0c19wYXJzX2JlZ2luPgojaW5jbHVkZSA8c2hhZG93bWFwX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxzaGFkb3dtYXNrX3BhcnNfZnJhZ21lbnQ+CnZvaWQgbWFpbigpIHsKCWdsX0ZyYWdDb2xvciA9IHZlYzQoIGNvbG9yLCBvcGFjaXR5ICogKCAxLjAgLSBnZXRTaGFkb3dNYXNrKCkgKSApOwoJI2luY2x1ZGUgPHRvbmVtYXBwaW5nX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGVuY29kaW5nc19mcmFnbWVudD4KCSNpbmNsdWRlIDxmb2dfZnJhZ21lbnQ+Cn1gLHZlcnRleCQxPWB1bmlmb3JtIGZsb2F0IHJvdGF0aW9uOwp1bmlmb3JtIHZlYzIgY2VudGVyOwojaW5jbHVkZSA8Y29tbW9uPgojaW5jbHVkZSA8dXZfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxmb2dfcGFyc192ZXJ0ZXg+CiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX3ZlcnRleD4KI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX3ZlcnRleD4Kdm9pZCBtYWluKCkgewoJI2luY2x1ZGUgPHV2X3ZlcnRleD4KCXZlYzQgbXZQb3NpdGlvbiA9IG1vZGVsVmlld01hdHJpeCAqIHZlYzQoIDAuMCwgMC4wLCAwLjAsIDEuMCApOwoJdmVjMiBzY2FsZTsKCXNjYWxlLnggPSBsZW5ndGgoIHZlYzMoIG1vZGVsTWF0cml4WyAwIF0ueCwgbW9kZWxNYXRyaXhbIDAgXS55LCBtb2RlbE1hdHJpeFsgMCBdLnogKSApOwoJc2NhbGUueSA9IGxlbmd0aCggdmVjMyggbW9kZWxNYXRyaXhbIDEgXS54LCBtb2RlbE1hdHJpeFsgMSBdLnksIG1vZGVsTWF0cml4WyAxIF0ueiApICk7CgkjaWZuZGVmIFVTRV9TSVpFQVRURU5VQVRJT04KCQlib29sIGlzUGVyc3BlY3RpdmUgPSBpc1BlcnNwZWN0aXZlTWF0cml4KCBwcm9qZWN0aW9uTWF0cml4ICk7CgkJaWYgKCBpc1BlcnNwZWN0aXZlICkgc2NhbGUgKj0gLSBtdlBvc2l0aW9uLno7CgkjZW5kaWYKCXZlYzIgYWxpZ25lZFBvc2l0aW9uID0gKCBwb3NpdGlvbi54eSAtICggY2VudGVyIC0gdmVjMiggMC41ICkgKSApICogc2NhbGU7Cgl2ZWMyIHJvdGF0ZWRQb3NpdGlvbjsKCXJvdGF0ZWRQb3NpdGlvbi54ID0gY29zKCByb3RhdGlvbiApICogYWxpZ25lZFBvc2l0aW9uLnggLSBzaW4oIHJvdGF0aW9uICkgKiBhbGlnbmVkUG9zaXRpb24ueTsKCXJvdGF0ZWRQb3NpdGlvbi55ID0gc2luKCByb3RhdGlvbiApICogYWxpZ25lZFBvc2l0aW9uLnggKyBjb3MoIHJvdGF0aW9uICkgKiBhbGlnbmVkUG9zaXRpb24ueTsKCW12UG9zaXRpb24ueHkgKz0gcm90YXRlZFBvc2l0aW9uOwoJZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogbXZQb3NpdGlvbjsKCSNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl92ZXJ0ZXg+CgkjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3ZlcnRleD4KCSNpbmNsdWRlIDxmb2dfdmVydGV4Pgp9YCxmcmFnbWVudCQxPWB1bmlmb3JtIHZlYzMgZGlmZnVzZTsKdW5pZm9ybSBmbG9hdCBvcGFjaXR5OwojaW5jbHVkZSA8Y29tbW9uPgojaW5jbHVkZSA8dXZfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPG1hcF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8YWxwaGFtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGFscGhhdGVzdF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8Zm9nX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfZnJhZ21lbnQ+CnZvaWQgbWFpbigpIHsKCSNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfZnJhZ21lbnQ+Cgl2ZWMzIG91dGdvaW5nTGlnaHQgPSB2ZWMzKCAwLjAgKTsKCXZlYzQgZGlmZnVzZUNvbG9yID0gdmVjNCggZGlmZnVzZSwgb3BhY2l0eSApOwoJI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX2ZyYWdtZW50PgoJI2luY2x1ZGUgPG1hcF9mcmFnbWVudD4KCSNpbmNsdWRlIDxhbHBoYW1hcF9mcmFnbWVudD4KCSNpbmNsdWRlIDxhbHBoYXRlc3RfZnJhZ21lbnQ+CglvdXRnb2luZ0xpZ2h0ID0gZGlmZnVzZUNvbG9yLnJnYjsKCSNpbmNsdWRlIDxvdXRwdXRfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8dG9uZW1hcHBpbmdfZnJhZ21lbnQ+CgkjaW5jbHVkZSA8ZW5jb2RpbmdzX2ZyYWdtZW50PgoJI2luY2x1ZGUgPGZvZ19mcmFnbWVudD4KfWAsU2hhZGVyQ2h1bms9e2FscGhhbWFwX2ZyYWdtZW50LGFscGhhbWFwX3BhcnNfZnJhZ21lbnQsYWxwaGF0ZXN0X2ZyYWdtZW50LGFscGhhdGVzdF9wYXJzX2ZyYWdtZW50LGFvbWFwX2ZyYWdtZW50LGFvbWFwX3BhcnNfZnJhZ21lbnQsYmVnaW5fdmVydGV4LGJlZ2lubm9ybWFsX3ZlcnRleCxic2RmcyxidW1wbWFwX3BhcnNfZnJhZ21lbnQsY2xpcHBpbmdfcGxhbmVzX2ZyYWdtZW50LGNsaXBwaW5nX3BsYW5lc19wYXJzX2ZyYWdtZW50LGNsaXBwaW5nX3BsYW5lc19wYXJzX3ZlcnRleCxjbGlwcGluZ19wbGFuZXNfdmVydGV4LGNvbG9yX2ZyYWdtZW50LGNvbG9yX3BhcnNfZnJhZ21lbnQsY29sb3JfcGFyc192ZXJ0ZXgsY29sb3JfdmVydGV4LGNvbW1vbixjdWJlX3V2X3JlZmxlY3Rpb25fZnJhZ21lbnQsZGVmYXVsdG5vcm1hbF92ZXJ0ZXgsZGlzcGxhY2VtZW50bWFwX3BhcnNfdmVydGV4LGRpc3BsYWNlbWVudG1hcF92ZXJ0ZXgsZW1pc3NpdmVtYXBfZnJhZ21lbnQsZW1pc3NpdmVtYXBfcGFyc19mcmFnbWVudCxlbmNvZGluZ3NfZnJhZ21lbnQsZW5jb2RpbmdzX3BhcnNfZnJhZ21lbnQsZW52bWFwX2ZyYWdtZW50LGVudm1hcF9jb21tb25fcGFyc19mcmFnbWVudCxlbnZtYXBfcGFyc19mcmFnbWVudCxlbnZtYXBfcGFyc192ZXJ0ZXgsZW52bWFwX3BoeXNpY2FsX3BhcnNfZnJhZ21lbnQsZW52bWFwX3ZlcnRleCxmb2dfdmVydGV4LGZvZ19wYXJzX3ZlcnRleCxmb2dfZnJhZ21lbnQsZm9nX3BhcnNfZnJhZ21lbnQsZ3JhZGllbnRtYXBfcGFyc19mcmFnbWVudCxsaWdodG1hcF9mcmFnbWVudCxsaWdodG1hcF9wYXJzX2ZyYWdtZW50LGxpZ2h0c19sYW1iZXJ0X3ZlcnRleCxsaWdodHNfcGFyc19iZWdpbixsaWdodHNfdG9vbl9mcmFnbWVudCxsaWdodHNfdG9vbl9wYXJzX2ZyYWdtZW50LGxpZ2h0c19waG9uZ19mcmFnbWVudCxsaWdodHNfcGhvbmdfcGFyc19mcmFnbWVudCxsaWdodHNfcGh5c2ljYWxfZnJhZ21lbnQsbGlnaHRzX3BoeXNpY2FsX3BhcnNfZnJhZ21lbnQsbGlnaHRzX2ZyYWdtZW50X2JlZ2luLGxpZ2h0c19mcmFnbWVudF9tYXBzLGxpZ2h0c19mcmFnbWVudF9lbmQsbG9nZGVwdGhidWZfZnJhZ21lbnQsbG9nZGVwdGhidWZfcGFyc19mcmFnbWVudCxsb2dkZXB0aGJ1Zl9wYXJzX3ZlcnRleCxsb2dkZXB0aGJ1Zl92ZXJ0ZXgsbWFwX2ZyYWdtZW50LG1hcF9wYXJzX2ZyYWdtZW50LG1hcF9wYXJ0aWNsZV9mcmFnbWVudCxtYXBfcGFydGljbGVfcGFyc19mcmFnbWVudCxtZXRhbG5lc3NtYXBfZnJhZ21lbnQsbWV0YWxuZXNzbWFwX3BhcnNfZnJhZ21lbnQsbW9ycGhjb2xvcl92ZXJ0ZXgsbW9ycGhub3JtYWxfdmVydGV4LG1vcnBodGFyZ2V0X3BhcnNfdmVydGV4LG1vcnBodGFyZ2V0X3ZlcnRleCxub3JtYWxfZnJhZ21lbnRfYmVnaW4sbm9ybWFsX2ZyYWdtZW50X21hcHMsbm9ybWFsX3BhcnNfZnJhZ21lbnQsbm9ybWFsX3BhcnNfdmVydGV4LG5vcm1hbF92ZXJ0ZXgsbm9ybWFsbWFwX3BhcnNfZnJhZ21lbnQsY2xlYXJjb2F0X25vcm1hbF9mcmFnbWVudF9iZWdpbixjbGVhcmNvYXRfbm9ybWFsX2ZyYWdtZW50X21hcHMsY2xlYXJjb2F0X3BhcnNfZnJhZ21lbnQsb3V0cHV0X2ZyYWdtZW50LHBhY2tpbmcscHJlbXVsdGlwbGllZF9hbHBoYV9mcmFnbWVudCxwcm9qZWN0X3ZlcnRleCxkaXRoZXJpbmdfZnJhZ21lbnQsZGl0aGVyaW5nX3BhcnNfZnJhZ21lbnQscm91Z2huZXNzbWFwX2ZyYWdtZW50LHJvdWdobmVzc21hcF9wYXJzX2ZyYWdtZW50LHNoYWRvd21hcF9wYXJzX2ZyYWdtZW50LHNoYWRvd21hcF9wYXJzX3ZlcnRleCxzaGFkb3dtYXBfdmVydGV4LHNoYWRvd21hc2tfcGFyc19mcmFnbWVudCxza2luYmFzZV92ZXJ0ZXgsc2tpbm5pbmdfcGFyc192ZXJ0ZXgsc2tpbm5pbmdfdmVydGV4LHNraW5ub3JtYWxfdmVydGV4LHNwZWN1bGFybWFwX2ZyYWdtZW50LHNwZWN1bGFybWFwX3BhcnNfZnJhZ21lbnQsdG9uZW1hcHBpbmdfZnJhZ21lbnQsdG9uZW1hcHBpbmdfcGFyc19mcmFnbWVudCx0cmFuc21pc3Npb25fZnJhZ21lbnQsdHJhbnNtaXNzaW9uX3BhcnNfZnJhZ21lbnQsdXZfcGFyc19mcmFnbWVudCx1dl9wYXJzX3ZlcnRleCx1dl92ZXJ0ZXgsdXYyX3BhcnNfZnJhZ21lbnQsdXYyX3BhcnNfdmVydGV4LHV2Ml92ZXJ0ZXgsd29ybGRwb3NfdmVydGV4LGJhY2tncm91bmRfdmVydDp2ZXJ0ZXgkZyxiYWNrZ3JvdW5kX2ZyYWc6ZnJhZ21lbnQkZyxjdWJlX3ZlcnQ6dmVydGV4JGYsY3ViZV9mcmFnOmZyYWdtZW50JGYsZGVwdGhfdmVydDp2ZXJ0ZXgkZSxkZXB0aF9mcmFnOmZyYWdtZW50JGUsZGlzdGFuY2VSR0JBX3ZlcnQ6dmVydGV4JGQsZGlzdGFuY2VSR0JBX2ZyYWc6ZnJhZ21lbnQkZCxlcXVpcmVjdF92ZXJ0OnZlcnRleCRjLGVxdWlyZWN0X2ZyYWc6ZnJhZ21lbnQkYyxsaW5lZGFzaGVkX3ZlcnQ6dmVydGV4JGIsbGluZWRhc2hlZF9mcmFnOmZyYWdtZW50JGIsbWVzaGJhc2ljX3ZlcnQ6dmVydGV4JGEsbWVzaGJhc2ljX2ZyYWc6ZnJhZ21lbnQkYSxtZXNobGFtYmVydF92ZXJ0OnZlcnRleCQ5LG1lc2hsYW1iZXJ0X2ZyYWc6ZnJhZ21lbnQkOSxtZXNobWF0Y2FwX3ZlcnQ6dmVydGV4JDgsbWVzaG1hdGNhcF9mcmFnOmZyYWdtZW50JDgsbWVzaG5vcm1hbF92ZXJ0OnZlcnRleCQ3LG1lc2hub3JtYWxfZnJhZzpmcmFnbWVudCQ3LG1lc2hwaG9uZ192ZXJ0OnZlcnRleCQ2LG1lc2hwaG9uZ19mcmFnOmZyYWdtZW50JDYsbWVzaHBoeXNpY2FsX3ZlcnQ6dmVydGV4JDUsbWVzaHBoeXNpY2FsX2ZyYWc6ZnJhZ21lbnQkNSxtZXNodG9vbl92ZXJ0OnZlcnRleCQ0LG1lc2h0b29uX2ZyYWc6ZnJhZ21lbnQkNCxwb2ludHNfdmVydDp2ZXJ0ZXgkMyxwb2ludHNfZnJhZzpmcmFnbWVudCQzLHNoYWRvd192ZXJ0OnZlcnRleCQyLHNoYWRvd19mcmFnOmZyYWdtZW50JDIsc3ByaXRlX3ZlcnQ6dmVydGV4JDEsc3ByaXRlX2ZyYWc6ZnJhZ21lbnQkMX0sVW5pZm9ybXNMaWI9e2NvbW1vbjp7ZGlmZnVzZTp7dmFsdWU6bmV3IENvbG9yKDE2Nzc3MjE1KX0sb3BhY2l0eTp7dmFsdWU6MX0sbWFwOnt2YWx1ZTpudWxsfSx1dlRyYW5zZm9ybTp7dmFsdWU6bmV3IE1hdHJpeDN9LHV2MlRyYW5zZm9ybTp7dmFsdWU6bmV3IE1hdHJpeDN9LGFscGhhTWFwOnt2YWx1ZTpudWxsfSxhbHBoYVRlc3Q6e3ZhbHVlOjB9fSxzcGVjdWxhcm1hcDp7c3BlY3VsYXJNYXA6e3ZhbHVlOm51bGx9fSxlbnZtYXA6e2Vudk1hcDp7dmFsdWU6bnVsbH0sZmxpcEVudk1hcDp7dmFsdWU6LTF9LHJlZmxlY3Rpdml0eTp7dmFsdWU6MX0saW9yOnt2YWx1ZToxLjV9LHJlZnJhY3Rpb25SYXRpbzp7dmFsdWU6Ljk4fX0sYW9tYXA6e2FvTWFwOnt2YWx1ZTpudWxsfSxhb01hcEludGVuc2l0eTp7dmFsdWU6MX19LGxpZ2h0bWFwOntsaWdodE1hcDp7dmFsdWU6bnVsbH0sbGlnaHRNYXBJbnRlbnNpdHk6e3ZhbHVlOjF9fSxlbWlzc2l2ZW1hcDp7ZW1pc3NpdmVNYXA6e3ZhbHVlOm51bGx9fSxidW1wbWFwOntidW1wTWFwOnt2YWx1ZTpudWxsfSxidW1wU2NhbGU6e3ZhbHVlOjF9fSxub3JtYWxtYXA6e25vcm1hbE1hcDp7dmFsdWU6bnVsbH0sbm9ybWFsU2NhbGU6e3ZhbHVlOm5ldyBWZWN0b3IyKDEsMSl9fSxkaXNwbGFjZW1lbnRtYXA6e2Rpc3BsYWNlbWVudE1hcDp7dmFsdWU6bnVsbH0sZGlzcGxhY2VtZW50U2NhbGU6e3ZhbHVlOjF9LGRpc3BsYWNlbWVudEJpYXM6e3ZhbHVlOjB9fSxyb3VnaG5lc3NtYXA6e3JvdWdobmVzc01hcDp7dmFsdWU6bnVsbH19LG1ldGFsbmVzc21hcDp7bWV0YWxuZXNzTWFwOnt2YWx1ZTpudWxsfX0sZ3JhZGllbnRtYXA6e2dyYWRpZW50TWFwOnt2YWx1ZTpudWxsfX0sZm9nOntmb2dEZW5zaXR5Ont2YWx1ZToyNWUtNX0sZm9nTmVhcjp7dmFsdWU6MX0sZm9nRmFyOnt2YWx1ZToyZTN9LGZvZ0NvbG9yOnt2YWx1ZTpuZXcgQ29sb3IoMTY3NzcyMTUpfX0sbGlnaHRzOnthbWJpZW50TGlnaHRDb2xvcjp7dmFsdWU6W119LGxpZ2h0UHJvYmU6e3ZhbHVlOltdfSxkaXJlY3Rpb25hbExpZ2h0czp7dmFsdWU6W10scHJvcGVydGllczp7ZGlyZWN0aW9uOnt9LGNvbG9yOnt9fX0sZGlyZWN0aW9uYWxMaWdodFNoYWRvd3M6e3ZhbHVlOltdLHByb3BlcnRpZXM6e3NoYWRvd0JpYXM6e30sc2hhZG93Tm9ybWFsQmlhczp7fSxzaGFkb3dSYWRpdXM6e30sc2hhZG93TWFwU2l6ZTp7fX19LGRpcmVjdGlvbmFsU2hhZG93TWFwOnt2YWx1ZTpbXX0sZGlyZWN0aW9uYWxTaGFkb3dNYXRyaXg6e3ZhbHVlOltdfSxzcG90TGlnaHRzOnt2YWx1ZTpbXSxwcm9wZXJ0aWVzOntjb2xvcjp7fSxwb3NpdGlvbjp7fSxkaXJlY3Rpb246e30sZGlzdGFuY2U6e30sY29uZUNvczp7fSxwZW51bWJyYUNvczp7fSxkZWNheTp7fX19LHNwb3RMaWdodFNoYWRvd3M6e3ZhbHVlOltdLHByb3BlcnRpZXM6e3NoYWRvd0JpYXM6e30sc2hhZG93Tm9ybWFsQmlhczp7fSxzaGFkb3dSYWRpdXM6e30sc2hhZG93TWFwU2l6ZTp7fX19LHNwb3RTaGFkb3dNYXA6e3ZhbHVlOltdfSxzcG90U2hhZG93TWF0cml4Ont2YWx1ZTpbXX0scG9pbnRMaWdodHM6e3ZhbHVlOltdLHByb3BlcnRpZXM6e2NvbG9yOnt9LHBvc2l0aW9uOnt9LGRlY2F5Ont9LGRpc3RhbmNlOnt9fX0scG9pbnRMaWdodFNoYWRvd3M6e3ZhbHVlOltdLHByb3BlcnRpZXM6e3NoYWRvd0JpYXM6e30sc2hhZG93Tm9ybWFsQmlhczp7fSxzaGFkb3dSYWRpdXM6e30sc2hhZG93TWFwU2l6ZTp7fSxzaGFkb3dDYW1lcmFOZWFyOnt9LHNoYWRvd0NhbWVyYUZhcjp7fX19LHBvaW50U2hhZG93TWFwOnt2YWx1ZTpbXX0scG9pbnRTaGFkb3dNYXRyaXg6e3ZhbHVlOltdfSxoZW1pc3BoZXJlTGlnaHRzOnt2YWx1ZTpbXSxwcm9wZXJ0aWVzOntkaXJlY3Rpb246e30sc2t5Q29sb3I6e30sZ3JvdW5kQ29sb3I6e319fSxyZWN0QXJlYUxpZ2h0czp7dmFsdWU6W10scHJvcGVydGllczp7Y29sb3I6e30scG9zaXRpb246e30sd2lkdGg6e30saGVpZ2h0Ont9fX0sbHRjXzE6e3ZhbHVlOm51bGx9LGx0Y18yOnt2YWx1ZTpudWxsfX0scG9pbnRzOntkaWZmdXNlOnt2YWx1ZTpuZXcgQ29sb3IoMTY3NzcyMTUpfSxvcGFjaXR5Ont2YWx1ZToxfSxzaXplOnt2YWx1ZToxfSxzY2FsZTp7dmFsdWU6MX0sbWFwOnt2YWx1ZTpudWxsfSxhbHBoYU1hcDp7dmFsdWU6bnVsbH0sYWxwaGFUZXN0Ont2YWx1ZTowfSx1dlRyYW5zZm9ybTp7dmFsdWU6bmV3IE1hdHJpeDN9fSxzcHJpdGU6e2RpZmZ1c2U6e3ZhbHVlOm5ldyBDb2xvcigxNjc3NzIxNSl9LG9wYWNpdHk6e3ZhbHVlOjF9LGNlbnRlcjp7dmFsdWU6bmV3IFZlY3RvcjIoLjUsLjUpfSxyb3RhdGlvbjp7dmFsdWU6MH0sbWFwOnt2YWx1ZTpudWxsfSxhbHBoYU1hcDp7dmFsdWU6bnVsbH0sYWxwaGFUZXN0Ont2YWx1ZTowfSx1dlRyYW5zZm9ybTp7dmFsdWU6bmV3IE1hdHJpeDN9fX0sU2hhZGVyTGliPXtiYXNpYzp7dW5pZm9ybXM6bWVyZ2VVbmlmb3JtcyhbVW5pZm9ybXNMaWIuY29tbW9uLFVuaWZvcm1zTGliLnNwZWN1bGFybWFwLFVuaWZvcm1zTGliLmVudm1hcCxVbmlmb3Jtc0xpYi5hb21hcCxVbmlmb3Jtc0xpYi5saWdodG1hcCxVbmlmb3Jtc0xpYi5mb2ddKSx2ZXJ0ZXhTaGFkZXI6U2hhZGVyQ2h1bmsubWVzaGJhc2ljX3ZlcnQsZnJhZ21lbnRTaGFkZXI6U2hhZGVyQ2h1bmsubWVzaGJhc2ljX2ZyYWd9LGxhbWJlcnQ6e3VuaWZvcm1zOm1lcmdlVW5pZm9ybXMoW1VuaWZvcm1zTGliLmNvbW1vbixVbmlmb3Jtc0xpYi5zcGVjdWxhcm1hcCxVbmlmb3Jtc0xpYi5lbnZtYXAsVW5pZm9ybXNMaWIuYW9tYXAsVW5pZm9ybXNMaWIubGlnaHRtYXAsVW5pZm9ybXNMaWIuZW1pc3NpdmVtYXAsVW5pZm9ybXNMaWIuZm9nLFVuaWZvcm1zTGliLmxpZ2h0cyx7ZW1pc3NpdmU6e3ZhbHVlOm5ldyBDb2xvcigwKX19XSksdmVydGV4U2hhZGVyOlNoYWRlckNodW5rLm1lc2hsYW1iZXJ0X3ZlcnQsZnJhZ21lbnRTaGFkZXI6U2hhZGVyQ2h1bmsubWVzaGxhbWJlcnRfZnJhZ30scGhvbmc6e3VuaWZvcm1zOm1lcmdlVW5pZm9ybXMoW1VuaWZvcm1zTGliLmNvbW1vbixVbmlmb3Jtc0xpYi5zcGVjdWxhcm1hcCxVbmlmb3Jtc0xpYi5lbnZtYXAsVW5pZm9ybXNMaWIuYW9tYXAsVW5pZm9ybXNMaWIubGlnaHRtYXAsVW5pZm9ybXNMaWIuZW1pc3NpdmVtYXAsVW5pZm9ybXNMaWIuYnVtcG1hcCxVbmlmb3Jtc0xpYi5ub3JtYWxtYXAsVW5pZm9ybXNMaWIuZGlzcGxhY2VtZW50bWFwLFVuaWZvcm1zTGliLmZvZyxVbmlmb3Jtc0xpYi5saWdodHMse2VtaXNzaXZlOnt2YWx1ZTpuZXcgQ29sb3IoMCl9LHNwZWN1bGFyOnt2YWx1ZTpuZXcgQ29sb3IoMTExODQ4MSl9LHNoaW5pbmVzczp7dmFsdWU6MzB9fV0pLHZlcnRleFNoYWRlcjpTaGFkZXJDaHVuay5tZXNocGhvbmdfdmVydCxmcmFnbWVudFNoYWRlcjpTaGFkZXJDaHVuay5tZXNocGhvbmdfZnJhZ30sc3RhbmRhcmQ6e3VuaWZvcm1zOm1lcmdlVW5pZm9ybXMoW1VuaWZvcm1zTGliLmNvbW1vbixVbmlmb3Jtc0xpYi5lbnZtYXAsVW5pZm9ybXNMaWIuYW9tYXAsVW5pZm9ybXNMaWIubGlnaHRtYXAsVW5pZm9ybXNMaWIuZW1pc3NpdmVtYXAsVW5pZm9ybXNMaWIuYnVtcG1hcCxVbmlmb3Jtc0xpYi5ub3JtYWxtYXAsVW5pZm9ybXNMaWIuZGlzcGxhY2VtZW50bWFwLFVuaWZvcm1zTGliLnJvdWdobmVzc21hcCxVbmlmb3Jtc0xpYi5tZXRhbG5lc3NtYXAsVW5pZm9ybXNMaWIuZm9nLFVuaWZvcm1zTGliLmxpZ2h0cyx7ZW1pc3NpdmU6e3ZhbHVlOm5ldyBDb2xvcigwKX0scm91Z2huZXNzOnt2YWx1ZToxfSxtZXRhbG5lc3M6e3ZhbHVlOjB9LGVudk1hcEludGVuc2l0eTp7dmFsdWU6MX19XSksdmVydGV4U2hhZGVyOlNoYWRlckNodW5rLm1lc2hwaHlzaWNhbF92ZXJ0LGZyYWdtZW50U2hhZGVyOlNoYWRlckNodW5rLm1lc2hwaHlzaWNhbF9mcmFnfSx0b29uOnt1bmlmb3JtczptZXJnZVVuaWZvcm1zKFtVbmlmb3Jtc0xpYi5jb21tb24sVW5pZm9ybXNMaWIuYW9tYXAsVW5pZm9ybXNMaWIubGlnaHRtYXAsVW5pZm9ybXNMaWIuZW1pc3NpdmVtYXAsVW5pZm9ybXNMaWIuYnVtcG1hcCxVbmlmb3Jtc0xpYi5ub3JtYWxtYXAsVW5pZm9ybXNMaWIuZGlzcGxhY2VtZW50bWFwLFVuaWZvcm1zTGliLmdyYWRpZW50bWFwLFVuaWZvcm1zTGliLmZvZyxVbmlmb3Jtc0xpYi5saWdodHMse2VtaXNzaXZlOnt2YWx1ZTpuZXcgQ29sb3IoMCl9fV0pLHZlcnRleFNoYWRlcjpTaGFkZXJDaHVuay5tZXNodG9vbl92ZXJ0LGZyYWdtZW50U2hhZGVyOlNoYWRlckNodW5rLm1lc2h0b29uX2ZyYWd9LG1hdGNhcDp7dW5pZm9ybXM6bWVyZ2VVbmlmb3JtcyhbVW5pZm9ybXNMaWIuY29tbW9uLFVuaWZvcm1zTGliLmJ1bXBtYXAsVW5pZm9ybXNMaWIubm9ybWFsbWFwLFVuaWZvcm1zTGliLmRpc3BsYWNlbWVudG1hcCxVbmlmb3Jtc0xpYi5mb2cse21hdGNhcDp7dmFsdWU6bnVsbH19XSksdmVydGV4U2hhZGVyOlNoYWRlckNodW5rLm1lc2htYXRjYXBfdmVydCxmcmFnbWVudFNoYWRlcjpTaGFkZXJDaHVuay5tZXNobWF0Y2FwX2ZyYWd9LHBvaW50czp7dW5pZm9ybXM6bWVyZ2VVbmlmb3JtcyhbVW5pZm9ybXNMaWIucG9pbnRzLFVuaWZvcm1zTGliLmZvZ10pLHZlcnRleFNoYWRlcjpTaGFkZXJDaHVuay5wb2ludHNfdmVydCxmcmFnbWVudFNoYWRlcjpTaGFkZXJDaHVuay5wb2ludHNfZnJhZ30sZGFzaGVkOnt1bmlmb3JtczptZXJnZVVuaWZvcm1zKFtVbmlmb3Jtc0xpYi5jb21tb24sVW5pZm9ybXNMaWIuZm9nLHtzY2FsZTp7dmFsdWU6MX0sZGFzaFNpemU6e3ZhbHVlOjF9LHRvdGFsU2l6ZTp7dmFsdWU6Mn19XSksdmVydGV4U2hhZGVyOlNoYWRlckNodW5rLmxpbmVkYXNoZWRfdmVydCxmcmFnbWVudFNoYWRlcjpTaGFkZXJDaHVuay5saW5lZGFzaGVkX2ZyYWd9LGRlcHRoOnt1bmlmb3JtczptZXJnZVVuaWZvcm1zKFtVbmlmb3Jtc0xpYi5jb21tb24sVW5pZm9ybXNMaWIuZGlzcGxhY2VtZW50bWFwXSksdmVydGV4U2hhZGVyOlNoYWRlckNodW5rLmRlcHRoX3ZlcnQsZnJhZ21lbnRTaGFkZXI6U2hhZGVyQ2h1bmsuZGVwdGhfZnJhZ30sbm9ybWFsOnt1bmlmb3JtczptZXJnZVVuaWZvcm1zKFtVbmlmb3Jtc0xpYi5jb21tb24sVW5pZm9ybXNMaWIuYnVtcG1hcCxVbmlmb3Jtc0xpYi5ub3JtYWxtYXAsVW5pZm9ybXNMaWIuZGlzcGxhY2VtZW50bWFwLHtvcGFjaXR5Ont2YWx1ZToxfX1dKSx2ZXJ0ZXhTaGFkZXI6U2hhZGVyQ2h1bmsubWVzaG5vcm1hbF92ZXJ0LGZyYWdtZW50U2hhZGVyOlNoYWRlckNodW5rLm1lc2hub3JtYWxfZnJhZ30sc3ByaXRlOnt1bmlmb3JtczptZXJnZVVuaWZvcm1zKFtVbmlmb3Jtc0xpYi5zcHJpdGUsVW5pZm9ybXNMaWIuZm9nXSksdmVydGV4U2hhZGVyOlNoYWRlckNodW5rLnNwcml0ZV92ZXJ0LGZyYWdtZW50U2hhZGVyOlNoYWRlckNodW5rLnNwcml0ZV9mcmFnfSxiYWNrZ3JvdW5kOnt1bmlmb3Jtczp7dXZUcmFuc2Zvcm06e3ZhbHVlOm5ldyBNYXRyaXgzfSx0MkQ6e3ZhbHVlOm51bGx9fSx2ZXJ0ZXhTaGFkZXI6U2hhZGVyQ2h1bmsuYmFja2dyb3VuZF92ZXJ0LGZyYWdtZW50U2hhZGVyOlNoYWRlckNodW5rLmJhY2tncm91bmRfZnJhZ30sY3ViZTp7dW5pZm9ybXM6bWVyZ2VVbmlmb3JtcyhbVW5pZm9ybXNMaWIuZW52bWFwLHtvcGFjaXR5Ont2YWx1ZToxfX1dKSx2ZXJ0ZXhTaGFkZXI6U2hhZGVyQ2h1bmsuY3ViZV92ZXJ0LGZyYWdtZW50U2hhZGVyOlNoYWRlckNodW5rLmN1YmVfZnJhZ30sZXF1aXJlY3Q6e3VuaWZvcm1zOnt0RXF1aXJlY3Q6e3ZhbHVlOm51bGx9fSx2ZXJ0ZXhTaGFkZXI6U2hhZGVyQ2h1bmsuZXF1aXJlY3RfdmVydCxmcmFnbWVudFNoYWRlcjpTaGFkZXJDaHVuay5lcXVpcmVjdF9mcmFnfSxkaXN0YW5jZVJHQkE6e3VuaWZvcm1zOm1lcmdlVW5pZm9ybXMoW1VuaWZvcm1zTGliLmNvbW1vbixVbmlmb3Jtc0xpYi5kaXNwbGFjZW1lbnRtYXAse3JlZmVyZW5jZVBvc2l0aW9uOnt2YWx1ZTpuZXcgVmVjdG9yM30sbmVhckRpc3RhbmNlOnt2YWx1ZToxfSxmYXJEaXN0YW5jZTp7dmFsdWU6MWUzfX1dKSx2ZXJ0ZXhTaGFkZXI6U2hhZGVyQ2h1bmsuZGlzdGFuY2VSR0JBX3ZlcnQsZnJhZ21lbnRTaGFkZXI6U2hhZGVyQ2h1bmsuZGlzdGFuY2VSR0JBX2ZyYWd9LHNoYWRvdzp7dW5pZm9ybXM6bWVyZ2VVbmlmb3JtcyhbVW5pZm9ybXNMaWIubGlnaHRzLFVuaWZvcm1zTGliLmZvZyx7Y29sb3I6e3ZhbHVlOm5ldyBDb2xvcigwKX0sb3BhY2l0eTp7dmFsdWU6MX19XSksdmVydGV4U2hhZGVyOlNoYWRlckNodW5rLnNoYWRvd192ZXJ0LGZyYWdtZW50U2hhZGVyOlNoYWRlckNodW5rLnNoYWRvd19mcmFnfX07U2hhZGVyTGliLnBoeXNpY2FsPXt1bmlmb3JtczptZXJnZVVuaWZvcm1zKFtTaGFkZXJMaWIuc3RhbmRhcmQudW5pZm9ybXMse2NsZWFyY29hdDp7dmFsdWU6MH0sY2xlYXJjb2F0TWFwOnt2YWx1ZTpudWxsfSxjbGVhcmNvYXRSb3VnaG5lc3M6e3ZhbHVlOjB9LGNsZWFyY29hdFJvdWdobmVzc01hcDp7dmFsdWU6bnVsbH0sY2xlYXJjb2F0Tm9ybWFsU2NhbGU6e3ZhbHVlOm5ldyBWZWN0b3IyKDEsMSl9LGNsZWFyY29hdE5vcm1hbE1hcDp7dmFsdWU6bnVsbH0sc2hlZW46e3ZhbHVlOjB9LHNoZWVuQ29sb3I6e3ZhbHVlOm5ldyBDb2xvcigwKX0sc2hlZW5Db2xvck1hcDp7dmFsdWU6bnVsbH0sc2hlZW5Sb3VnaG5lc3M6e3ZhbHVlOjF9LHNoZWVuUm91Z2huZXNzTWFwOnt2YWx1ZTpudWxsfSx0cmFuc21pc3Npb246e3ZhbHVlOjB9LHRyYW5zbWlzc2lvbk1hcDp7dmFsdWU6bnVsbH0sdHJhbnNtaXNzaW9uU2FtcGxlclNpemU6e3ZhbHVlOm5ldyBWZWN0b3IyfSx0cmFuc21pc3Npb25TYW1wbGVyTWFwOnt2YWx1ZTpudWxsfSx0aGlja25lc3M6e3ZhbHVlOjB9LHRoaWNrbmVzc01hcDp7dmFsdWU6bnVsbH0sYXR0ZW51YXRpb25EaXN0YW5jZTp7dmFsdWU6MH0sYXR0ZW51YXRpb25Db2xvcjp7dmFsdWU6bmV3IENvbG9yKDApfSxzcGVjdWxhckludGVuc2l0eTp7dmFsdWU6MX0sc3BlY3VsYXJJbnRlbnNpdHlNYXA6e3ZhbHVlOm51bGx9LHNwZWN1bGFyQ29sb3I6e3ZhbHVlOm5ldyBDb2xvcigxLDEsMSl9LHNwZWN1bGFyQ29sb3JNYXA6e3ZhbHVlOm51bGx9fV0pLHZlcnRleFNoYWRlcjpTaGFkZXJDaHVuay5tZXNocGh5c2ljYWxfdmVydCxmcmFnbWVudFNoYWRlcjpTaGFkZXJDaHVuay5tZXNocGh5c2ljYWxfZnJhZ307ZnVuY3Rpb24gV2ViR0xCYWNrZ3JvdW5kKHMsZSx0LG4saSxyKXtjb25zdCBhPW5ldyBDb2xvcigwKTtsZXQgbz1pPT09ITA/MDoxLGwsYyxoPW51bGwsdT0wLGQ9bnVsbDtmdW5jdGlvbiBmKF8seSl7bGV0IG09ITEscD15LmlzU2NlbmU9PT0hMD95LmJhY2tncm91bmQ6bnVsbDtwJiZwLmlzVGV4dHVyZSYmKHA9ZS5nZXQocCkpO2NvbnN0IFQ9cy54cix3PVQuZ2V0U2Vzc2lvbiYmVC5nZXRTZXNzaW9uKCk7dyYmdy5lbnZpcm9ubWVudEJsZW5kTW9kZT09PSJhZGRpdGl2ZSImJihwPW51bGwpLHA9PT1udWxsP2coYSxvKTpwJiZwLmlzQ29sb3ImJihnKHAsMSksbT0hMCksKHMuYXV0b0NsZWFyfHxtKSYmcy5jbGVhcihzLmF1dG9DbGVhckNvbG9yLHMuYXV0b0NsZWFyRGVwdGgscy5hdXRvQ2xlYXJTdGVuY2lsKSxwJiYocC5pc0N1YmVUZXh0dXJlfHxwLm1hcHBpbmc9PT0zMDYpPyhjPT09dm9pZCAwJiYoYz1uZXcgTWVzaChuZXcgQm94R2VvbWV0cnkoMSwxLDEpLG5ldyBTaGFkZXJNYXRlcmlhbCh7bmFtZToiQmFja2dyb3VuZEN1YmVNYXRlcmlhbCIsdW5pZm9ybXM6Y2xvbmVVbmlmb3JtcyhTaGFkZXJMaWIuY3ViZS51bmlmb3JtcyksdmVydGV4U2hhZGVyOlNoYWRlckxpYi5jdWJlLnZlcnRleFNoYWRlcixmcmFnbWVudFNoYWRlcjpTaGFkZXJMaWIuY3ViZS5mcmFnbWVudFNoYWRlcixzaWRlOjEsZGVwdGhUZXN0OiExLGRlcHRoV3JpdGU6ITEsZm9nOiExfSkpLGMuZ2VvbWV0cnkuZGVsZXRlQXR0cmlidXRlKCJub3JtYWwiKSxjLmdlb21ldHJ5LmRlbGV0ZUF0dHJpYnV0ZSgidXYiKSxjLm9uQmVmb3JlUmVuZGVyPWZ1bmN0aW9uKFMsUixEKXt0aGlzLm1hdHJpeFdvcmxkLmNvcHlQb3NpdGlvbihELm1hdHJpeFdvcmxkKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGMubWF0ZXJpYWwsImVudk1hcCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVuaWZvcm1zLmVudk1hcC52YWx1ZX19KSxuLnVwZGF0ZShjKSksYy5tYXRlcmlhbC51bmlmb3Jtcy5lbnZNYXAudmFsdWU9cCxjLm1hdGVyaWFsLnVuaWZvcm1zLmZsaXBFbnZNYXAudmFsdWU9cC5pc0N1YmVUZXh0dXJlJiZwLmlzUmVuZGVyVGFyZ2V0VGV4dHVyZT09PSExPy0xOjEsKGghPT1wfHx1IT09cC52ZXJzaW9ufHxkIT09cy50b25lTWFwcGluZykmJihjLm1hdGVyaWFsLm5lZWRzVXBkYXRlPSEwLGg9cCx1PXAudmVyc2lvbixkPXMudG9uZU1hcHBpbmcpLF8udW5zaGlmdChjLGMuZ2VvbWV0cnksYy5tYXRlcmlhbCwwLDAsbnVsbCkpOnAmJnAuaXNUZXh0dXJlJiYobD09PXZvaWQgMCYmKGw9bmV3IE1lc2gobmV3IFBsYW5lR2VvbWV0cnkoMiwyKSxuZXcgU2hhZGVyTWF0ZXJpYWwoe25hbWU6IkJhY2tncm91bmRNYXRlcmlhbCIsdW5pZm9ybXM6Y2xvbmVVbmlmb3JtcyhTaGFkZXJMaWIuYmFja2dyb3VuZC51bmlmb3JtcyksdmVydGV4U2hhZGVyOlNoYWRlckxpYi5iYWNrZ3JvdW5kLnZlcnRleFNoYWRlcixmcmFnbWVudFNoYWRlcjpTaGFkZXJMaWIuYmFja2dyb3VuZC5mcmFnbWVudFNoYWRlcixzaWRlOjAsZGVwdGhUZXN0OiExLGRlcHRoV3JpdGU6ITEsZm9nOiExfSkpLGwuZ2VvbWV0cnkuZGVsZXRlQXR0cmlidXRlKCJub3JtYWwiKSxPYmplY3QuZGVmaW5lUHJvcGVydHkobC5tYXRlcmlhbCwibWFwIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudW5pZm9ybXMudDJELnZhbHVlfX0pLG4udXBkYXRlKGwpKSxsLm1hdGVyaWFsLnVuaWZvcm1zLnQyRC52YWx1ZT1wLHAubWF0cml4QXV0b1VwZGF0ZT09PSEwJiZwLnVwZGF0ZU1hdHJpeCgpLGwubWF0ZXJpYWwudW5pZm9ybXMudXZUcmFuc2Zvcm0udmFsdWUuY29weShwLm1hdHJpeCksKGghPT1wfHx1IT09cC52ZXJzaW9ufHxkIT09cy50b25lTWFwcGluZykmJihsLm1hdGVyaWFsLm5lZWRzVXBkYXRlPSEwLGg9cCx1PXAudmVyc2lvbixkPXMudG9uZU1hcHBpbmcpLF8udW5zaGlmdChsLGwuZ2VvbWV0cnksbC5tYXRlcmlhbCwwLDAsbnVsbCkpfWZ1bmN0aW9uIGcoXyx5KXt0LmJ1ZmZlcnMuY29sb3Iuc2V0Q2xlYXIoXy5yLF8uZyxfLmIseSxyKX1yZXR1cm57Z2V0Q2xlYXJDb2xvcjpmdW5jdGlvbigpe3JldHVybiBhfSxzZXRDbGVhckNvbG9yOmZ1bmN0aW9uKF8seT0xKXthLnNldChfKSxvPXksZyhhLG8pfSxnZXRDbGVhckFscGhhOmZ1bmN0aW9uKCl7cmV0dXJuIG99LHNldENsZWFyQWxwaGE6ZnVuY3Rpb24oXyl7bz1fLGcoYSxvKX0scmVuZGVyOmZ9fWZ1bmN0aW9uIFdlYkdMQmluZGluZ1N0YXRlcyhzLGUsdCxuKXtjb25zdCBpPXMuZ2V0UGFyYW1ldGVyKDM0OTIxKSxyPW4uaXNXZWJHTDI/bnVsbDplLmdldCgiT0VTX3ZlcnRleF9hcnJheV9vYmplY3QiKSxhPW4uaXNXZWJHTDJ8fHIhPT1udWxsLG89e30sbD1fKG51bGwpO2xldCBjPWw7ZnVuY3Rpb24gaChQLEIsVSxGLEcpe2xldCBMPSExO2lmKGEpe2NvbnN0IFc9ZyhGLFUsQik7YyE9PVcmJihjPVcsZChjLm9iamVjdCkpLEw9eShGLEcpLEwmJm0oRixHKX1lbHNle2NvbnN0IFc9Qi53aXJlZnJhbWU9PT0hMDsoYy5nZW9tZXRyeSE9PUYuaWR8fGMucHJvZ3JhbSE9PVUuaWR8fGMud2lyZWZyYW1lIT09VykmJihjLmdlb21ldHJ5PUYuaWQsYy5wcm9ncmFtPVUuaWQsYy53aXJlZnJhbWU9VyxMPSEwKX1QLmlzSW5zdGFuY2VkTWVzaD09PSEwJiYoTD0hMCksRyE9PW51bGwmJnQudXBkYXRlKEcsMzQ5NjMpLEwmJihEKFAsQixVLEYpLEchPT1udWxsJiZzLmJpbmRCdWZmZXIoMzQ5NjMsdC5nZXQoRykuYnVmZmVyKSl9ZnVuY3Rpb24gdSgpe3JldHVybiBuLmlzV2ViR0wyP3MuY3JlYXRlVmVydGV4QXJyYXkoKTpyLmNyZWF0ZVZlcnRleEFycmF5T0VTKCl9ZnVuY3Rpb24gZChQKXtyZXR1cm4gbi5pc1dlYkdMMj9zLmJpbmRWZXJ0ZXhBcnJheShQKTpyLmJpbmRWZXJ0ZXhBcnJheU9FUyhQKX1mdW5jdGlvbiBmKFApe3JldHVybiBuLmlzV2ViR0wyP3MuZGVsZXRlVmVydGV4QXJyYXkoUCk6ci5kZWxldGVWZXJ0ZXhBcnJheU9FUyhQKX1mdW5jdGlvbiBnKFAsQixVKXtjb25zdCBGPVUud2lyZWZyYW1lPT09ITA7bGV0IEc9b1tQLmlkXTtHPT09dm9pZCAwJiYoRz17fSxvW1AuaWRdPUcpO2xldCBMPUdbQi5pZF07TD09PXZvaWQgMCYmKEw9e30sR1tCLmlkXT1MKTtsZXQgVz1MW0ZdO3JldHVybiBXPT09dm9pZCAwJiYoVz1fKHUoKSksTFtGXT1XKSxXfWZ1bmN0aW9uIF8oUCl7Y29uc3QgQj1bXSxVPVtdLEY9W107Zm9yKGxldCBHPTA7RzxpO0crKylCW0ddPTAsVVtHXT0wLEZbR109MDtyZXR1cm57Z2VvbWV0cnk6bnVsbCxwcm9ncmFtOm51bGwsd2lyZWZyYW1lOiExLG5ld0F0dHJpYnV0ZXM6QixlbmFibGVkQXR0cmlidXRlczpVLGF0dHJpYnV0ZURpdmlzb3JzOkYsb2JqZWN0OlAsYXR0cmlidXRlczp7fSxpbmRleDpudWxsfX1mdW5jdGlvbiB5KFAsQil7Y29uc3QgVT1jLmF0dHJpYnV0ZXMsRj1QLmF0dHJpYnV0ZXM7bGV0IEc9MDtmb3IoY29uc3QgTCBpbiBGKXtjb25zdCBXPVVbTF0sWj1GW0xdO2lmKFc9PT12b2lkIDB8fFcuYXR0cmlidXRlIT09Wnx8Vy5kYXRhIT09Wi5kYXRhKXJldHVybiEwO0crK31yZXR1cm4gYy5hdHRyaWJ1dGVzTnVtIT09R3x8Yy5pbmRleCE9PUJ9ZnVuY3Rpb24gbShQLEIpe2NvbnN0IFU9e30sRj1QLmF0dHJpYnV0ZXM7bGV0IEc9MDtmb3IoY29uc3QgTCBpbiBGKXtjb25zdCBXPUZbTF0sWj17fTtaLmF0dHJpYnV0ZT1XLFcuZGF0YSYmKFouZGF0YT1XLmRhdGEpLFVbTF09WixHKyt9Yy5hdHRyaWJ1dGVzPVUsYy5hdHRyaWJ1dGVzTnVtPUcsYy5pbmRleD1CfWZ1bmN0aW9uIHAoKXtjb25zdCBQPWMubmV3QXR0cmlidXRlcztmb3IobGV0IEI9MCxVPVAubGVuZ3RoO0I8VTtCKyspUFtCXT0wfWZ1bmN0aW9uIFQoUCl7dyhQLDApfWZ1bmN0aW9uIHcoUCxCKXtjb25zdCBVPWMubmV3QXR0cmlidXRlcyxGPWMuZW5hYmxlZEF0dHJpYnV0ZXMsRz1jLmF0dHJpYnV0ZURpdmlzb3JzO1VbUF09MSxGW1BdPT09MCYmKHMuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoUCksRltQXT0xKSxHW1BdIT09QiYmKChuLmlzV2ViR0wyP3M6ZS5nZXQoIkFOR0xFX2luc3RhbmNlZF9hcnJheXMiKSlbbi5pc1dlYkdMMj8idmVydGV4QXR0cmliRGl2aXNvciI6InZlcnRleEF0dHJpYkRpdmlzb3JBTkdMRSJdKFAsQiksR1tQXT1CKX1mdW5jdGlvbiBTKCl7Y29uc3QgUD1jLm5ld0F0dHJpYnV0ZXMsQj1jLmVuYWJsZWRBdHRyaWJ1dGVzO2ZvcihsZXQgVT0wLEY9Qi5sZW5ndGg7VTxGO1UrKylCW1VdIT09UFtVXSYmKHMuZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5KFUpLEJbVV09MCl9ZnVuY3Rpb24gUihQLEIsVSxGLEcsTCl7bi5pc1dlYkdMMj09PSEwJiYoVT09PTUxMjR8fFU9PT01MTI1KT9zLnZlcnRleEF0dHJpYklQb2ludGVyKFAsQixVLEcsTCk6cy52ZXJ0ZXhBdHRyaWJQb2ludGVyKFAsQixVLEYsRyxMKX1mdW5jdGlvbiBEKFAsQixVLEYpe2lmKG4uaXNXZWJHTDI9PT0hMSYmKFAuaXNJbnN0YW5jZWRNZXNofHxGLmlzSW5zdGFuY2VkQnVmZmVyR2VvbWV0cnkpJiZlLmdldCgiQU5HTEVfaW5zdGFuY2VkX2FycmF5cyIpPT09bnVsbClyZXR1cm47cCgpO2NvbnN0IEc9Ri5hdHRyaWJ1dGVzLEw9VS5nZXRBdHRyaWJ1dGVzKCksVz1CLmRlZmF1bHRBdHRyaWJ1dGVWYWx1ZXM7Zm9yKGNvbnN0IFogaW4gTCl7Y29uc3QgWT1MW1pdO2lmKFkubG9jYXRpb24+PTApe2xldCBKPUdbWl07aWYoSj09PXZvaWQgMCYmKFo9PT0iaW5zdGFuY2VNYXRyaXgiJiZQLmluc3RhbmNlTWF0cml4JiYoSj1QLmluc3RhbmNlTWF0cml4KSxaPT09Imluc3RhbmNlQ29sb3IiJiZQLmluc3RhbmNlQ29sb3ImJihKPVAuaW5zdGFuY2VDb2xvcikpLEohPT12b2lkIDApe2NvbnN0IGZlPUoubm9ybWFsaXplZCxQZT1KLml0ZW1TaXplLG1lPXQuZ2V0KEopO2lmKG1lPT09dm9pZCAwKWNvbnRpbnVlO2NvbnN0ICQ9bWUuYnVmZmVyLERlPW1lLnR5cGUsU2U9bWUuYnl0ZXNQZXJFbGVtZW50O2lmKEouaXNJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZSl7Y29uc3QgbGU9Si5kYXRhLGNlPWxlLnN0cmlkZSxBZT1KLm9mZnNldDtpZihsZS5pc0luc3RhbmNlZEludGVybGVhdmVkQnVmZmVyKXtmb3IobGV0IFY9MDtWPFkubG9jYXRpb25TaXplO1YrKyl3KFkubG9jYXRpb24rVixsZS5tZXNoUGVyQXR0cmlidXRlKTtQLmlzSW5zdGFuY2VkTWVzaCE9PSEwJiZGLl9tYXhJbnN0YW5jZUNvdW50PT09dm9pZCAwJiYoRi5fbWF4SW5zdGFuY2VDb3VudD1sZS5tZXNoUGVyQXR0cmlidXRlKmxlLmNvdW50KX1lbHNlIGZvcihsZXQgVj0wO1Y8WS5sb2NhdGlvblNpemU7VisrKVQoWS5sb2NhdGlvbitWKTtzLmJpbmRCdWZmZXIoMzQ5NjIsJCk7Zm9yKGxldCBWPTA7VjxZLmxvY2F0aW9uU2l6ZTtWKyspUihZLmxvY2F0aW9uK1YsUGUvWS5sb2NhdGlvblNpemUsRGUsZmUsY2UqU2UsKEFlK1BlL1kubG9jYXRpb25TaXplKlYpKlNlKX1lbHNle2lmKEouaXNJbnN0YW5jZWRCdWZmZXJBdHRyaWJ1dGUpe2ZvcihsZXQgbGU9MDtsZTxZLmxvY2F0aW9uU2l6ZTtsZSsrKXcoWS5sb2NhdGlvbitsZSxKLm1lc2hQZXJBdHRyaWJ1dGUpO1AuaXNJbnN0YW5jZWRNZXNoIT09ITAmJkYuX21heEluc3RhbmNlQ291bnQ9PT12b2lkIDAmJihGLl9tYXhJbnN0YW5jZUNvdW50PUoubWVzaFBlckF0dHJpYnV0ZSpKLmNvdW50KX1lbHNlIGZvcihsZXQgbGU9MDtsZTxZLmxvY2F0aW9uU2l6ZTtsZSsrKVQoWS5sb2NhdGlvbitsZSk7cy5iaW5kQnVmZmVyKDM0OTYyLCQpO2ZvcihsZXQgbGU9MDtsZTxZLmxvY2F0aW9uU2l6ZTtsZSsrKVIoWS5sb2NhdGlvbitsZSxQZS9ZLmxvY2F0aW9uU2l6ZSxEZSxmZSxQZSpTZSxQZS9ZLmxvY2F0aW9uU2l6ZSpsZSpTZSl9fWVsc2UgaWYoVyE9PXZvaWQgMCl7Y29uc3QgZmU9V1taXTtpZihmZSE9PXZvaWQgMClzd2l0Y2goZmUubGVuZ3RoKXtjYXNlIDI6cy52ZXJ0ZXhBdHRyaWIyZnYoWS5sb2NhdGlvbixmZSk7YnJlYWs7Y2FzZSAzOnMudmVydGV4QXR0cmliM2Z2KFkubG9jYXRpb24sZmUpO2JyZWFrO2Nhc2UgNDpzLnZlcnRleEF0dHJpYjRmdihZLmxvY2F0aW9uLGZlKTticmVhaztkZWZhdWx0OnMudmVydGV4QXR0cmliMWZ2KFkubG9jYXRpb24sZmUpfX19fVMoKX1mdW5jdGlvbiBYKCl7eCgpO2Zvcihjb25zdCBQIGluIG8pe2NvbnN0IEI9b1tQXTtmb3IoY29uc3QgVSBpbiBCKXtjb25zdCBGPUJbVV07Zm9yKGNvbnN0IEcgaW4gRilmKEZbR10ub2JqZWN0KSxkZWxldGUgRltHXTtkZWxldGUgQltVXX1kZWxldGUgb1tQXX19ZnVuY3Rpb24gaWUoUCl7aWYob1tQLmlkXT09PXZvaWQgMClyZXR1cm47Y29uc3QgQj1vW1AuaWRdO2Zvcihjb25zdCBVIGluIEIpe2NvbnN0IEY9QltVXTtmb3IoY29uc3QgRyBpbiBGKWYoRltHXS5vYmplY3QpLGRlbGV0ZSBGW0ddO2RlbGV0ZSBCW1VdfWRlbGV0ZSBvW1AuaWRdfWZ1bmN0aW9uIHooUCl7Zm9yKGNvbnN0IEIgaW4gbyl7Y29uc3QgVT1vW0JdO2lmKFVbUC5pZF09PT12b2lkIDApY29udGludWU7Y29uc3QgRj1VW1AuaWRdO2Zvcihjb25zdCBHIGluIEYpZihGW0ddLm9iamVjdCksZGVsZXRlIEZbR107ZGVsZXRlIFVbUC5pZF19fWZ1bmN0aW9uIHgoKXtBKCksYyE9PWwmJihjPWwsZChjLm9iamVjdCkpfWZ1bmN0aW9uIEEoKXtsLmdlb21ldHJ5PW51bGwsbC5wcm9ncmFtPW51bGwsbC53aXJlZnJhbWU9ITF9cmV0dXJue3NldHVwOmgscmVzZXQ6eCxyZXNldERlZmF1bHRTdGF0ZTpBLGRpc3Bvc2U6WCxyZWxlYXNlU3RhdGVzT2ZHZW9tZXRyeTppZSxyZWxlYXNlU3RhdGVzT2ZQcm9ncmFtOnosaW5pdEF0dHJpYnV0ZXM6cCxlbmFibGVBdHRyaWJ1dGU6VCxkaXNhYmxlVW51c2VkQXR0cmlidXRlczpTfX1mdW5jdGlvbiBXZWJHTEJ1ZmZlclJlbmRlcmVyKHMsZSx0LG4pe2NvbnN0IGk9bi5pc1dlYkdMMjtsZXQgcjtmdW5jdGlvbiBhKGMpe3I9Y31mdW5jdGlvbiBvKGMsaCl7cy5kcmF3QXJyYXlzKHIsYyxoKSx0LnVwZGF0ZShoLHIsMSl9ZnVuY3Rpb24gbChjLGgsdSl7aWYodT09PTApcmV0dXJuO2xldCBkLGY7aWYoaSlkPXMsZj0iZHJhd0FycmF5c0luc3RhbmNlZCI7ZWxzZSBpZihkPWUuZ2V0KCJBTkdMRV9pbnN0YW5jZWRfYXJyYXlzIiksZj0iZHJhd0FycmF5c0luc3RhbmNlZEFOR0xFIixkPT09bnVsbCl7Y29uc29sZS5lcnJvcigiVEhSRUUuV2ViR0xCdWZmZXJSZW5kZXJlcjogdXNpbmcgVEhSRUUuSW5zdGFuY2VkQnVmZmVyR2VvbWV0cnkgYnV0IGhhcmR3YXJlIGRvZXMgbm90IHN1cHBvcnQgZXh0ZW5zaW9uIEFOR0xFX2luc3RhbmNlZF9hcnJheXMuIik7cmV0dXJufWRbZl0ocixjLGgsdSksdC51cGRhdGUoaCxyLHUpfXRoaXMuc2V0TW9kZT1hLHRoaXMucmVuZGVyPW8sdGhpcy5yZW5kZXJJbnN0YW5jZXM9bH1mdW5jdGlvbiBXZWJHTENhcGFiaWxpdGllcyhzLGUsdCl7bGV0IG47ZnVuY3Rpb24gaSgpe2lmKG4hPT12b2lkIDApcmV0dXJuIG47aWYoZS5oYXMoIkVYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYyIpPT09ITApe2NvbnN0IEQ9ZS5nZXQoIkVYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYyIpO249cy5nZXRQYXJhbWV0ZXIoRC5NQVhfVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQpfWVsc2Ugbj0wO3JldHVybiBufWZ1bmN0aW9uIHIoRCl7aWYoRD09PSJoaWdocCIpe2lmKHMuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KDM1NjMzLDM2MzM4KS5wcmVjaXNpb24+MCYmcy5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQoMzU2MzIsMzYzMzgpLnByZWNpc2lvbj4wKXJldHVybiJoaWdocCI7RD0ibWVkaXVtcCJ9cmV0dXJuIEQ9PT0ibWVkaXVtcCImJnMuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KDM1NjMzLDM2MzM3KS5wcmVjaXNpb24+MCYmcy5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQoMzU2MzIsMzYzMzcpLnByZWNpc2lvbj4wPyJtZWRpdW1wIjoibG93cCJ9Y29uc3QgYT10eXBlb2YgV2ViR0wyUmVuZGVyaW5nQ29udGV4dDwidSImJnMgaW5zdGFuY2VvZiBXZWJHTDJSZW5kZXJpbmdDb250ZXh0fHx0eXBlb2YgV2ViR0wyQ29tcHV0ZVJlbmRlcmluZ0NvbnRleHQ8InUiJiZzIGluc3RhbmNlb2YgV2ViR0wyQ29tcHV0ZVJlbmRlcmluZ0NvbnRleHQ7bGV0IG89dC5wcmVjaXNpb24hPT12b2lkIDA/dC5wcmVjaXNpb246ImhpZ2hwIjtjb25zdCBsPXIobyk7bCE9PW8mJihjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IixvLCJub3Qgc3VwcG9ydGVkLCB1c2luZyIsbCwiaW5zdGVhZC4iKSxvPWwpO2NvbnN0IGM9YXx8ZS5oYXMoIldFQkdMX2RyYXdfYnVmZmVycyIpLGg9dC5sb2dhcml0aG1pY0RlcHRoQnVmZmVyPT09ITAsdT1zLmdldFBhcmFtZXRlcigzNDkzMCksZD1zLmdldFBhcmFtZXRlcigzNTY2MCksZj1zLmdldFBhcmFtZXRlcigzMzc5KSxnPXMuZ2V0UGFyYW1ldGVyKDM0MDc2KSxfPXMuZ2V0UGFyYW1ldGVyKDM0OTIxKSx5PXMuZ2V0UGFyYW1ldGVyKDM2MzQ3KSxtPXMuZ2V0UGFyYW1ldGVyKDM2MzQ4KSxwPXMuZ2V0UGFyYW1ldGVyKDM2MzQ5KSxUPWQ+MCx3PWF8fGUuaGFzKCJPRVNfdGV4dHVyZV9mbG9hdCIpLFM9VCYmdyxSPWE/cy5nZXRQYXJhbWV0ZXIoMzYxODMpOjA7cmV0dXJue2lzV2ViR0wyOmEsZHJhd0J1ZmZlcnM6YyxnZXRNYXhBbmlzb3Ryb3B5OmksZ2V0TWF4UHJlY2lzaW9uOnIscHJlY2lzaW9uOm8sbG9nYXJpdGhtaWNEZXB0aEJ1ZmZlcjpoLG1heFRleHR1cmVzOnUsbWF4VmVydGV4VGV4dHVyZXM6ZCxtYXhUZXh0dXJlU2l6ZTpmLG1heEN1YmVtYXBTaXplOmcsbWF4QXR0cmlidXRlczpfLG1heFZlcnRleFVuaWZvcm1zOnksbWF4VmFyeWluZ3M6bSxtYXhGcmFnbWVudFVuaWZvcm1zOnAsdmVydGV4VGV4dHVyZXM6VCxmbG9hdEZyYWdtZW50VGV4dHVyZXM6dyxmbG9hdFZlcnRleFRleHR1cmVzOlMsbWF4U2FtcGxlczpSfX1mdW5jdGlvbiBXZWJHTENsaXBwaW5nKHMpe2NvbnN0IGU9dGhpcztsZXQgdD1udWxsLG49MCxpPSExLHI9ITE7Y29uc3QgYT1uZXcgUGxhbmUsbz1uZXcgTWF0cml4MyxsPXt2YWx1ZTpudWxsLG5lZWRzVXBkYXRlOiExfTt0aGlzLnVuaWZvcm09bCx0aGlzLm51bVBsYW5lcz0wLHRoaXMubnVtSW50ZXJzZWN0aW9uPTAsdGhpcy5pbml0PWZ1bmN0aW9uKHUsZCxmKXtjb25zdCBnPXUubGVuZ3RoIT09MHx8ZHx8biE9PTB8fGk7cmV0dXJuIGk9ZCx0PWgodSxmLDApLG49dS5sZW5ndGgsZ30sdGhpcy5iZWdpblNoYWRvd3M9ZnVuY3Rpb24oKXtyPSEwLGgobnVsbCl9LHRoaXMuZW5kU2hhZG93cz1mdW5jdGlvbigpe3I9ITEsYygpfSx0aGlzLnNldFN0YXRlPWZ1bmN0aW9uKHUsZCxmKXtjb25zdCBnPXUuY2xpcHBpbmdQbGFuZXMsXz11LmNsaXBJbnRlcnNlY3Rpb24seT11LmNsaXBTaGFkb3dzLG09cy5nZXQodSk7aWYoIWl8fGc9PT1udWxsfHxnLmxlbmd0aD09PTB8fHImJiF5KXI/aChudWxsKTpjKCk7ZWxzZXtjb25zdCBwPXI/MDpuLFQ9cCo0O2xldCB3PW0uY2xpcHBpbmdTdGF0ZXx8bnVsbDtsLnZhbHVlPXcsdz1oKGcsZCxULGYpO2ZvcihsZXQgUz0wO1MhPT1UOysrUyl3W1NdPXRbU107bS5jbGlwcGluZ1N0YXRlPXcsdGhpcy5udW1JbnRlcnNlY3Rpb249Xz90aGlzLm51bVBsYW5lczowLHRoaXMubnVtUGxhbmVzKz1wfX07ZnVuY3Rpb24gYygpe2wudmFsdWUhPT10JiYobC52YWx1ZT10LGwubmVlZHNVcGRhdGU9bj4wKSxlLm51bVBsYW5lcz1uLGUubnVtSW50ZXJzZWN0aW9uPTB9ZnVuY3Rpb24gaCh1LGQsZixnKXtjb25zdCBfPXUhPT1udWxsP3UubGVuZ3RoOjA7bGV0IHk9bnVsbDtpZihfIT09MCl7aWYoeT1sLnZhbHVlLGchPT0hMHx8eT09PW51bGwpe2NvbnN0IG09ZitfKjQscD1kLm1hdHJpeFdvcmxkSW52ZXJzZTtvLmdldE5vcm1hbE1hdHJpeChwKSwoeT09PW51bGx8fHkubGVuZ3RoPG0pJiYoeT1uZXcgRmxvYXQzMkFycmF5KG0pKTtmb3IobGV0IFQ9MCx3PWY7VCE9PV87KytULHcrPTQpYS5jb3B5KHVbVF0pLmFwcGx5TWF0cml4NChwLG8pLGEubm9ybWFsLnRvQXJyYXkoeSx3KSx5W3crM109YS5jb25zdGFudH1sLnZhbHVlPXksbC5uZWVkc1VwZGF0ZT0hMH1yZXR1cm4gZS5udW1QbGFuZXM9XyxlLm51bUludGVyc2VjdGlvbj0wLHl9fWZ1bmN0aW9uIFdlYkdMQ3ViZU1hcHMocyl7bGV0IGU9bmV3IFdlYWtNYXA7ZnVuY3Rpb24gdChhLG8pe3JldHVybiBvPT09MzAzP2EubWFwcGluZz0zMDE6bz09PTMwNCYmKGEubWFwcGluZz0zMDIpLGF9ZnVuY3Rpb24gbihhKXtpZihhJiZhLmlzVGV4dHVyZSYmYS5pc1JlbmRlclRhcmdldFRleHR1cmU9PT0hMSl7Y29uc3Qgbz1hLm1hcHBpbmc7aWYobz09PTMwM3x8bz09PTMwNClpZihlLmhhcyhhKSl7Y29uc3QgbD1lLmdldChhKS50ZXh0dXJlO3JldHVybiB0KGwsYS5tYXBwaW5nKX1lbHNle2NvbnN0IGw9YS5pbWFnZTtpZihsJiZsLmhlaWdodD4wKXtjb25zdCBjPW5ldyBXZWJHTEN1YmVSZW5kZXJUYXJnZXQobC5oZWlnaHQvMik7cmV0dXJuIGMuZnJvbUVxdWlyZWN0YW5ndWxhclRleHR1cmUocyxhKSxlLnNldChhLGMpLGEuYWRkRXZlbnRMaXN0ZW5lcigiZGlzcG9zZSIsaSksdChjLnRleHR1cmUsYS5tYXBwaW5nKX1lbHNlIHJldHVybiBudWxsfX1yZXR1cm4gYX1mdW5jdGlvbiBpKGEpe2NvbnN0IG89YS50YXJnZXQ7by5yZW1vdmVFdmVudExpc3RlbmVyKCJkaXNwb3NlIixpKTtjb25zdCBsPWUuZ2V0KG8pO2whPT12b2lkIDAmJihlLmRlbGV0ZShvKSxsLmRpc3Bvc2UoKSl9ZnVuY3Rpb24gcigpe2U9bmV3IFdlYWtNYXB9cmV0dXJue2dldDpuLGRpc3Bvc2U6cn19Y2xhc3MgT3J0aG9ncmFwaGljQ2FtZXJhIGV4dGVuZHMgQ2FtZXJhe2NvbnN0cnVjdG9yKGU9LTEsdD0xLG49MSxpPS0xLHI9LjEsYT0yZTMpe3N1cGVyKCk7dGhpcy50eXBlPSJPcnRob2dyYXBoaWNDYW1lcmEiLHRoaXMuem9vbT0xLHRoaXMudmlldz1udWxsLHRoaXMubGVmdD1lLHRoaXMucmlnaHQ9dCx0aGlzLnRvcD1uLHRoaXMuYm90dG9tPWksdGhpcy5uZWFyPXIsdGhpcy5mYXI9YSx0aGlzLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKX1jb3B5KGUsdCl7cmV0dXJuIHN1cGVyLmNvcHkoZSx0KSx0aGlzLmxlZnQ9ZS5sZWZ0LHRoaXMucmlnaHQ9ZS5yaWdodCx0aGlzLnRvcD1lLnRvcCx0aGlzLmJvdHRvbT1lLmJvdHRvbSx0aGlzLm5lYXI9ZS5uZWFyLHRoaXMuZmFyPWUuZmFyLHRoaXMuem9vbT1lLnpvb20sdGhpcy52aWV3PWUudmlldz09PW51bGw/bnVsbDpPYmplY3QuYXNzaWduKHt9LGUudmlldyksdGhpc31zZXRWaWV3T2Zmc2V0KGUsdCxuLGkscixhKXt0aGlzLnZpZXc9PT1udWxsJiYodGhpcy52aWV3PXtlbmFibGVkOiEwLGZ1bGxXaWR0aDoxLGZ1bGxIZWlnaHQ6MSxvZmZzZXRYOjAsb2Zmc2V0WTowLHdpZHRoOjEsaGVpZ2h0OjF9KSx0aGlzLnZpZXcuZW5hYmxlZD0hMCx0aGlzLnZpZXcuZnVsbFdpZHRoPWUsdGhpcy52aWV3LmZ1bGxIZWlnaHQ9dCx0aGlzLnZpZXcub2Zmc2V0WD1uLHRoaXMudmlldy5vZmZzZXRZPWksdGhpcy52aWV3LndpZHRoPXIsdGhpcy52aWV3LmhlaWdodD1hLHRoaXMudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpfWNsZWFyVmlld09mZnNldCgpe3RoaXMudmlldyE9PW51bGwmJih0aGlzLnZpZXcuZW5hYmxlZD0hMSksdGhpcy51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCl9dXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpe2NvbnN0IGU9KHRoaXMucmlnaHQtdGhpcy5sZWZ0KS8oMip0aGlzLnpvb20pLHQ9KHRoaXMudG9wLXRoaXMuYm90dG9tKS8oMip0aGlzLnpvb20pLG49KHRoaXMucmlnaHQrdGhpcy5sZWZ0KS8yLGk9KHRoaXMudG9wK3RoaXMuYm90dG9tKS8yO2xldCByPW4tZSxhPW4rZSxvPWkrdCxsPWktdDtpZih0aGlzLnZpZXchPT1udWxsJiZ0aGlzLnZpZXcuZW5hYmxlZCl7Y29uc3QgYz0odGhpcy5yaWdodC10aGlzLmxlZnQpL3RoaXMudmlldy5mdWxsV2lkdGgvdGhpcy56b29tLGg9KHRoaXMudG9wLXRoaXMuYm90dG9tKS90aGlzLnZpZXcuZnVsbEhlaWdodC90aGlzLnpvb207cis9Yyp0aGlzLnZpZXcub2Zmc2V0WCxhPXIrYyp0aGlzLnZpZXcud2lkdGgsby09aCp0aGlzLnZpZXcub2Zmc2V0WSxsPW8taCp0aGlzLnZpZXcuaGVpZ2h0fXRoaXMucHJvamVjdGlvbk1hdHJpeC5tYWtlT3J0aG9ncmFwaGljKHIsYSxvLGwsdGhpcy5uZWFyLHRoaXMuZmFyKSx0aGlzLnByb2plY3Rpb25NYXRyaXhJbnZlcnNlLmNvcHkodGhpcy5wcm9qZWN0aW9uTWF0cml4KS5pbnZlcnQoKX10b0pTT04oZSl7Y29uc3QgdD1zdXBlci50b0pTT04oZSk7cmV0dXJuIHQub2JqZWN0Lnpvb209dGhpcy56b29tLHQub2JqZWN0LmxlZnQ9dGhpcy5sZWZ0LHQub2JqZWN0LnJpZ2h0PXRoaXMucmlnaHQsdC5vYmplY3QudG9wPXRoaXMudG9wLHQub2JqZWN0LmJvdHRvbT10aGlzLmJvdHRvbSx0Lm9iamVjdC5uZWFyPXRoaXMubmVhcix0Lm9iamVjdC5mYXI9dGhpcy5mYXIsdGhpcy52aWV3IT09bnVsbCYmKHQub2JqZWN0LnZpZXc9T2JqZWN0LmFzc2lnbih7fSx0aGlzLnZpZXcpKSx0fX1PcnRob2dyYXBoaWNDYW1lcmEucHJvdG90eXBlLmlzT3J0aG9ncmFwaGljQ2FtZXJhPSEwO2NvbnN0IExPRF9NSU49NCxFWFRSQV9MT0RfU0lHTUE9Wy4xMjUsLjIxNSwuMzUsLjQ0NiwuNTI2LC41ODJdLE1BWF9TQU1QTEVTPTIwLF9mbGF0Q2FtZXJhPW5ldyBPcnRob2dyYXBoaWNDYW1lcmEsX2NsZWFyQ29sb3I9bmV3IENvbG9yO2xldCBfb2xkVGFyZ2V0PW51bGw7Y29uc3QgUEhJPSgxK01hdGguc3FydCg1KSkvMixJTlZfUEhJPTEvUEhJLF9heGlzRGlyZWN0aW9ucz1bbmV3IFZlY3RvcjMoMSwxLDEpLG5ldyBWZWN0b3IzKC0xLDEsMSksbmV3IFZlY3RvcjMoMSwxLC0xKSxuZXcgVmVjdG9yMygtMSwxLC0xKSxuZXcgVmVjdG9yMygwLFBISSxJTlZfUEhJKSxuZXcgVmVjdG9yMygwLFBISSwtSU5WX1BISSksbmV3IFZlY3RvcjMoSU5WX1BISSwwLFBISSksbmV3IFZlY3RvcjMoLUlOVl9QSEksMCxQSEkpLG5ldyBWZWN0b3IzKFBISSxJTlZfUEhJLDApLG5ldyBWZWN0b3IzKC1QSEksSU5WX1BISSwwKV07Y2xhc3MgUE1SRU1HZW5lcmF0b3J7Y29uc3RydWN0b3IoZSl7dGhpcy5fcmVuZGVyZXI9ZSx0aGlzLl9waW5nUG9uZ1JlbmRlclRhcmdldD1udWxsLHRoaXMuX2xvZE1heD0wLHRoaXMuX2N1YmVTaXplPTAsdGhpcy5fbG9kUGxhbmVzPVtdLHRoaXMuX3NpemVMb2RzPVtdLHRoaXMuX3NpZ21hcz1bXSx0aGlzLl9ibHVyTWF0ZXJpYWw9bnVsbCx0aGlzLl9jdWJlbWFwTWF0ZXJpYWw9bnVsbCx0aGlzLl9lcXVpcmVjdE1hdGVyaWFsPW51bGwsdGhpcy5fY29tcGlsZU1hdGVyaWFsKHRoaXMuX2JsdXJNYXRlcmlhbCl9ZnJvbVNjZW5lKGUsdD0wLG49LjEsaT0xMDApe19vbGRUYXJnZXQ9dGhpcy5fcmVuZGVyZXIuZ2V0UmVuZGVyVGFyZ2V0KCksdGhpcy5fc2V0U2l6ZSgyNTYpO2NvbnN0IHI9dGhpcy5fYWxsb2NhdGVUYXJnZXRzKCk7cmV0dXJuIHIuZGVwdGhCdWZmZXI9ITAsdGhpcy5fc2NlbmVUb0N1YmVVVihlLG4saSxyKSx0PjAmJnRoaXMuX2JsdXIociwwLDAsdCksdGhpcy5fYXBwbHlQTVJFTShyKSx0aGlzLl9jbGVhbnVwKHIpLHJ9ZnJvbUVxdWlyZWN0YW5ndWxhcihlLHQ9bnVsbCl7cmV0dXJuIHRoaXMuX2Zyb21UZXh0dXJlKGUsdCl9ZnJvbUN1YmVtYXAoZSx0PW51bGwpe3JldHVybiB0aGlzLl9mcm9tVGV4dHVyZShlLHQpfWNvbXBpbGVDdWJlbWFwU2hhZGVyKCl7dGhpcy5fY3ViZW1hcE1hdGVyaWFsPT09bnVsbCYmKHRoaXMuX2N1YmVtYXBNYXRlcmlhbD1fZ2V0Q3ViZW1hcE1hdGVyaWFsKCksdGhpcy5fY29tcGlsZU1hdGVyaWFsKHRoaXMuX2N1YmVtYXBNYXRlcmlhbCkpfWNvbXBpbGVFcXVpcmVjdGFuZ3VsYXJTaGFkZXIoKXt0aGlzLl9lcXVpcmVjdE1hdGVyaWFsPT09bnVsbCYmKHRoaXMuX2VxdWlyZWN0TWF0ZXJpYWw9X2dldEVxdWlyZWN0TWF0ZXJpYWwoKSx0aGlzLl9jb21waWxlTWF0ZXJpYWwodGhpcy5fZXF1aXJlY3RNYXRlcmlhbCkpfWRpc3Bvc2UoKXt0aGlzLl9kaXNwb3NlKCksdGhpcy5fY3ViZW1hcE1hdGVyaWFsIT09bnVsbCYmdGhpcy5fY3ViZW1hcE1hdGVyaWFsLmRpc3Bvc2UoKSx0aGlzLl9lcXVpcmVjdE1hdGVyaWFsIT09bnVsbCYmdGhpcy5fZXF1aXJlY3RNYXRlcmlhbC5kaXNwb3NlKCl9X3NldFNpemUoZSl7dGhpcy5fbG9kTWF4PU1hdGguZmxvb3IoTWF0aC5sb2cyKGUpKSx0aGlzLl9jdWJlU2l6ZT1NYXRoLnBvdygyLHRoaXMuX2xvZE1heCl9X2Rpc3Bvc2UoKXt0aGlzLl9ibHVyTWF0ZXJpYWwuZGlzcG9zZSgpLHRoaXMuX3BpbmdQb25nUmVuZGVyVGFyZ2V0IT09bnVsbCYmdGhpcy5fcGluZ1BvbmdSZW5kZXJUYXJnZXQuZGlzcG9zZSgpO2ZvcihsZXQgZT0wO2U8dGhpcy5fbG9kUGxhbmVzLmxlbmd0aDtlKyspdGhpcy5fbG9kUGxhbmVzW2VdLmRpc3Bvc2UoKX1fY2xlYW51cChlKXt0aGlzLl9yZW5kZXJlci5zZXRSZW5kZXJUYXJnZXQoX29sZFRhcmdldCksZS5zY2lzc29yVGVzdD0hMSxfc2V0Vmlld3BvcnQoZSwwLDAsZS53aWR0aCxlLmhlaWdodCl9X2Zyb21UZXh0dXJlKGUsdCl7ZS5tYXBwaW5nPT09MzAxfHxlLm1hcHBpbmc9PT0zMDI/dGhpcy5fc2V0U2l6ZShlLmltYWdlLmxlbmd0aD09PTA/MTY6ZS5pbWFnZVswXS53aWR0aHx8ZS5pbWFnZVswXS5pbWFnZS53aWR0aCk6dGhpcy5fc2V0U2l6ZShlLmltYWdlLndpZHRoLzQpLF9vbGRUYXJnZXQ9dGhpcy5fcmVuZGVyZXIuZ2V0UmVuZGVyVGFyZ2V0KCk7Y29uc3Qgbj10fHx0aGlzLl9hbGxvY2F0ZVRhcmdldHMoKTtyZXR1cm4gdGhpcy5fdGV4dHVyZVRvQ3ViZVVWKGUsbiksdGhpcy5fYXBwbHlQTVJFTShuKSx0aGlzLl9jbGVhbnVwKG4pLG59X2FsbG9jYXRlVGFyZ2V0cygpe2NvbnN0IGU9MypNYXRoLm1heCh0aGlzLl9jdWJlU2l6ZSwxMTIpLHQ9NCp0aGlzLl9jdWJlU2l6ZS0zMixuPXttYWdGaWx0ZXI6MTAwNixtaW5GaWx0ZXI6MTAwNixnZW5lcmF0ZU1pcG1hcHM6ITEsdHlwZToxMDE2LGZvcm1hdDoxMDIzLGVuY29kaW5nOjNlMyxkZXB0aEJ1ZmZlcjohMX0saT1fY3JlYXRlUmVuZGVyVGFyZ2V0KGUsdCxuKTtpZih0aGlzLl9waW5nUG9uZ1JlbmRlclRhcmdldD09PW51bGx8fHRoaXMuX3BpbmdQb25nUmVuZGVyVGFyZ2V0LndpZHRoIT09ZSl7dGhpcy5fcGluZ1BvbmdSZW5kZXJUYXJnZXQhPT1udWxsJiZ0aGlzLl9kaXNwb3NlKCksdGhpcy5fcGluZ1BvbmdSZW5kZXJUYXJnZXQ9X2NyZWF0ZVJlbmRlclRhcmdldChlLHQsbik7Y29uc3R7X2xvZE1heDpyfT10aGlzOyh7c2l6ZUxvZHM6dGhpcy5fc2l6ZUxvZHMsbG9kUGxhbmVzOnRoaXMuX2xvZFBsYW5lcyxzaWdtYXM6dGhpcy5fc2lnbWFzfT1fY3JlYXRlUGxhbmVzKHIpKSx0aGlzLl9ibHVyTWF0ZXJpYWw9X2dldEJsdXJTaGFkZXIocixlLHQpfXJldHVybiBpfV9jb21waWxlTWF0ZXJpYWwoZSl7Y29uc3QgdD1uZXcgTWVzaCh0aGlzLl9sb2RQbGFuZXNbMF0sZSk7dGhpcy5fcmVuZGVyZXIuY29tcGlsZSh0LF9mbGF0Q2FtZXJhKX1fc2NlbmVUb0N1YmVVVihlLHQsbixpKXtjb25zdCBvPW5ldyBQZXJzcGVjdGl2ZUNhbWVyYSg5MCwxLHQsbiksbD1bMSwtMSwxLDEsMSwxXSxjPVsxLDEsMSwtMSwtMSwtMV0saD10aGlzLl9yZW5kZXJlcix1PWguYXV0b0NsZWFyLGQ9aC50b25lTWFwcGluZztoLmdldENsZWFyQ29sb3IoX2NsZWFyQ29sb3IpLGgudG9uZU1hcHBpbmc9MCxoLmF1dG9DbGVhcj0hMTtjb25zdCBmPW5ldyBNZXNoQmFzaWNNYXRlcmlhbCh7bmFtZToiUE1SRU0uQmFja2dyb3VuZCIsc2lkZToxLGRlcHRoV3JpdGU6ITEsZGVwdGhUZXN0OiExfSksZz1uZXcgTWVzaChuZXcgQm94R2VvbWV0cnksZik7bGV0IF89ITE7Y29uc3QgeT1lLmJhY2tncm91bmQ7eT95LmlzQ29sb3ImJihmLmNvbG9yLmNvcHkoeSksZS5iYWNrZ3JvdW5kPW51bGwsXz0hMCk6KGYuY29sb3IuY29weShfY2xlYXJDb2xvciksXz0hMCk7Zm9yKGxldCBtPTA7bTw2O20rKyl7Y29uc3QgcD1tJTM7cD09PTA/KG8udXAuc2V0KDAsbFttXSwwKSxvLmxvb2tBdChjW21dLDAsMCkpOnA9PT0xPyhvLnVwLnNldCgwLDAsbFttXSksby5sb29rQXQoMCxjW21dLDApKTooby51cC5zZXQoMCxsW21dLDApLG8ubG9va0F0KDAsMCxjW21dKSk7Y29uc3QgVD10aGlzLl9jdWJlU2l6ZTtfc2V0Vmlld3BvcnQoaSxwKlQsbT4yP1Q6MCxULFQpLGguc2V0UmVuZGVyVGFyZ2V0KGkpLF8mJmgucmVuZGVyKGcsbyksaC5yZW5kZXIoZSxvKX1nLmdlb21ldHJ5LmRpc3Bvc2UoKSxnLm1hdGVyaWFsLmRpc3Bvc2UoKSxoLnRvbmVNYXBwaW5nPWQsaC5hdXRvQ2xlYXI9dSxlLmJhY2tncm91bmQ9eX1fdGV4dHVyZVRvQ3ViZVVWKGUsdCl7Y29uc3Qgbj10aGlzLl9yZW5kZXJlcixpPWUubWFwcGluZz09PTMwMXx8ZS5tYXBwaW5nPT09MzAyO2k/KHRoaXMuX2N1YmVtYXBNYXRlcmlhbD09PW51bGwmJih0aGlzLl9jdWJlbWFwTWF0ZXJpYWw9X2dldEN1YmVtYXBNYXRlcmlhbCgpKSx0aGlzLl9jdWJlbWFwTWF0ZXJpYWwudW5pZm9ybXMuZmxpcEVudk1hcC52YWx1ZT1lLmlzUmVuZGVyVGFyZ2V0VGV4dHVyZT09PSExPy0xOjEpOnRoaXMuX2VxdWlyZWN0TWF0ZXJpYWw9PT1udWxsJiYodGhpcy5fZXF1aXJlY3RNYXRlcmlhbD1fZ2V0RXF1aXJlY3RNYXRlcmlhbCgpKTtjb25zdCByPWk/dGhpcy5fY3ViZW1hcE1hdGVyaWFsOnRoaXMuX2VxdWlyZWN0TWF0ZXJpYWwsYT1uZXcgTWVzaCh0aGlzLl9sb2RQbGFuZXNbMF0sciksbz1yLnVuaWZvcm1zO28uZW52TWFwLnZhbHVlPWU7Y29uc3QgbD10aGlzLl9jdWJlU2l6ZTtfc2V0Vmlld3BvcnQodCwwLDAsMypsLDIqbCksbi5zZXRSZW5kZXJUYXJnZXQodCksbi5yZW5kZXIoYSxfZmxhdENhbWVyYSl9X2FwcGx5UE1SRU0oZSl7Y29uc3QgdD10aGlzLl9yZW5kZXJlcixuPXQuYXV0b0NsZWFyO3QuYXV0b0NsZWFyPSExO2ZvcihsZXQgaT0xO2k8dGhpcy5fbG9kUGxhbmVzLmxlbmd0aDtpKyspe2NvbnN0IHI9TWF0aC5zcXJ0KHRoaXMuX3NpZ21hc1tpXSp0aGlzLl9zaWdtYXNbaV0tdGhpcy5fc2lnbWFzW2ktMV0qdGhpcy5fc2lnbWFzW2ktMV0pLGE9X2F4aXNEaXJlY3Rpb25zWyhpLTEpJV9heGlzRGlyZWN0aW9ucy5sZW5ndGhdO3RoaXMuX2JsdXIoZSxpLTEsaSxyLGEpfXQuYXV0b0NsZWFyPW59X2JsdXIoZSx0LG4saSxyKXtjb25zdCBhPXRoaXMuX3BpbmdQb25nUmVuZGVyVGFyZ2V0O3RoaXMuX2hhbGZCbHVyKGUsYSx0LG4saSwibGF0aXR1ZGluYWwiLHIpLHRoaXMuX2hhbGZCbHVyKGEsZSxuLG4saSwibG9uZ2l0dWRpbmFsIixyKX1faGFsZkJsdXIoZSx0LG4saSxyLGEsbyl7Y29uc3QgbD10aGlzLl9yZW5kZXJlcixjPXRoaXMuX2JsdXJNYXRlcmlhbDthIT09ImxhdGl0dWRpbmFsIiYmYSE9PSJsb25naXR1ZGluYWwiJiZjb25zb2xlLmVycm9yKCJibHVyIGRpcmVjdGlvbiBtdXN0IGJlIGVpdGhlciBsYXRpdHVkaW5hbCBvciBsb25naXR1ZGluYWwhIik7Y29uc3QgaD0zLHU9bmV3IE1lc2godGhpcy5fbG9kUGxhbmVzW2ldLGMpLGQ9Yy51bmlmb3JtcyxmPXRoaXMuX3NpemVMb2RzW25dLTEsZz1pc0Zpbml0ZShyKT9NYXRoLlBJLygyKmYpOjIqTWF0aC5QSS8oMipNQVhfU0FNUExFUy0xKSxfPXIvZyx5PWlzRmluaXRlKHIpPzErTWF0aC5mbG9vcihoKl8pOk1BWF9TQU1QTEVTO3k+TUFYX1NBTVBMRVMmJmNvbnNvbGUud2Fybihgc2lnbWFSYWRpYW5zLCAke3J9LCBpcyB0b28gbGFyZ2UgYW5kIHdpbGwgY2xpcCwgYXMgaXQgcmVxdWVzdGVkICR7eX0gc2FtcGxlcyB3aGVuIHRoZSBtYXhpbXVtIGlzIHNldCB0byAke01BWF9TQU1QTEVTfWApO2NvbnN0IG09W107bGV0IHA9MDtmb3IobGV0IEQ9MDtEPE1BWF9TQU1QTEVTOysrRCl7Y29uc3QgWD1EL18saWU9TWF0aC5leHAoLVgqWC8yKTttLnB1c2goaWUpLEQ9PT0wP3ArPWllOkQ8eSYmKHArPTIqaWUpfWZvcihsZXQgRD0wO0Q8bS5sZW5ndGg7RCsrKW1bRF09bVtEXS9wO2QuZW52TWFwLnZhbHVlPWUudGV4dHVyZSxkLnNhbXBsZXMudmFsdWU9eSxkLndlaWdodHMudmFsdWU9bSxkLmxhdGl0dWRpbmFsLnZhbHVlPWE9PT0ibGF0aXR1ZGluYWwiLG8mJihkLnBvbGVBeGlzLnZhbHVlPW8pO2NvbnN0e19sb2RNYXg6VH09dGhpcztkLmRUaGV0YS52YWx1ZT1nLGQubWlwSW50LnZhbHVlPVQtbjtjb25zdCB3PXRoaXMuX3NpemVMb2RzW2ldLFM9Myp3KihpPlQtTE9EX01JTj9pLVQrTE9EX01JTjowKSxSPTQqKHRoaXMuX2N1YmVTaXplLXcpO19zZXRWaWV3cG9ydCh0LFMsUiwzKncsMip3KSxsLnNldFJlbmRlclRhcmdldCh0KSxsLnJlbmRlcih1LF9mbGF0Q2FtZXJhKX19ZnVuY3Rpb24gX2NyZWF0ZVBsYW5lcyhzKXtjb25zdCBlPVtdLHQ9W10sbj1bXTtsZXQgaT1zO2NvbnN0IHI9cy1MT0RfTUlOKzErRVhUUkFfTE9EX1NJR01BLmxlbmd0aDtmb3IobGV0IGE9MDthPHI7YSsrKXtjb25zdCBvPU1hdGgucG93KDIsaSk7dC5wdXNoKG8pO2xldCBsPTEvbzthPnMtTE9EX01JTj9sPUVYVFJBX0xPRF9TSUdNQVthLXMrTE9EX01JTi0xXTphPT09MCYmKGw9MCksbi5wdXNoKGwpO2NvbnN0IGM9MS8oby0xKSxoPS1jLzIsdT0xK2MvMixkPVtoLGgsdSxoLHUsdSxoLGgsdSx1LGgsdV0sZj02LGc9NixfPTMseT0yLG09MSxwPW5ldyBGbG9hdDMyQXJyYXkoXypnKmYpLFQ9bmV3IEZsb2F0MzJBcnJheSh5KmcqZiksdz1uZXcgRmxvYXQzMkFycmF5KG0qZypmKTtmb3IobGV0IFI9MDtSPGY7UisrKXtjb25zdCBEPVIlMyoyLzMtMSxYPVI+Mj8wOi0xLGllPVtELFgsMCxEKzIvMyxYLDAsRCsyLzMsWCsxLDAsRCxYLDAsRCsyLzMsWCsxLDAsRCxYKzEsMF07cC5zZXQoaWUsXypnKlIpLFQuc2V0KGQseSpnKlIpO2NvbnN0IHo9W1IsUixSLFIsUixSXTt3LnNldCh6LG0qZypSKX1jb25zdCBTPW5ldyBCdWZmZXJHZW9tZXRyeTtTLnNldEF0dHJpYnV0ZSgicG9zaXRpb24iLG5ldyBCdWZmZXJBdHRyaWJ1dGUocCxfKSksUy5zZXRBdHRyaWJ1dGUoInV2IixuZXcgQnVmZmVyQXR0cmlidXRlKFQseSkpLFMuc2V0QXR0cmlidXRlKCJmYWNlSW5kZXgiLG5ldyBCdWZmZXJBdHRyaWJ1dGUodyxtKSksZS5wdXNoKFMpLGk+TE9EX01JTiYmaS0tfXJldHVybntsb2RQbGFuZXM6ZSxzaXplTG9kczp0LHNpZ21hczpufX1mdW5jdGlvbiBfY3JlYXRlUmVuZGVyVGFyZ2V0KHMsZSx0KXtjb25zdCBuPW5ldyBXZWJHTFJlbmRlclRhcmdldChzLGUsdCk7cmV0dXJuIG4udGV4dHVyZS5tYXBwaW5nPTMwNixuLnRleHR1cmUubmFtZT0iUE1SRU0uY3ViZVV2IixuLnNjaXNzb3JUZXN0PSEwLG59ZnVuY3Rpb24gX3NldFZpZXdwb3J0KHMsZSx0LG4saSl7cy52aWV3cG9ydC5zZXQoZSx0LG4saSkscy5zY2lzc29yLnNldChlLHQsbixpKX1mdW5jdGlvbiBfZ2V0Qmx1clNoYWRlcihzLGUsdCl7Y29uc3Qgbj1uZXcgRmxvYXQzMkFycmF5KE1BWF9TQU1QTEVTKSxpPW5ldyBWZWN0b3IzKDAsMSwwKTtyZXR1cm4gbmV3IFNoYWRlck1hdGVyaWFsKHtuYW1lOiJTcGhlcmljYWxHYXVzc2lhbkJsdXIiLGRlZmluZXM6e246TUFYX1NBTVBMRVMsQ1VCRVVWX1RFWEVMX1dJRFRIOjEvZSxDVUJFVVZfVEVYRUxfSEVJR0hUOjEvdCxDVUJFVVZfTUFYX01JUDpgJHtzfS4wYH0sdW5pZm9ybXM6e2Vudk1hcDp7dmFsdWU6bnVsbH0sc2FtcGxlczp7dmFsdWU6MX0sd2VpZ2h0czp7dmFsdWU6bn0sbGF0aXR1ZGluYWw6e3ZhbHVlOiExfSxkVGhldGE6e3ZhbHVlOjB9LG1pcEludDp7dmFsdWU6MH0scG9sZUF4aXM6e3ZhbHVlOml9fSx2ZXJ0ZXhTaGFkZXI6X2dldENvbW1vblZlcnRleFNoYWRlcigpLGZyYWdtZW50U2hhZGVyOmAKCgkJCXByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwoJCQlwcmVjaXNpb24gbWVkaXVtcCBpbnQ7CgoJCQl2YXJ5aW5nIHZlYzMgdk91dHB1dERpcmVjdGlvbjsKCgkJCXVuaWZvcm0gc2FtcGxlcjJEIGVudk1hcDsKCQkJdW5pZm9ybSBpbnQgc2FtcGxlczsKCQkJdW5pZm9ybSBmbG9hdCB3ZWlnaHRzWyBuIF07CgkJCXVuaWZvcm0gYm9vbCBsYXRpdHVkaW5hbDsKCQkJdW5pZm9ybSBmbG9hdCBkVGhldGE7CgkJCXVuaWZvcm0gZmxvYXQgbWlwSW50OwoJCQl1bmlmb3JtIHZlYzMgcG9sZUF4aXM7CgoJCQkjZGVmaW5lIEVOVk1BUF9UWVBFX0NVQkVfVVYKCQkJI2luY2x1ZGUgPGN1YmVfdXZfcmVmbGVjdGlvbl9mcmFnbWVudD4KCgkJCXZlYzMgZ2V0U2FtcGxlKCBmbG9hdCB0aGV0YSwgdmVjMyBheGlzICkgewoKCQkJCWZsb2F0IGNvc1RoZXRhID0gY29zKCB0aGV0YSApOwoJCQkJLy8gUm9kcmlndWVzJyBheGlzLWFuZ2xlIHJvdGF0aW9uCgkJCQl2ZWMzIHNhbXBsZURpcmVjdGlvbiA9IHZPdXRwdXREaXJlY3Rpb24gKiBjb3NUaGV0YQoJCQkJCSsgY3Jvc3MoIGF4aXMsIHZPdXRwdXREaXJlY3Rpb24gKSAqIHNpbiggdGhldGEgKQoJCQkJCSsgYXhpcyAqIGRvdCggYXhpcywgdk91dHB1dERpcmVjdGlvbiApICogKCAxLjAgLSBjb3NUaGV0YSApOwoKCQkJCXJldHVybiBiaWxpbmVhckN1YmVVViggZW52TWFwLCBzYW1wbGVEaXJlY3Rpb24sIG1pcEludCApOwoKCQkJfQoKCQkJdm9pZCBtYWluKCkgewoKCQkJCXZlYzMgYXhpcyA9IGxhdGl0dWRpbmFsID8gcG9sZUF4aXMgOiBjcm9zcyggcG9sZUF4aXMsIHZPdXRwdXREaXJlY3Rpb24gKTsKCgkJCQlpZiAoIGFsbCggZXF1YWwoIGF4aXMsIHZlYzMoIDAuMCApICkgKSApIHsKCgkJCQkJYXhpcyA9IHZlYzMoIHZPdXRwdXREaXJlY3Rpb24ueiwgMC4wLCAtIHZPdXRwdXREaXJlY3Rpb24ueCApOwoKCQkJCX0KCgkJCQlheGlzID0gbm9ybWFsaXplKCBheGlzICk7CgoJCQkJZ2xfRnJhZ0NvbG9yID0gdmVjNCggMC4wLCAwLjAsIDAuMCwgMS4wICk7CgkJCQlnbF9GcmFnQ29sb3IucmdiICs9IHdlaWdodHNbIDAgXSAqIGdldFNhbXBsZSggMC4wLCBheGlzICk7CgoJCQkJZm9yICggaW50IGkgPSAxOyBpIDwgbjsgaSsrICkgewoKCQkJCQlpZiAoIGkgPj0gc2FtcGxlcyApIHsKCgkJCQkJCWJyZWFrOwoKCQkJCQl9CgoJCQkJCWZsb2F0IHRoZXRhID0gZFRoZXRhICogZmxvYXQoIGkgKTsKCQkJCQlnbF9GcmFnQ29sb3IucmdiICs9IHdlaWdodHNbIGkgXSAqIGdldFNhbXBsZSggLTEuMCAqIHRoZXRhLCBheGlzICk7CgkJCQkJZ2xfRnJhZ0NvbG9yLnJnYiArPSB3ZWlnaHRzWyBpIF0gKiBnZXRTYW1wbGUoIHRoZXRhLCBheGlzICk7CgoJCQkJfQoKCQkJfQoJCWAsYmxlbmRpbmc6MCxkZXB0aFRlc3Q6ITEsZGVwdGhXcml0ZTohMX0pfWZ1bmN0aW9uIF9nZXRFcXVpcmVjdE1hdGVyaWFsKCl7cmV0dXJuIG5ldyBTaGFkZXJNYXRlcmlhbCh7bmFtZToiRXF1aXJlY3Rhbmd1bGFyVG9DdWJlVVYiLHVuaWZvcm1zOntlbnZNYXA6e3ZhbHVlOm51bGx9fSx2ZXJ0ZXhTaGFkZXI6X2dldENvbW1vblZlcnRleFNoYWRlcigpLGZyYWdtZW50U2hhZGVyOmAKCgkJCXByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwoJCQlwcmVjaXNpb24gbWVkaXVtcCBpbnQ7CgoJCQl2YXJ5aW5nIHZlYzMgdk91dHB1dERpcmVjdGlvbjsKCgkJCXVuaWZvcm0gc2FtcGxlcjJEIGVudk1hcDsKCgkJCSNpbmNsdWRlIDxjb21tb24+CgoJCQl2b2lkIG1haW4oKSB7CgoJCQkJdmVjMyBvdXRwdXREaXJlY3Rpb24gPSBub3JtYWxpemUoIHZPdXRwdXREaXJlY3Rpb24gKTsKCQkJCXZlYzIgdXYgPSBlcXVpcmVjdFV2KCBvdXRwdXREaXJlY3Rpb24gKTsKCgkJCQlnbF9GcmFnQ29sb3IgPSB2ZWM0KCB0ZXh0dXJlMkQgKCBlbnZNYXAsIHV2ICkucmdiLCAxLjAgKTsKCgkJCX0KCQlgLGJsZW5kaW5nOjAsZGVwdGhUZXN0OiExLGRlcHRoV3JpdGU6ITF9KX1mdW5jdGlvbiBfZ2V0Q3ViZW1hcE1hdGVyaWFsKCl7cmV0dXJuIG5ldyBTaGFkZXJNYXRlcmlhbCh7bmFtZToiQ3ViZW1hcFRvQ3ViZVVWIix1bmlmb3Jtczp7ZW52TWFwOnt2YWx1ZTpudWxsfSxmbGlwRW52TWFwOnt2YWx1ZTotMX19LHZlcnRleFNoYWRlcjpfZ2V0Q29tbW9uVmVydGV4U2hhZGVyKCksZnJhZ21lbnRTaGFkZXI6YAoKCQkJcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7CgkJCXByZWNpc2lvbiBtZWRpdW1wIGludDsKCgkJCXVuaWZvcm0gZmxvYXQgZmxpcEVudk1hcDsKCgkJCXZhcnlpbmcgdmVjMyB2T3V0cHV0RGlyZWN0aW9uOwoKCQkJdW5pZm9ybSBzYW1wbGVyQ3ViZSBlbnZNYXA7CgoJCQl2b2lkIG1haW4oKSB7CgoJCQkJZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZUN1YmUoIGVudk1hcCwgdmVjMyggZmxpcEVudk1hcCAqIHZPdXRwdXREaXJlY3Rpb24ueCwgdk91dHB1dERpcmVjdGlvbi55eiApICk7CgoJCQl9CgkJYCxibGVuZGluZzowLGRlcHRoVGVzdDohMSxkZXB0aFdyaXRlOiExfSl9ZnVuY3Rpb24gX2dldENvbW1vblZlcnRleFNoYWRlcigpe3JldHVybmAKCgkJcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7CgkJcHJlY2lzaW9uIG1lZGl1bXAgaW50OwoKCQlhdHRyaWJ1dGUgZmxvYXQgZmFjZUluZGV4OwoKCQl2YXJ5aW5nIHZlYzMgdk91dHB1dERpcmVjdGlvbjsKCgkJLy8gUkggY29vcmRpbmF0ZSBzeXN0ZW07IFBNUkVNIGZhY2UtaW5kZXhpbmcgY29udmVudGlvbgoJCXZlYzMgZ2V0RGlyZWN0aW9uKCB2ZWMyIHV2LCBmbG9hdCBmYWNlICkgewoKCQkJdXYgPSAyLjAgKiB1diAtIDEuMDsKCgkJCXZlYzMgZGlyZWN0aW9uID0gdmVjMyggdXYsIDEuMCApOwoKCQkJaWYgKCBmYWNlID09IDAuMCApIHsKCgkJCQlkaXJlY3Rpb24gPSBkaXJlY3Rpb24uenl4OyAvLyAoIDEsIHYsIHUgKSBwb3MgeAoKCQkJfSBlbHNlIGlmICggZmFjZSA9PSAxLjAgKSB7CgoJCQkJZGlyZWN0aW9uID0gZGlyZWN0aW9uLnh6eTsKCQkJCWRpcmVjdGlvbi54eiAqPSAtMS4wOyAvLyAoIC11LCAxLCAtdiApIHBvcyB5CgoJCQl9IGVsc2UgaWYgKCBmYWNlID09IDIuMCApIHsKCgkJCQlkaXJlY3Rpb24ueCAqPSAtMS4wOyAvLyAoIC11LCB2LCAxICkgcG9zIHoKCgkJCX0gZWxzZSBpZiAoIGZhY2UgPT0gMy4wICkgewoKCQkJCWRpcmVjdGlvbiA9IGRpcmVjdGlvbi56eXg7CgkJCQlkaXJlY3Rpb24ueHogKj0gLTEuMDsgLy8gKCAtMSwgdiwgLXUgKSBuZWcgeAoKCQkJfSBlbHNlIGlmICggZmFjZSA9PSA0LjAgKSB7CgoJCQkJZGlyZWN0aW9uID0gZGlyZWN0aW9uLnh6eTsKCQkJCWRpcmVjdGlvbi54eSAqPSAtMS4wOyAvLyAoIC11LCAtMSwgdiApIG5lZyB5CgoJCQl9IGVsc2UgaWYgKCBmYWNlID09IDUuMCApIHsKCgkJCQlkaXJlY3Rpb24ueiAqPSAtMS4wOyAvLyAoIHUsIHYsIC0xICkgbmVnIHoKCgkJCX0KCgkJCXJldHVybiBkaXJlY3Rpb247CgoJCX0KCgkJdm9pZCBtYWluKCkgewoKCQkJdk91dHB1dERpcmVjdGlvbiA9IGdldERpcmVjdGlvbiggdXYsIGZhY2VJbmRleCApOwoJCQlnbF9Qb3NpdGlvbiA9IHZlYzQoIHBvc2l0aW9uLCAxLjAgKTsKCgkJfQoJYH1mdW5jdGlvbiBXZWJHTEN1YmVVVk1hcHMocyl7bGV0IGU9bmV3IFdlYWtNYXAsdD1udWxsO2Z1bmN0aW9uIG4obyl7aWYobyYmby5pc1RleHR1cmUpe2NvbnN0IGw9by5tYXBwaW5nLGM9bD09PTMwM3x8bD09PTMwNCxoPWw9PT0zMDF8fGw9PT0zMDI7aWYoY3x8aClpZihvLmlzUmVuZGVyVGFyZ2V0VGV4dHVyZSYmby5uZWVkc1BNUkVNVXBkYXRlPT09ITApe28ubmVlZHNQTVJFTVVwZGF0ZT0hMTtsZXQgdT1lLmdldChvKTtyZXR1cm4gdD09PW51bGwmJih0PW5ldyBQTVJFTUdlbmVyYXRvcihzKSksdT1jP3QuZnJvbUVxdWlyZWN0YW5ndWxhcihvLHUpOnQuZnJvbUN1YmVtYXAobyx1KSxlLnNldChvLHUpLHUudGV4dHVyZX1lbHNle2lmKGUuaGFzKG8pKXJldHVybiBlLmdldChvKS50ZXh0dXJlO3tjb25zdCB1PW8uaW1hZ2U7aWYoYyYmdSYmdS5oZWlnaHQ+MHx8aCYmdSYmaSh1KSl7dD09PW51bGwmJih0PW5ldyBQTVJFTUdlbmVyYXRvcihzKSk7Y29uc3QgZD1jP3QuZnJvbUVxdWlyZWN0YW5ndWxhcihvKTp0LmZyb21DdWJlbWFwKG8pO3JldHVybiBlLnNldChvLGQpLG8uYWRkRXZlbnRMaXN0ZW5lcigiZGlzcG9zZSIsciksZC50ZXh0dXJlfWVsc2UgcmV0dXJuIG51bGx9fX1yZXR1cm4gb31mdW5jdGlvbiBpKG8pe2xldCBsPTA7Y29uc3QgYz02O2ZvcihsZXQgaD0wO2g8YztoKyspb1toXSE9PXZvaWQgMCYmbCsrO3JldHVybiBsPT09Y31mdW5jdGlvbiByKG8pe2NvbnN0IGw9by50YXJnZXQ7bC5yZW1vdmVFdmVudExpc3RlbmVyKCJkaXNwb3NlIixyKTtjb25zdCBjPWUuZ2V0KGwpO2MhPT12b2lkIDAmJihlLmRlbGV0ZShsKSxjLmRpc3Bvc2UoKSl9ZnVuY3Rpb24gYSgpe2U9bmV3IFdlYWtNYXAsdCE9PW51bGwmJih0LmRpc3Bvc2UoKSx0PW51bGwpfXJldHVybntnZXQ6bixkaXNwb3NlOmF9fWZ1bmN0aW9uIFdlYkdMRXh0ZW5zaW9ucyhzKXtjb25zdCBlPXt9O2Z1bmN0aW9uIHQobil7aWYoZVtuXSE9PXZvaWQgMClyZXR1cm4gZVtuXTtsZXQgaTtzd2l0Y2gobil7Y2FzZSJXRUJHTF9kZXB0aF90ZXh0dXJlIjppPXMuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9kZXB0aF90ZXh0dXJlIil8fHMuZ2V0RXh0ZW5zaW9uKCJNT1pfV0VCR0xfZGVwdGhfdGV4dHVyZSIpfHxzLmdldEV4dGVuc2lvbigiV0VCS0lUX1dFQkdMX2RlcHRoX3RleHR1cmUiKTticmVhaztjYXNlIkVYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYyI6aT1zLmdldEV4dGVuc2lvbigiRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljIil8fHMuZ2V0RXh0ZW5zaW9uKCJNT1pfRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljIil8fHMuZ2V0RXh0ZW5zaW9uKCJXRUJLSVRfRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljIik7YnJlYWs7Y2FzZSJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0YyI6aT1zLmdldEV4dGVuc2lvbigiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGMiKXx8cy5nZXRFeHRlbnNpb24oIk1PWl9XRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0YyIpfHxzLmdldEV4dGVuc2lvbigiV0VCS0lUX1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjIik7YnJlYWs7Y2FzZSJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfcHZydGMiOmk9cy5nZXRFeHRlbnNpb24oIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9wdnJ0YyIpfHxzLmdldEV4dGVuc2lvbigiV0VCS0lUX1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9wdnJ0YyIpO2JyZWFrO2RlZmF1bHQ6aT1zLmdldEV4dGVuc2lvbihuKX1yZXR1cm4gZVtuXT1pLGl9cmV0dXJue2hhczpmdW5jdGlvbihuKXtyZXR1cm4gdChuKSE9PW51bGx9LGluaXQ6ZnVuY3Rpb24obil7bi5pc1dlYkdMMj90KCJFWFRfY29sb3JfYnVmZmVyX2Zsb2F0Iik6KHQoIldFQkdMX2RlcHRoX3RleHR1cmUiKSx0KCJPRVNfdGV4dHVyZV9mbG9hdCIpLHQoIk9FU190ZXh0dXJlX2hhbGZfZmxvYXQiKSx0KCJPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0X2xpbmVhciIpLHQoIk9FU19zdGFuZGFyZF9kZXJpdmF0aXZlcyIpLHQoIk9FU19lbGVtZW50X2luZGV4X3VpbnQiKSx0KCJPRVNfdmVydGV4X2FycmF5X29iamVjdCIpLHQoIkFOR0xFX2luc3RhbmNlZF9hcnJheXMiKSksdCgiT0VTX3RleHR1cmVfZmxvYXRfbGluZWFyIiksdCgiRVhUX2NvbG9yX2J1ZmZlcl9oYWxmX2Zsb2F0IiksdCgiV0VCR0xfbXVsdGlzYW1wbGVkX3JlbmRlcl90b190ZXh0dXJlIil9LGdldDpmdW5jdGlvbihuKXtjb25zdCBpPXQobik7cmV0dXJuIGk9PT1udWxsJiZjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6ICIrbisiIGV4dGVuc2lvbiBub3Qgc3VwcG9ydGVkLiIpLGl9fX1mdW5jdGlvbiBXZWJHTEdlb21ldHJpZXMocyxlLHQsbil7Y29uc3QgaT17fSxyPW5ldyBXZWFrTWFwO2Z1bmN0aW9uIGEodSl7Y29uc3QgZD11LnRhcmdldDtkLmluZGV4IT09bnVsbCYmZS5yZW1vdmUoZC5pbmRleCk7Zm9yKGNvbnN0IGcgaW4gZC5hdHRyaWJ1dGVzKWUucmVtb3ZlKGQuYXR0cmlidXRlc1tnXSk7ZC5yZW1vdmVFdmVudExpc3RlbmVyKCJkaXNwb3NlIixhKSxkZWxldGUgaVtkLmlkXTtjb25zdCBmPXIuZ2V0KGQpO2YmJihlLnJlbW92ZShmKSxyLmRlbGV0ZShkKSksbi5yZWxlYXNlU3RhdGVzT2ZHZW9tZXRyeShkKSxkLmlzSW5zdGFuY2VkQnVmZmVyR2VvbWV0cnk9PT0hMCYmZGVsZXRlIGQuX21heEluc3RhbmNlQ291bnQsdC5tZW1vcnkuZ2VvbWV0cmllcy0tfWZ1bmN0aW9uIG8odSxkKXtyZXR1cm4gaVtkLmlkXT09PSEwfHwoZC5hZGRFdmVudExpc3RlbmVyKCJkaXNwb3NlIixhKSxpW2QuaWRdPSEwLHQubWVtb3J5Lmdlb21ldHJpZXMrKyksZH1mdW5jdGlvbiBsKHUpe2NvbnN0IGQ9dS5hdHRyaWJ1dGVzO2Zvcihjb25zdCBnIGluIGQpZS51cGRhdGUoZFtnXSwzNDk2Mik7Y29uc3QgZj11Lm1vcnBoQXR0cmlidXRlcztmb3IoY29uc3QgZyBpbiBmKXtjb25zdCBfPWZbZ107Zm9yKGxldCB5PTAsbT1fLmxlbmd0aDt5PG07eSsrKWUudXBkYXRlKF9beV0sMzQ5NjIpfX1mdW5jdGlvbiBjKHUpe2NvbnN0IGQ9W10sZj11LmluZGV4LGc9dS5hdHRyaWJ1dGVzLnBvc2l0aW9uO2xldCBfPTA7aWYoZiE9PW51bGwpe2NvbnN0IHA9Zi5hcnJheTtfPWYudmVyc2lvbjtmb3IobGV0IFQ9MCx3PXAubGVuZ3RoO1Q8dztUKz0zKXtjb25zdCBTPXBbVCswXSxSPXBbVCsxXSxEPXBbVCsyXTtkLnB1c2goUyxSLFIsRCxELFMpfX1lbHNle2NvbnN0IHA9Zy5hcnJheTtfPWcudmVyc2lvbjtmb3IobGV0IFQ9MCx3PXAubGVuZ3RoLzMtMTtUPHc7VCs9Myl7Y29uc3QgUz1UKzAsUj1UKzEsRD1UKzI7ZC5wdXNoKFMsUixSLEQsRCxTKX19Y29uc3QgeT1uZXcoYXJyYXlOZWVkc1VpbnQzMihkKT9VaW50MzJCdWZmZXJBdHRyaWJ1dGU6VWludDE2QnVmZmVyQXR0cmlidXRlKShkLDEpO3kudmVyc2lvbj1fO2NvbnN0IG09ci5nZXQodSk7bSYmZS5yZW1vdmUobSksci5zZXQodSx5KX1mdW5jdGlvbiBoKHUpe2NvbnN0IGQ9ci5nZXQodSk7aWYoZCl7Y29uc3QgZj11LmluZGV4O2YhPT1udWxsJiZkLnZlcnNpb248Zi52ZXJzaW9uJiZjKHUpfWVsc2UgYyh1KTtyZXR1cm4gci5nZXQodSl9cmV0dXJue2dldDpvLHVwZGF0ZTpsLGdldFdpcmVmcmFtZUF0dHJpYnV0ZTpofX1mdW5jdGlvbiBXZWJHTEluZGV4ZWRCdWZmZXJSZW5kZXJlcihzLGUsdCxuKXtjb25zdCBpPW4uaXNXZWJHTDI7bGV0IHI7ZnVuY3Rpb24gYShkKXtyPWR9bGV0IG8sbDtmdW5jdGlvbiBjKGQpe289ZC50eXBlLGw9ZC5ieXRlc1BlckVsZW1lbnR9ZnVuY3Rpb24gaChkLGYpe3MuZHJhd0VsZW1lbnRzKHIsZixvLGQqbCksdC51cGRhdGUoZixyLDEpfWZ1bmN0aW9uIHUoZCxmLGcpe2lmKGc9PT0wKXJldHVybjtsZXQgXyx5O2lmKGkpXz1zLHk9ImRyYXdFbGVtZW50c0luc3RhbmNlZCI7ZWxzZSBpZihfPWUuZ2V0KCJBTkdMRV9pbnN0YW5jZWRfYXJyYXlzIikseT0iZHJhd0VsZW1lbnRzSW5zdGFuY2VkQU5HTEUiLF89PT1udWxsKXtjb25zb2xlLmVycm9yKCJUSFJFRS5XZWJHTEluZGV4ZWRCdWZmZXJSZW5kZXJlcjogdXNpbmcgVEhSRUUuSW5zdGFuY2VkQnVmZmVyR2VvbWV0cnkgYnV0IGhhcmR3YXJlIGRvZXMgbm90IHN1cHBvcnQgZXh0ZW5zaW9uIEFOR0xFX2luc3RhbmNlZF9hcnJheXMuIik7cmV0dXJufV9beV0ocixmLG8sZCpsLGcpLHQudXBkYXRlKGYscixnKX10aGlzLnNldE1vZGU9YSx0aGlzLnNldEluZGV4PWMsdGhpcy5yZW5kZXI9aCx0aGlzLnJlbmRlckluc3RhbmNlcz11fWZ1bmN0aW9uIFdlYkdMSW5mbyhzKXtjb25zdCBlPXtnZW9tZXRyaWVzOjAsdGV4dHVyZXM6MH0sdD17ZnJhbWU6MCxjYWxsczowLHRyaWFuZ2xlczowLHBvaW50czowLGxpbmVzOjB9O2Z1bmN0aW9uIG4ocixhLG8pe3N3aXRjaCh0LmNhbGxzKyssYSl7Y2FzZSA0OnQudHJpYW5nbGVzKz1vKihyLzMpO2JyZWFrO2Nhc2UgMTp0LmxpbmVzKz1vKihyLzIpO2JyZWFrO2Nhc2UgMzp0LmxpbmVzKz1vKihyLTEpO2JyZWFrO2Nhc2UgMjp0LmxpbmVzKz1vKnI7YnJlYWs7Y2FzZSAwOnQucG9pbnRzKz1vKnI7YnJlYWs7ZGVmYXVsdDpjb25zb2xlLmVycm9yKCJUSFJFRS5XZWJHTEluZm86IFVua25vd24gZHJhdyBtb2RlOiIsYSk7YnJlYWt9fWZ1bmN0aW9uIGkoKXt0LmZyYW1lKyssdC5jYWxscz0wLHQudHJpYW5nbGVzPTAsdC5wb2ludHM9MCx0LmxpbmVzPTB9cmV0dXJue21lbW9yeTplLHJlbmRlcjp0LHByb2dyYW1zOm51bGwsYXV0b1Jlc2V0OiEwLHJlc2V0OmksdXBkYXRlOm59fWZ1bmN0aW9uIG51bWVyaWNhbFNvcnQocyxlKXtyZXR1cm4gc1swXS1lWzBdfWZ1bmN0aW9uIGFic051bWVyaWNhbFNvcnQocyxlKXtyZXR1cm4gTWF0aC5hYnMoZVsxXSktTWF0aC5hYnMoc1sxXSl9ZnVuY3Rpb24gZGVub3JtYWxpemUocyxlKXtsZXQgdD0xO2NvbnN0IG49ZS5pc0ludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlP2UuZGF0YS5hcnJheTplLmFycmF5O24gaW5zdGFuY2VvZiBJbnQ4QXJyYXk/dD0xMjc6biBpbnN0YW5jZW9mIEludDE2QXJyYXk/dD0zMjc2NzpuIGluc3RhbmNlb2YgSW50MzJBcnJheT90PTIxNDc0ODM2NDc6Y29uc29sZS5lcnJvcigiVEhSRUUuV2ViR0xNb3JwaHRhcmdldHM6IFVuc3VwcG9ydGVkIG1vcnBoIGF0dHJpYnV0ZSBkYXRhIHR5cGU6ICIsbikscy5kaXZpZGVTY2FsYXIodCl9ZnVuY3Rpb24gV2ViR0xNb3JwaHRhcmdldHMocyxlLHQpe2NvbnN0IG49e30saT1uZXcgRmxvYXQzMkFycmF5KDgpLHI9bmV3IFdlYWtNYXAsYT1uZXcgVmVjdG9yNCxvPVtdO2ZvcihsZXQgYz0wO2M8ODtjKyspb1tjXT1bYywwXTtmdW5jdGlvbiBsKGMsaCx1LGQpe2NvbnN0IGY9Yy5tb3JwaFRhcmdldEluZmx1ZW5jZXM7aWYoZS5pc1dlYkdMMj09PSEwKXtjb25zdCBnPWgubW9ycGhBdHRyaWJ1dGVzLnBvc2l0aW9ufHxoLm1vcnBoQXR0cmlidXRlcy5ub3JtYWx8fGgubW9ycGhBdHRyaWJ1dGVzLmNvbG9yLF89ZyE9PXZvaWQgMD9nLmxlbmd0aDowO2xldCB5PXIuZ2V0KGgpO2lmKHk9PT12b2lkIDB8fHkuY291bnQhPT1fKXtsZXQgVT1mdW5jdGlvbigpe1AuZGlzcG9zZSgpLHIuZGVsZXRlKGgpLGgucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZGlzcG9zZSIsVSl9O3khPT12b2lkIDAmJnkudGV4dHVyZS5kaXNwb3NlKCk7Y29uc3QgVD1oLm1vcnBoQXR0cmlidXRlcy5wb3NpdGlvbiE9PXZvaWQgMCx3PWgubW9ycGhBdHRyaWJ1dGVzLm5vcm1hbCE9PXZvaWQgMCxTPWgubW9ycGhBdHRyaWJ1dGVzLmNvbG9yIT09dm9pZCAwLFI9aC5tb3JwaEF0dHJpYnV0ZXMucG9zaXRpb258fFtdLEQ9aC5tb3JwaEF0dHJpYnV0ZXMubm9ybWFsfHxbXSxYPWgubW9ycGhBdHRyaWJ1dGVzLmNvbG9yfHxbXTtsZXQgaWU9MDtUPT09ITAmJihpZT0xKSx3PT09ITAmJihpZT0yKSxTPT09ITAmJihpZT0zKTtsZXQgej1oLmF0dHJpYnV0ZXMucG9zaXRpb24uY291bnQqaWUseD0xO3o+ZS5tYXhUZXh0dXJlU2l6ZSYmKHg9TWF0aC5jZWlsKHovZS5tYXhUZXh0dXJlU2l6ZSksej1lLm1heFRleHR1cmVTaXplKTtjb25zdCBBPW5ldyBGbG9hdDMyQXJyYXkoeip4KjQqXyksUD1uZXcgRGF0YUFycmF5VGV4dHVyZShBLHoseCxfKTtQLmZvcm1hdD0xMDIzLFAudHlwZT0xMDE1LFAubmVlZHNVcGRhdGU9ITA7Y29uc3QgQj1pZSo0O2ZvcihsZXQgRj0wO0Y8XztGKyspe2NvbnN0IEc9UltGXSxMPURbRl0sVz1YW0ZdLFo9eip4KjQqRjtmb3IobGV0IFk9MDtZPEcuY291bnQ7WSsrKXtjb25zdCBKPVkqQjtUPT09ITAmJihhLmZyb21CdWZmZXJBdHRyaWJ1dGUoRyxZKSxHLm5vcm1hbGl6ZWQ9PT0hMCYmZGVub3JtYWxpemUoYSxHKSxBW1orSiswXT1hLngsQVtaK0orMV09YS55LEFbWitKKzJdPWEueixBW1orSiszXT0wKSx3PT09ITAmJihhLmZyb21CdWZmZXJBdHRyaWJ1dGUoTCxZKSxMLm5vcm1hbGl6ZWQ9PT0hMCYmZGVub3JtYWxpemUoYSxMKSxBW1orSis0XT1hLngsQVtaK0orNV09YS55LEFbWitKKzZdPWEueixBW1orSis3XT0wKSxTPT09ITAmJihhLmZyb21CdWZmZXJBdHRyaWJ1dGUoVyxZKSxXLm5vcm1hbGl6ZWQ9PT0hMCYmZGVub3JtYWxpemUoYSxMKSxBW1orSis4XT1hLngsQVtaK0orOV09YS55LEFbWitKKzEwXT1hLnosQVtaK0orMTFdPVcuaXRlbVNpemU9PT00P2EudzoxKX19eT17Y291bnQ6Xyx0ZXh0dXJlOlAsc2l6ZTpuZXcgVmVjdG9yMih6LHgpfSxyLnNldChoLHkpLGguYWRkRXZlbnRMaXN0ZW5lcigiZGlzcG9zZSIsVSl9bGV0IG09MDtmb3IobGV0IFQ9MDtUPGYubGVuZ3RoO1QrKyltKz1mW1RdO2NvbnN0IHA9aC5tb3JwaFRhcmdldHNSZWxhdGl2ZT8xOjEtbTtkLmdldFVuaWZvcm1zKCkuc2V0VmFsdWUocywibW9ycGhUYXJnZXRCYXNlSW5mbHVlbmNlIixwKSxkLmdldFVuaWZvcm1zKCkuc2V0VmFsdWUocywibW9ycGhUYXJnZXRJbmZsdWVuY2VzIixmKSxkLmdldFVuaWZvcm1zKCkuc2V0VmFsdWUocywibW9ycGhUYXJnZXRzVGV4dHVyZSIseS50ZXh0dXJlLHQpLGQuZ2V0VW5pZm9ybXMoKS5zZXRWYWx1ZShzLCJtb3JwaFRhcmdldHNUZXh0dXJlU2l6ZSIseS5zaXplKX1lbHNle2NvbnN0IGc9Zj09PXZvaWQgMD8wOmYubGVuZ3RoO2xldCBfPW5baC5pZF07aWYoXz09PXZvaWQgMHx8Xy5sZW5ndGghPT1nKXtfPVtdO2ZvcihsZXQgdz0wO3c8Zzt3KyspX1t3XT1bdywwXTtuW2guaWRdPV99Zm9yKGxldCB3PTA7dzxnO3crKyl7Y29uc3QgUz1fW3ddO1NbMF09dyxTWzFdPWZbd119Xy5zb3J0KGFic051bWVyaWNhbFNvcnQpO2ZvcihsZXQgdz0wO3c8ODt3KyspdzxnJiZfW3ddWzFdPyhvW3ddWzBdPV9bd11bMF0sb1t3XVsxXT1fW3ddWzFdKToob1t3XVswXT1OdW1iZXIuTUFYX1NBRkVfSU5URUdFUixvW3ddWzFdPTApO28uc29ydChudW1lcmljYWxTb3J0KTtjb25zdCB5PWgubW9ycGhBdHRyaWJ1dGVzLnBvc2l0aW9uLG09aC5tb3JwaEF0dHJpYnV0ZXMubm9ybWFsO2xldCBwPTA7Zm9yKGxldCB3PTA7dzw4O3crKyl7Y29uc3QgUz1vW3ddLFI9U1swXSxEPVNbMV07UiE9PU51bWJlci5NQVhfU0FGRV9JTlRFR0VSJiZEPyh5JiZoLmdldEF0dHJpYnV0ZSgibW9ycGhUYXJnZXQiK3cpIT09eVtSXSYmaC5zZXRBdHRyaWJ1dGUoIm1vcnBoVGFyZ2V0Iit3LHlbUl0pLG0mJmguZ2V0QXR0cmlidXRlKCJtb3JwaE5vcm1hbCIrdykhPT1tW1JdJiZoLnNldEF0dHJpYnV0ZSgibW9ycGhOb3JtYWwiK3csbVtSXSksaVt3XT1ELHArPUQpOih5JiZoLmhhc0F0dHJpYnV0ZSgibW9ycGhUYXJnZXQiK3cpPT09ITAmJmguZGVsZXRlQXR0cmlidXRlKCJtb3JwaFRhcmdldCIrdyksbSYmaC5oYXNBdHRyaWJ1dGUoIm1vcnBoTm9ybWFsIit3KT09PSEwJiZoLmRlbGV0ZUF0dHJpYnV0ZSgibW9ycGhOb3JtYWwiK3cpLGlbd109MCl9Y29uc3QgVD1oLm1vcnBoVGFyZ2V0c1JlbGF0aXZlPzE6MS1wO2QuZ2V0VW5pZm9ybXMoKS5zZXRWYWx1ZShzLCJtb3JwaFRhcmdldEJhc2VJbmZsdWVuY2UiLFQpLGQuZ2V0VW5pZm9ybXMoKS5zZXRWYWx1ZShzLCJtb3JwaFRhcmdldEluZmx1ZW5jZXMiLGkpfX1yZXR1cm57dXBkYXRlOmx9fWZ1bmN0aW9uIFdlYkdMT2JqZWN0cyhzLGUsdCxuKXtsZXQgaT1uZXcgV2Vha01hcDtmdW5jdGlvbiByKGwpe2NvbnN0IGM9bi5yZW5kZXIuZnJhbWUsaD1sLmdlb21ldHJ5LHU9ZS5nZXQobCxoKTtyZXR1cm4gaS5nZXQodSkhPT1jJiYoZS51cGRhdGUodSksaS5zZXQodSxjKSksbC5pc0luc3RhbmNlZE1lc2gmJihsLmhhc0V2ZW50TGlzdGVuZXIoImRpc3Bvc2UiLG8pPT09ITEmJmwuYWRkRXZlbnRMaXN0ZW5lcigiZGlzcG9zZSIsbyksdC51cGRhdGUobC5pbnN0YW5jZU1hdHJpeCwzNDk2MiksbC5pbnN0YW5jZUNvbG9yIT09bnVsbCYmdC51cGRhdGUobC5pbnN0YW5jZUNvbG9yLDM0OTYyKSksdX1mdW5jdGlvbiBhKCl7aT1uZXcgV2Vha01hcH1mdW5jdGlvbiBvKGwpe2NvbnN0IGM9bC50YXJnZXQ7Yy5yZW1vdmVFdmVudExpc3RlbmVyKCJkaXNwb3NlIixvKSx0LnJlbW92ZShjLmluc3RhbmNlTWF0cml4KSxjLmluc3RhbmNlQ29sb3IhPT1udWxsJiZ0LnJlbW92ZShjLmluc3RhbmNlQ29sb3IpfXJldHVybnt1cGRhdGU6cixkaXNwb3NlOmF9fWNvbnN0IGVtcHR5VGV4dHVyZT1uZXcgVGV4dHVyZSxlbXB0eUFycmF5VGV4dHVyZT1uZXcgRGF0YUFycmF5VGV4dHVyZSxlbXB0eTNkVGV4dHVyZT1uZXcgRGF0YTNEVGV4dHVyZSxlbXB0eUN1YmVUZXh0dXJlPW5ldyBDdWJlVGV4dHVyZSxhcnJheUNhY2hlRjMyPVtdLGFycmF5Q2FjaGVJMzI9W10sbWF0NGFycmF5PW5ldyBGbG9hdDMyQXJyYXkoMTYpLG1hdDNhcnJheT1uZXcgRmxvYXQzMkFycmF5KDkpLG1hdDJhcnJheT1uZXcgRmxvYXQzMkFycmF5KDQpO2Z1bmN0aW9uIGZsYXR0ZW4ocyxlLHQpe2NvbnN0IG49c1swXTtpZihuPD0wfHxuPjApcmV0dXJuIHM7Y29uc3QgaT1lKnQ7bGV0IHI9YXJyYXlDYWNoZUYzMltpXTtpZihyPT09dm9pZCAwJiYocj1uZXcgRmxvYXQzMkFycmF5KGkpLGFycmF5Q2FjaGVGMzJbaV09ciksZSE9PTApe24udG9BcnJheShyLDApO2ZvcihsZXQgYT0xLG89MDthIT09ZTsrK2Epbys9dCxzW2FdLnRvQXJyYXkocixvKX1yZXR1cm4gcn1mdW5jdGlvbiBhcnJheXNFcXVhbChzLGUpe2lmKHMubGVuZ3RoIT09ZS5sZW5ndGgpcmV0dXJuITE7Zm9yKGxldCB0PTAsbj1zLmxlbmd0aDt0PG47dCsrKWlmKHNbdF0hPT1lW3RdKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIGNvcHlBcnJheShzLGUpe2ZvcihsZXQgdD0wLG49ZS5sZW5ndGg7dDxuO3QrKylzW3RdPWVbdF19ZnVuY3Rpb24gYWxsb2NUZXhVbml0cyhzLGUpe2xldCB0PWFycmF5Q2FjaGVJMzJbZV07dD09PXZvaWQgMCYmKHQ9bmV3IEludDMyQXJyYXkoZSksYXJyYXlDYWNoZUkzMltlXT10KTtmb3IobGV0IG49MDtuIT09ZTsrK24pdFtuXT1zLmFsbG9jYXRlVGV4dHVyZVVuaXQoKTtyZXR1cm4gdH1mdW5jdGlvbiBzZXRWYWx1ZVYxZihzLGUpe2NvbnN0IHQ9dGhpcy5jYWNoZTt0WzBdIT09ZSYmKHMudW5pZm9ybTFmKHRoaXMuYWRkcixlKSx0WzBdPWUpfWZ1bmN0aW9uIHNldFZhbHVlVjJmKHMsZSl7Y29uc3QgdD10aGlzLmNhY2hlO2lmKGUueCE9PXZvaWQgMCkodFswXSE9PWUueHx8dFsxXSE9PWUueSkmJihzLnVuaWZvcm0yZih0aGlzLmFkZHIsZS54LGUueSksdFswXT1lLngsdFsxXT1lLnkpO2Vsc2V7aWYoYXJyYXlzRXF1YWwodCxlKSlyZXR1cm47cy51bmlmb3JtMmZ2KHRoaXMuYWRkcixlKSxjb3B5QXJyYXkodCxlKX19ZnVuY3Rpb24gc2V0VmFsdWVWM2YocyxlKXtjb25zdCB0PXRoaXMuY2FjaGU7aWYoZS54IT09dm9pZCAwKSh0WzBdIT09ZS54fHx0WzFdIT09ZS55fHx0WzJdIT09ZS56KSYmKHMudW5pZm9ybTNmKHRoaXMuYWRkcixlLngsZS55LGUueiksdFswXT1lLngsdFsxXT1lLnksdFsyXT1lLnopO2Vsc2UgaWYoZS5yIT09dm9pZCAwKSh0WzBdIT09ZS5yfHx0WzFdIT09ZS5nfHx0WzJdIT09ZS5iKSYmKHMudW5pZm9ybTNmKHRoaXMuYWRkcixlLnIsZS5nLGUuYiksdFswXT1lLnIsdFsxXT1lLmcsdFsyXT1lLmIpO2Vsc2V7aWYoYXJyYXlzRXF1YWwodCxlKSlyZXR1cm47cy51bmlmb3JtM2Z2KHRoaXMuYWRkcixlKSxjb3B5QXJyYXkodCxlKX19ZnVuY3Rpb24gc2V0VmFsdWVWNGYocyxlKXtjb25zdCB0PXRoaXMuY2FjaGU7aWYoZS54IT09dm9pZCAwKSh0WzBdIT09ZS54fHx0WzFdIT09ZS55fHx0WzJdIT09ZS56fHx0WzNdIT09ZS53KSYmKHMudW5pZm9ybTRmKHRoaXMuYWRkcixlLngsZS55LGUueixlLncpLHRbMF09ZS54LHRbMV09ZS55LHRbMl09ZS56LHRbM109ZS53KTtlbHNle2lmKGFycmF5c0VxdWFsKHQsZSkpcmV0dXJuO3MudW5pZm9ybTRmdih0aGlzLmFkZHIsZSksY29weUFycmF5KHQsZSl9fWZ1bmN0aW9uIHNldFZhbHVlTTIocyxlKXtjb25zdCB0PXRoaXMuY2FjaGUsbj1lLmVsZW1lbnRzO2lmKG49PT12b2lkIDApe2lmKGFycmF5c0VxdWFsKHQsZSkpcmV0dXJuO3MudW5pZm9ybU1hdHJpeDJmdih0aGlzLmFkZHIsITEsZSksY29weUFycmF5KHQsZSl9ZWxzZXtpZihhcnJheXNFcXVhbCh0LG4pKXJldHVybjttYXQyYXJyYXkuc2V0KG4pLHMudW5pZm9ybU1hdHJpeDJmdih0aGlzLmFkZHIsITEsbWF0MmFycmF5KSxjb3B5QXJyYXkodCxuKX19ZnVuY3Rpb24gc2V0VmFsdWVNMyhzLGUpe2NvbnN0IHQ9dGhpcy5jYWNoZSxuPWUuZWxlbWVudHM7aWYobj09PXZvaWQgMCl7aWYoYXJyYXlzRXF1YWwodCxlKSlyZXR1cm47cy51bmlmb3JtTWF0cml4M2Z2KHRoaXMuYWRkciwhMSxlKSxjb3B5QXJyYXkodCxlKX1lbHNle2lmKGFycmF5c0VxdWFsKHQsbikpcmV0dXJuO21hdDNhcnJheS5zZXQobikscy51bmlmb3JtTWF0cml4M2Z2KHRoaXMuYWRkciwhMSxtYXQzYXJyYXkpLGNvcHlBcnJheSh0LG4pfX1mdW5jdGlvbiBzZXRWYWx1ZU00KHMsZSl7Y29uc3QgdD10aGlzLmNhY2hlLG49ZS5lbGVtZW50cztpZihuPT09dm9pZCAwKXtpZihhcnJheXNFcXVhbCh0LGUpKXJldHVybjtzLnVuaWZvcm1NYXRyaXg0ZnYodGhpcy5hZGRyLCExLGUpLGNvcHlBcnJheSh0LGUpfWVsc2V7aWYoYXJyYXlzRXF1YWwodCxuKSlyZXR1cm47bWF0NGFycmF5LnNldChuKSxzLnVuaWZvcm1NYXRyaXg0ZnYodGhpcy5hZGRyLCExLG1hdDRhcnJheSksY29weUFycmF5KHQsbil9fWZ1bmN0aW9uIHNldFZhbHVlVjFpKHMsZSl7Y29uc3QgdD10aGlzLmNhY2hlO3RbMF0hPT1lJiYocy51bmlmb3JtMWkodGhpcy5hZGRyLGUpLHRbMF09ZSl9ZnVuY3Rpb24gc2V0VmFsdWVWMmkocyxlKXtjb25zdCB0PXRoaXMuY2FjaGU7YXJyYXlzRXF1YWwodCxlKXx8KHMudW5pZm9ybTJpdih0aGlzLmFkZHIsZSksY29weUFycmF5KHQsZSkpfWZ1bmN0aW9uIHNldFZhbHVlVjNpKHMsZSl7Y29uc3QgdD10aGlzLmNhY2hlO2FycmF5c0VxdWFsKHQsZSl8fChzLnVuaWZvcm0zaXYodGhpcy5hZGRyLGUpLGNvcHlBcnJheSh0LGUpKX1mdW5jdGlvbiBzZXRWYWx1ZVY0aShzLGUpe2NvbnN0IHQ9dGhpcy5jYWNoZTthcnJheXNFcXVhbCh0LGUpfHwocy51bmlmb3JtNGl2KHRoaXMuYWRkcixlKSxjb3B5QXJyYXkodCxlKSl9ZnVuY3Rpb24gc2V0VmFsdWVWMXVpKHMsZSl7Y29uc3QgdD10aGlzLmNhY2hlO3RbMF0hPT1lJiYocy51bmlmb3JtMXVpKHRoaXMuYWRkcixlKSx0WzBdPWUpfWZ1bmN0aW9uIHNldFZhbHVlVjJ1aShzLGUpe2NvbnN0IHQ9dGhpcy5jYWNoZTthcnJheXNFcXVhbCh0LGUpfHwocy51bmlmb3JtMnVpdih0aGlzLmFkZHIsZSksY29weUFycmF5KHQsZSkpfWZ1bmN0aW9uIHNldFZhbHVlVjN1aShzLGUpe2NvbnN0IHQ9dGhpcy5jYWNoZTthcnJheXNFcXVhbCh0LGUpfHwocy51bmlmb3JtM3Vpdih0aGlzLmFkZHIsZSksY29weUFycmF5KHQsZSkpfWZ1bmN0aW9uIHNldFZhbHVlVjR1aShzLGUpe2NvbnN0IHQ9dGhpcy5jYWNoZTthcnJheXNFcXVhbCh0LGUpfHwocy51bmlmb3JtNHVpdih0aGlzLmFkZHIsZSksY29weUFycmF5KHQsZSkpfWZ1bmN0aW9uIHNldFZhbHVlVDEocyxlLHQpe2NvbnN0IG49dGhpcy5jYWNoZSxpPXQuYWxsb2NhdGVUZXh0dXJlVW5pdCgpO25bMF0hPT1pJiYocy51bmlmb3JtMWkodGhpcy5hZGRyLGkpLG5bMF09aSksdC5zZXRUZXh0dXJlMkQoZXx8ZW1wdHlUZXh0dXJlLGkpfWZ1bmN0aW9uIHNldFZhbHVlVDNEMShzLGUsdCl7Y29uc3Qgbj10aGlzLmNhY2hlLGk9dC5hbGxvY2F0ZVRleHR1cmVVbml0KCk7blswXSE9PWkmJihzLnVuaWZvcm0xaSh0aGlzLmFkZHIsaSksblswXT1pKSx0LnNldFRleHR1cmUzRChlfHxlbXB0eTNkVGV4dHVyZSxpKX1mdW5jdGlvbiBzZXRWYWx1ZVQ2KHMsZSx0KXtjb25zdCBuPXRoaXMuY2FjaGUsaT10LmFsbG9jYXRlVGV4dHVyZVVuaXQoKTtuWzBdIT09aSYmKHMudW5pZm9ybTFpKHRoaXMuYWRkcixpKSxuWzBdPWkpLHQuc2V0VGV4dHVyZUN1YmUoZXx8ZW1wdHlDdWJlVGV4dHVyZSxpKX1mdW5jdGlvbiBzZXRWYWx1ZVQyREFycmF5MShzLGUsdCl7Y29uc3Qgbj10aGlzLmNhY2hlLGk9dC5hbGxvY2F0ZVRleHR1cmVVbml0KCk7blswXSE9PWkmJihzLnVuaWZvcm0xaSh0aGlzLmFkZHIsaSksblswXT1pKSx0LnNldFRleHR1cmUyREFycmF5KGV8fGVtcHR5QXJyYXlUZXh0dXJlLGkpfWZ1bmN0aW9uIGdldFNpbmd1bGFyU2V0dGVyKHMpe3N3aXRjaChzKXtjYXNlIDUxMjY6cmV0dXJuIHNldFZhbHVlVjFmO2Nhc2UgMzU2NjQ6cmV0dXJuIHNldFZhbHVlVjJmO2Nhc2UgMzU2NjU6cmV0dXJuIHNldFZhbHVlVjNmO2Nhc2UgMzU2NjY6cmV0dXJuIHNldFZhbHVlVjRmO2Nhc2UgMzU2NzQ6cmV0dXJuIHNldFZhbHVlTTI7Y2FzZSAzNTY3NTpyZXR1cm4gc2V0VmFsdWVNMztjYXNlIDM1Njc2OnJldHVybiBzZXRWYWx1ZU00O2Nhc2UgNTEyNDpjYXNlIDM1NjcwOnJldHVybiBzZXRWYWx1ZVYxaTtjYXNlIDM1NjY3OmNhc2UgMzU2NzE6cmV0dXJuIHNldFZhbHVlVjJpO2Nhc2UgMzU2Njg6Y2FzZSAzNTY3MjpyZXR1cm4gc2V0VmFsdWVWM2k7Y2FzZSAzNTY2OTpjYXNlIDM1NjczOnJldHVybiBzZXRWYWx1ZVY0aTtjYXNlIDUxMjU6cmV0dXJuIHNldFZhbHVlVjF1aTtjYXNlIDM2Mjk0OnJldHVybiBzZXRWYWx1ZVYydWk7Y2FzZSAzNjI5NTpyZXR1cm4gc2V0VmFsdWVWM3VpO2Nhc2UgMzYyOTY6cmV0dXJuIHNldFZhbHVlVjR1aTtjYXNlIDM1Njc4OmNhc2UgMzYxOTg6Y2FzZSAzNjI5ODpjYXNlIDM2MzA2OmNhc2UgMzU2ODI6cmV0dXJuIHNldFZhbHVlVDE7Y2FzZSAzNTY3OTpjYXNlIDM2Mjk5OmNhc2UgMzYzMDc6cmV0dXJuIHNldFZhbHVlVDNEMTtjYXNlIDM1NjgwOmNhc2UgMzYzMDA6Y2FzZSAzNjMwODpjYXNlIDM2MjkzOnJldHVybiBzZXRWYWx1ZVQ2O2Nhc2UgMzYyODk6Y2FzZSAzNjMwMzpjYXNlIDM2MzExOmNhc2UgMzYyOTI6cmV0dXJuIHNldFZhbHVlVDJEQXJyYXkxfX1mdW5jdGlvbiBzZXRWYWx1ZVYxZkFycmF5KHMsZSl7cy51bmlmb3JtMWZ2KHRoaXMuYWRkcixlKX1mdW5jdGlvbiBzZXRWYWx1ZVYyZkFycmF5KHMsZSl7Y29uc3QgdD1mbGF0dGVuKGUsdGhpcy5zaXplLDIpO3MudW5pZm9ybTJmdih0aGlzLmFkZHIsdCl9ZnVuY3Rpb24gc2V0VmFsdWVWM2ZBcnJheShzLGUpe2NvbnN0IHQ9ZmxhdHRlbihlLHRoaXMuc2l6ZSwzKTtzLnVuaWZvcm0zZnYodGhpcy5hZGRyLHQpfWZ1bmN0aW9uIHNldFZhbHVlVjRmQXJyYXkocyxlKXtjb25zdCB0PWZsYXR0ZW4oZSx0aGlzLnNpemUsNCk7cy51bmlmb3JtNGZ2KHRoaXMuYWRkcix0KX1mdW5jdGlvbiBzZXRWYWx1ZU0yQXJyYXkocyxlKXtjb25zdCB0PWZsYXR0ZW4oZSx0aGlzLnNpemUsNCk7cy51bmlmb3JtTWF0cml4MmZ2KHRoaXMuYWRkciwhMSx0KX1mdW5jdGlvbiBzZXRWYWx1ZU0zQXJyYXkocyxlKXtjb25zdCB0PWZsYXR0ZW4oZSx0aGlzLnNpemUsOSk7cy51bmlmb3JtTWF0cml4M2Z2KHRoaXMuYWRkciwhMSx0KX1mdW5jdGlvbiBzZXRWYWx1ZU00QXJyYXkocyxlKXtjb25zdCB0PWZsYXR0ZW4oZSx0aGlzLnNpemUsMTYpO3MudW5pZm9ybU1hdHJpeDRmdih0aGlzLmFkZHIsITEsdCl9ZnVuY3Rpb24gc2V0VmFsdWVWMWlBcnJheShzLGUpe3MudW5pZm9ybTFpdih0aGlzLmFkZHIsZSl9ZnVuY3Rpb24gc2V0VmFsdWVWMmlBcnJheShzLGUpe3MudW5pZm9ybTJpdih0aGlzLmFkZHIsZSl9ZnVuY3Rpb24gc2V0VmFsdWVWM2lBcnJheShzLGUpe3MudW5pZm9ybTNpdih0aGlzLmFkZHIsZSl9ZnVuY3Rpb24gc2V0VmFsdWVWNGlBcnJheShzLGUpe3MudW5pZm9ybTRpdih0aGlzLmFkZHIsZSl9ZnVuY3Rpb24gc2V0VmFsdWVWMXVpQXJyYXkocyxlKXtzLnVuaWZvcm0xdWl2KHRoaXMuYWRkcixlKX1mdW5jdGlvbiBzZXRWYWx1ZVYydWlBcnJheShzLGUpe3MudW5pZm9ybTJ1aXYodGhpcy5hZGRyLGUpfWZ1bmN0aW9uIHNldFZhbHVlVjN1aUFycmF5KHMsZSl7cy51bmlmb3JtM3Vpdih0aGlzLmFkZHIsZSl9ZnVuY3Rpb24gc2V0VmFsdWVWNHVpQXJyYXkocyxlKXtzLnVuaWZvcm00dWl2KHRoaXMuYWRkcixlKX1mdW5jdGlvbiBzZXRWYWx1ZVQxQXJyYXkocyxlLHQpe2NvbnN0IG49ZS5sZW5ndGgsaT1hbGxvY1RleFVuaXRzKHQsbik7cy51bmlmb3JtMWl2KHRoaXMuYWRkcixpKTtmb3IobGV0IHI9MDtyIT09bjsrK3IpdC5zZXRUZXh0dXJlMkQoZVtyXXx8ZW1wdHlUZXh0dXJlLGlbcl0pfWZ1bmN0aW9uIHNldFZhbHVlVDNEQXJyYXkocyxlLHQpe2NvbnN0IG49ZS5sZW5ndGgsaT1hbGxvY1RleFVuaXRzKHQsbik7cy51bmlmb3JtMWl2KHRoaXMuYWRkcixpKTtmb3IobGV0IHI9MDtyIT09bjsrK3IpdC5zZXRUZXh0dXJlM0QoZVtyXXx8ZW1wdHkzZFRleHR1cmUsaVtyXSl9ZnVuY3Rpb24gc2V0VmFsdWVUNkFycmF5KHMsZSx0KXtjb25zdCBuPWUubGVuZ3RoLGk9YWxsb2NUZXhVbml0cyh0LG4pO3MudW5pZm9ybTFpdih0aGlzLmFkZHIsaSk7Zm9yKGxldCByPTA7ciE9PW47KytyKXQuc2V0VGV4dHVyZUN1YmUoZVtyXXx8ZW1wdHlDdWJlVGV4dHVyZSxpW3JdKX1mdW5jdGlvbiBzZXRWYWx1ZVQyREFycmF5QXJyYXkocyxlLHQpe2NvbnN0IG49ZS5sZW5ndGgsaT1hbGxvY1RleFVuaXRzKHQsbik7cy51bmlmb3JtMWl2KHRoaXMuYWRkcixpKTtmb3IobGV0IHI9MDtyIT09bjsrK3IpdC5zZXRUZXh0dXJlMkRBcnJheShlW3JdfHxlbXB0eUFycmF5VGV4dHVyZSxpW3JdKX1mdW5jdGlvbiBnZXRQdXJlQXJyYXlTZXR0ZXIocyl7c3dpdGNoKHMpe2Nhc2UgNTEyNjpyZXR1cm4gc2V0VmFsdWVWMWZBcnJheTtjYXNlIDM1NjY0OnJldHVybiBzZXRWYWx1ZVYyZkFycmF5O2Nhc2UgMzU2NjU6cmV0dXJuIHNldFZhbHVlVjNmQXJyYXk7Y2FzZSAzNTY2NjpyZXR1cm4gc2V0VmFsdWVWNGZBcnJheTtjYXNlIDM1Njc0OnJldHVybiBzZXRWYWx1ZU0yQXJyYXk7Y2FzZSAzNTY3NTpyZXR1cm4gc2V0VmFsdWVNM0FycmF5O2Nhc2UgMzU2NzY6cmV0dXJuIHNldFZhbHVlTTRBcnJheTtjYXNlIDUxMjQ6Y2FzZSAzNTY3MDpyZXR1cm4gc2V0VmFsdWVWMWlBcnJheTtjYXNlIDM1NjY3OmNhc2UgMzU2NzE6cmV0dXJuIHNldFZhbHVlVjJpQXJyYXk7Y2FzZSAzNTY2ODpjYXNlIDM1NjcyOnJldHVybiBzZXRWYWx1ZVYzaUFycmF5O2Nhc2UgMzU2Njk6Y2FzZSAzNTY3MzpyZXR1cm4gc2V0VmFsdWVWNGlBcnJheTtjYXNlIDUxMjU6cmV0dXJuIHNldFZhbHVlVjF1aUFycmF5O2Nhc2UgMzYyOTQ6cmV0dXJuIHNldFZhbHVlVjJ1aUFycmF5O2Nhc2UgMzYyOTU6cmV0dXJuIHNldFZhbHVlVjN1aUFycmF5O2Nhc2UgMzYyOTY6cmV0dXJuIHNldFZhbHVlVjR1aUFycmF5O2Nhc2UgMzU2Nzg6Y2FzZSAzNjE5ODpjYXNlIDM2Mjk4OmNhc2UgMzYzMDY6Y2FzZSAzNTY4MjpyZXR1cm4gc2V0VmFsdWVUMUFycmF5O2Nhc2UgMzU2Nzk6Y2FzZSAzNjI5OTpjYXNlIDM2MzA3OnJldHVybiBzZXRWYWx1ZVQzREFycmF5O2Nhc2UgMzU2ODA6Y2FzZSAzNjMwMDpjYXNlIDM2MzA4OmNhc2UgMzYyOTM6cmV0dXJuIHNldFZhbHVlVDZBcnJheTtjYXNlIDM2Mjg5OmNhc2UgMzYzMDM6Y2FzZSAzNjMxMTpjYXNlIDM2MjkyOnJldHVybiBzZXRWYWx1ZVQyREFycmF5QXJyYXl9fWZ1bmN0aW9uIFNpbmdsZVVuaWZvcm0ocyxlLHQpe3RoaXMuaWQ9cyx0aGlzLmFkZHI9dCx0aGlzLmNhY2hlPVtdLHRoaXMuc2V0VmFsdWU9Z2V0U2luZ3VsYXJTZXR0ZXIoZS50eXBlKX1mdW5jdGlvbiBQdXJlQXJyYXlVbmlmb3JtKHMsZSx0KXt0aGlzLmlkPXMsdGhpcy5hZGRyPXQsdGhpcy5jYWNoZT1bXSx0aGlzLnNpemU9ZS5zaXplLHRoaXMuc2V0VmFsdWU9Z2V0UHVyZUFycmF5U2V0dGVyKGUudHlwZSl9UHVyZUFycmF5VW5pZm9ybS5wcm90b3R5cGUudXBkYXRlQ2FjaGU9ZnVuY3Rpb24ocyl7Y29uc3QgZT10aGlzLmNhY2hlO3MgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkmJmUubGVuZ3RoIT09cy5sZW5ndGgmJih0aGlzLmNhY2hlPW5ldyBGbG9hdDMyQXJyYXkocy5sZW5ndGgpKSxjb3B5QXJyYXkoZSxzKX07ZnVuY3Rpb24gU3RydWN0dXJlZFVuaWZvcm0ocyl7dGhpcy5pZD1zLHRoaXMuc2VxPVtdLHRoaXMubWFwPXt9fVN0cnVjdHVyZWRVbmlmb3JtLnByb3RvdHlwZS5zZXRWYWx1ZT1mdW5jdGlvbihzLGUsdCl7Y29uc3Qgbj10aGlzLnNlcTtmb3IobGV0IGk9MCxyPW4ubGVuZ3RoO2khPT1yOysraSl7Y29uc3QgYT1uW2ldO2Euc2V0VmFsdWUocyxlW2EuaWRdLHQpfX07Y29uc3QgUmVQYXRoUGFydD0vKFx3KykoXF0pPyhcW3xcLik/L2c7ZnVuY3Rpb24gYWRkVW5pZm9ybShzLGUpe3Muc2VxLnB1c2goZSkscy5tYXBbZS5pZF09ZX1mdW5jdGlvbiBwYXJzZVVuaWZvcm0ocyxlLHQpe2NvbnN0IG49cy5uYW1lLGk9bi5sZW5ndGg7Zm9yKFJlUGF0aFBhcnQubGFzdEluZGV4PTA7Oyl7Y29uc3Qgcj1SZVBhdGhQYXJ0LmV4ZWMobiksYT1SZVBhdGhQYXJ0Lmxhc3RJbmRleDtsZXQgbz1yWzFdO2NvbnN0IGw9clsyXT09PSJdIixjPXJbM107aWYobCYmKG89b3wwKSxjPT09dm9pZCAwfHxjPT09IlsiJiZhKzI9PT1pKXthZGRVbmlmb3JtKHQsYz09PXZvaWQgMD9uZXcgU2luZ2xlVW5pZm9ybShvLHMsZSk6bmV3IFB1cmVBcnJheVVuaWZvcm0obyxzLGUpKTticmVha31lbHNle2xldCB1PXQubWFwW29dO3U9PT12b2lkIDAmJih1PW5ldyBTdHJ1Y3R1cmVkVW5pZm9ybShvKSxhZGRVbmlmb3JtKHQsdSkpLHQ9dX19fWZ1bmN0aW9uIFdlYkdMVW5pZm9ybXMocyxlKXt0aGlzLnNlcT1bXSx0aGlzLm1hcD17fTtjb25zdCB0PXMuZ2V0UHJvZ3JhbVBhcmFtZXRlcihlLDM1NzE4KTtmb3IobGV0IG49MDtuPHQ7KytuKXtjb25zdCBpPXMuZ2V0QWN0aXZlVW5pZm9ybShlLG4pLHI9cy5nZXRVbmlmb3JtTG9jYXRpb24oZSxpLm5hbWUpO3BhcnNlVW5pZm9ybShpLHIsdGhpcyl9fVdlYkdMVW5pZm9ybXMucHJvdG90eXBlLnNldFZhbHVlPWZ1bmN0aW9uKHMsZSx0LG4pe2NvbnN0IGk9dGhpcy5tYXBbZV07aSE9PXZvaWQgMCYmaS5zZXRWYWx1ZShzLHQsbil9LFdlYkdMVW5pZm9ybXMucHJvdG90eXBlLnNldE9wdGlvbmFsPWZ1bmN0aW9uKHMsZSx0KXtjb25zdCBuPWVbdF07biE9PXZvaWQgMCYmdGhpcy5zZXRWYWx1ZShzLHQsbil9LFdlYkdMVW5pZm9ybXMudXBsb2FkPWZ1bmN0aW9uKHMsZSx0LG4pe2ZvcihsZXQgaT0wLHI9ZS5sZW5ndGg7aSE9PXI7KytpKXtjb25zdCBhPWVbaV0sbz10W2EuaWRdO28ubmVlZHNVcGRhdGUhPT0hMSYmYS5zZXRWYWx1ZShzLG8udmFsdWUsbil9fSxXZWJHTFVuaWZvcm1zLnNlcVdpdGhWYWx1ZT1mdW5jdGlvbihzLGUpe2NvbnN0IHQ9W107Zm9yKGxldCBuPTAsaT1zLmxlbmd0aDtuIT09aTsrK24pe2NvbnN0IHI9c1tuXTtyLmlkIGluIGUmJnQucHVzaChyKX1yZXR1cm4gdH07ZnVuY3Rpb24gV2ViR0xTaGFkZXIocyxlLHQpe2NvbnN0IG49cy5jcmVhdGVTaGFkZXIoZSk7cmV0dXJuIHMuc2hhZGVyU291cmNlKG4sdCkscy5jb21waWxlU2hhZGVyKG4pLG59bGV0IHByb2dyYW1JZENvdW50PTA7ZnVuY3Rpb24gYWRkTGluZU51bWJlcnMocyl7Y29uc3QgZT1zLnNwbGl0KGAKYCk7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0KyspZVt0XT10KzErIjogIitlW3RdO3JldHVybiBlLmpvaW4oYApgKX1mdW5jdGlvbiBnZXRFbmNvZGluZ0NvbXBvbmVudHMocyl7c3dpdGNoKHMpe2Nhc2UgM2UzOnJldHVyblsiTGluZWFyIiwiKCB2YWx1ZSApIl07Y2FzZSAzMDAxOnJldHVyblsic1JHQiIsIiggdmFsdWUgKSJdO2RlZmF1bHQ6cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xQcm9ncmFtOiBVbnN1cHBvcnRlZCBlbmNvZGluZzoiLHMpLFsiTGluZWFyIiwiKCB2YWx1ZSApIl19fWZ1bmN0aW9uIGdldFNoYWRlckVycm9ycyhzLGUsdCl7Y29uc3Qgbj1zLmdldFNoYWRlclBhcmFtZXRlcihlLDM1NzEzKSxpPXMuZ2V0U2hhZGVySW5mb0xvZyhlKS50cmltKCk7cmV0dXJuIG4mJmk9PT0iIj8iIjp0LnRvVXBwZXJDYXNlKCkrYAoKYCtpK2AKCmArYWRkTGluZU51bWJlcnMocy5nZXRTaGFkZXJTb3VyY2UoZSkpfWZ1bmN0aW9uIGdldFRleGVsRW5jb2RpbmdGdW5jdGlvbihzLGUpe2NvbnN0IHQ9Z2V0RW5jb2RpbmdDb21wb25lbnRzKGUpO3JldHVybiJ2ZWM0ICIrcysiKCB2ZWM0IHZhbHVlICkgeyByZXR1cm4gTGluZWFyVG8iK3RbMF0rdFsxXSsiOyB9In1mdW5jdGlvbiBnZXRUb25lTWFwcGluZ0Z1bmN0aW9uKHMsZSl7bGV0IHQ7c3dpdGNoKGUpe2Nhc2UgMTp0PSJMaW5lYXIiO2JyZWFrO2Nhc2UgMjp0PSJSZWluaGFyZCI7YnJlYWs7Y2FzZSAzOnQ9Ik9wdGltaXplZENpbmVvbiI7YnJlYWs7Y2FzZSA0OnQ9IkFDRVNGaWxtaWMiO2JyZWFrO2Nhc2UgNTp0PSJDdXN0b20iO2JyZWFrO2RlZmF1bHQ6Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFByb2dyYW06IFVuc3VwcG9ydGVkIHRvbmVNYXBwaW5nOiIsZSksdD0iTGluZWFyIn1yZXR1cm4idmVjMyAiK3MrIiggdmVjMyBjb2xvciApIHsgcmV0dXJuICIrdCsiVG9uZU1hcHBpbmcoIGNvbG9yICk7IH0ifWZ1bmN0aW9uIGdlbmVyYXRlRXh0ZW5zaW9ucyhzKXtyZXR1cm5bcy5leHRlbnNpb25EZXJpdmF0aXZlc3x8ISFzLmVudk1hcEN1YmVVVkhlaWdodHx8cy5idW1wTWFwfHxzLnRhbmdlbnRTcGFjZU5vcm1hbE1hcHx8cy5jbGVhcmNvYXROb3JtYWxNYXB8fHMuZmxhdFNoYWRpbmd8fHMuc2hhZGVySUQ9PT0icGh5c2ljYWwiPyIjZXh0ZW5zaW9uIEdMX09FU19zdGFuZGFyZF9kZXJpdmF0aXZlcyA6IGVuYWJsZSI6IiIsKHMuZXh0ZW5zaW9uRnJhZ0RlcHRofHxzLmxvZ2FyaXRobWljRGVwdGhCdWZmZXIpJiZzLnJlbmRlcmVyRXh0ZW5zaW9uRnJhZ0RlcHRoPyIjZXh0ZW5zaW9uIEdMX0VYVF9mcmFnX2RlcHRoIDogZW5hYmxlIjoiIixzLmV4dGVuc2lvbkRyYXdCdWZmZXJzJiZzLnJlbmRlcmVyRXh0ZW5zaW9uRHJhd0J1ZmZlcnM/IiNleHRlbnNpb24gR0xfRVhUX2RyYXdfYnVmZmVycyA6IHJlcXVpcmUiOiIiLChzLmV4dGVuc2lvblNoYWRlclRleHR1cmVMT0R8fHMuZW52TWFwfHxzLnRyYW5zbWlzc2lvbikmJnMucmVuZGVyZXJFeHRlbnNpb25TaGFkZXJUZXh0dXJlTG9kPyIjZXh0ZW5zaW9uIEdMX0VYVF9zaGFkZXJfdGV4dHVyZV9sb2QgOiBlbmFibGUiOiIiXS5maWx0ZXIoZmlsdGVyRW1wdHlMaW5lKS5qb2luKGAKYCl9ZnVuY3Rpb24gZ2VuZXJhdGVEZWZpbmVzKHMpe2NvbnN0IGU9W107Zm9yKGNvbnN0IHQgaW4gcyl7Y29uc3Qgbj1zW3RdO24hPT0hMSYmZS5wdXNoKCIjZGVmaW5lICIrdCsiICIrbil9cmV0dXJuIGUuam9pbihgCmApfWZ1bmN0aW9uIGZldGNoQXR0cmlidXRlTG9jYXRpb25zKHMsZSl7Y29uc3QgdD17fSxuPXMuZ2V0UHJvZ3JhbVBhcmFtZXRlcihlLDM1NzIxKTtmb3IobGV0IGk9MDtpPG47aSsrKXtjb25zdCByPXMuZ2V0QWN0aXZlQXR0cmliKGUsaSksYT1yLm5hbWU7bGV0IG89MTtyLnR5cGU9PT0zNTY3NCYmKG89Miksci50eXBlPT09MzU2NzUmJihvPTMpLHIudHlwZT09PTM1Njc2JiYobz00KSx0W2FdPXt0eXBlOnIudHlwZSxsb2NhdGlvbjpzLmdldEF0dHJpYkxvY2F0aW9uKGUsYSksbG9jYXRpb25TaXplOm99fXJldHVybiB0fWZ1bmN0aW9uIGZpbHRlckVtcHR5TGluZShzKXtyZXR1cm4gcyE9PSIifWZ1bmN0aW9uIHJlcGxhY2VMaWdodE51bXMocyxlKXtyZXR1cm4gcy5yZXBsYWNlKC9OVU1fRElSX0xJR0hUUy9nLGUubnVtRGlyTGlnaHRzKS5yZXBsYWNlKC9OVU1fU1BPVF9MSUdIVFMvZyxlLm51bVNwb3RMaWdodHMpLnJlcGxhY2UoL05VTV9SRUNUX0FSRUFfTElHSFRTL2csZS5udW1SZWN0QXJlYUxpZ2h0cykucmVwbGFjZSgvTlVNX1BPSU5UX0xJR0hUUy9nLGUubnVtUG9pbnRMaWdodHMpLnJlcGxhY2UoL05VTV9IRU1JX0xJR0hUUy9nLGUubnVtSGVtaUxpZ2h0cykucmVwbGFjZSgvTlVNX0RJUl9MSUdIVF9TSEFET1dTL2csZS5udW1EaXJMaWdodFNoYWRvd3MpLnJlcGxhY2UoL05VTV9TUE9UX0xJR0hUX1NIQURPV1MvZyxlLm51bVNwb3RMaWdodFNoYWRvd3MpLnJlcGxhY2UoL05VTV9QT0lOVF9MSUdIVF9TSEFET1dTL2csZS5udW1Qb2ludExpZ2h0U2hhZG93cyl9ZnVuY3Rpb24gcmVwbGFjZUNsaXBwaW5nUGxhbmVOdW1zKHMsZSl7cmV0dXJuIHMucmVwbGFjZSgvTlVNX0NMSVBQSU5HX1BMQU5FUy9nLGUubnVtQ2xpcHBpbmdQbGFuZXMpLnJlcGxhY2UoL1VOSU9OX0NMSVBQSU5HX1BMQU5FUy9nLGUubnVtQ2xpcHBpbmdQbGFuZXMtZS5udW1DbGlwSW50ZXJzZWN0aW9uKX1jb25zdCBpbmNsdWRlUGF0dGVybj0vXlsgXHRdKiNpbmNsdWRlICs8KFtcd1xkLi9dKyk+L2dtO2Z1bmN0aW9uIHJlc29sdmVJbmNsdWRlcyhzKXtyZXR1cm4gcy5yZXBsYWNlKGluY2x1ZGVQYXR0ZXJuLGluY2x1ZGVSZXBsYWNlcil9ZnVuY3Rpb24gaW5jbHVkZVJlcGxhY2VyKHMsZSl7Y29uc3QgdD1TaGFkZXJDaHVua1tlXTtpZih0PT09dm9pZCAwKXRocm93IG5ldyBFcnJvcigiQ2FuIG5vdCByZXNvbHZlICNpbmNsdWRlIDwiK2UrIj4iKTtyZXR1cm4gcmVzb2x2ZUluY2x1ZGVzKHQpfWNvbnN0IGRlcHJlY2F0ZWRVbnJvbGxMb29wUGF0dGVybj0vI3ByYWdtYSB1bnJvbGxfbG9vcFtcc10rP2ZvciBcKCBpbnQgaSBcPSAoXGQrKVw7IGkgPCAoXGQrKVw7IGkgXCtcKyBcKSBceyhbXHNcU10rPykoPz1cfSlcfS9nLHVucm9sbExvb3BQYXR0ZXJuPS8jcHJhZ21hIHVucm9sbF9sb29wX3N0YXJ0XHMrZm9yXHMqXChccyppbnRccytpXHMqPVxzKihcZCspXHMqO1xzKmlccyo8XHMqKFxkKylccyo7XHMqaVxzKlwrXCtccypcKVxzKnsoW1xzXFNdKz8pfVxzKyNwcmFnbWEgdW5yb2xsX2xvb3BfZW5kL2c7ZnVuY3Rpb24gdW5yb2xsTG9vcHMocyl7cmV0dXJuIHMucmVwbGFjZSh1bnJvbGxMb29wUGF0dGVybixsb29wUmVwbGFjZXIpLnJlcGxhY2UoZGVwcmVjYXRlZFVucm9sbExvb3BQYXR0ZXJuLGRlcHJlY2F0ZWRMb29wUmVwbGFjZXIpfWZ1bmN0aW9uIGRlcHJlY2F0ZWRMb29wUmVwbGFjZXIocyxlLHQsbil7cmV0dXJuIGNvbnNvbGUud2FybigiV2ViR0xQcm9ncmFtOiAjcHJhZ21hIHVucm9sbF9sb29wIHNoYWRlciBzeW50YXggaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSAjcHJhZ21hIHVucm9sbF9sb29wX3N0YXJ0IHN5bnRheCBpbnN0ZWFkLiIpLGxvb3BSZXBsYWNlcihzLGUsdCxuKX1mdW5jdGlvbiBsb29wUmVwbGFjZXIocyxlLHQsbil7bGV0IGk9IiI7Zm9yKGxldCByPXBhcnNlSW50KGUpO3I8cGFyc2VJbnQodCk7cisrKWkrPW4ucmVwbGFjZSgvXFtccyppXHMqXF0vZywiWyAiK3IrIiBdIikucmVwbGFjZSgvVU5ST0xMRURfTE9PUF9JTkRFWC9nLHIpO3JldHVybiBpfWZ1bmN0aW9uIGdlbmVyYXRlUHJlY2lzaW9uKHMpe2xldCBlPSJwcmVjaXNpb24gIitzLnByZWNpc2lvbitgIGZsb2F0OwpwcmVjaXNpb24gYCtzLnByZWNpc2lvbisiIGludDsiO3JldHVybiBzLnByZWNpc2lvbj09PSJoaWdocCI/ZSs9YAojZGVmaW5lIEhJR0hfUFJFQ0lTSU9OYDpzLnByZWNpc2lvbj09PSJtZWRpdW1wIj9lKz1gCiNkZWZpbmUgTUVESVVNX1BSRUNJU0lPTmA6cy5wcmVjaXNpb249PT0ibG93cCImJihlKz1gCiNkZWZpbmUgTE9XX1BSRUNJU0lPTmApLGV9ZnVuY3Rpb24gZ2VuZXJhdGVTaGFkb3dNYXBUeXBlRGVmaW5lKHMpe2xldCBlPSJTSEFET1dNQVBfVFlQRV9CQVNJQyI7cmV0dXJuIHMuc2hhZG93TWFwVHlwZT09PTE/ZT0iU0hBRE9XTUFQX1RZUEVfUENGIjpzLnNoYWRvd01hcFR5cGU9PT0yP2U9IlNIQURPV01BUF9UWVBFX1BDRl9TT0ZUIjpzLnNoYWRvd01hcFR5cGU9PT0zJiYoZT0iU0hBRE9XTUFQX1RZUEVfVlNNIiksZX1mdW5jdGlvbiBnZW5lcmF0ZUVudk1hcFR5cGVEZWZpbmUocyl7bGV0IGU9IkVOVk1BUF9UWVBFX0NVQkUiO2lmKHMuZW52TWFwKXN3aXRjaChzLmVudk1hcE1vZGUpe2Nhc2UgMzAxOmNhc2UgMzAyOmU9IkVOVk1BUF9UWVBFX0NVQkUiO2JyZWFrO2Nhc2UgMzA2OmNhc2UgMzA3OmU9IkVOVk1BUF9UWVBFX0NVQkVfVVYiO2JyZWFrfXJldHVybiBlfWZ1bmN0aW9uIGdlbmVyYXRlRW52TWFwTW9kZURlZmluZShzKXtsZXQgZT0iRU5WTUFQX01PREVfUkVGTEVDVElPTiI7aWYocy5lbnZNYXApc3dpdGNoKHMuZW52TWFwTW9kZSl7Y2FzZSAzMDI6Y2FzZSAzMDc6ZT0iRU5WTUFQX01PREVfUkVGUkFDVElPTiI7YnJlYWt9cmV0dXJuIGV9ZnVuY3Rpb24gZ2VuZXJhdGVFbnZNYXBCbGVuZGluZ0RlZmluZShzKXtsZXQgZT0iRU5WTUFQX0JMRU5ESU5HX05PTkUiO2lmKHMuZW52TWFwKXN3aXRjaChzLmNvbWJpbmUpe2Nhc2UgMDplPSJFTlZNQVBfQkxFTkRJTkdfTVVMVElQTFkiO2JyZWFrO2Nhc2UgMTplPSJFTlZNQVBfQkxFTkRJTkdfTUlYIjticmVhaztjYXNlIDI6ZT0iRU5WTUFQX0JMRU5ESU5HX0FERCI7YnJlYWt9cmV0dXJuIGV9ZnVuY3Rpb24gZ2VuZXJhdGVDdWJlVVZTaXplKHMpe2NvbnN0IGU9cy5lbnZNYXBDdWJlVVZIZWlnaHQ7aWYoZT09PW51bGwpcmV0dXJuIG51bGw7Y29uc3QgdD1NYXRoLmxvZzIoZS8zMisxKSszLG49MS9lO3JldHVybnt0ZXhlbFdpZHRoOjEvKDMqTWF0aC5tYXgoTWF0aC5wb3coMix0KSw3KjE2KSksdGV4ZWxIZWlnaHQ6bixtYXhNaXA6dH19ZnVuY3Rpb24gV2ViR0xQcm9ncmFtKHMsZSx0LG4pe2NvbnN0IGk9cy5nZXRDb250ZXh0KCkscj10LmRlZmluZXM7bGV0IGE9dC52ZXJ0ZXhTaGFkZXIsbz10LmZyYWdtZW50U2hhZGVyO2NvbnN0IGw9Z2VuZXJhdGVTaGFkb3dNYXBUeXBlRGVmaW5lKHQpLGM9Z2VuZXJhdGVFbnZNYXBUeXBlRGVmaW5lKHQpLGg9Z2VuZXJhdGVFbnZNYXBNb2RlRGVmaW5lKHQpLHU9Z2VuZXJhdGVFbnZNYXBCbGVuZGluZ0RlZmluZSh0KSxkPWdlbmVyYXRlQ3ViZVVWU2l6ZSh0KSxmPXQuaXNXZWJHTDI/IiI6Z2VuZXJhdGVFeHRlbnNpb25zKHQpLGc9Z2VuZXJhdGVEZWZpbmVzKHIpLF89aS5jcmVhdGVQcm9ncmFtKCk7bGV0IHksbSxwPXQuZ2xzbFZlcnNpb24/IiN2ZXJzaW9uICIrdC5nbHNsVmVyc2lvbitgCmA6IiI7dC5pc1Jhd1NoYWRlck1hdGVyaWFsPyh5PVtnXS5maWx0ZXIoZmlsdGVyRW1wdHlMaW5lKS5qb2luKGAKYCkseS5sZW5ndGg+MCYmKHkrPWAKYCksbT1bZixnXS5maWx0ZXIoZmlsdGVyRW1wdHlMaW5lKS5qb2luKGAKYCksbS5sZW5ndGg+MCYmKG0rPWAKYCkpOih5PVtnZW5lcmF0ZVByZWNpc2lvbih0KSwiI2RlZmluZSBTSEFERVJfTkFNRSAiK3Quc2hhZGVyTmFtZSxnLHQuaW5zdGFuY2luZz8iI2RlZmluZSBVU0VfSU5TVEFOQ0lORyI6IiIsdC5pbnN0YW5jaW5nQ29sb3I/IiNkZWZpbmUgVVNFX0lOU1RBTkNJTkdfQ09MT1IiOiIiLHQuc3VwcG9ydHNWZXJ0ZXhUZXh0dXJlcz8iI2RlZmluZSBWRVJURVhfVEVYVFVSRVMiOiIiLCIjZGVmaW5lIE1BWF9CT05FUyAiK3QubWF4Qm9uZXMsdC51c2VGb2cmJnQuZm9nPyIjZGVmaW5lIFVTRV9GT0ciOiIiLHQudXNlRm9nJiZ0LmZvZ0V4cDI/IiNkZWZpbmUgRk9HX0VYUDIiOiIiLHQubWFwPyIjZGVmaW5lIFVTRV9NQVAiOiIiLHQuZW52TWFwPyIjZGVmaW5lIFVTRV9FTlZNQVAiOiIiLHQuZW52TWFwPyIjZGVmaW5lICIraDoiIix0LmxpZ2h0TWFwPyIjZGVmaW5lIFVTRV9MSUdIVE1BUCI6IiIsdC5hb01hcD8iI2RlZmluZSBVU0VfQU9NQVAiOiIiLHQuZW1pc3NpdmVNYXA/IiNkZWZpbmUgVVNFX0VNSVNTSVZFTUFQIjoiIix0LmJ1bXBNYXA/IiNkZWZpbmUgVVNFX0JVTVBNQVAiOiIiLHQubm9ybWFsTWFwPyIjZGVmaW5lIFVTRV9OT1JNQUxNQVAiOiIiLHQubm9ybWFsTWFwJiZ0Lm9iamVjdFNwYWNlTm9ybWFsTWFwPyIjZGVmaW5lIE9CSkVDVFNQQUNFX05PUk1BTE1BUCI6IiIsdC5ub3JtYWxNYXAmJnQudGFuZ2VudFNwYWNlTm9ybWFsTWFwPyIjZGVmaW5lIFRBTkdFTlRTUEFDRV9OT1JNQUxNQVAiOiIiLHQuY2xlYXJjb2F0TWFwPyIjZGVmaW5lIFVTRV9DTEVBUkNPQVRNQVAiOiIiLHQuY2xlYXJjb2F0Um91Z2huZXNzTWFwPyIjZGVmaW5lIFVTRV9DTEVBUkNPQVRfUk9VR0hORVNTTUFQIjoiIix0LmNsZWFyY29hdE5vcm1hbE1hcD8iI2RlZmluZSBVU0VfQ0xFQVJDT0FUX05PUk1BTE1BUCI6IiIsdC5kaXNwbGFjZW1lbnRNYXAmJnQuc3VwcG9ydHNWZXJ0ZXhUZXh0dXJlcz8iI2RlZmluZSBVU0VfRElTUExBQ0VNRU5UTUFQIjoiIix0LnNwZWN1bGFyTWFwPyIjZGVmaW5lIFVTRV9TUEVDVUxBUk1BUCI6IiIsdC5zcGVjdWxhckludGVuc2l0eU1hcD8iI2RlZmluZSBVU0VfU1BFQ1VMQVJJTlRFTlNJVFlNQVAiOiIiLHQuc3BlY3VsYXJDb2xvck1hcD8iI2RlZmluZSBVU0VfU1BFQ1VMQVJDT0xPUk1BUCI6IiIsdC5yb3VnaG5lc3NNYXA/IiNkZWZpbmUgVVNFX1JPVUdITkVTU01BUCI6IiIsdC5tZXRhbG5lc3NNYXA/IiNkZWZpbmUgVVNFX01FVEFMTkVTU01BUCI6IiIsdC5hbHBoYU1hcD8iI2RlZmluZSBVU0VfQUxQSEFNQVAiOiIiLHQudHJhbnNtaXNzaW9uPyIjZGVmaW5lIFVTRV9UUkFOU01JU1NJT04iOiIiLHQudHJhbnNtaXNzaW9uTWFwPyIjZGVmaW5lIFVTRV9UUkFOU01JU1NJT05NQVAiOiIiLHQudGhpY2tuZXNzTWFwPyIjZGVmaW5lIFVTRV9USElDS05FU1NNQVAiOiIiLHQuc2hlZW5Db2xvck1hcD8iI2RlZmluZSBVU0VfU0hFRU5DT0xPUk1BUCI6IiIsdC5zaGVlblJvdWdobmVzc01hcD8iI2RlZmluZSBVU0VfU0hFRU5ST1VHSE5FU1NNQVAiOiIiLHQudmVydGV4VGFuZ2VudHM/IiNkZWZpbmUgVVNFX1RBTkdFTlQiOiIiLHQudmVydGV4Q29sb3JzPyIjZGVmaW5lIFVTRV9DT0xPUiI6IiIsdC52ZXJ0ZXhBbHBoYXM/IiNkZWZpbmUgVVNFX0NPTE9SX0FMUEhBIjoiIix0LnZlcnRleFV2cz8iI2RlZmluZSBVU0VfVVYiOiIiLHQudXZzVmVydGV4T25seT8iI2RlZmluZSBVVlNfVkVSVEVYX09OTFkiOiIiLHQuZmxhdFNoYWRpbmc/IiNkZWZpbmUgRkxBVF9TSEFERUQiOiIiLHQuc2tpbm5pbmc/IiNkZWZpbmUgVVNFX1NLSU5OSU5HIjoiIix0LnVzZVZlcnRleFRleHR1cmU/IiNkZWZpbmUgQk9ORV9URVhUVVJFIjoiIix0Lm1vcnBoVGFyZ2V0cz8iI2RlZmluZSBVU0VfTU9SUEhUQVJHRVRTIjoiIix0Lm1vcnBoTm9ybWFscyYmdC5mbGF0U2hhZGluZz09PSExPyIjZGVmaW5lIFVTRV9NT1JQSE5PUk1BTFMiOiIiLHQubW9ycGhDb2xvcnMmJnQuaXNXZWJHTDI/IiNkZWZpbmUgVVNFX01PUlBIQ09MT1JTIjoiIix0Lm1vcnBoVGFyZ2V0c0NvdW50PjAmJnQuaXNXZWJHTDI/IiNkZWZpbmUgTU9SUEhUQVJHRVRTX1RFWFRVUkUiOiIiLHQubW9ycGhUYXJnZXRzQ291bnQ+MCYmdC5pc1dlYkdMMj8iI2RlZmluZSBNT1JQSFRBUkdFVFNfVEVYVFVSRV9TVFJJREUgIit0Lm1vcnBoVGV4dHVyZVN0cmlkZToiIix0Lm1vcnBoVGFyZ2V0c0NvdW50PjAmJnQuaXNXZWJHTDI/IiNkZWZpbmUgTU9SUEhUQVJHRVRTX0NPVU5UICIrdC5tb3JwaFRhcmdldHNDb3VudDoiIix0LmRvdWJsZVNpZGVkPyIjZGVmaW5lIERPVUJMRV9TSURFRCI6IiIsdC5mbGlwU2lkZWQ/IiNkZWZpbmUgRkxJUF9TSURFRCI6IiIsdC5zaGFkb3dNYXBFbmFibGVkPyIjZGVmaW5lIFVTRV9TSEFET1dNQVAiOiIiLHQuc2hhZG93TWFwRW5hYmxlZD8iI2RlZmluZSAiK2w6IiIsdC5zaXplQXR0ZW51YXRpb24/IiNkZWZpbmUgVVNFX1NJWkVBVFRFTlVBVElPTiI6IiIsdC5sb2dhcml0aG1pY0RlcHRoQnVmZmVyPyIjZGVmaW5lIFVTRV9MT0dERVBUSEJVRiI6IiIsdC5sb2dhcml0aG1pY0RlcHRoQnVmZmVyJiZ0LnJlbmRlcmVyRXh0ZW5zaW9uRnJhZ0RlcHRoPyIjZGVmaW5lIFVTRV9MT0dERVBUSEJVRl9FWFQiOiIiLCJ1bmlmb3JtIG1hdDQgbW9kZWxNYXRyaXg7IiwidW5pZm9ybSBtYXQ0IG1vZGVsVmlld01hdHJpeDsiLCJ1bmlmb3JtIG1hdDQgcHJvamVjdGlvbk1hdHJpeDsiLCJ1bmlmb3JtIG1hdDQgdmlld01hdHJpeDsiLCJ1bmlmb3JtIG1hdDMgbm9ybWFsTWF0cml4OyIsInVuaWZvcm0gdmVjMyBjYW1lcmFQb3NpdGlvbjsiLCJ1bmlmb3JtIGJvb2wgaXNPcnRob2dyYXBoaWM7IiwiI2lmZGVmIFVTRV9JTlNUQU5DSU5HIiwiCWF0dHJpYnV0ZSBtYXQ0IGluc3RhbmNlTWF0cml4OyIsIiNlbmRpZiIsIiNpZmRlZiBVU0VfSU5TVEFOQ0lOR19DT0xPUiIsIglhdHRyaWJ1dGUgdmVjMyBpbnN0YW5jZUNvbG9yOyIsIiNlbmRpZiIsImF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9uOyIsImF0dHJpYnV0ZSB2ZWMzIG5vcm1hbDsiLCJhdHRyaWJ1dGUgdmVjMiB1djsiLCIjaWZkZWYgVVNFX1RBTkdFTlQiLCIJYXR0cmlidXRlIHZlYzQgdGFuZ2VudDsiLCIjZW5kaWYiLCIjaWYgZGVmaW5lZCggVVNFX0NPTE9SX0FMUEhBICkiLCIJYXR0cmlidXRlIHZlYzQgY29sb3I7IiwiI2VsaWYgZGVmaW5lZCggVVNFX0NPTE9SICkiLCIJYXR0cmlidXRlIHZlYzMgY29sb3I7IiwiI2VuZGlmIiwiI2lmICggZGVmaW5lZCggVVNFX01PUlBIVEFSR0VUUyApICYmICEgZGVmaW5lZCggTU9SUEhUQVJHRVRTX1RFWFRVUkUgKSApIiwiCWF0dHJpYnV0ZSB2ZWMzIG1vcnBoVGFyZ2V0MDsiLCIJYXR0cmlidXRlIHZlYzMgbW9ycGhUYXJnZXQxOyIsIglhdHRyaWJ1dGUgdmVjMyBtb3JwaFRhcmdldDI7IiwiCWF0dHJpYnV0ZSB2ZWMzIG1vcnBoVGFyZ2V0MzsiLCIJI2lmZGVmIFVTRV9NT1JQSE5PUk1BTFMiLCIJCWF0dHJpYnV0ZSB2ZWMzIG1vcnBoTm9ybWFsMDsiLCIJCWF0dHJpYnV0ZSB2ZWMzIG1vcnBoTm9ybWFsMTsiLCIJCWF0dHJpYnV0ZSB2ZWMzIG1vcnBoTm9ybWFsMjsiLCIJCWF0dHJpYnV0ZSB2ZWMzIG1vcnBoTm9ybWFsMzsiLCIJI2Vsc2UiLCIJCWF0dHJpYnV0ZSB2ZWMzIG1vcnBoVGFyZ2V0NDsiLCIJCWF0dHJpYnV0ZSB2ZWMzIG1vcnBoVGFyZ2V0NTsiLCIJCWF0dHJpYnV0ZSB2ZWMzIG1vcnBoVGFyZ2V0NjsiLCIJCWF0dHJpYnV0ZSB2ZWMzIG1vcnBoVGFyZ2V0NzsiLCIJI2VuZGlmIiwiI2VuZGlmIiwiI2lmZGVmIFVTRV9TS0lOTklORyIsIglhdHRyaWJ1dGUgdmVjNCBza2luSW5kZXg7IiwiCWF0dHJpYnV0ZSB2ZWM0IHNraW5XZWlnaHQ7IiwiI2VuZGlmIixgCmBdLmZpbHRlcihmaWx0ZXJFbXB0eUxpbmUpLmpvaW4oYApgKSxtPVtmLGdlbmVyYXRlUHJlY2lzaW9uKHQpLCIjZGVmaW5lIFNIQURFUl9OQU1FICIrdC5zaGFkZXJOYW1lLGcsdC51c2VGb2cmJnQuZm9nPyIjZGVmaW5lIFVTRV9GT0ciOiIiLHQudXNlRm9nJiZ0LmZvZ0V4cDI/IiNkZWZpbmUgRk9HX0VYUDIiOiIiLHQubWFwPyIjZGVmaW5lIFVTRV9NQVAiOiIiLHQubWF0Y2FwPyIjZGVmaW5lIFVTRV9NQVRDQVAiOiIiLHQuZW52TWFwPyIjZGVmaW5lIFVTRV9FTlZNQVAiOiIiLHQuZW52TWFwPyIjZGVmaW5lICIrYzoiIix0LmVudk1hcD8iI2RlZmluZSAiK2g6IiIsdC5lbnZNYXA/IiNkZWZpbmUgIit1OiIiLGQ/IiNkZWZpbmUgQ1VCRVVWX1RFWEVMX1dJRFRIICIrZC50ZXhlbFdpZHRoOiIiLGQ/IiNkZWZpbmUgQ1VCRVVWX1RFWEVMX0hFSUdIVCAiK2QudGV4ZWxIZWlnaHQ6IiIsZD8iI2RlZmluZSBDVUJFVVZfTUFYX01JUCAiK2QubWF4TWlwKyIuMCI6IiIsdC5saWdodE1hcD8iI2RlZmluZSBVU0VfTElHSFRNQVAiOiIiLHQuYW9NYXA/IiNkZWZpbmUgVVNFX0FPTUFQIjoiIix0LmVtaXNzaXZlTWFwPyIjZGVmaW5lIFVTRV9FTUlTU0lWRU1BUCI6IiIsdC5idW1wTWFwPyIjZGVmaW5lIFVTRV9CVU1QTUFQIjoiIix0Lm5vcm1hbE1hcD8iI2RlZmluZSBVU0VfTk9STUFMTUFQIjoiIix0Lm5vcm1hbE1hcCYmdC5vYmplY3RTcGFjZU5vcm1hbE1hcD8iI2RlZmluZSBPQkpFQ1RTUEFDRV9OT1JNQUxNQVAiOiIiLHQubm9ybWFsTWFwJiZ0LnRhbmdlbnRTcGFjZU5vcm1hbE1hcD8iI2RlZmluZSBUQU5HRU5UU1BBQ0VfTk9STUFMTUFQIjoiIix0LmNsZWFyY29hdD8iI2RlZmluZSBVU0VfQ0xFQVJDT0FUIjoiIix0LmNsZWFyY29hdE1hcD8iI2RlZmluZSBVU0VfQ0xFQVJDT0FUTUFQIjoiIix0LmNsZWFyY29hdFJvdWdobmVzc01hcD8iI2RlZmluZSBVU0VfQ0xFQVJDT0FUX1JPVUdITkVTU01BUCI6IiIsdC5jbGVhcmNvYXROb3JtYWxNYXA/IiNkZWZpbmUgVVNFX0NMRUFSQ09BVF9OT1JNQUxNQVAiOiIiLHQuc3BlY3VsYXJNYXA/IiNkZWZpbmUgVVNFX1NQRUNVTEFSTUFQIjoiIix0LnNwZWN1bGFySW50ZW5zaXR5TWFwPyIjZGVmaW5lIFVTRV9TUEVDVUxBUklOVEVOU0lUWU1BUCI6IiIsdC5zcGVjdWxhckNvbG9yTWFwPyIjZGVmaW5lIFVTRV9TUEVDVUxBUkNPTE9STUFQIjoiIix0LnJvdWdobmVzc01hcD8iI2RlZmluZSBVU0VfUk9VR0hORVNTTUFQIjoiIix0Lm1ldGFsbmVzc01hcD8iI2RlZmluZSBVU0VfTUVUQUxORVNTTUFQIjoiIix0LmFscGhhTWFwPyIjZGVmaW5lIFVTRV9BTFBIQU1BUCI6IiIsdC5hbHBoYVRlc3Q/IiNkZWZpbmUgVVNFX0FMUEhBVEVTVCI6IiIsdC5zaGVlbj8iI2RlZmluZSBVU0VfU0hFRU4iOiIiLHQuc2hlZW5Db2xvck1hcD8iI2RlZmluZSBVU0VfU0hFRU5DT0xPUk1BUCI6IiIsdC5zaGVlblJvdWdobmVzc01hcD8iI2RlZmluZSBVU0VfU0hFRU5ST1VHSE5FU1NNQVAiOiIiLHQudHJhbnNtaXNzaW9uPyIjZGVmaW5lIFVTRV9UUkFOU01JU1NJT04iOiIiLHQudHJhbnNtaXNzaW9uTWFwPyIjZGVmaW5lIFVTRV9UUkFOU01JU1NJT05NQVAiOiIiLHQudGhpY2tuZXNzTWFwPyIjZGVmaW5lIFVTRV9USElDS05FU1NNQVAiOiIiLHQuZGVjb2RlVmlkZW9UZXh0dXJlPyIjZGVmaW5lIERFQ09ERV9WSURFT19URVhUVVJFIjoiIix0LnZlcnRleFRhbmdlbnRzPyIjZGVmaW5lIFVTRV9UQU5HRU5UIjoiIix0LnZlcnRleENvbG9yc3x8dC5pbnN0YW5jaW5nQ29sb3I/IiNkZWZpbmUgVVNFX0NPTE9SIjoiIix0LnZlcnRleEFscGhhcz8iI2RlZmluZSBVU0VfQ09MT1JfQUxQSEEiOiIiLHQudmVydGV4VXZzPyIjZGVmaW5lIFVTRV9VViI6IiIsdC51dnNWZXJ0ZXhPbmx5PyIjZGVmaW5lIFVWU19WRVJURVhfT05MWSI6IiIsdC5ncmFkaWVudE1hcD8iI2RlZmluZSBVU0VfR1JBRElFTlRNQVAiOiIiLHQuZmxhdFNoYWRpbmc/IiNkZWZpbmUgRkxBVF9TSEFERUQiOiIiLHQuZG91YmxlU2lkZWQ/IiNkZWZpbmUgRE9VQkxFX1NJREVEIjoiIix0LmZsaXBTaWRlZD8iI2RlZmluZSBGTElQX1NJREVEIjoiIix0LnNoYWRvd01hcEVuYWJsZWQ/IiNkZWZpbmUgVVNFX1NIQURPV01BUCI6IiIsdC5zaGFkb3dNYXBFbmFibGVkPyIjZGVmaW5lICIrbDoiIix0LnByZW11bHRpcGxpZWRBbHBoYT8iI2RlZmluZSBQUkVNVUxUSVBMSUVEX0FMUEhBIjoiIix0LnBoeXNpY2FsbHlDb3JyZWN0TGlnaHRzPyIjZGVmaW5lIFBIWVNJQ0FMTFlfQ09SUkVDVF9MSUdIVFMiOiIiLHQubG9nYXJpdGhtaWNEZXB0aEJ1ZmZlcj8iI2RlZmluZSBVU0VfTE9HREVQVEhCVUYiOiIiLHQubG9nYXJpdGhtaWNEZXB0aEJ1ZmZlciYmdC5yZW5kZXJlckV4dGVuc2lvbkZyYWdEZXB0aD8iI2RlZmluZSBVU0VfTE9HREVQVEhCVUZfRVhUIjoiIiwidW5pZm9ybSBtYXQ0IHZpZXdNYXRyaXg7IiwidW5pZm9ybSB2ZWMzIGNhbWVyYVBvc2l0aW9uOyIsInVuaWZvcm0gYm9vbCBpc09ydGhvZ3JhcGhpYzsiLHQudG9uZU1hcHBpbmchPT0wPyIjZGVmaW5lIFRPTkVfTUFQUElORyI6IiIsdC50b25lTWFwcGluZyE9PTA/U2hhZGVyQ2h1bmsudG9uZW1hcHBpbmdfcGFyc19mcmFnbWVudDoiIix0LnRvbmVNYXBwaW5nIT09MD9nZXRUb25lTWFwcGluZ0Z1bmN0aW9uKCJ0b25lTWFwcGluZyIsdC50b25lTWFwcGluZyk6IiIsdC5kaXRoZXJpbmc/IiNkZWZpbmUgRElUSEVSSU5HIjoiIix0Lm9wYXF1ZT8iI2RlZmluZSBPUEFRVUUiOiIiLFNoYWRlckNodW5rLmVuY29kaW5nc19wYXJzX2ZyYWdtZW50LGdldFRleGVsRW5jb2RpbmdGdW5jdGlvbigibGluZWFyVG9PdXRwdXRUZXhlbCIsdC5vdXRwdXRFbmNvZGluZyksdC5kZXB0aFBhY2tpbmc/IiNkZWZpbmUgREVQVEhfUEFDS0lORyAiK3QuZGVwdGhQYWNraW5nOiIiLGAKYF0uZmlsdGVyKGZpbHRlckVtcHR5TGluZSkuam9pbihgCmApKSxhPXJlc29sdmVJbmNsdWRlcyhhKSxhPXJlcGxhY2VMaWdodE51bXMoYSx0KSxhPXJlcGxhY2VDbGlwcGluZ1BsYW5lTnVtcyhhLHQpLG89cmVzb2x2ZUluY2x1ZGVzKG8pLG89cmVwbGFjZUxpZ2h0TnVtcyhvLHQpLG89cmVwbGFjZUNsaXBwaW5nUGxhbmVOdW1zKG8sdCksYT11bnJvbGxMb29wcyhhKSxvPXVucm9sbExvb3BzKG8pLHQuaXNXZWJHTDImJnQuaXNSYXdTaGFkZXJNYXRlcmlhbCE9PSEwJiYocD1gI3ZlcnNpb24gMzAwIGVzCmAseT1bInByZWNpc2lvbiBtZWRpdW1wIHNhbXBsZXIyREFycmF5OyIsIiNkZWZpbmUgYXR0cmlidXRlIGluIiwiI2RlZmluZSB2YXJ5aW5nIG91dCIsIiNkZWZpbmUgdGV4dHVyZTJEIHRleHR1cmUiXS5qb2luKGAKYCkrYApgK3ksbT1bIiNkZWZpbmUgdmFyeWluZyBpbiIsdC5nbHNsVmVyc2lvbj09PUdMU0wzPyIiOiJsYXlvdXQobG9jYXRpb24gPSAwKSBvdXQgaGlnaHAgdmVjNCBwY19mcmFnQ29sb3I7Iix0Lmdsc2xWZXJzaW9uPT09R0xTTDM/IiI6IiNkZWZpbmUgZ2xfRnJhZ0NvbG9yIHBjX2ZyYWdDb2xvciIsIiNkZWZpbmUgZ2xfRnJhZ0RlcHRoRVhUIGdsX0ZyYWdEZXB0aCIsIiNkZWZpbmUgdGV4dHVyZTJEIHRleHR1cmUiLCIjZGVmaW5lIHRleHR1cmVDdWJlIHRleHR1cmUiLCIjZGVmaW5lIHRleHR1cmUyRFByb2ogdGV4dHVyZVByb2oiLCIjZGVmaW5lIHRleHR1cmUyRExvZEVYVCB0ZXh0dXJlTG9kIiwiI2RlZmluZSB0ZXh0dXJlMkRQcm9qTG9kRVhUIHRleHR1cmVQcm9qTG9kIiwiI2RlZmluZSB0ZXh0dXJlQ3ViZUxvZEVYVCB0ZXh0dXJlTG9kIiwiI2RlZmluZSB0ZXh0dXJlMkRHcmFkRVhUIHRleHR1cmVHcmFkIiwiI2RlZmluZSB0ZXh0dXJlMkRQcm9qR3JhZEVYVCB0ZXh0dXJlUHJvakdyYWQiLCIjZGVmaW5lIHRleHR1cmVDdWJlR3JhZEVYVCB0ZXh0dXJlR3JhZCJdLmpvaW4oYApgKStgCmArbSk7Y29uc3QgVD1wK3krYSx3PXArbStvLFM9V2ViR0xTaGFkZXIoaSwzNTYzMyxUKSxSPVdlYkdMU2hhZGVyKGksMzU2MzIsdyk7aWYoaS5hdHRhY2hTaGFkZXIoXyxTKSxpLmF0dGFjaFNoYWRlcihfLFIpLHQuaW5kZXgwQXR0cmlidXRlTmFtZSE9PXZvaWQgMD9pLmJpbmRBdHRyaWJMb2NhdGlvbihfLDAsdC5pbmRleDBBdHRyaWJ1dGVOYW1lKTp0Lm1vcnBoVGFyZ2V0cz09PSEwJiZpLmJpbmRBdHRyaWJMb2NhdGlvbihfLDAsInBvc2l0aW9uIiksaS5saW5rUHJvZ3JhbShfKSxzLmRlYnVnLmNoZWNrU2hhZGVyRXJyb3JzKXtjb25zdCBpZT1pLmdldFByb2dyYW1JbmZvTG9nKF8pLnRyaW0oKSx6PWkuZ2V0U2hhZGVySW5mb0xvZyhTKS50cmltKCkseD1pLmdldFNoYWRlckluZm9Mb2coUikudHJpbSgpO2xldCBBPSEwLFA9ITA7aWYoaS5nZXRQcm9ncmFtUGFyYW1ldGVyKF8sMzU3MTQpPT09ITEpe0E9ITE7Y29uc3QgQj1nZXRTaGFkZXJFcnJvcnMoaSxTLCJ2ZXJ0ZXgiKSxVPWdldFNoYWRlckVycm9ycyhpLFIsImZyYWdtZW50Iik7Y29uc29sZS5lcnJvcigiVEhSRUUuV2ViR0xQcm9ncmFtOiBTaGFkZXIgRXJyb3IgIitpLmdldEVycm9yKCkrIiAtIFZBTElEQVRFX1NUQVRVUyAiK2kuZ2V0UHJvZ3JhbVBhcmFtZXRlcihfLDM1NzE1KStgCgpQcm9ncmFtIEluZm8gTG9nOiBgK2llK2AKYCtCK2AKYCtVKX1lbHNlIGllIT09IiI/Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFByb2dyYW06IFByb2dyYW0gSW5mbyBMb2c6IixpZSk6KHo9PT0iInx8eD09PSIiKSYmKFA9ITEpO1AmJih0aGlzLmRpYWdub3N0aWNzPXtydW5uYWJsZTpBLHByb2dyYW1Mb2c6aWUsdmVydGV4U2hhZGVyOntsb2c6eixwcmVmaXg6eX0sZnJhZ21lbnRTaGFkZXI6e2xvZzp4LHByZWZpeDptfX0pfWkuZGVsZXRlU2hhZGVyKFMpLGkuZGVsZXRlU2hhZGVyKFIpO2xldCBEO3RoaXMuZ2V0VW5pZm9ybXM9ZnVuY3Rpb24oKXtyZXR1cm4gRD09PXZvaWQgMCYmKEQ9bmV3IFdlYkdMVW5pZm9ybXMoaSxfKSksRH07bGV0IFg7cmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlcz1mdW5jdGlvbigpe3JldHVybiBYPT09dm9pZCAwJiYoWD1mZXRjaEF0dHJpYnV0ZUxvY2F0aW9ucyhpLF8pKSxYfSx0aGlzLmRlc3Ryb3k9ZnVuY3Rpb24oKXtuLnJlbGVhc2VTdGF0ZXNPZlByb2dyYW0odGhpcyksaS5kZWxldGVQcm9ncmFtKF8pLHRoaXMucHJvZ3JhbT12b2lkIDB9LHRoaXMubmFtZT10LnNoYWRlck5hbWUsdGhpcy5pZD1wcm9ncmFtSWRDb3VudCsrLHRoaXMuY2FjaGVLZXk9ZSx0aGlzLnVzZWRUaW1lcz0xLHRoaXMucHJvZ3JhbT1fLHRoaXMudmVydGV4U2hhZGVyPVMsdGhpcy5mcmFnbWVudFNoYWRlcj1SLHRoaXN9bGV0IF9pZD0wO2NsYXNzIFdlYkdMU2hhZGVyQ2FjaGV7Y29uc3RydWN0b3IoKXt0aGlzLnNoYWRlckNhY2hlPW5ldyBNYXAsdGhpcy5tYXRlcmlhbENhY2hlPW5ldyBNYXB9dXBkYXRlKGUpe2NvbnN0IHQ9ZS52ZXJ0ZXhTaGFkZXIsbj1lLmZyYWdtZW50U2hhZGVyLGk9dGhpcy5fZ2V0U2hhZGVyU3RhZ2UodCkscj10aGlzLl9nZXRTaGFkZXJTdGFnZShuKSxhPXRoaXMuX2dldFNoYWRlckNhY2hlRm9yTWF0ZXJpYWwoZSk7cmV0dXJuIGEuaGFzKGkpPT09ITEmJihhLmFkZChpKSxpLnVzZWRUaW1lcysrKSxhLmhhcyhyKT09PSExJiYoYS5hZGQociksci51c2VkVGltZXMrKyksdGhpc31yZW1vdmUoZSl7Y29uc3QgdD10aGlzLm1hdGVyaWFsQ2FjaGUuZ2V0KGUpO2Zvcihjb25zdCBuIG9mIHQpbi51c2VkVGltZXMtLSxuLnVzZWRUaW1lcz09PTAmJnRoaXMuc2hhZGVyQ2FjaGUuZGVsZXRlKG4pO3JldHVybiB0aGlzLm1hdGVyaWFsQ2FjaGUuZGVsZXRlKGUpLHRoaXN9Z2V0VmVydGV4U2hhZGVySUQoZSl7cmV0dXJuIHRoaXMuX2dldFNoYWRlclN0YWdlKGUudmVydGV4U2hhZGVyKS5pZH1nZXRGcmFnbWVudFNoYWRlcklEKGUpe3JldHVybiB0aGlzLl9nZXRTaGFkZXJTdGFnZShlLmZyYWdtZW50U2hhZGVyKS5pZH1kaXNwb3NlKCl7dGhpcy5zaGFkZXJDYWNoZS5jbGVhcigpLHRoaXMubWF0ZXJpYWxDYWNoZS5jbGVhcigpfV9nZXRTaGFkZXJDYWNoZUZvck1hdGVyaWFsKGUpe2NvbnN0IHQ9dGhpcy5tYXRlcmlhbENhY2hlO3JldHVybiB0LmhhcyhlKT09PSExJiZ0LnNldChlLG5ldyBTZXQpLHQuZ2V0KGUpfV9nZXRTaGFkZXJTdGFnZShlKXtjb25zdCB0PXRoaXMuc2hhZGVyQ2FjaGU7aWYodC5oYXMoZSk9PT0hMSl7Y29uc3Qgbj1uZXcgV2ViR0xTaGFkZXJTdGFnZTt0LnNldChlLG4pfXJldHVybiB0LmdldChlKX19Y2xhc3MgV2ViR0xTaGFkZXJTdGFnZXtjb25zdHJ1Y3Rvcigpe3RoaXMuaWQ9X2lkKyssdGhpcy51c2VkVGltZXM9MH19ZnVuY3Rpb24gV2ViR0xQcm9ncmFtcyhzLGUsdCxuLGkscixhKXtjb25zdCBvPW5ldyBMYXllcnMsbD1uZXcgV2ViR0xTaGFkZXJDYWNoZSxjPVtdLGg9aS5pc1dlYkdMMix1PWkubG9nYXJpdGhtaWNEZXB0aEJ1ZmZlcixkPWkuZmxvYXRWZXJ0ZXhUZXh0dXJlcyxmPWkubWF4VmVydGV4VW5pZm9ybXMsZz1pLnZlcnRleFRleHR1cmVzO2xldCBfPWkucHJlY2lzaW9uO2NvbnN0IHk9e01lc2hEZXB0aE1hdGVyaWFsOiJkZXB0aCIsTWVzaERpc3RhbmNlTWF0ZXJpYWw6ImRpc3RhbmNlUkdCQSIsTWVzaE5vcm1hbE1hdGVyaWFsOiJub3JtYWwiLE1lc2hCYXNpY01hdGVyaWFsOiJiYXNpYyIsTWVzaExhbWJlcnRNYXRlcmlhbDoibGFtYmVydCIsTWVzaFBob25nTWF0ZXJpYWw6InBob25nIixNZXNoVG9vbk1hdGVyaWFsOiJ0b29uIixNZXNoU3RhbmRhcmRNYXRlcmlhbDoicGh5c2ljYWwiLE1lc2hQaHlzaWNhbE1hdGVyaWFsOiJwaHlzaWNhbCIsTWVzaE1hdGNhcE1hdGVyaWFsOiJtYXRjYXAiLExpbmVCYXNpY01hdGVyaWFsOiJiYXNpYyIsTGluZURhc2hlZE1hdGVyaWFsOiJkYXNoZWQiLFBvaW50c01hdGVyaWFsOiJwb2ludHMiLFNoYWRvd01hdGVyaWFsOiJzaGFkb3ciLFNwcml0ZU1hdGVyaWFsOiJzcHJpdGUifTtmdW5jdGlvbiBtKHgpe2NvbnN0IFA9eC5za2VsZXRvbi5ib25lcztpZihkKXJldHVybiAxMDI0O3tjb25zdCBVPU1hdGguZmxvb3IoKGYtMjApLzQpLEY9TWF0aC5taW4oVSxQLmxlbmd0aCk7cmV0dXJuIEY8UC5sZW5ndGg/KGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogU2tlbGV0b24gaGFzICIrUC5sZW5ndGgrIiBib25lcy4gVGhpcyBHUFUgc3VwcG9ydHMgIitGKyIuIiksMCk6Rn19ZnVuY3Rpb24gcCh4LEEsUCxCLFUpe2NvbnN0IEY9Qi5mb2csRz1VLmdlb21ldHJ5LEw9eC5pc01lc2hTdGFuZGFyZE1hdGVyaWFsP0IuZW52aXJvbm1lbnQ6bnVsbCxXPSh4LmlzTWVzaFN0YW5kYXJkTWF0ZXJpYWw/dDplKS5nZXQoeC5lbnZNYXB8fEwpLFo9ISFXJiYoVy5tYXBwaW5nPT09MzA2fHxXLm1hcHBpbmc9PT0zMDcpP1cuaW1hZ2UuaGVpZ2h0Om51bGwsWT15W3gudHlwZV0sSj1VLmlzU2tpbm5lZE1lc2g/bShVKTowO3gucHJlY2lzaW9uIT09bnVsbCYmKF89aS5nZXRNYXhQcmVjaXNpb24oeC5wcmVjaXNpb24pLF8hPT14LnByZWNpc2lvbiYmY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFByb2dyYW0uZ2V0UGFyYW1ldGVyczoiLHgucHJlY2lzaW9uLCJub3Qgc3VwcG9ydGVkLCB1c2luZyIsXywiaW5zdGVhZC4iKSk7Y29uc3QgZmU9Ry5tb3JwaEF0dHJpYnV0ZXMucG9zaXRpb258fEcubW9ycGhBdHRyaWJ1dGVzLm5vcm1hbHx8Ry5tb3JwaEF0dHJpYnV0ZXMuY29sb3IsUGU9ZmUhPT12b2lkIDA/ZmUubGVuZ3RoOjA7bGV0IG1lPTA7Ry5tb3JwaEF0dHJpYnV0ZXMucG9zaXRpb24hPT12b2lkIDAmJihtZT0xKSxHLm1vcnBoQXR0cmlidXRlcy5ub3JtYWwhPT12b2lkIDAmJihtZT0yKSxHLm1vcnBoQXR0cmlidXRlcy5jb2xvciE9PXZvaWQgMCYmKG1lPTMpO2xldCAkLERlLFNlLGxlO2lmKFkpe2NvbnN0IFE9U2hhZGVyTGliW1ldOyQ9US52ZXJ0ZXhTaGFkZXIsRGU9US5mcmFnbWVudFNoYWRlcn1lbHNlICQ9eC52ZXJ0ZXhTaGFkZXIsRGU9eC5mcmFnbWVudFNoYWRlcixsLnVwZGF0ZSh4KSxTZT1sLmdldFZlcnRleFNoYWRlcklEKHgpLGxlPWwuZ2V0RnJhZ21lbnRTaGFkZXJJRCh4KTtjb25zdCBjZT1zLmdldFJlbmRlclRhcmdldCgpLEFlPXguYWxwaGFUZXN0PjAsVj14LmNsZWFyY29hdD4wO3JldHVybntpc1dlYkdMMjpoLHNoYWRlcklEOlksc2hhZGVyTmFtZTp4LnR5cGUsdmVydGV4U2hhZGVyOiQsZnJhZ21lbnRTaGFkZXI6RGUsZGVmaW5lczp4LmRlZmluZXMsY3VzdG9tVmVydGV4U2hhZGVySUQ6U2UsY3VzdG9tRnJhZ21lbnRTaGFkZXJJRDpsZSxpc1Jhd1NoYWRlck1hdGVyaWFsOnguaXNSYXdTaGFkZXJNYXRlcmlhbD09PSEwLGdsc2xWZXJzaW9uOnguZ2xzbFZlcnNpb24scHJlY2lzaW9uOl8saW5zdGFuY2luZzpVLmlzSW5zdGFuY2VkTWVzaD09PSEwLGluc3RhbmNpbmdDb2xvcjpVLmlzSW5zdGFuY2VkTWVzaD09PSEwJiZVLmluc3RhbmNlQ29sb3IhPT1udWxsLHN1cHBvcnRzVmVydGV4VGV4dHVyZXM6ZyxvdXRwdXRFbmNvZGluZzpjZT09PW51bGw/cy5vdXRwdXRFbmNvZGluZzpjZS5pc1hSUmVuZGVyVGFyZ2V0PT09ITA/Y2UudGV4dHVyZS5lbmNvZGluZzozZTMsbWFwOiEheC5tYXAsbWF0Y2FwOiEheC5tYXRjYXAsZW52TWFwOiEhVyxlbnZNYXBNb2RlOlcmJlcubWFwcGluZyxlbnZNYXBDdWJlVVZIZWlnaHQ6WixsaWdodE1hcDohIXgubGlnaHRNYXAsYW9NYXA6ISF4LmFvTWFwLGVtaXNzaXZlTWFwOiEheC5lbWlzc2l2ZU1hcCxidW1wTWFwOiEheC5idW1wTWFwLG5vcm1hbE1hcDohIXgubm9ybWFsTWFwLG9iamVjdFNwYWNlTm9ybWFsTWFwOngubm9ybWFsTWFwVHlwZT09PTEsdGFuZ2VudFNwYWNlTm9ybWFsTWFwOngubm9ybWFsTWFwVHlwZT09PTAsZGVjb2RlVmlkZW9UZXh0dXJlOiEheC5tYXAmJngubWFwLmlzVmlkZW9UZXh0dXJlPT09ITAmJngubWFwLmVuY29kaW5nPT09MzAwMSxjbGVhcmNvYXQ6VixjbGVhcmNvYXRNYXA6ViYmISF4LmNsZWFyY29hdE1hcCxjbGVhcmNvYXRSb3VnaG5lc3NNYXA6ViYmISF4LmNsZWFyY29hdFJvdWdobmVzc01hcCxjbGVhcmNvYXROb3JtYWxNYXA6ViYmISF4LmNsZWFyY29hdE5vcm1hbE1hcCxkaXNwbGFjZW1lbnRNYXA6ISF4LmRpc3BsYWNlbWVudE1hcCxyb3VnaG5lc3NNYXA6ISF4LnJvdWdobmVzc01hcCxtZXRhbG5lc3NNYXA6ISF4Lm1ldGFsbmVzc01hcCxzcGVjdWxhck1hcDohIXguc3BlY3VsYXJNYXAsc3BlY3VsYXJJbnRlbnNpdHlNYXA6ISF4LnNwZWN1bGFySW50ZW5zaXR5TWFwLHNwZWN1bGFyQ29sb3JNYXA6ISF4LnNwZWN1bGFyQ29sb3JNYXAsb3BhcXVlOngudHJhbnNwYXJlbnQ9PT0hMSYmeC5ibGVuZGluZz09PTEsYWxwaGFNYXA6ISF4LmFscGhhTWFwLGFscGhhVGVzdDpBZSxncmFkaWVudE1hcDohIXguZ3JhZGllbnRNYXAsc2hlZW46eC5zaGVlbj4wLHNoZWVuQ29sb3JNYXA6ISF4LnNoZWVuQ29sb3JNYXAsc2hlZW5Sb3VnaG5lc3NNYXA6ISF4LnNoZWVuUm91Z2huZXNzTWFwLHRyYW5zbWlzc2lvbjp4LnRyYW5zbWlzc2lvbj4wLHRyYW5zbWlzc2lvbk1hcDohIXgudHJhbnNtaXNzaW9uTWFwLHRoaWNrbmVzc01hcDohIXgudGhpY2tuZXNzTWFwLGNvbWJpbmU6eC5jb21iaW5lLHZlcnRleFRhbmdlbnRzOiEheC5ub3JtYWxNYXAmJiEhRy5hdHRyaWJ1dGVzLnRhbmdlbnQsdmVydGV4Q29sb3JzOngudmVydGV4Q29sb3JzLHZlcnRleEFscGhhczp4LnZlcnRleENvbG9ycz09PSEwJiYhIUcuYXR0cmlidXRlcy5jb2xvciYmRy5hdHRyaWJ1dGVzLmNvbG9yLml0ZW1TaXplPT09NCx2ZXJ0ZXhVdnM6ISF4Lm1hcHx8ISF4LmJ1bXBNYXB8fCEheC5ub3JtYWxNYXB8fCEheC5zcGVjdWxhck1hcHx8ISF4LmFscGhhTWFwfHwhIXguZW1pc3NpdmVNYXB8fCEheC5yb3VnaG5lc3NNYXB8fCEheC5tZXRhbG5lc3NNYXB8fCEheC5jbGVhcmNvYXRNYXB8fCEheC5jbGVhcmNvYXRSb3VnaG5lc3NNYXB8fCEheC5jbGVhcmNvYXROb3JtYWxNYXB8fCEheC5kaXNwbGFjZW1lbnRNYXB8fCEheC50cmFuc21pc3Npb25NYXB8fCEheC50aGlja25lc3NNYXB8fCEheC5zcGVjdWxhckludGVuc2l0eU1hcHx8ISF4LnNwZWN1bGFyQ29sb3JNYXB8fCEheC5zaGVlbkNvbG9yTWFwfHwhIXguc2hlZW5Sb3VnaG5lc3NNYXAsdXZzVmVydGV4T25seTohKCEheC5tYXB8fCEheC5idW1wTWFwfHwhIXgubm9ybWFsTWFwfHwhIXguc3BlY3VsYXJNYXB8fCEheC5hbHBoYU1hcHx8ISF4LmVtaXNzaXZlTWFwfHwhIXgucm91Z2huZXNzTWFwfHwhIXgubWV0YWxuZXNzTWFwfHwhIXguY2xlYXJjb2F0Tm9ybWFsTWFwfHx4LnRyYW5zbWlzc2lvbj4wfHwhIXgudHJhbnNtaXNzaW9uTWFwfHwhIXgudGhpY2tuZXNzTWFwfHwhIXguc3BlY3VsYXJJbnRlbnNpdHlNYXB8fCEheC5zcGVjdWxhckNvbG9yTWFwfHx4LnNoZWVuPjB8fCEheC5zaGVlbkNvbG9yTWFwfHwhIXguc2hlZW5Sb3VnaG5lc3NNYXApJiYhIXguZGlzcGxhY2VtZW50TWFwLGZvZzohIUYsdXNlRm9nOnguZm9nLGZvZ0V4cDI6RiYmRi5pc0ZvZ0V4cDIsZmxhdFNoYWRpbmc6ISF4LmZsYXRTaGFkaW5nLHNpemVBdHRlbnVhdGlvbjp4LnNpemVBdHRlbnVhdGlvbixsb2dhcml0aG1pY0RlcHRoQnVmZmVyOnUsc2tpbm5pbmc6VS5pc1NraW5uZWRNZXNoPT09ITAmJko+MCxtYXhCb25lczpKLHVzZVZlcnRleFRleHR1cmU6ZCxtb3JwaFRhcmdldHM6Ry5tb3JwaEF0dHJpYnV0ZXMucG9zaXRpb24hPT12b2lkIDAsbW9ycGhOb3JtYWxzOkcubW9ycGhBdHRyaWJ1dGVzLm5vcm1hbCE9PXZvaWQgMCxtb3JwaENvbG9yczpHLm1vcnBoQXR0cmlidXRlcy5jb2xvciE9PXZvaWQgMCxtb3JwaFRhcmdldHNDb3VudDpQZSxtb3JwaFRleHR1cmVTdHJpZGU6bWUsbnVtRGlyTGlnaHRzOkEuZGlyZWN0aW9uYWwubGVuZ3RoLG51bVBvaW50TGlnaHRzOkEucG9pbnQubGVuZ3RoLG51bVNwb3RMaWdodHM6QS5zcG90Lmxlbmd0aCxudW1SZWN0QXJlYUxpZ2h0czpBLnJlY3RBcmVhLmxlbmd0aCxudW1IZW1pTGlnaHRzOkEuaGVtaS5sZW5ndGgsbnVtRGlyTGlnaHRTaGFkb3dzOkEuZGlyZWN0aW9uYWxTaGFkb3dNYXAubGVuZ3RoLG51bVBvaW50TGlnaHRTaGFkb3dzOkEucG9pbnRTaGFkb3dNYXAubGVuZ3RoLG51bVNwb3RMaWdodFNoYWRvd3M6QS5zcG90U2hhZG93TWFwLmxlbmd0aCxudW1DbGlwcGluZ1BsYW5lczphLm51bVBsYW5lcyxudW1DbGlwSW50ZXJzZWN0aW9uOmEubnVtSW50ZXJzZWN0aW9uLGRpdGhlcmluZzp4LmRpdGhlcmluZyxzaGFkb3dNYXBFbmFibGVkOnMuc2hhZG93TWFwLmVuYWJsZWQmJlAubGVuZ3RoPjAsc2hhZG93TWFwVHlwZTpzLnNoYWRvd01hcC50eXBlLHRvbmVNYXBwaW5nOngudG9uZU1hcHBlZD9zLnRvbmVNYXBwaW5nOjAscGh5c2ljYWxseUNvcnJlY3RMaWdodHM6cy5waHlzaWNhbGx5Q29ycmVjdExpZ2h0cyxwcmVtdWx0aXBsaWVkQWxwaGE6eC5wcmVtdWx0aXBsaWVkQWxwaGEsZG91YmxlU2lkZWQ6eC5zaWRlPT09MixmbGlwU2lkZWQ6eC5zaWRlPT09MSxkZXB0aFBhY2tpbmc6eC5kZXB0aFBhY2tpbmchPT12b2lkIDA/eC5kZXB0aFBhY2tpbmc6ITEsaW5kZXgwQXR0cmlidXRlTmFtZTp4LmluZGV4MEF0dHJpYnV0ZU5hbWUsZXh0ZW5zaW9uRGVyaXZhdGl2ZXM6eC5leHRlbnNpb25zJiZ4LmV4dGVuc2lvbnMuZGVyaXZhdGl2ZXMsZXh0ZW5zaW9uRnJhZ0RlcHRoOnguZXh0ZW5zaW9ucyYmeC5leHRlbnNpb25zLmZyYWdEZXB0aCxleHRlbnNpb25EcmF3QnVmZmVyczp4LmV4dGVuc2lvbnMmJnguZXh0ZW5zaW9ucy5kcmF3QnVmZmVycyxleHRlbnNpb25TaGFkZXJUZXh0dXJlTE9EOnguZXh0ZW5zaW9ucyYmeC5leHRlbnNpb25zLnNoYWRlclRleHR1cmVMT0QscmVuZGVyZXJFeHRlbnNpb25GcmFnRGVwdGg6aHx8bi5oYXMoIkVYVF9mcmFnX2RlcHRoIikscmVuZGVyZXJFeHRlbnNpb25EcmF3QnVmZmVyczpofHxuLmhhcygiV0VCR0xfZHJhd19idWZmZXJzIikscmVuZGVyZXJFeHRlbnNpb25TaGFkZXJUZXh0dXJlTG9kOmh8fG4uaGFzKCJFWFRfc2hhZGVyX3RleHR1cmVfbG9kIiksY3VzdG9tUHJvZ3JhbUNhY2hlS2V5OnguY3VzdG9tUHJvZ3JhbUNhY2hlS2V5KCl9fWZ1bmN0aW9uIFQoeCl7Y29uc3QgQT1bXTtpZih4LnNoYWRlcklEP0EucHVzaCh4LnNoYWRlcklEKTooQS5wdXNoKHguY3VzdG9tVmVydGV4U2hhZGVySUQpLEEucHVzaCh4LmN1c3RvbUZyYWdtZW50U2hhZGVySUQpKSx4LmRlZmluZXMhPT12b2lkIDApZm9yKGNvbnN0IFAgaW4geC5kZWZpbmVzKUEucHVzaChQKSxBLnB1c2goeC5kZWZpbmVzW1BdKTtyZXR1cm4geC5pc1Jhd1NoYWRlck1hdGVyaWFsPT09ITEmJih3KEEseCksUyhBLHgpLEEucHVzaChzLm91dHB1dEVuY29kaW5nKSksQS5wdXNoKHguY3VzdG9tUHJvZ3JhbUNhY2hlS2V5KSxBLmpvaW4oKX1mdW5jdGlvbiB3KHgsQSl7eC5wdXNoKEEucHJlY2lzaW9uKSx4LnB1c2goQS5vdXRwdXRFbmNvZGluZykseC5wdXNoKEEuZW52TWFwTW9kZSkseC5wdXNoKEEuZW52TWFwQ3ViZVVWSGVpZ2h0KSx4LnB1c2goQS5jb21iaW5lKSx4LnB1c2goQS52ZXJ0ZXhVdnMpLHgucHVzaChBLmZvZ0V4cDIpLHgucHVzaChBLnNpemVBdHRlbnVhdGlvbikseC5wdXNoKEEubWF4Qm9uZXMpLHgucHVzaChBLm1vcnBoVGFyZ2V0c0NvdW50KSx4LnB1c2goQS5tb3JwaEF0dHJpYnV0ZUNvdW50KSx4LnB1c2goQS5udW1EaXJMaWdodHMpLHgucHVzaChBLm51bVBvaW50TGlnaHRzKSx4LnB1c2goQS5udW1TcG90TGlnaHRzKSx4LnB1c2goQS5udW1IZW1pTGlnaHRzKSx4LnB1c2goQS5udW1SZWN0QXJlYUxpZ2h0cykseC5wdXNoKEEubnVtRGlyTGlnaHRTaGFkb3dzKSx4LnB1c2goQS5udW1Qb2ludExpZ2h0U2hhZG93cykseC5wdXNoKEEubnVtU3BvdExpZ2h0U2hhZG93cykseC5wdXNoKEEuc2hhZG93TWFwVHlwZSkseC5wdXNoKEEudG9uZU1hcHBpbmcpLHgucHVzaChBLm51bUNsaXBwaW5nUGxhbmVzKSx4LnB1c2goQS5udW1DbGlwSW50ZXJzZWN0aW9uKX1mdW5jdGlvbiBTKHgsQSl7by5kaXNhYmxlQWxsKCksQS5pc1dlYkdMMiYmby5lbmFibGUoMCksQS5zdXBwb3J0c1ZlcnRleFRleHR1cmVzJiZvLmVuYWJsZSgxKSxBLmluc3RhbmNpbmcmJm8uZW5hYmxlKDIpLEEuaW5zdGFuY2luZ0NvbG9yJiZvLmVuYWJsZSgzKSxBLm1hcCYmby5lbmFibGUoNCksQS5tYXRjYXAmJm8uZW5hYmxlKDUpLEEuZW52TWFwJiZvLmVuYWJsZSg2KSxBLmxpZ2h0TWFwJiZvLmVuYWJsZSg3KSxBLmFvTWFwJiZvLmVuYWJsZSg4KSxBLmVtaXNzaXZlTWFwJiZvLmVuYWJsZSg5KSxBLmJ1bXBNYXAmJm8uZW5hYmxlKDEwKSxBLm5vcm1hbE1hcCYmby5lbmFibGUoMTEpLEEub2JqZWN0U3BhY2VOb3JtYWxNYXAmJm8uZW5hYmxlKDEyKSxBLnRhbmdlbnRTcGFjZU5vcm1hbE1hcCYmby5lbmFibGUoMTMpLEEuY2xlYXJjb2F0JiZvLmVuYWJsZSgxNCksQS5jbGVhcmNvYXRNYXAmJm8uZW5hYmxlKDE1KSxBLmNsZWFyY29hdFJvdWdobmVzc01hcCYmby5lbmFibGUoMTYpLEEuY2xlYXJjb2F0Tm9ybWFsTWFwJiZvLmVuYWJsZSgxNyksQS5kaXNwbGFjZW1lbnRNYXAmJm8uZW5hYmxlKDE4KSxBLnNwZWN1bGFyTWFwJiZvLmVuYWJsZSgxOSksQS5yb3VnaG5lc3NNYXAmJm8uZW5hYmxlKDIwKSxBLm1ldGFsbmVzc01hcCYmby5lbmFibGUoMjEpLEEuZ3JhZGllbnRNYXAmJm8uZW5hYmxlKDIyKSxBLmFscGhhTWFwJiZvLmVuYWJsZSgyMyksQS5hbHBoYVRlc3QmJm8uZW5hYmxlKDI0KSxBLnZlcnRleENvbG9ycyYmby5lbmFibGUoMjUpLEEudmVydGV4QWxwaGFzJiZvLmVuYWJsZSgyNiksQS52ZXJ0ZXhVdnMmJm8uZW5hYmxlKDI3KSxBLnZlcnRleFRhbmdlbnRzJiZvLmVuYWJsZSgyOCksQS51dnNWZXJ0ZXhPbmx5JiZvLmVuYWJsZSgyOSksQS5mb2cmJm8uZW5hYmxlKDMwKSx4LnB1c2goby5tYXNrKSxvLmRpc2FibGVBbGwoKSxBLnVzZUZvZyYmby5lbmFibGUoMCksQS5mbGF0U2hhZGluZyYmby5lbmFibGUoMSksQS5sb2dhcml0aG1pY0RlcHRoQnVmZmVyJiZvLmVuYWJsZSgyKSxBLnNraW5uaW5nJiZvLmVuYWJsZSgzKSxBLnVzZVZlcnRleFRleHR1cmUmJm8uZW5hYmxlKDQpLEEubW9ycGhUYXJnZXRzJiZvLmVuYWJsZSg1KSxBLm1vcnBoTm9ybWFscyYmby5lbmFibGUoNiksQS5tb3JwaENvbG9ycyYmby5lbmFibGUoNyksQS5wcmVtdWx0aXBsaWVkQWxwaGEmJm8uZW5hYmxlKDgpLEEuc2hhZG93TWFwRW5hYmxlZCYmby5lbmFibGUoOSksQS5waHlzaWNhbGx5Q29ycmVjdExpZ2h0cyYmby5lbmFibGUoMTApLEEuZG91YmxlU2lkZWQmJm8uZW5hYmxlKDExKSxBLmZsaXBTaWRlZCYmby5lbmFibGUoMTIpLEEuZGVwdGhQYWNraW5nJiZvLmVuYWJsZSgxMyksQS5kaXRoZXJpbmcmJm8uZW5hYmxlKDE0KSxBLnNwZWN1bGFySW50ZW5zaXR5TWFwJiZvLmVuYWJsZSgxNSksQS5zcGVjdWxhckNvbG9yTWFwJiZvLmVuYWJsZSgxNiksQS50cmFuc21pc3Npb24mJm8uZW5hYmxlKDE3KSxBLnRyYW5zbWlzc2lvbk1hcCYmby5lbmFibGUoMTgpLEEudGhpY2tuZXNzTWFwJiZvLmVuYWJsZSgxOSksQS5zaGVlbiYmby5lbmFibGUoMjApLEEuc2hlZW5Db2xvck1hcCYmby5lbmFibGUoMjEpLEEuc2hlZW5Sb3VnaG5lc3NNYXAmJm8uZW5hYmxlKDIyKSxBLmRlY29kZVZpZGVvVGV4dHVyZSYmby5lbmFibGUoMjMpLEEub3BhcXVlJiZvLmVuYWJsZSgyNCkseC5wdXNoKG8ubWFzayl9ZnVuY3Rpb24gUih4KXtjb25zdCBBPXlbeC50eXBlXTtsZXQgUDtpZihBKXtjb25zdCBCPVNoYWRlckxpYltBXTtQPVVuaWZvcm1zVXRpbHMuY2xvbmUoQi51bmlmb3Jtcyl9ZWxzZSBQPXgudW5pZm9ybXM7cmV0dXJuIFB9ZnVuY3Rpb24gRCh4LEEpe2xldCBQO2ZvcihsZXQgQj0wLFU9Yy5sZW5ndGg7QjxVO0IrKyl7Y29uc3QgRj1jW0JdO2lmKEYuY2FjaGVLZXk9PT1BKXtQPUYsKytQLnVzZWRUaW1lczticmVha319cmV0dXJuIFA9PT12b2lkIDAmJihQPW5ldyBXZWJHTFByb2dyYW0ocyxBLHgsciksYy5wdXNoKFApKSxQfWZ1bmN0aW9uIFgoeCl7aWYoLS14LnVzZWRUaW1lcz09PTApe2NvbnN0IEE9Yy5pbmRleE9mKHgpO2NbQV09Y1tjLmxlbmd0aC0xXSxjLnBvcCgpLHguZGVzdHJveSgpfX1mdW5jdGlvbiBpZSh4KXtsLnJlbW92ZSh4KX1mdW5jdGlvbiB6KCl7bC5kaXNwb3NlKCl9cmV0dXJue2dldFBhcmFtZXRlcnM6cCxnZXRQcm9ncmFtQ2FjaGVLZXk6VCxnZXRVbmlmb3JtczpSLGFjcXVpcmVQcm9ncmFtOkQscmVsZWFzZVByb2dyYW06WCxyZWxlYXNlU2hhZGVyQ2FjaGU6aWUscHJvZ3JhbXM6YyxkaXNwb3NlOnp9fWZ1bmN0aW9uIFdlYkdMUHJvcGVydGllcygpe2xldCBzPW5ldyBXZWFrTWFwO2Z1bmN0aW9uIGUocil7bGV0IGE9cy5nZXQocik7cmV0dXJuIGE9PT12b2lkIDAmJihhPXt9LHMuc2V0KHIsYSkpLGF9ZnVuY3Rpb24gdChyKXtzLmRlbGV0ZShyKX1mdW5jdGlvbiBuKHIsYSxvKXtzLmdldChyKVthXT1vfWZ1bmN0aW9uIGkoKXtzPW5ldyBXZWFrTWFwfXJldHVybntnZXQ6ZSxyZW1vdmU6dCx1cGRhdGU6bixkaXNwb3NlOml9fWZ1bmN0aW9uIHBhaW50ZXJTb3J0U3RhYmxlKHMsZSl7cmV0dXJuIHMuZ3JvdXBPcmRlciE9PWUuZ3JvdXBPcmRlcj9zLmdyb3VwT3JkZXItZS5ncm91cE9yZGVyOnMucmVuZGVyT3JkZXIhPT1lLnJlbmRlck9yZGVyP3MucmVuZGVyT3JkZXItZS5yZW5kZXJPcmRlcjpzLm1hdGVyaWFsLmlkIT09ZS5tYXRlcmlhbC5pZD9zLm1hdGVyaWFsLmlkLWUubWF0ZXJpYWwuaWQ6cy56IT09ZS56P3Muei1lLno6cy5pZC1lLmlkfWZ1bmN0aW9uIHJldmVyc2VQYWludGVyU29ydFN0YWJsZShzLGUpe3JldHVybiBzLmdyb3VwT3JkZXIhPT1lLmdyb3VwT3JkZXI/cy5ncm91cE9yZGVyLWUuZ3JvdXBPcmRlcjpzLnJlbmRlck9yZGVyIT09ZS5yZW5kZXJPcmRlcj9zLnJlbmRlck9yZGVyLWUucmVuZGVyT3JkZXI6cy56IT09ZS56P2Uuei1zLno6cy5pZC1lLmlkfWZ1bmN0aW9uIFdlYkdMUmVuZGVyTGlzdCgpe2NvbnN0IHM9W107bGV0IGU9MDtjb25zdCB0PVtdLG49W10saT1bXTtmdW5jdGlvbiByKCl7ZT0wLHQubGVuZ3RoPTAsbi5sZW5ndGg9MCxpLmxlbmd0aD0wfWZ1bmN0aW9uIGEodSxkLGYsZyxfLHkpe2xldCBtPXNbZV07cmV0dXJuIG09PT12b2lkIDA/KG09e2lkOnUuaWQsb2JqZWN0OnUsZ2VvbWV0cnk6ZCxtYXRlcmlhbDpmLGdyb3VwT3JkZXI6ZyxyZW5kZXJPcmRlcjp1LnJlbmRlck9yZGVyLHo6Xyxncm91cDp5fSxzW2VdPW0pOihtLmlkPXUuaWQsbS5vYmplY3Q9dSxtLmdlb21ldHJ5PWQsbS5tYXRlcmlhbD1mLG0uZ3JvdXBPcmRlcj1nLG0ucmVuZGVyT3JkZXI9dS5yZW5kZXJPcmRlcixtLno9XyxtLmdyb3VwPXkpLGUrKyxtfWZ1bmN0aW9uIG8odSxkLGYsZyxfLHkpe2NvbnN0IG09YSh1LGQsZixnLF8seSk7Zi50cmFuc21pc3Npb24+MD9uLnB1c2gobSk6Zi50cmFuc3BhcmVudD09PSEwP2kucHVzaChtKTp0LnB1c2gobSl9ZnVuY3Rpb24gbCh1LGQsZixnLF8seSl7Y29uc3QgbT1hKHUsZCxmLGcsXyx5KTtmLnRyYW5zbWlzc2lvbj4wP24udW5zaGlmdChtKTpmLnRyYW5zcGFyZW50PT09ITA/aS51bnNoaWZ0KG0pOnQudW5zaGlmdChtKX1mdW5jdGlvbiBjKHUsZCl7dC5sZW5ndGg+MSYmdC5zb3J0KHV8fHBhaW50ZXJTb3J0U3RhYmxlKSxuLmxlbmd0aD4xJiZuLnNvcnQoZHx8cmV2ZXJzZVBhaW50ZXJTb3J0U3RhYmxlKSxpLmxlbmd0aD4xJiZpLnNvcnQoZHx8cmV2ZXJzZVBhaW50ZXJTb3J0U3RhYmxlKX1mdW5jdGlvbiBoKCl7Zm9yKGxldCB1PWUsZD1zLmxlbmd0aDt1PGQ7dSsrKXtjb25zdCBmPXNbdV07aWYoZi5pZD09PW51bGwpYnJlYWs7Zi5pZD1udWxsLGYub2JqZWN0PW51bGwsZi5nZW9tZXRyeT1udWxsLGYubWF0ZXJpYWw9bnVsbCxmLmdyb3VwPW51bGx9fXJldHVybntvcGFxdWU6dCx0cmFuc21pc3NpdmU6bix0cmFuc3BhcmVudDppLGluaXQ6cixwdXNoOm8sdW5zaGlmdDpsLGZpbmlzaDpoLHNvcnQ6Y319ZnVuY3Rpb24gV2ViR0xSZW5kZXJMaXN0cygpe2xldCBzPW5ldyBXZWFrTWFwO2Z1bmN0aW9uIGUobixpKXtsZXQgcjtyZXR1cm4gcy5oYXMobik9PT0hMT8ocj1uZXcgV2ViR0xSZW5kZXJMaXN0LHMuc2V0KG4sW3JdKSk6aT49cy5nZXQobikubGVuZ3RoPyhyPW5ldyBXZWJHTFJlbmRlckxpc3Qscy5nZXQobikucHVzaChyKSk6cj1zLmdldChuKVtpXSxyfWZ1bmN0aW9uIHQoKXtzPW5ldyBXZWFrTWFwfXJldHVybntnZXQ6ZSxkaXNwb3NlOnR9fWZ1bmN0aW9uIFVuaWZvcm1zQ2FjaGUoKXtjb25zdCBzPXt9O3JldHVybntnZXQ6ZnVuY3Rpb24oZSl7aWYoc1tlLmlkXSE9PXZvaWQgMClyZXR1cm4gc1tlLmlkXTtsZXQgdDtzd2l0Y2goZS50eXBlKXtjYXNlIkRpcmVjdGlvbmFsTGlnaHQiOnQ9e2RpcmVjdGlvbjpuZXcgVmVjdG9yMyxjb2xvcjpuZXcgQ29sb3J9O2JyZWFrO2Nhc2UiU3BvdExpZ2h0Ijp0PXtwb3NpdGlvbjpuZXcgVmVjdG9yMyxkaXJlY3Rpb246bmV3IFZlY3RvcjMsY29sb3I6bmV3IENvbG9yLGRpc3RhbmNlOjAsY29uZUNvczowLHBlbnVtYnJhQ29zOjAsZGVjYXk6MH07YnJlYWs7Y2FzZSJQb2ludExpZ2h0Ijp0PXtwb3NpdGlvbjpuZXcgVmVjdG9yMyxjb2xvcjpuZXcgQ29sb3IsZGlzdGFuY2U6MCxkZWNheTowfTticmVhaztjYXNlIkhlbWlzcGhlcmVMaWdodCI6dD17ZGlyZWN0aW9uOm5ldyBWZWN0b3IzLHNreUNvbG9yOm5ldyBDb2xvcixncm91bmRDb2xvcjpuZXcgQ29sb3J9O2JyZWFrO2Nhc2UiUmVjdEFyZWFMaWdodCI6dD17Y29sb3I6bmV3IENvbG9yLHBvc2l0aW9uOm5ldyBWZWN0b3IzLGhhbGZXaWR0aDpuZXcgVmVjdG9yMyxoYWxmSGVpZ2h0Om5ldyBWZWN0b3IzfTticmVha31yZXR1cm4gc1tlLmlkXT10LHR9fX1mdW5jdGlvbiBTaGFkb3dVbmlmb3Jtc0NhY2hlKCl7Y29uc3Qgcz17fTtyZXR1cm57Z2V0OmZ1bmN0aW9uKGUpe2lmKHNbZS5pZF0hPT12b2lkIDApcmV0dXJuIHNbZS5pZF07bGV0IHQ7c3dpdGNoKGUudHlwZSl7Y2FzZSJEaXJlY3Rpb25hbExpZ2h0Ijp0PXtzaGFkb3dCaWFzOjAsc2hhZG93Tm9ybWFsQmlhczowLHNoYWRvd1JhZGl1czoxLHNoYWRvd01hcFNpemU6bmV3IFZlY3RvcjJ9O2JyZWFrO2Nhc2UiU3BvdExpZ2h0Ijp0PXtzaGFkb3dCaWFzOjAsc2hhZG93Tm9ybWFsQmlhczowLHNoYWRvd1JhZGl1czoxLHNoYWRvd01hcFNpemU6bmV3IFZlY3RvcjJ9O2JyZWFrO2Nhc2UiUG9pbnRMaWdodCI6dD17c2hhZG93QmlhczowLHNoYWRvd05vcm1hbEJpYXM6MCxzaGFkb3dSYWRpdXM6MSxzaGFkb3dNYXBTaXplOm5ldyBWZWN0b3IyLHNoYWRvd0NhbWVyYU5lYXI6MSxzaGFkb3dDYW1lcmFGYXI6MWUzfTticmVha31yZXR1cm4gc1tlLmlkXT10LHR9fX1sZXQgbmV4dFZlcnNpb249MDtmdW5jdGlvbiBzaGFkb3dDYXN0aW5nTGlnaHRzRmlyc3QocyxlKXtyZXR1cm4oZS5jYXN0U2hhZG93PzE6MCktKHMuY2FzdFNoYWRvdz8xOjApfWZ1bmN0aW9uIFdlYkdMTGlnaHRzKHMsZSl7Y29uc3QgdD1uZXcgVW5pZm9ybXNDYWNoZSxuPVNoYWRvd1VuaWZvcm1zQ2FjaGUoKSxpPXt2ZXJzaW9uOjAsaGFzaDp7ZGlyZWN0aW9uYWxMZW5ndGg6LTEscG9pbnRMZW5ndGg6LTEsc3BvdExlbmd0aDotMSxyZWN0QXJlYUxlbmd0aDotMSxoZW1pTGVuZ3RoOi0xLG51bURpcmVjdGlvbmFsU2hhZG93czotMSxudW1Qb2ludFNoYWRvd3M6LTEsbnVtU3BvdFNoYWRvd3M6LTF9LGFtYmllbnQ6WzAsMCwwXSxwcm9iZTpbXSxkaXJlY3Rpb25hbDpbXSxkaXJlY3Rpb25hbFNoYWRvdzpbXSxkaXJlY3Rpb25hbFNoYWRvd01hcDpbXSxkaXJlY3Rpb25hbFNoYWRvd01hdHJpeDpbXSxzcG90OltdLHNwb3RTaGFkb3c6W10sc3BvdFNoYWRvd01hcDpbXSxzcG90U2hhZG93TWF0cml4OltdLHJlY3RBcmVhOltdLHJlY3RBcmVhTFRDMTpudWxsLHJlY3RBcmVhTFRDMjpudWxsLHBvaW50OltdLHBvaW50U2hhZG93OltdLHBvaW50U2hhZG93TWFwOltdLHBvaW50U2hhZG93TWF0cml4OltdLGhlbWk6W119O2ZvcihsZXQgaD0wO2g8OTtoKyspaS5wcm9iZS5wdXNoKG5ldyBWZWN0b3IzKTtjb25zdCByPW5ldyBWZWN0b3IzLGE9bmV3IE1hdHJpeDQsbz1uZXcgTWF0cml4NDtmdW5jdGlvbiBsKGgsdSl7bGV0IGQ9MCxmPTAsZz0wO2ZvcihsZXQgaWU9MDtpZTw5O2llKyspaS5wcm9iZVtpZV0uc2V0KDAsMCwwKTtsZXQgXz0wLHk9MCxtPTAscD0wLFQ9MCx3PTAsUz0wLFI9MDtoLnNvcnQoc2hhZG93Q2FzdGluZ0xpZ2h0c0ZpcnN0KTtjb25zdCBEPXUhPT0hMD9NYXRoLlBJOjE7Zm9yKGxldCBpZT0wLHo9aC5sZW5ndGg7aWU8ejtpZSsrKXtjb25zdCB4PWhbaWVdLEE9eC5jb2xvcixQPXguaW50ZW5zaXR5LEI9eC5kaXN0YW5jZSxVPXguc2hhZG93JiZ4LnNoYWRvdy5tYXA/eC5zaGFkb3cubWFwLnRleHR1cmU6bnVsbDtpZih4LmlzQW1iaWVudExpZ2h0KWQrPUEucipQKkQsZis9QS5nKlAqRCxnKz1BLmIqUCpEO2Vsc2UgaWYoeC5pc0xpZ2h0UHJvYmUpZm9yKGxldCBGPTA7Rjw5O0YrKylpLnByb2JlW0ZdLmFkZFNjYWxlZFZlY3Rvcih4LnNoLmNvZWZmaWNpZW50c1tGXSxQKTtlbHNlIGlmKHguaXNEaXJlY3Rpb25hbExpZ2h0KXtjb25zdCBGPXQuZ2V0KHgpO2lmKEYuY29sb3IuY29weSh4LmNvbG9yKS5tdWx0aXBseVNjYWxhcih4LmludGVuc2l0eSpEKSx4LmNhc3RTaGFkb3cpe2NvbnN0IEc9eC5zaGFkb3csTD1uLmdldCh4KTtMLnNoYWRvd0JpYXM9Ry5iaWFzLEwuc2hhZG93Tm9ybWFsQmlhcz1HLm5vcm1hbEJpYXMsTC5zaGFkb3dSYWRpdXM9Ry5yYWRpdXMsTC5zaGFkb3dNYXBTaXplPUcubWFwU2l6ZSxpLmRpcmVjdGlvbmFsU2hhZG93W19dPUwsaS5kaXJlY3Rpb25hbFNoYWRvd01hcFtfXT1VLGkuZGlyZWN0aW9uYWxTaGFkb3dNYXRyaXhbX109eC5zaGFkb3cubWF0cml4LHcrK31pLmRpcmVjdGlvbmFsW19dPUYsXysrfWVsc2UgaWYoeC5pc1Nwb3RMaWdodCl7Y29uc3QgRj10LmdldCh4KTtpZihGLnBvc2l0aW9uLnNldEZyb21NYXRyaXhQb3NpdGlvbih4Lm1hdHJpeFdvcmxkKSxGLmNvbG9yLmNvcHkoQSkubXVsdGlwbHlTY2FsYXIoUCpEKSxGLmRpc3RhbmNlPUIsRi5jb25lQ29zPU1hdGguY29zKHguYW5nbGUpLEYucGVudW1icmFDb3M9TWF0aC5jb3MoeC5hbmdsZSooMS14LnBlbnVtYnJhKSksRi5kZWNheT14LmRlY2F5LHguY2FzdFNoYWRvdyl7Y29uc3QgRz14LnNoYWRvdyxMPW4uZ2V0KHgpO0wuc2hhZG93Qmlhcz1HLmJpYXMsTC5zaGFkb3dOb3JtYWxCaWFzPUcubm9ybWFsQmlhcyxMLnNoYWRvd1JhZGl1cz1HLnJhZGl1cyxMLnNoYWRvd01hcFNpemU9Ry5tYXBTaXplLGkuc3BvdFNoYWRvd1ttXT1MLGkuc3BvdFNoYWRvd01hcFttXT1VLGkuc3BvdFNoYWRvd01hdHJpeFttXT14LnNoYWRvdy5tYXRyaXgsUisrfWkuc3BvdFttXT1GLG0rK31lbHNlIGlmKHguaXNSZWN0QXJlYUxpZ2h0KXtjb25zdCBGPXQuZ2V0KHgpO0YuY29sb3IuY29weShBKS5tdWx0aXBseVNjYWxhcihQKSxGLmhhbGZXaWR0aC5zZXQoeC53aWR0aCouNSwwLDApLEYuaGFsZkhlaWdodC5zZXQoMCx4LmhlaWdodCouNSwwKSxpLnJlY3RBcmVhW3BdPUYscCsrfWVsc2UgaWYoeC5pc1BvaW50TGlnaHQpe2NvbnN0IEY9dC5nZXQoeCk7aWYoRi5jb2xvci5jb3B5KHguY29sb3IpLm11bHRpcGx5U2NhbGFyKHguaW50ZW5zaXR5KkQpLEYuZGlzdGFuY2U9eC5kaXN0YW5jZSxGLmRlY2F5PXguZGVjYXkseC5jYXN0U2hhZG93KXtjb25zdCBHPXguc2hhZG93LEw9bi5nZXQoeCk7TC5zaGFkb3dCaWFzPUcuYmlhcyxMLnNoYWRvd05vcm1hbEJpYXM9Ry5ub3JtYWxCaWFzLEwuc2hhZG93UmFkaXVzPUcucmFkaXVzLEwuc2hhZG93TWFwU2l6ZT1HLm1hcFNpemUsTC5zaGFkb3dDYW1lcmFOZWFyPUcuY2FtZXJhLm5lYXIsTC5zaGFkb3dDYW1lcmFGYXI9Ry5jYW1lcmEuZmFyLGkucG9pbnRTaGFkb3dbeV09TCxpLnBvaW50U2hhZG93TWFwW3ldPVUsaS5wb2ludFNoYWRvd01hdHJpeFt5XT14LnNoYWRvdy5tYXRyaXgsUysrfWkucG9pbnRbeV09Rix5Kyt9ZWxzZSBpZih4LmlzSGVtaXNwaGVyZUxpZ2h0KXtjb25zdCBGPXQuZ2V0KHgpO0Yuc2t5Q29sb3IuY29weSh4LmNvbG9yKS5tdWx0aXBseVNjYWxhcihQKkQpLEYuZ3JvdW5kQ29sb3IuY29weSh4Lmdyb3VuZENvbG9yKS5tdWx0aXBseVNjYWxhcihQKkQpLGkuaGVtaVtUXT1GLFQrK319cD4wJiYoZS5pc1dlYkdMMnx8cy5oYXMoIk9FU190ZXh0dXJlX2Zsb2F0X2xpbmVhciIpPT09ITA/KGkucmVjdEFyZWFMVEMxPVVuaWZvcm1zTGliLkxUQ19GTE9BVF8xLGkucmVjdEFyZWFMVEMyPVVuaWZvcm1zTGliLkxUQ19GTE9BVF8yKTpzLmhhcygiT0VTX3RleHR1cmVfaGFsZl9mbG9hdF9saW5lYXIiKT09PSEwPyhpLnJlY3RBcmVhTFRDMT1Vbmlmb3Jtc0xpYi5MVENfSEFMRl8xLGkucmVjdEFyZWFMVEMyPVVuaWZvcm1zTGliLkxUQ19IQUxGXzIpOmNvbnNvbGUuZXJyb3IoIlRIUkVFLldlYkdMUmVuZGVyZXI6IFVuYWJsZSB0byB1c2UgUmVjdEFyZWFMaWdodC4gTWlzc2luZyBXZWJHTCBleHRlbnNpb25zLiIpKSxpLmFtYmllbnRbMF09ZCxpLmFtYmllbnRbMV09ZixpLmFtYmllbnRbMl09Zztjb25zdCBYPWkuaGFzaDsoWC5kaXJlY3Rpb25hbExlbmd0aCE9PV98fFgucG9pbnRMZW5ndGghPT15fHxYLnNwb3RMZW5ndGghPT1tfHxYLnJlY3RBcmVhTGVuZ3RoIT09cHx8WC5oZW1pTGVuZ3RoIT09VHx8WC5udW1EaXJlY3Rpb25hbFNoYWRvd3MhPT13fHxYLm51bVBvaW50U2hhZG93cyE9PVN8fFgubnVtU3BvdFNoYWRvd3MhPT1SKSYmKGkuZGlyZWN0aW9uYWwubGVuZ3RoPV8saS5zcG90Lmxlbmd0aD1tLGkucmVjdEFyZWEubGVuZ3RoPXAsaS5wb2ludC5sZW5ndGg9eSxpLmhlbWkubGVuZ3RoPVQsaS5kaXJlY3Rpb25hbFNoYWRvdy5sZW5ndGg9dyxpLmRpcmVjdGlvbmFsU2hhZG93TWFwLmxlbmd0aD13LGkucG9pbnRTaGFkb3cubGVuZ3RoPVMsaS5wb2ludFNoYWRvd01hcC5sZW5ndGg9UyxpLnNwb3RTaGFkb3cubGVuZ3RoPVIsaS5zcG90U2hhZG93TWFwLmxlbmd0aD1SLGkuZGlyZWN0aW9uYWxTaGFkb3dNYXRyaXgubGVuZ3RoPXcsaS5wb2ludFNoYWRvd01hdHJpeC5sZW5ndGg9UyxpLnNwb3RTaGFkb3dNYXRyaXgubGVuZ3RoPVIsWC5kaXJlY3Rpb25hbExlbmd0aD1fLFgucG9pbnRMZW5ndGg9eSxYLnNwb3RMZW5ndGg9bSxYLnJlY3RBcmVhTGVuZ3RoPXAsWC5oZW1pTGVuZ3RoPVQsWC5udW1EaXJlY3Rpb25hbFNoYWRvd3M9dyxYLm51bVBvaW50U2hhZG93cz1TLFgubnVtU3BvdFNoYWRvd3M9UixpLnZlcnNpb249bmV4dFZlcnNpb24rKyl9ZnVuY3Rpb24gYyhoLHUpe2xldCBkPTAsZj0wLGc9MCxfPTAseT0wO2NvbnN0IG09dS5tYXRyaXhXb3JsZEludmVyc2U7Zm9yKGxldCBwPTAsVD1oLmxlbmd0aDtwPFQ7cCsrKXtjb25zdCB3PWhbcF07aWYody5pc0RpcmVjdGlvbmFsTGlnaHQpe2NvbnN0IFM9aS5kaXJlY3Rpb25hbFtkXTtTLmRpcmVjdGlvbi5zZXRGcm9tTWF0cml4UG9zaXRpb24ody5tYXRyaXhXb3JsZCksci5zZXRGcm9tTWF0cml4UG9zaXRpb24ody50YXJnZXQubWF0cml4V29ybGQpLFMuZGlyZWN0aW9uLnN1YihyKSxTLmRpcmVjdGlvbi50cmFuc2Zvcm1EaXJlY3Rpb24obSksZCsrfWVsc2UgaWYody5pc1Nwb3RMaWdodCl7Y29uc3QgUz1pLnNwb3RbZ107Uy5wb3NpdGlvbi5zZXRGcm9tTWF0cml4UG9zaXRpb24ody5tYXRyaXhXb3JsZCksUy5wb3NpdGlvbi5hcHBseU1hdHJpeDQobSksUy5kaXJlY3Rpb24uc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHcubWF0cml4V29ybGQpLHIuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHcudGFyZ2V0Lm1hdHJpeFdvcmxkKSxTLmRpcmVjdGlvbi5zdWIociksUy5kaXJlY3Rpb24udHJhbnNmb3JtRGlyZWN0aW9uKG0pLGcrK31lbHNlIGlmKHcuaXNSZWN0QXJlYUxpZ2h0KXtjb25zdCBTPWkucmVjdEFyZWFbX107Uy5wb3NpdGlvbi5zZXRGcm9tTWF0cml4UG9zaXRpb24ody5tYXRyaXhXb3JsZCksUy5wb3NpdGlvbi5hcHBseU1hdHJpeDQobSksby5pZGVudGl0eSgpLGEuY29weSh3Lm1hdHJpeFdvcmxkKSxhLnByZW11bHRpcGx5KG0pLG8uZXh0cmFjdFJvdGF0aW9uKGEpLFMuaGFsZldpZHRoLnNldCh3LndpZHRoKi41LDAsMCksUy5oYWxmSGVpZ2h0LnNldCgwLHcuaGVpZ2h0Ki41LDApLFMuaGFsZldpZHRoLmFwcGx5TWF0cml4NChvKSxTLmhhbGZIZWlnaHQuYXBwbHlNYXRyaXg0KG8pLF8rK31lbHNlIGlmKHcuaXNQb2ludExpZ2h0KXtjb25zdCBTPWkucG9pbnRbZl07Uy5wb3NpdGlvbi5zZXRGcm9tTWF0cml4UG9zaXRpb24ody5tYXRyaXhXb3JsZCksUy5wb3NpdGlvbi5hcHBseU1hdHJpeDQobSksZisrfWVsc2UgaWYody5pc0hlbWlzcGhlcmVMaWdodCl7Y29uc3QgUz1pLmhlbWlbeV07Uy5kaXJlY3Rpb24uc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHcubWF0cml4V29ybGQpLFMuZGlyZWN0aW9uLnRyYW5zZm9ybURpcmVjdGlvbihtKSxTLmRpcmVjdGlvbi5ub3JtYWxpemUoKSx5Kyt9fX1yZXR1cm57c2V0dXA6bCxzZXR1cFZpZXc6YyxzdGF0ZTppfX1mdW5jdGlvbiBXZWJHTFJlbmRlclN0YXRlKHMsZSl7Y29uc3QgdD1uZXcgV2ViR0xMaWdodHMocyxlKSxuPVtdLGk9W107ZnVuY3Rpb24gcigpe24ubGVuZ3RoPTAsaS5sZW5ndGg9MH1mdW5jdGlvbiBhKHUpe24ucHVzaCh1KX1mdW5jdGlvbiBvKHUpe2kucHVzaCh1KX1mdW5jdGlvbiBsKHUpe3Quc2V0dXAobix1KX1mdW5jdGlvbiBjKHUpe3Quc2V0dXBWaWV3KG4sdSl9cmV0dXJue2luaXQ6cixzdGF0ZTp7bGlnaHRzQXJyYXk6bixzaGFkb3dzQXJyYXk6aSxsaWdodHM6dH0sc2V0dXBMaWdodHM6bCxzZXR1cExpZ2h0c1ZpZXc6YyxwdXNoTGlnaHQ6YSxwdXNoU2hhZG93Om99fWZ1bmN0aW9uIFdlYkdMUmVuZGVyU3RhdGVzKHMsZSl7bGV0IHQ9bmV3IFdlYWtNYXA7ZnVuY3Rpb24gbihyLGE9MCl7bGV0IG87cmV0dXJuIHQuaGFzKHIpPT09ITE/KG89bmV3IFdlYkdMUmVuZGVyU3RhdGUocyxlKSx0LnNldChyLFtvXSkpOmE+PXQuZ2V0KHIpLmxlbmd0aD8obz1uZXcgV2ViR0xSZW5kZXJTdGF0ZShzLGUpLHQuZ2V0KHIpLnB1c2gobykpOm89dC5nZXQocilbYV0sb31mdW5jdGlvbiBpKCl7dD1uZXcgV2Vha01hcH1yZXR1cm57Z2V0Om4sZGlzcG9zZTppfX1jbGFzcyBNZXNoRGVwdGhNYXRlcmlhbCBleHRlbmRzIE1hdGVyaWFse2NvbnN0cnVjdG9yKGUpe3N1cGVyKCk7dGhpcy50eXBlPSJNZXNoRGVwdGhNYXRlcmlhbCIsdGhpcy5kZXB0aFBhY2tpbmc9MzIwMCx0aGlzLm1hcD1udWxsLHRoaXMuYWxwaGFNYXA9bnVsbCx0aGlzLmRpc3BsYWNlbWVudE1hcD1udWxsLHRoaXMuZGlzcGxhY2VtZW50U2NhbGU9MSx0aGlzLmRpc3BsYWNlbWVudEJpYXM9MCx0aGlzLndpcmVmcmFtZT0hMSx0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD0xLHRoaXMuZm9nPSExLHRoaXMuc2V0VmFsdWVzKGUpfWNvcHkoZSl7cmV0dXJuIHN1cGVyLmNvcHkoZSksdGhpcy5kZXB0aFBhY2tpbmc9ZS5kZXB0aFBhY2tpbmcsdGhpcy5tYXA9ZS5tYXAsdGhpcy5hbHBoYU1hcD1lLmFscGhhTWFwLHRoaXMuZGlzcGxhY2VtZW50TWFwPWUuZGlzcGxhY2VtZW50TWFwLHRoaXMuZGlzcGxhY2VtZW50U2NhbGU9ZS5kaXNwbGFjZW1lbnRTY2FsZSx0aGlzLmRpc3BsYWNlbWVudEJpYXM9ZS5kaXNwbGFjZW1lbnRCaWFzLHRoaXMud2lyZWZyYW1lPWUud2lyZWZyYW1lLHRoaXMud2lyZWZyYW1lTGluZXdpZHRoPWUud2lyZWZyYW1lTGluZXdpZHRoLHRoaXN9fU1lc2hEZXB0aE1hdGVyaWFsLnByb3RvdHlwZS5pc01lc2hEZXB0aE1hdGVyaWFsPSEwO2NsYXNzIE1lc2hEaXN0YW5jZU1hdGVyaWFsIGV4dGVuZHMgTWF0ZXJpYWx7Y29uc3RydWN0b3IoZSl7c3VwZXIoKTt0aGlzLnR5cGU9Ik1lc2hEaXN0YW5jZU1hdGVyaWFsIix0aGlzLnJlZmVyZW5jZVBvc2l0aW9uPW5ldyBWZWN0b3IzLHRoaXMubmVhckRpc3RhbmNlPTEsdGhpcy5mYXJEaXN0YW5jZT0xZTMsdGhpcy5tYXA9bnVsbCx0aGlzLmFscGhhTWFwPW51bGwsdGhpcy5kaXNwbGFjZW1lbnRNYXA9bnVsbCx0aGlzLmRpc3BsYWNlbWVudFNjYWxlPTEsdGhpcy5kaXNwbGFjZW1lbnRCaWFzPTAsdGhpcy5mb2c9ITEsdGhpcy5zZXRWYWx1ZXMoZSl9Y29weShlKXtyZXR1cm4gc3VwZXIuY29weShlKSx0aGlzLnJlZmVyZW5jZVBvc2l0aW9uLmNvcHkoZS5yZWZlcmVuY2VQb3NpdGlvbiksdGhpcy5uZWFyRGlzdGFuY2U9ZS5uZWFyRGlzdGFuY2UsdGhpcy5mYXJEaXN0YW5jZT1lLmZhckRpc3RhbmNlLHRoaXMubWFwPWUubWFwLHRoaXMuYWxwaGFNYXA9ZS5hbHBoYU1hcCx0aGlzLmRpc3BsYWNlbWVudE1hcD1lLmRpc3BsYWNlbWVudE1hcCx0aGlzLmRpc3BsYWNlbWVudFNjYWxlPWUuZGlzcGxhY2VtZW50U2NhbGUsdGhpcy5kaXNwbGFjZW1lbnRCaWFzPWUuZGlzcGxhY2VtZW50Qmlhcyx0aGlzfX1NZXNoRGlzdGFuY2VNYXRlcmlhbC5wcm90b3R5cGUuaXNNZXNoRGlzdGFuY2VNYXRlcmlhbD0hMDtjb25zdCB2ZXJ0ZXg9YHZvaWQgbWFpbigpIHsKCWdsX1Bvc2l0aW9uID0gdmVjNCggcG9zaXRpb24sIDEuMCApOwp9YCxmcmFnbWVudD1gdW5pZm9ybSBzYW1wbGVyMkQgc2hhZG93X3Bhc3M7CnVuaWZvcm0gdmVjMiByZXNvbHV0aW9uOwp1bmlmb3JtIGZsb2F0IHJhZGl1czsKI2luY2x1ZGUgPHBhY2tpbmc+CnZvaWQgbWFpbigpIHsKCWNvbnN0IGZsb2F0IHNhbXBsZXMgPSBmbG9hdCggVlNNX1NBTVBMRVMgKTsKCWZsb2F0IG1lYW4gPSAwLjA7CglmbG9hdCBzcXVhcmVkX21lYW4gPSAwLjA7CglmbG9hdCB1dlN0cmlkZSA9IHNhbXBsZXMgPD0gMS4wID8gMC4wIDogMi4wIC8gKCBzYW1wbGVzIC0gMS4wICk7CglmbG9hdCB1dlN0YXJ0ID0gc2FtcGxlcyA8PSAxLjAgPyAwLjAgOiAtIDEuMDsKCWZvciAoIGZsb2F0IGkgPSAwLjA7IGkgPCBzYW1wbGVzOyBpICsrICkgewoJCWZsb2F0IHV2T2Zmc2V0ID0gdXZTdGFydCArIGkgKiB1dlN0cmlkZTsKCQkjaWZkZWYgSE9SSVpPTlRBTF9QQVNTCgkJCXZlYzIgZGlzdHJpYnV0aW9uID0gdW5wYWNrUkdCQVRvMkhhbGYoIHRleHR1cmUyRCggc2hhZG93X3Bhc3MsICggZ2xfRnJhZ0Nvb3JkLnh5ICsgdmVjMiggdXZPZmZzZXQsIDAuMCApICogcmFkaXVzICkgLyByZXNvbHV0aW9uICkgKTsKCQkJbWVhbiArPSBkaXN0cmlidXRpb24ueDsKCQkJc3F1YXJlZF9tZWFuICs9IGRpc3RyaWJ1dGlvbi55ICogZGlzdHJpYnV0aW9uLnkgKyBkaXN0cmlidXRpb24ueCAqIGRpc3RyaWJ1dGlvbi54OwoJCSNlbHNlCgkJCWZsb2F0IGRlcHRoID0gdW5wYWNrUkdCQVRvRGVwdGgoIHRleHR1cmUyRCggc2hhZG93X3Bhc3MsICggZ2xfRnJhZ0Nvb3JkLnh5ICsgdmVjMiggMC4wLCB1dk9mZnNldCApICogcmFkaXVzICkgLyByZXNvbHV0aW9uICkgKTsKCQkJbWVhbiArPSBkZXB0aDsKCQkJc3F1YXJlZF9tZWFuICs9IGRlcHRoICogZGVwdGg7CgkJI2VuZGlmCgl9CgltZWFuID0gbWVhbiAvIHNhbXBsZXM7CglzcXVhcmVkX21lYW4gPSBzcXVhcmVkX21lYW4gLyBzYW1wbGVzOwoJZmxvYXQgc3RkX2RldiA9IHNxcnQoIHNxdWFyZWRfbWVhbiAtIG1lYW4gKiBtZWFuICk7CglnbF9GcmFnQ29sb3IgPSBwYWNrMkhhbGZUb1JHQkEoIHZlYzIoIG1lYW4sIHN0ZF9kZXYgKSApOwp9YDtmdW5jdGlvbiBXZWJHTFNoYWRvd01hcChzLGUsdCl7bGV0IG49bmV3IEZydXN0dW07Y29uc3QgaT1uZXcgVmVjdG9yMixyPW5ldyBWZWN0b3IyLGE9bmV3IFZlY3RvcjQsbz1uZXcgTWVzaERlcHRoTWF0ZXJpYWwoe2RlcHRoUGFja2luZzozMjAxfSksbD1uZXcgTWVzaERpc3RhbmNlTWF0ZXJpYWwsYz17fSxoPXQubWF4VGV4dHVyZVNpemUsdT17MDoxLDE6MCwyOjJ9LGQ9bmV3IFNoYWRlck1hdGVyaWFsKHtkZWZpbmVzOntWU01fU0FNUExFUzo4fSx1bmlmb3Jtczp7c2hhZG93X3Bhc3M6e3ZhbHVlOm51bGx9LHJlc29sdXRpb246e3ZhbHVlOm5ldyBWZWN0b3IyfSxyYWRpdXM6e3ZhbHVlOjR9fSx2ZXJ0ZXhTaGFkZXI6dmVydGV4LGZyYWdtZW50U2hhZGVyOmZyYWdtZW50fSksZj1kLmNsb25lKCk7Zi5kZWZpbmVzLkhPUklaT05UQUxfUEFTUz0xO2NvbnN0IGc9bmV3IEJ1ZmZlckdlb21ldHJ5O2cuc2V0QXR0cmlidXRlKCJwb3NpdGlvbiIsbmV3IEJ1ZmZlckF0dHJpYnV0ZShuZXcgRmxvYXQzMkFycmF5KFstMSwtMSwuNSwzLC0xLC41LC0xLDMsLjVdKSwzKSk7Y29uc3QgXz1uZXcgTWVzaChnLGQpLHk9dGhpczt0aGlzLmVuYWJsZWQ9ITEsdGhpcy5hdXRvVXBkYXRlPSEwLHRoaXMubmVlZHNVcGRhdGU9ITEsdGhpcy50eXBlPTEsdGhpcy5yZW5kZXI9ZnVuY3Rpb24odyxTLFIpe2lmKHkuZW5hYmxlZD09PSExfHx5LmF1dG9VcGRhdGU9PT0hMSYmeS5uZWVkc1VwZGF0ZT09PSExfHx3Lmxlbmd0aD09PTApcmV0dXJuO2NvbnN0IEQ9cy5nZXRSZW5kZXJUYXJnZXQoKSxYPXMuZ2V0QWN0aXZlQ3ViZUZhY2UoKSxpZT1zLmdldEFjdGl2ZU1pcG1hcExldmVsKCksej1zLnN0YXRlO3ouc2V0QmxlbmRpbmcoMCksei5idWZmZXJzLmNvbG9yLnNldENsZWFyKDEsMSwxLDEpLHouYnVmZmVycy5kZXB0aC5zZXRUZXN0KCEwKSx6LnNldFNjaXNzb3JUZXN0KCExKTtmb3IobGV0IHg9MCxBPXcubGVuZ3RoO3g8QTt4Kyspe2NvbnN0IFA9d1t4XSxCPVAuc2hhZG93O2lmKEI9PT12b2lkIDApe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xTaGFkb3dNYXA6IixQLCJoYXMgbm8gc2hhZG93LiIpO2NvbnRpbnVlfWlmKEIuYXV0b1VwZGF0ZT09PSExJiZCLm5lZWRzVXBkYXRlPT09ITEpY29udGludWU7aS5jb3B5KEIubWFwU2l6ZSk7Y29uc3QgVT1CLmdldEZyYW1lRXh0ZW50cygpO2lmKGkubXVsdGlwbHkoVSksci5jb3B5KEIubWFwU2l6ZSksKGkueD5ofHxpLnk+aCkmJihpLng+aCYmKHIueD1NYXRoLmZsb29yKGgvVS54KSxpLng9ci54KlUueCxCLm1hcFNpemUueD1yLngpLGkueT5oJiYoci55PU1hdGguZmxvb3IoaC9VLnkpLGkueT1yLnkqVS55LEIubWFwU2l6ZS55PXIueSkpLEIubWFwPT09bnVsbCYmIUIuaXNQb2ludExpZ2h0U2hhZG93JiZ0aGlzLnR5cGU9PT0zKXtjb25zdCBHPXttaW5GaWx0ZXI6MTAwNixtYWdGaWx0ZXI6MTAwNixmb3JtYXQ6MTAyM307Qi5tYXA9bmV3IFdlYkdMUmVuZGVyVGFyZ2V0KGkueCxpLnksRyksQi5tYXAudGV4dHVyZS5uYW1lPVAubmFtZSsiLnNoYWRvd01hcCIsQi5tYXBQYXNzPW5ldyBXZWJHTFJlbmRlclRhcmdldChpLngsaS55LEcpLEIuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKX1pZihCLm1hcD09PW51bGwpe2NvbnN0IEc9e21pbkZpbHRlcjoxMDAzLG1hZ0ZpbHRlcjoxMDAzLGZvcm1hdDoxMDIzfTtCLm1hcD1uZXcgV2ViR0xSZW5kZXJUYXJnZXQoaS54LGkueSxHKSxCLm1hcC50ZXh0dXJlLm5hbWU9UC5uYW1lKyIuc2hhZG93TWFwIixCLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCl9cy5zZXRSZW5kZXJUYXJnZXQoQi5tYXApLHMuY2xlYXIoKTtjb25zdCBGPUIuZ2V0Vmlld3BvcnRDb3VudCgpO2ZvcihsZXQgRz0wO0c8RjtHKyspe2NvbnN0IEw9Qi5nZXRWaWV3cG9ydChHKTthLnNldChyLngqTC54LHIueSpMLnksci54KkwueixyLnkqTC53KSx6LnZpZXdwb3J0KGEpLEIudXBkYXRlTWF0cmljZXMoUCxHKSxuPUIuZ2V0RnJ1c3R1bSgpLFQoUyxSLEIuY2FtZXJhLFAsdGhpcy50eXBlKX0hQi5pc1BvaW50TGlnaHRTaGFkb3cmJnRoaXMudHlwZT09PTMmJm0oQixSKSxCLm5lZWRzVXBkYXRlPSExfXkubmVlZHNVcGRhdGU9ITEscy5zZXRSZW5kZXJUYXJnZXQoRCxYLGllKX07ZnVuY3Rpb24gbSh3LFMpe2NvbnN0IFI9ZS51cGRhdGUoXyk7ZC5kZWZpbmVzLlZTTV9TQU1QTEVTIT09dy5ibHVyU2FtcGxlcyYmKGQuZGVmaW5lcy5WU01fU0FNUExFUz13LmJsdXJTYW1wbGVzLGYuZGVmaW5lcy5WU01fU0FNUExFUz13LmJsdXJTYW1wbGVzLGQubmVlZHNVcGRhdGU9ITAsZi5uZWVkc1VwZGF0ZT0hMCksZC51bmlmb3Jtcy5zaGFkb3dfcGFzcy52YWx1ZT13Lm1hcC50ZXh0dXJlLGQudW5pZm9ybXMucmVzb2x1dGlvbi52YWx1ZT13Lm1hcFNpemUsZC51bmlmb3Jtcy5yYWRpdXMudmFsdWU9dy5yYWRpdXMscy5zZXRSZW5kZXJUYXJnZXQody5tYXBQYXNzKSxzLmNsZWFyKCkscy5yZW5kZXJCdWZmZXJEaXJlY3QoUyxudWxsLFIsZCxfLG51bGwpLGYudW5pZm9ybXMuc2hhZG93X3Bhc3MudmFsdWU9dy5tYXBQYXNzLnRleHR1cmUsZi51bmlmb3Jtcy5yZXNvbHV0aW9uLnZhbHVlPXcubWFwU2l6ZSxmLnVuaWZvcm1zLnJhZGl1cy52YWx1ZT13LnJhZGl1cyxzLnNldFJlbmRlclRhcmdldCh3Lm1hcCkscy5jbGVhcigpLHMucmVuZGVyQnVmZmVyRGlyZWN0KFMsbnVsbCxSLGYsXyxudWxsKX1mdW5jdGlvbiBwKHcsUyxSLEQsWCxpZSl7bGV0IHo9bnVsbDtjb25zdCB4PVIuaXNQb2ludExpZ2h0PT09ITA/dy5jdXN0b21EaXN0YW5jZU1hdGVyaWFsOncuY3VzdG9tRGVwdGhNYXRlcmlhbDtpZih4IT09dm9pZCAwP3o9eDp6PVIuaXNQb2ludExpZ2h0PT09ITA/bDpvLHMubG9jYWxDbGlwcGluZ0VuYWJsZWQmJlMuY2xpcFNoYWRvd3M9PT0hMCYmUy5jbGlwcGluZ1BsYW5lcy5sZW5ndGghPT0wfHxTLmRpc3BsYWNlbWVudE1hcCYmUy5kaXNwbGFjZW1lbnRTY2FsZSE9PTB8fFMuYWxwaGFNYXAmJlMuYWxwaGFUZXN0PjApe2NvbnN0IEE9ei51dWlkLFA9Uy51dWlkO2xldCBCPWNbQV07Qj09PXZvaWQgMCYmKEI9e30sY1tBXT1CKTtsZXQgVT1CW1BdO1U9PT12b2lkIDAmJihVPXouY2xvbmUoKSxCW1BdPVUpLHo9VX1yZXR1cm4gei52aXNpYmxlPVMudmlzaWJsZSx6LndpcmVmcmFtZT1TLndpcmVmcmFtZSxpZT09PTM/ei5zaWRlPVMuc2hhZG93U2lkZSE9PW51bGw/Uy5zaGFkb3dTaWRlOlMuc2lkZTp6LnNpZGU9Uy5zaGFkb3dTaWRlIT09bnVsbD9TLnNoYWRvd1NpZGU6dVtTLnNpZGVdLHouYWxwaGFNYXA9Uy5hbHBoYU1hcCx6LmFscGhhVGVzdD1TLmFscGhhVGVzdCx6LmNsaXBTaGFkb3dzPVMuY2xpcFNoYWRvd3Msei5jbGlwcGluZ1BsYW5lcz1TLmNsaXBwaW5nUGxhbmVzLHouY2xpcEludGVyc2VjdGlvbj1TLmNsaXBJbnRlcnNlY3Rpb24sei5kaXNwbGFjZW1lbnRNYXA9Uy5kaXNwbGFjZW1lbnRNYXAsei5kaXNwbGFjZW1lbnRTY2FsZT1TLmRpc3BsYWNlbWVudFNjYWxlLHouZGlzcGxhY2VtZW50Qmlhcz1TLmRpc3BsYWNlbWVudEJpYXMsei53aXJlZnJhbWVMaW5ld2lkdGg9Uy53aXJlZnJhbWVMaW5ld2lkdGgsei5saW5ld2lkdGg9Uy5saW5ld2lkdGgsUi5pc1BvaW50TGlnaHQ9PT0hMCYmei5pc01lc2hEaXN0YW5jZU1hdGVyaWFsPT09ITAmJih6LnJlZmVyZW5jZVBvc2l0aW9uLnNldEZyb21NYXRyaXhQb3NpdGlvbihSLm1hdHJpeFdvcmxkKSx6Lm5lYXJEaXN0YW5jZT1ELHouZmFyRGlzdGFuY2U9WCksen1mdW5jdGlvbiBUKHcsUyxSLEQsWCl7aWYody52aXNpYmxlPT09ITEpcmV0dXJuO2lmKHcubGF5ZXJzLnRlc3QoUy5sYXllcnMpJiYody5pc01lc2h8fHcuaXNMaW5lfHx3LmlzUG9pbnRzKSYmKHcuY2FzdFNoYWRvd3x8dy5yZWNlaXZlU2hhZG93JiZYPT09MykmJighdy5mcnVzdHVtQ3VsbGVkfHxuLmludGVyc2VjdHNPYmplY3QodykpKXt3Lm1vZGVsVmlld01hdHJpeC5tdWx0aXBseU1hdHJpY2VzKFIubWF0cml4V29ybGRJbnZlcnNlLHcubWF0cml4V29ybGQpO2NvbnN0IHg9ZS51cGRhdGUodyksQT13Lm1hdGVyaWFsO2lmKEFycmF5LmlzQXJyYXkoQSkpe2NvbnN0IFA9eC5ncm91cHM7Zm9yKGxldCBCPTAsVT1QLmxlbmd0aDtCPFU7QisrKXtjb25zdCBGPVBbQl0sRz1BW0YubWF0ZXJpYWxJbmRleF07aWYoRyYmRy52aXNpYmxlKXtjb25zdCBMPXAodyxHLEQsUi5uZWFyLFIuZmFyLFgpO3MucmVuZGVyQnVmZmVyRGlyZWN0KFIsbnVsbCx4LEwsdyxGKX19fWVsc2UgaWYoQS52aXNpYmxlKXtjb25zdCBQPXAodyxBLEQsUi5uZWFyLFIuZmFyLFgpO3MucmVuZGVyQnVmZmVyRGlyZWN0KFIsbnVsbCx4LFAsdyxudWxsKX19Y29uc3Qgej13LmNoaWxkcmVuO2ZvcihsZXQgeD0wLEE9ei5sZW5ndGg7eDxBO3grKylUKHpbeF0sUyxSLEQsWCl9fWZ1bmN0aW9uIFdlYkdMU3RhdGUocyxlLHQpe2NvbnN0IG49dC5pc1dlYkdMMjtmdW5jdGlvbiBpKCl7bGV0IEU9ITE7Y29uc3QgYWU9bmV3IFZlY3RvcjQ7bGV0IG5lPW51bGw7Y29uc3QgTWU9bmV3IFZlY3RvcjQoMCwwLDAsMCk7cmV0dXJue3NldE1hc2s6ZnVuY3Rpb24ocmUpe25lIT09cmUmJiFFJiYocy5jb2xvck1hc2socmUscmUscmUscmUpLG5lPXJlKX0sc2V0TG9ja2VkOmZ1bmN0aW9uKHJlKXtFPXJlfSxzZXRDbGVhcjpmdW5jdGlvbihyZSxLLHllLENlLHplKXt6ZT09PSEwJiYocmUqPUNlLEsqPUNlLHllKj1DZSksYWUuc2V0KHJlLEsseWUsQ2UpLE1lLmVxdWFscyhhZSk9PT0hMSYmKHMuY2xlYXJDb2xvcihyZSxLLHllLENlKSxNZS5jb3B5KGFlKSl9LHJlc2V0OmZ1bmN0aW9uKCl7RT0hMSxuZT1udWxsLE1lLnNldCgtMSwwLDAsMCl9fX1mdW5jdGlvbiByKCl7bGV0IEU9ITEsYWU9bnVsbCxuZT1udWxsLE1lPW51bGw7cmV0dXJue3NldFRlc3Q6ZnVuY3Rpb24ocmUpe3JlP21lKDI5MjkpOiQoMjkyOSl9LHNldE1hc2s6ZnVuY3Rpb24ocmUpe2FlIT09cmUmJiFFJiYocy5kZXB0aE1hc2socmUpLGFlPXJlKX0sc2V0RnVuYzpmdW5jdGlvbihyZSl7aWYobmUhPT1yZSl7aWYocmUpc3dpdGNoKHJlKXtjYXNlIDA6cy5kZXB0aEZ1bmMoNTEyKTticmVhaztjYXNlIDE6cy5kZXB0aEZ1bmMoNTE5KTticmVhaztjYXNlIDI6cy5kZXB0aEZ1bmMoNTEzKTticmVhaztjYXNlIDM6cy5kZXB0aEZ1bmMoNTE1KTticmVhaztjYXNlIDQ6cy5kZXB0aEZ1bmMoNTE0KTticmVhaztjYXNlIDU6cy5kZXB0aEZ1bmMoNTE4KTticmVhaztjYXNlIDY6cy5kZXB0aEZ1bmMoNTE2KTticmVhaztjYXNlIDc6cy5kZXB0aEZ1bmMoNTE3KTticmVhaztkZWZhdWx0OnMuZGVwdGhGdW5jKDUxNSl9ZWxzZSBzLmRlcHRoRnVuYyg1MTUpO25lPXJlfX0sc2V0TG9ja2VkOmZ1bmN0aW9uKHJlKXtFPXJlfSxzZXRDbGVhcjpmdW5jdGlvbihyZSl7TWUhPT1yZSYmKHMuY2xlYXJEZXB0aChyZSksTWU9cmUpfSxyZXNldDpmdW5jdGlvbigpe0U9ITEsYWU9bnVsbCxuZT1udWxsLE1lPW51bGx9fX1mdW5jdGlvbiBhKCl7bGV0IEU9ITEsYWU9bnVsbCxuZT1udWxsLE1lPW51bGwscmU9bnVsbCxLPW51bGwseWU9bnVsbCxDZT1udWxsLHplPW51bGw7cmV0dXJue3NldFRlc3Q6ZnVuY3Rpb24oRmUpe0V8fChGZT9tZSgyOTYwKTokKDI5NjApKX0sc2V0TWFzazpmdW5jdGlvbihGZSl7YWUhPT1GZSYmIUUmJihzLnN0ZW5jaWxNYXNrKEZlKSxhZT1GZSl9LHNldEZ1bmM6ZnVuY3Rpb24oRmUsa2UsSGUpeyhuZSE9PUZlfHxNZSE9PWtlfHxyZSE9PUhlKSYmKHMuc3RlbmNpbEZ1bmMoRmUsa2UsSGUpLG5lPUZlLE1lPWtlLHJlPUhlKX0sc2V0T3A6ZnVuY3Rpb24oRmUsa2UsSGUpeyhLIT09RmV8fHllIT09a2V8fENlIT09SGUpJiYocy5zdGVuY2lsT3AoRmUsa2UsSGUpLEs9RmUseWU9a2UsQ2U9SGUpfSxzZXRMb2NrZWQ6ZnVuY3Rpb24oRmUpe0U9RmV9LHNldENsZWFyOmZ1bmN0aW9uKEZlKXt6ZSE9PUZlJiYocy5jbGVhclN0ZW5jaWwoRmUpLHplPUZlKX0scmVzZXQ6ZnVuY3Rpb24oKXtFPSExLGFlPW51bGwsbmU9bnVsbCxNZT1udWxsLHJlPW51bGwsSz1udWxsLHllPW51bGwsQ2U9bnVsbCx6ZT1udWxsfX19Y29uc3Qgbz1uZXcgaSxsPW5ldyByLGM9bmV3IGE7bGV0IGg9e30sdT17fSxkPW5ldyBXZWFrTWFwLGY9W10sZz1udWxsLF89ITEseT1udWxsLG09bnVsbCxwPW51bGwsVD1udWxsLHc9bnVsbCxTPW51bGwsUj1udWxsLEQ9ITEsWD1udWxsLGllPW51bGwsej1udWxsLHg9bnVsbCxBPW51bGw7Y29uc3QgUD1zLmdldFBhcmFtZXRlcigzNTY2MSk7bGV0IEI9ITEsVT0wO2NvbnN0IEY9cy5nZXRQYXJhbWV0ZXIoNzkzOCk7Ri5pbmRleE9mKCJXZWJHTCIpIT09LTE/KFU9cGFyc2VGbG9hdCgvXldlYkdMIChcZCkvLmV4ZWMoRilbMV0pLEI9VT49MSk6Ri5pbmRleE9mKCJPcGVuR0wgRVMiKSE9PS0xJiYoVT1wYXJzZUZsb2F0KC9eT3BlbkdMIEVTIChcZCkvLmV4ZWMoRilbMV0pLEI9VT49Mik7bGV0IEc9bnVsbCxMPXt9O2NvbnN0IFc9cy5nZXRQYXJhbWV0ZXIoMzA4OCksWj1zLmdldFBhcmFtZXRlcigyOTc4KSxZPW5ldyBWZWN0b3I0KCkuZnJvbUFycmF5KFcpLEo9bmV3IFZlY3RvcjQoKS5mcm9tQXJyYXkoWik7ZnVuY3Rpb24gZmUoRSxhZSxuZSl7Y29uc3QgTWU9bmV3IFVpbnQ4QXJyYXkoNCkscmU9cy5jcmVhdGVUZXh0dXJlKCk7cy5iaW5kVGV4dHVyZShFLHJlKSxzLnRleFBhcmFtZXRlcmkoRSwxMDI0MSw5NzI4KSxzLnRleFBhcmFtZXRlcmkoRSwxMDI0MCw5NzI4KTtmb3IobGV0IEs9MDtLPG5lO0srKylzLnRleEltYWdlMkQoYWUrSywwLDY0MDgsMSwxLDAsNjQwOCw1MTIxLE1lKTtyZXR1cm4gcmV9Y29uc3QgUGU9e307UGVbMzU1M109ZmUoMzU1MywzNTUzLDEpLFBlWzM0MDY3XT1mZSgzNDA2NywzNDA2OSw2KSxvLnNldENsZWFyKDAsMCwwLDEpLGwuc2V0Q2xlYXIoMSksYy5zZXRDbGVhcigwKSxtZSgyOTI5KSxsLnNldEZ1bmMoMyksUSghMSksb2UoMSksbWUoMjg4NCksVigwKTtmdW5jdGlvbiBtZShFKXtoW0VdIT09ITAmJihzLmVuYWJsZShFKSxoW0VdPSEwKX1mdW5jdGlvbiAkKEUpe2hbRV0hPT0hMSYmKHMuZGlzYWJsZShFKSxoW0VdPSExKX1mdW5jdGlvbiBEZShFLGFlKXtyZXR1cm4gdVtFXSE9PWFlPyhzLmJpbmRGcmFtZWJ1ZmZlcihFLGFlKSx1W0VdPWFlLG4mJihFPT09MzYwMDkmJih1WzM2MTYwXT1hZSksRT09PTM2MTYwJiYodVszNjAwOV09YWUpKSwhMCk6ITF9ZnVuY3Rpb24gU2UoRSxhZSl7bGV0IG5lPWYsTWU9ITE7aWYoRSlpZihuZT1kLmdldChhZSksbmU9PT12b2lkIDAmJihuZT1bXSxkLnNldChhZSxuZSkpLEUuaXNXZWJHTE11bHRpcGxlUmVuZGVyVGFyZ2V0cyl7Y29uc3QgcmU9RS50ZXh0dXJlO2lmKG5lLmxlbmd0aCE9PXJlLmxlbmd0aHx8bmVbMF0hPT0zNjA2NCl7Zm9yKGxldCBLPTAseWU9cmUubGVuZ3RoO0s8eWU7SysrKW5lW0tdPTM2MDY0K0s7bmUubGVuZ3RoPXJlLmxlbmd0aCxNZT0hMH19ZWxzZSBuZVswXSE9PTM2MDY0JiYobmVbMF09MzYwNjQsTWU9ITApO2Vsc2UgbmVbMF0hPT0xMDI5JiYobmVbMF09MTAyOSxNZT0hMCk7TWUmJih0LmlzV2ViR0wyP3MuZHJhd0J1ZmZlcnMobmUpOmUuZ2V0KCJXRUJHTF9kcmF3X2J1ZmZlcnMiKS5kcmF3QnVmZmVyc1dFQkdMKG5lKSl9ZnVuY3Rpb24gbGUoRSl7cmV0dXJuIGchPT1FPyhzLnVzZVByb2dyYW0oRSksZz1FLCEwKTohMX1jb25zdCBjZT17WzEwMF06MzI3NzQsWzEwMV06MzI3NzgsWzEwMl06MzI3Nzl9O2lmKG4pY2VbMTAzXT0zMjc3NSxjZVsxMDRdPTMyNzc2O2Vsc2V7Y29uc3QgRT1lLmdldCgiRVhUX2JsZW5kX21pbm1heCIpO0UhPT1udWxsJiYoY2VbMTAzXT1FLk1JTl9FWFQsY2VbMTA0XT1FLk1BWF9FWFQpfWNvbnN0IEFlPXtbMjAwXTowLFsyMDFdOjEsWzIwMl06NzY4LFsyMDRdOjc3MCxbMjEwXTo3NzYsWzIwOF06Nzc0LFsyMDZdOjc3MixbMjAzXTo3NjksWzIwNV06NzcxLFsyMDldOjc3NSxbMjA3XTo3NzN9O2Z1bmN0aW9uIFYoRSxhZSxuZSxNZSxyZSxLLHllLENlKXtpZihFPT09MCl7Xz09PSEwJiYoJCgzMDQyKSxfPSExKTtyZXR1cm59aWYoXz09PSExJiYobWUoMzA0MiksXz0hMCksRSE9PTUpe2lmKEUhPT15fHxDZSE9PUQpe2lmKChtIT09MTAwfHx3IT09MTAwKSYmKHMuYmxlbmRFcXVhdGlvbigzMjc3NCksbT0xMDAsdz0xMDApLENlKXN3aXRjaChFKXtjYXNlIDE6cy5ibGVuZEZ1bmNTZXBhcmF0ZSgxLDc3MSwxLDc3MSk7YnJlYWs7Y2FzZSAyOnMuYmxlbmRGdW5jKDEsMSk7YnJlYWs7Y2FzZSAzOnMuYmxlbmRGdW5jU2VwYXJhdGUoMCw3NjksMCwxKTticmVhaztjYXNlIDQ6cy5ibGVuZEZ1bmNTZXBhcmF0ZSgwLDc2OCwwLDc3MCk7YnJlYWs7ZGVmYXVsdDpjb25zb2xlLmVycm9yKCJUSFJFRS5XZWJHTFN0YXRlOiBJbnZhbGlkIGJsZW5kaW5nOiAiLEUpO2JyZWFrfWVsc2Ugc3dpdGNoKEUpe2Nhc2UgMTpzLmJsZW5kRnVuY1NlcGFyYXRlKDc3MCw3NzEsMSw3NzEpO2JyZWFrO2Nhc2UgMjpzLmJsZW5kRnVuYyg3NzAsMSk7YnJlYWs7Y2FzZSAzOnMuYmxlbmRGdW5jU2VwYXJhdGUoMCw3NjksMCwxKTticmVhaztjYXNlIDQ6cy5ibGVuZEZ1bmMoMCw3NjgpO2JyZWFrO2RlZmF1bHQ6Y29uc29sZS5lcnJvcigiVEhSRUUuV2ViR0xTdGF0ZTogSW52YWxpZCBibGVuZGluZzogIixFKTticmVha31wPW51bGwsVD1udWxsLFM9bnVsbCxSPW51bGwseT1FLEQ9Q2V9cmV0dXJufXJlPXJlfHxhZSxLPUt8fG5lLHllPXllfHxNZSwoYWUhPT1tfHxyZSE9PXcpJiYocy5ibGVuZEVxdWF0aW9uU2VwYXJhdGUoY2VbYWVdLGNlW3JlXSksbT1hZSx3PXJlKSwobmUhPT1wfHxNZSE9PVR8fEshPT1TfHx5ZSE9PVIpJiYocy5ibGVuZEZ1bmNTZXBhcmF0ZShBZVtuZV0sQWVbTWVdLEFlW0tdLEFlW3llXSkscD1uZSxUPU1lLFM9SyxSPXllKSx5PUUsRD1udWxsfWZ1bmN0aW9uIGooRSxhZSl7RS5zaWRlPT09Mj8kKDI4ODQpOm1lKDI4ODQpO2xldCBuZT1FLnNpZGU9PT0xO2FlJiYobmU9IW5lKSxRKG5lKSxFLmJsZW5kaW5nPT09MSYmRS50cmFuc3BhcmVudD09PSExP1YoMCk6VihFLmJsZW5kaW5nLEUuYmxlbmRFcXVhdGlvbixFLmJsZW5kU3JjLEUuYmxlbmREc3QsRS5ibGVuZEVxdWF0aW9uQWxwaGEsRS5ibGVuZFNyY0FscGhhLEUuYmxlbmREc3RBbHBoYSxFLnByZW11bHRpcGxpZWRBbHBoYSksbC5zZXRGdW5jKEUuZGVwdGhGdW5jKSxsLnNldFRlc3QoRS5kZXB0aFRlc3QpLGwuc2V0TWFzayhFLmRlcHRoV3JpdGUpLG8uc2V0TWFzayhFLmNvbG9yV3JpdGUpO2NvbnN0IE1lPUUuc3RlbmNpbFdyaXRlO2Muc2V0VGVzdChNZSksTWUmJihjLnNldE1hc2soRS5zdGVuY2lsV3JpdGVNYXNrKSxjLnNldEZ1bmMoRS5zdGVuY2lsRnVuYyxFLnN0ZW5jaWxSZWYsRS5zdGVuY2lsRnVuY01hc2spLGMuc2V0T3AoRS5zdGVuY2lsRmFpbCxFLnN0ZW5jaWxaRmFpbCxFLnN0ZW5jaWxaUGFzcykpLGdlKEUucG9seWdvbk9mZnNldCxFLnBvbHlnb25PZmZzZXRGYWN0b3IsRS5wb2x5Z29uT2Zmc2V0VW5pdHMpLEUuYWxwaGFUb0NvdmVyYWdlPT09ITA/bWUoMzI5MjYpOiQoMzI5MjYpfWZ1bmN0aW9uIFEoRSl7WCE9PUUmJihFP3MuZnJvbnRGYWNlKDIzMDQpOnMuZnJvbnRGYWNlKDIzMDUpLFg9RSl9ZnVuY3Rpb24gb2UoRSl7RSE9PTA/KG1lKDI4ODQpLEUhPT1pZSYmKEU9PT0xP3MuY3VsbEZhY2UoMTAyOSk6RT09PTI/cy5jdWxsRmFjZSgxMDI4KTpzLmN1bGxGYWNlKDEwMzIpKSk6JCgyODg0KSxpZT1FfWZ1bmN0aW9uIHRlKEUpe0UhPT16JiYoQiYmcy5saW5lV2lkdGgoRSksej1FKX1mdW5jdGlvbiBnZShFLGFlLG5lKXtFPyhtZSgzMjgyMyksKHghPT1hZXx8QSE9PW5lKSYmKHMucG9seWdvbk9mZnNldChhZSxuZSkseD1hZSxBPW5lKSk6JCgzMjgyMyl9ZnVuY3Rpb24gdWUoRSl7RT9tZSgzMDg5KTokKDMwODkpfWZ1bmN0aW9uIHdlKEUpe0U9PT12b2lkIDAmJihFPTMzOTg0K1AtMSksRyE9PUUmJihzLmFjdGl2ZVRleHR1cmUoRSksRz1FKX1mdW5jdGlvbiBWZShFLGFlKXtHPT09bnVsbCYmd2UoKTtsZXQgbmU9TFtHXTtuZT09PXZvaWQgMCYmKG5lPXt0eXBlOnZvaWQgMCx0ZXh0dXJlOnZvaWQgMH0sTFtHXT1uZSksKG5lLnR5cGUhPT1FfHxuZS50ZXh0dXJlIT09YWUpJiYocy5iaW5kVGV4dHVyZShFLGFlfHxQZVtFXSksbmUudHlwZT1FLG5lLnRleHR1cmU9YWUpfWZ1bmN0aW9uIGIoKXtjb25zdCBFPUxbR107RSE9PXZvaWQgMCYmRS50eXBlIT09dm9pZCAwJiYocy5iaW5kVGV4dHVyZShFLnR5cGUsbnVsbCksRS50eXBlPXZvaWQgMCxFLnRleHR1cmU9dm9pZCAwKX1mdW5jdGlvbiB2KCl7dHJ5e3MuY29tcHJlc3NlZFRleEltYWdlMkQuYXBwbHkocyxhcmd1bWVudHMpfWNhdGNoKEUpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLldlYkdMU3RhdGU6IixFKX19ZnVuY3Rpb24gTygpe3RyeXtzLnRleFN1YkltYWdlMkQuYXBwbHkocyxhcmd1bWVudHMpfWNhdGNoKEUpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLldlYkdMU3RhdGU6IixFKX19ZnVuY3Rpb24gcSgpe3RyeXtzLnRleFN1YkltYWdlM0QuYXBwbHkocyxhcmd1bWVudHMpfWNhdGNoKEUpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLldlYkdMU3RhdGU6IixFKX19ZnVuY3Rpb24gZWUoKXt0cnl7cy5jb21wcmVzc2VkVGV4U3ViSW1hZ2UyRC5hcHBseShzLGFyZ3VtZW50cyl9Y2F0Y2goRSl7Y29uc29sZS5lcnJvcigiVEhSRUUuV2ViR0xTdGF0ZToiLEUpfX1mdW5jdGlvbiBzZSgpe3RyeXtzLnRleFN0b3JhZ2UyRC5hcHBseShzLGFyZ3VtZW50cyl9Y2F0Y2goRSl7Y29uc29sZS5lcnJvcigiVEhSRUUuV2ViR0xTdGF0ZToiLEUpfX1mdW5jdGlvbiBwZSgpe3RyeXtzLnRleFN0b3JhZ2UzRC5hcHBseShzLGFyZ3VtZW50cyl9Y2F0Y2goRSl7Y29uc29sZS5lcnJvcigiVEhSRUUuV2ViR0xTdGF0ZToiLEUpfX1mdW5jdGlvbiBrKCl7dHJ5e3MudGV4SW1hZ2UyRC5hcHBseShzLGFyZ3VtZW50cyl9Y2F0Y2goRSl7Y29uc29sZS5lcnJvcigiVEhSRUUuV2ViR0xTdGF0ZToiLEUpfX1mdW5jdGlvbiB4ZSgpe3RyeXtzLnRleEltYWdlM0QuYXBwbHkocyxhcmd1bWVudHMpfWNhdGNoKEUpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLldlYkdMU3RhdGU6IixFKX19ZnVuY3Rpb24gdmUoRSl7WS5lcXVhbHMoRSk9PT0hMSYmKHMuc2Npc3NvcihFLngsRS55LEUueixFLncpLFkuY29weShFKSl9ZnVuY3Rpb24gZGUoRSl7Si5lcXVhbHMoRSk9PT0hMSYmKHMudmlld3BvcnQoRS54LEUueSxFLnosRS53KSxKLmNvcHkoRSkpfWZ1bmN0aW9uIGhlKCl7cy5kaXNhYmxlKDMwNDIpLHMuZGlzYWJsZSgyODg0KSxzLmRpc2FibGUoMjkyOSkscy5kaXNhYmxlKDMyODIzKSxzLmRpc2FibGUoMzA4OSkscy5kaXNhYmxlKDI5NjApLHMuZGlzYWJsZSgzMjkyNikscy5ibGVuZEVxdWF0aW9uKDMyNzc0KSxzLmJsZW5kRnVuYygxLDApLHMuYmxlbmRGdW5jU2VwYXJhdGUoMSwwLDEsMCkscy5jb2xvck1hc2soITAsITAsITAsITApLHMuY2xlYXJDb2xvcigwLDAsMCwwKSxzLmRlcHRoTWFzayghMCkscy5kZXB0aEZ1bmMoNTEzKSxzLmNsZWFyRGVwdGgoMSkscy5zdGVuY2lsTWFzayg0Mjk0OTY3Mjk1KSxzLnN0ZW5jaWxGdW5jKDUxOSwwLDQyOTQ5NjcyOTUpLHMuc3RlbmNpbE9wKDc2ODAsNzY4MCw3NjgwKSxzLmNsZWFyU3RlbmNpbCgwKSxzLmN1bGxGYWNlKDEwMjkpLHMuZnJvbnRGYWNlKDIzMDUpLHMucG9seWdvbk9mZnNldCgwLDApLHMuYWN0aXZlVGV4dHVyZSgzMzk4NCkscy5iaW5kRnJhbWVidWZmZXIoMzYxNjAsbnVsbCksbj09PSEwJiYocy5iaW5kRnJhbWVidWZmZXIoMzYwMDksbnVsbCkscy5iaW5kRnJhbWVidWZmZXIoMzYwMDgsbnVsbCkpLHMudXNlUHJvZ3JhbShudWxsKSxzLmxpbmVXaWR0aCgxKSxzLnNjaXNzb3IoMCwwLHMuY2FudmFzLndpZHRoLHMuY2FudmFzLmhlaWdodCkscy52aWV3cG9ydCgwLDAscy5jYW52YXMud2lkdGgscy5jYW52YXMuaGVpZ2h0KSxoPXt9LEc9bnVsbCxMPXt9LHU9e30sZD1uZXcgV2Vha01hcCxmPVtdLGc9bnVsbCxfPSExLHk9bnVsbCxtPW51bGwscD1udWxsLFQ9bnVsbCx3PW51bGwsUz1udWxsLFI9bnVsbCxEPSExLFg9bnVsbCxpZT1udWxsLHo9bnVsbCx4PW51bGwsQT1udWxsLFkuc2V0KDAsMCxzLmNhbnZhcy53aWR0aCxzLmNhbnZhcy5oZWlnaHQpLEouc2V0KDAsMCxzLmNhbnZhcy53aWR0aCxzLmNhbnZhcy5oZWlnaHQpLG8ucmVzZXQoKSxsLnJlc2V0KCksYy5yZXNldCgpfXJldHVybntidWZmZXJzOntjb2xvcjpvLGRlcHRoOmwsc3RlbmNpbDpjfSxlbmFibGU6bWUsZGlzYWJsZTokLGJpbmRGcmFtZWJ1ZmZlcjpEZSxkcmF3QnVmZmVyczpTZSx1c2VQcm9ncmFtOmxlLHNldEJsZW5kaW5nOlYsc2V0TWF0ZXJpYWw6aixzZXRGbGlwU2lkZWQ6USxzZXRDdWxsRmFjZTpvZSxzZXRMaW5lV2lkdGg6dGUsc2V0UG9seWdvbk9mZnNldDpnZSxzZXRTY2lzc29yVGVzdDp1ZSxhY3RpdmVUZXh0dXJlOndlLGJpbmRUZXh0dXJlOlZlLHVuYmluZFRleHR1cmU6Yixjb21wcmVzc2VkVGV4SW1hZ2UyRDp2LHRleEltYWdlMkQ6ayx0ZXhJbWFnZTNEOnhlLHRleFN0b3JhZ2UyRDpzZSx0ZXhTdG9yYWdlM0Q6cGUsdGV4U3ViSW1hZ2UyRDpPLHRleFN1YkltYWdlM0Q6cSxjb21wcmVzc2VkVGV4U3ViSW1hZ2UyRDplZSxzY2lzc29yOnZlLHZpZXdwb3J0OmRlLHJlc2V0OmhlfX1mdW5jdGlvbiBXZWJHTFRleHR1cmVzKHMsZSx0LG4saSxyLGEpe2NvbnN0IG89aS5pc1dlYkdMMixsPWkubWF4VGV4dHVyZXMsYz1pLm1heEN1YmVtYXBTaXplLGg9aS5tYXhUZXh0dXJlU2l6ZSx1PWkubWF4U2FtcGxlcyxkPWUuaGFzKCJXRUJHTF9tdWx0aXNhbXBsZWRfcmVuZGVyX3RvX3RleHR1cmUiKT9lLmdldCgiV0VCR0xfbXVsdGlzYW1wbGVkX3JlbmRlcl90b190ZXh0dXJlIik6bnVsbCxmPW5ldyBXZWFrTWFwO2xldCBnO2NvbnN0IF89bmV3IFdlYWtNYXA7bGV0IHk9ITE7dHJ5e3k9dHlwZW9mIE9mZnNjcmVlbkNhbnZhczwidSImJm5ldyBPZmZzY3JlZW5DYW52YXMoMSwxKS5nZXRDb250ZXh0KCIyZCIpIT09bnVsbH1jYXRjaHt9ZnVuY3Rpb24gbShiLHYpe3JldHVybiB5P25ldyBPZmZzY3JlZW5DYW52YXMoYix2KTpjcmVhdGVFbGVtZW50TlMoImNhbnZhcyIpfWZ1bmN0aW9uIHAoYix2LE8scSl7bGV0IGVlPTE7aWYoKGIud2lkdGg+cXx8Yi5oZWlnaHQ+cSkmJihlZT1xL01hdGgubWF4KGIud2lkdGgsYi5oZWlnaHQpKSxlZTwxfHx2PT09ITApaWYodHlwZW9mIEhUTUxJbWFnZUVsZW1lbnQ8InUiJiZiIGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudHx8dHlwZW9mIEhUTUxDYW52YXNFbGVtZW50PCJ1IiYmYiBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50fHx0eXBlb2YgSW1hZ2VCaXRtYXA8InUiJiZiIGluc3RhbmNlb2YgSW1hZ2VCaXRtYXApe2NvbnN0IHNlPXY/Zmxvb3JQb3dlck9mVHdvOk1hdGguZmxvb3IscGU9c2UoZWUqYi53aWR0aCksaz1zZShlZSpiLmhlaWdodCk7Zz09PXZvaWQgMCYmKGc9bShwZSxrKSk7Y29uc3QgeGU9Tz9tKHBlLGspOmc7cmV0dXJuIHhlLndpZHRoPXBlLHhlLmhlaWdodD1rLHhlLmdldENvbnRleHQoIjJkIikuZHJhd0ltYWdlKGIsMCwwLHBlLGspLGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogVGV4dHVyZSBoYXMgYmVlbiByZXNpemVkIGZyb20gKCIrYi53aWR0aCsieCIrYi5oZWlnaHQrIikgdG8gKCIrcGUrIngiK2srIikuIikseGV9ZWxzZSByZXR1cm4iZGF0YSJpbiBiJiZjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IEltYWdlIGluIERhdGFUZXh0dXJlIGlzIHRvbyBiaWcgKCIrYi53aWR0aCsieCIrYi5oZWlnaHQrIikuIiksYjtyZXR1cm4gYn1mdW5jdGlvbiBUKGIpe3JldHVybiBpc1Bvd2VyT2ZUd28oYi53aWR0aCkmJmlzUG93ZXJPZlR3byhiLmhlaWdodCl9ZnVuY3Rpb24gdyhiKXtyZXR1cm4gbz8hMTpiLndyYXBTIT09MTAwMXx8Yi53cmFwVCE9PTEwMDF8fGIubWluRmlsdGVyIT09MTAwMyYmYi5taW5GaWx0ZXIhPT0xMDA2fWZ1bmN0aW9uIFMoYix2KXtyZXR1cm4gYi5nZW5lcmF0ZU1pcG1hcHMmJnYmJmIubWluRmlsdGVyIT09MTAwMyYmYi5taW5GaWx0ZXIhPT0xMDA2fWZ1bmN0aW9uIFIoYil7cy5nZW5lcmF0ZU1pcG1hcChiKX1mdW5jdGlvbiBEKGIsdixPLHEsZWU9ITEpe2lmKG89PT0hMSlyZXR1cm4gdjtpZihiIT09bnVsbCl7aWYoc1tiXSE9PXZvaWQgMClyZXR1cm4gc1tiXTtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IEF0dGVtcHQgdG8gdXNlIG5vbi1leGlzdGluZyBXZWJHTCBpbnRlcm5hbCBmb3JtYXQgJyIrYisiJyIpfWxldCBzZT12O3JldHVybiB2PT09NjQwMyYmKE89PT01MTI2JiYoc2U9MzMzMjYpLE89PT01MTMxJiYoc2U9MzMzMjUpLE89PT01MTIxJiYoc2U9MzMzMjEpKSx2PT09MzMzMTkmJihPPT09NTEyNiYmKHNlPTMzMzI4KSxPPT09NTEzMSYmKHNlPTMzMzI3KSxPPT09NTEyMSYmKHNlPTMzMzIzKSksdj09PTY0MDgmJihPPT09NTEyNiYmKHNlPTM0ODM2KSxPPT09NTEzMSYmKHNlPTM0ODQyKSxPPT09NTEyMSYmKHNlPXE9PT0zMDAxJiZlZT09PSExPzM1OTA3OjMyODU2KSxPPT09MzI4MTkmJihzZT0zMjg1NCksTz09PTMyODIwJiYoc2U9MzI4NTUpKSwoc2U9PT0zMzMyNXx8c2U9PT0zMzMyNnx8c2U9PT0zMzMyN3x8c2U9PT0zMzMyOHx8c2U9PT0zNDg0Mnx8c2U9PT0zNDgzNikmJmUuZ2V0KCJFWFRfY29sb3JfYnVmZmVyX2Zsb2F0Iiksc2V9ZnVuY3Rpb24gWChiLHYsTyl7cmV0dXJuIFMoYixPKT09PSEwfHxiLmlzRnJhbWVidWZmZXJUZXh0dXJlJiZiLm1pbkZpbHRlciE9PTEwMDMmJmIubWluRmlsdGVyIT09MTAwNj9NYXRoLmxvZzIoTWF0aC5tYXgodi53aWR0aCx2LmhlaWdodCkpKzE6Yi5taXBtYXBzIT09dm9pZCAwJiZiLm1pcG1hcHMubGVuZ3RoPjA/Yi5taXBtYXBzLmxlbmd0aDpiLmlzQ29tcHJlc3NlZFRleHR1cmUmJkFycmF5LmlzQXJyYXkoYi5pbWFnZSk/di5taXBtYXBzLmxlbmd0aDoxfWZ1bmN0aW9uIGllKGIpe3JldHVybiBiPT09MTAwM3x8Yj09PTEwMDR8fGI9PT0xMDA1Pzk3Mjg6OTcyOX1mdW5jdGlvbiB6KGIpe2NvbnN0IHY9Yi50YXJnZXQ7di5yZW1vdmVFdmVudExpc3RlbmVyKCJkaXNwb3NlIix6KSxBKHYpLHYuaXNWaWRlb1RleHR1cmUmJmYuZGVsZXRlKHYpfWZ1bmN0aW9uIHgoYil7Y29uc3Qgdj1iLnRhcmdldDt2LnJlbW92ZUV2ZW50TGlzdGVuZXIoImRpc3Bvc2UiLHgpLEIodil9ZnVuY3Rpb24gQShiKXtjb25zdCB2PW4uZ2V0KGIpO2lmKHYuX193ZWJnbEluaXQ9PT12b2lkIDApcmV0dXJuO2NvbnN0IE89Yi5zb3VyY2UscT1fLmdldChPKTtpZihxKXtjb25zdCBlZT1xW3YuX19jYWNoZUtleV07ZWUudXNlZFRpbWVzLS0sZWUudXNlZFRpbWVzPT09MCYmUChiKSxPYmplY3Qua2V5cyhxKS5sZW5ndGg9PT0wJiZfLmRlbGV0ZShPKX1uLnJlbW92ZShiKX1mdW5jdGlvbiBQKGIpe2NvbnN0IHY9bi5nZXQoYik7cy5kZWxldGVUZXh0dXJlKHYuX193ZWJnbFRleHR1cmUpO2NvbnN0IE89Yi5zb3VyY2UscT1fLmdldChPKTtkZWxldGUgcVt2Ll9fY2FjaGVLZXldLGEubWVtb3J5LnRleHR1cmVzLS19ZnVuY3Rpb24gQihiKXtjb25zdCB2PWIudGV4dHVyZSxPPW4uZ2V0KGIpLHE9bi5nZXQodik7aWYocS5fX3dlYmdsVGV4dHVyZSE9PXZvaWQgMCYmKHMuZGVsZXRlVGV4dHVyZShxLl9fd2ViZ2xUZXh0dXJlKSxhLm1lbW9yeS50ZXh0dXJlcy0tKSxiLmRlcHRoVGV4dHVyZSYmYi5kZXB0aFRleHR1cmUuZGlzcG9zZSgpLGIuaXNXZWJHTEN1YmVSZW5kZXJUYXJnZXQpZm9yKGxldCBlZT0wO2VlPDY7ZWUrKylzLmRlbGV0ZUZyYW1lYnVmZmVyKE8uX193ZWJnbEZyYW1lYnVmZmVyW2VlXSksTy5fX3dlYmdsRGVwdGhidWZmZXImJnMuZGVsZXRlUmVuZGVyYnVmZmVyKE8uX193ZWJnbERlcHRoYnVmZmVyW2VlXSk7ZWxzZSBzLmRlbGV0ZUZyYW1lYnVmZmVyKE8uX193ZWJnbEZyYW1lYnVmZmVyKSxPLl9fd2ViZ2xEZXB0aGJ1ZmZlciYmcy5kZWxldGVSZW5kZXJidWZmZXIoTy5fX3dlYmdsRGVwdGhidWZmZXIpLE8uX193ZWJnbE11bHRpc2FtcGxlZEZyYW1lYnVmZmVyJiZzLmRlbGV0ZUZyYW1lYnVmZmVyKE8uX193ZWJnbE11bHRpc2FtcGxlZEZyYW1lYnVmZmVyKSxPLl9fd2ViZ2xDb2xvclJlbmRlcmJ1ZmZlciYmcy5kZWxldGVSZW5kZXJidWZmZXIoTy5fX3dlYmdsQ29sb3JSZW5kZXJidWZmZXIpLE8uX193ZWJnbERlcHRoUmVuZGVyYnVmZmVyJiZzLmRlbGV0ZVJlbmRlcmJ1ZmZlcihPLl9fd2ViZ2xEZXB0aFJlbmRlcmJ1ZmZlcik7aWYoYi5pc1dlYkdMTXVsdGlwbGVSZW5kZXJUYXJnZXRzKWZvcihsZXQgZWU9MCxzZT12Lmxlbmd0aDtlZTxzZTtlZSsrKXtjb25zdCBwZT1uLmdldCh2W2VlXSk7cGUuX193ZWJnbFRleHR1cmUmJihzLmRlbGV0ZVRleHR1cmUocGUuX193ZWJnbFRleHR1cmUpLGEubWVtb3J5LnRleHR1cmVzLS0pLG4ucmVtb3ZlKHZbZWVdKX1uLnJlbW92ZSh2KSxuLnJlbW92ZShiKX1sZXQgVT0wO2Z1bmN0aW9uIEYoKXtVPTB9ZnVuY3Rpb24gRygpe2NvbnN0IGI9VTtyZXR1cm4gYj49bCYmY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFRleHR1cmVzOiBUcnlpbmcgdG8gdXNlICIrYisiIHRleHR1cmUgdW5pdHMgd2hpbGUgdGhpcyBHUFUgc3VwcG9ydHMgb25seSAiK2wpLFUrPTEsYn1mdW5jdGlvbiBMKGIpe2NvbnN0IHY9W107cmV0dXJuIHYucHVzaChiLndyYXBTKSx2LnB1c2goYi53cmFwVCksdi5wdXNoKGIubWFnRmlsdGVyKSx2LnB1c2goYi5taW5GaWx0ZXIpLHYucHVzaChiLmFuaXNvdHJvcHkpLHYucHVzaChiLmludGVybmFsRm9ybWF0KSx2LnB1c2goYi5mb3JtYXQpLHYucHVzaChiLnR5cGUpLHYucHVzaChiLmdlbmVyYXRlTWlwbWFwcyksdi5wdXNoKGIucHJlbXVsdGlwbHlBbHBoYSksdi5wdXNoKGIuZmxpcFkpLHYucHVzaChiLnVucGFja0FsaWdubWVudCksdi5wdXNoKGIuZW5jb2RpbmcpLHYuam9pbigpfWZ1bmN0aW9uIFcoYix2KXtjb25zdCBPPW4uZ2V0KGIpO2lmKGIuaXNWaWRlb1RleHR1cmUmJndlKGIpLGIuaXNSZW5kZXJUYXJnZXRUZXh0dXJlPT09ITEmJmIudmVyc2lvbj4wJiZPLl9fdmVyc2lvbiE9PWIudmVyc2lvbil7Y29uc3QgcT1iLmltYWdlO2lmKHE9PT1udWxsKWNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogVGV4dHVyZSBtYXJrZWQgZm9yIHVwZGF0ZSBidXQgbm8gaW1hZ2UgZGF0YSBmb3VuZC4iKTtlbHNlIGlmKHEuY29tcGxldGU9PT0hMSljb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IFRleHR1cmUgbWFya2VkIGZvciB1cGRhdGUgYnV0IGltYWdlIGlzIGluY29tcGxldGUiKTtlbHNle0RlKE8sYix2KTtyZXR1cm59fXQuYWN0aXZlVGV4dHVyZSgzMzk4NCt2KSx0LmJpbmRUZXh0dXJlKDM1NTMsTy5fX3dlYmdsVGV4dHVyZSl9ZnVuY3Rpb24gWihiLHYpe2NvbnN0IE89bi5nZXQoYik7aWYoYi52ZXJzaW9uPjAmJk8uX192ZXJzaW9uIT09Yi52ZXJzaW9uKXtEZShPLGIsdik7cmV0dXJufXQuYWN0aXZlVGV4dHVyZSgzMzk4NCt2KSx0LmJpbmRUZXh0dXJlKDM1ODY2LE8uX193ZWJnbFRleHR1cmUpfWZ1bmN0aW9uIFkoYix2KXtjb25zdCBPPW4uZ2V0KGIpO2lmKGIudmVyc2lvbj4wJiZPLl9fdmVyc2lvbiE9PWIudmVyc2lvbil7RGUoTyxiLHYpO3JldHVybn10LmFjdGl2ZVRleHR1cmUoMzM5ODQrdiksdC5iaW5kVGV4dHVyZSgzMjg3OSxPLl9fd2ViZ2xUZXh0dXJlKX1mdW5jdGlvbiBKKGIsdil7Y29uc3QgTz1uLmdldChiKTtpZihiLnZlcnNpb24+MCYmTy5fX3ZlcnNpb24hPT1iLnZlcnNpb24pe1NlKE8sYix2KTtyZXR1cm59dC5hY3RpdmVUZXh0dXJlKDMzOTg0K3YpLHQuYmluZFRleHR1cmUoMzQwNjcsTy5fX3dlYmdsVGV4dHVyZSl9Y29uc3QgZmU9e1sxZTNdOjEwNDk3LFsxMDAxXTozMzA3MSxbMTAwMl06MzM2NDh9LFBlPXtbMTAwM106OTcyOCxbMTAwNF06OTk4NCxbMTAwNV06OTk4NixbMTAwNl06OTcyOSxbMTAwN106OTk4NSxbMTAwOF06OTk4N307ZnVuY3Rpb24gbWUoYix2LE8pe2lmKE8/KHMudGV4UGFyYW1ldGVyaShiLDEwMjQyLGZlW3Yud3JhcFNdKSxzLnRleFBhcmFtZXRlcmkoYiwxMDI0MyxmZVt2LndyYXBUXSksKGI9PT0zMjg3OXx8Yj09PTM1ODY2KSYmcy50ZXhQYXJhbWV0ZXJpKGIsMzI4ODIsZmVbdi53cmFwUl0pLHMudGV4UGFyYW1ldGVyaShiLDEwMjQwLFBlW3YubWFnRmlsdGVyXSkscy50ZXhQYXJhbWV0ZXJpKGIsMTAyNDEsUGVbdi5taW5GaWx0ZXJdKSk6KHMudGV4UGFyYW1ldGVyaShiLDEwMjQyLDMzMDcxKSxzLnRleFBhcmFtZXRlcmkoYiwxMDI0MywzMzA3MSksKGI9PT0zMjg3OXx8Yj09PTM1ODY2KSYmcy50ZXhQYXJhbWV0ZXJpKGIsMzI4ODIsMzMwNzEpLCh2LndyYXBTIT09MTAwMXx8di53cmFwVCE9PTEwMDEpJiZjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IFRleHR1cmUgaXMgbm90IHBvd2VyIG9mIHR3by4gVGV4dHVyZS53cmFwUyBhbmQgVGV4dHVyZS53cmFwVCBzaG91bGQgYmUgc2V0IHRvIFRIUkVFLkNsYW1wVG9FZGdlV3JhcHBpbmcuIikscy50ZXhQYXJhbWV0ZXJpKGIsMTAyNDAsaWUodi5tYWdGaWx0ZXIpKSxzLnRleFBhcmFtZXRlcmkoYiwxMDI0MSxpZSh2Lm1pbkZpbHRlcikpLHYubWluRmlsdGVyIT09MTAwMyYmdi5taW5GaWx0ZXIhPT0xMDA2JiZjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IFRleHR1cmUgaXMgbm90IHBvd2VyIG9mIHR3by4gVGV4dHVyZS5taW5GaWx0ZXIgc2hvdWxkIGJlIHNldCB0byBUSFJFRS5OZWFyZXN0RmlsdGVyIG9yIFRIUkVFLkxpbmVhckZpbHRlci4iKSksZS5oYXMoIkVYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYyIpPT09ITApe2NvbnN0IHE9ZS5nZXQoIkVYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYyIpO2lmKHYudHlwZT09PTEwMTUmJmUuaGFzKCJPRVNfdGV4dHVyZV9mbG9hdF9saW5lYXIiKT09PSExfHxvPT09ITEmJnYudHlwZT09PTEwMTYmJmUuaGFzKCJPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0X2xpbmVhciIpPT09ITEpcmV0dXJuOyh2LmFuaXNvdHJvcHk+MXx8bi5nZXQodikuX19jdXJyZW50QW5pc290cm9weSkmJihzLnRleFBhcmFtZXRlcmYoYixxLlRFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhULE1hdGgubWluKHYuYW5pc290cm9weSxpLmdldE1heEFuaXNvdHJvcHkoKSkpLG4uZ2V0KHYpLl9fY3VycmVudEFuaXNvdHJvcHk9di5hbmlzb3Ryb3B5KX19ZnVuY3Rpb24gJChiLHYpe2xldCBPPSExO2IuX193ZWJnbEluaXQ9PT12b2lkIDAmJihiLl9fd2ViZ2xJbml0PSEwLHYuYWRkRXZlbnRMaXN0ZW5lcigiZGlzcG9zZSIseikpO2NvbnN0IHE9di5zb3VyY2U7bGV0IGVlPV8uZ2V0KHEpO2VlPT09dm9pZCAwJiYoZWU9e30sXy5zZXQocSxlZSkpO2NvbnN0IHNlPUwodik7aWYoc2UhPT1iLl9fY2FjaGVLZXkpe2VlW3NlXT09PXZvaWQgMCYmKGVlW3NlXT17dGV4dHVyZTpzLmNyZWF0ZVRleHR1cmUoKSx1c2VkVGltZXM6MH0sYS5tZW1vcnkudGV4dHVyZXMrKyxPPSEwKSxlZVtzZV0udXNlZFRpbWVzKys7Y29uc3QgcGU9ZWVbYi5fX2NhY2hlS2V5XTtwZSE9PXZvaWQgMCYmKGVlW2IuX19jYWNoZUtleV0udXNlZFRpbWVzLS0scGUudXNlZFRpbWVzPT09MCYmUCh2KSksYi5fX2NhY2hlS2V5PXNlLGIuX193ZWJnbFRleHR1cmU9ZWVbc2VdLnRleHR1cmV9cmV0dXJuIE99ZnVuY3Rpb24gRGUoYix2LE8pe2xldCBxPTM1NTM7di5pc0RhdGFBcnJheVRleHR1cmUmJihxPTM1ODY2KSx2LmlzRGF0YTNEVGV4dHVyZSYmKHE9MzI4NzkpO2NvbnN0IGVlPSQoYix2KSxzZT12LnNvdXJjZTtpZih0LmFjdGl2ZVRleHR1cmUoMzM5ODQrTyksdC5iaW5kVGV4dHVyZShxLGIuX193ZWJnbFRleHR1cmUpLHNlLnZlcnNpb24hPT1zZS5fX2N1cnJlbnRWZXJzaW9ufHxlZT09PSEwKXtzLnBpeGVsU3RvcmVpKDM3NDQwLHYuZmxpcFkpLHMucGl4ZWxTdG9yZWkoMzc0NDEsdi5wcmVtdWx0aXBseUFscGhhKSxzLnBpeGVsU3RvcmVpKDMzMTcsdi51bnBhY2tBbGlnbm1lbnQpLHMucGl4ZWxTdG9yZWkoMzc0NDMsMCk7Y29uc3QgcGU9dyh2KSYmVCh2LmltYWdlKT09PSExO2xldCBrPXAodi5pbWFnZSxwZSwhMSxoKTtrPVZlKHYsayk7Y29uc3QgeGU9VChrKXx8byx2ZT1yLmNvbnZlcnQodi5mb3JtYXQsdi5lbmNvZGluZyk7bGV0IGRlPXIuY29udmVydCh2LnR5cGUpLGhlPUQodi5pbnRlcm5hbEZvcm1hdCx2ZSxkZSx2LmVuY29kaW5nLHYuaXNWaWRlb1RleHR1cmUpO21lKHEsdix4ZSk7bGV0IEU7Y29uc3QgYWU9di5taXBtYXBzLG5lPW8mJnYuaXNWaWRlb1RleHR1cmUhPT0hMCxNZT1iLl9fdmVyc2lvbj09PXZvaWQgMCxyZT1YKHYsayx4ZSk7aWYodi5pc0RlcHRoVGV4dHVyZSloZT02NDAyLG8/di50eXBlPT09MTAxNT9oZT0zNjAxMjp2LnR5cGU9PT0xMDE0P2hlPTMzMTkwOnYudHlwZT09PTEwMjA/aGU9MzUwNTY6aGU9MzMxODk6di50eXBlPT09MTAxNSYmY29uc29sZS5lcnJvcigiV2ViR0xSZW5kZXJlcjogRmxvYXRpbmcgcG9pbnQgZGVwdGggdGV4dHVyZSByZXF1aXJlcyBXZWJHTDIuIiksdi5mb3JtYXQ9PT0xMDI2JiZoZT09PTY0MDImJnYudHlwZSE9PTEwMTImJnYudHlwZSE9PTEwMTQmJihjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IFVzZSBVbnNpZ25lZFNob3J0VHlwZSBvciBVbnNpZ25lZEludFR5cGUgZm9yIERlcHRoRm9ybWF0IERlcHRoVGV4dHVyZS4iKSx2LnR5cGU9MTAxMixkZT1yLmNvbnZlcnQodi50eXBlKSksdi5mb3JtYXQ9PT0xMDI3JiZoZT09PTY0MDImJihoZT0zNDA0MSx2LnR5cGUhPT0xMDIwJiYoY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiBVc2UgVW5zaWduZWRJbnQyNDhUeXBlIGZvciBEZXB0aFN0ZW5jaWxGb3JtYXQgRGVwdGhUZXh0dXJlLiIpLHYudHlwZT0xMDIwLGRlPXIuY29udmVydCh2LnR5cGUpKSksbmUmJk1lP3QudGV4U3RvcmFnZTJEKDM1NTMsMSxoZSxrLndpZHRoLGsuaGVpZ2h0KTp0LnRleEltYWdlMkQoMzU1MywwLGhlLGsud2lkdGgsay5oZWlnaHQsMCx2ZSxkZSxudWxsKTtlbHNlIGlmKHYuaXNEYXRhVGV4dHVyZSlpZihhZS5sZW5ndGg+MCYmeGUpe25lJiZNZSYmdC50ZXhTdG9yYWdlMkQoMzU1MyxyZSxoZSxhZVswXS53aWR0aCxhZVswXS5oZWlnaHQpO2ZvcihsZXQgSz0wLHllPWFlLmxlbmd0aDtLPHllO0srKylFPWFlW0tdLG5lP3QudGV4U3ViSW1hZ2UyRCgzNTUzLEssMCwwLEUud2lkdGgsRS5oZWlnaHQsdmUsZGUsRS5kYXRhKTp0LnRleEltYWdlMkQoMzU1MyxLLGhlLEUud2lkdGgsRS5oZWlnaHQsMCx2ZSxkZSxFLmRhdGEpO3YuZ2VuZXJhdGVNaXBtYXBzPSExfWVsc2UgbmU/KE1lJiZ0LnRleFN0b3JhZ2UyRCgzNTUzLHJlLGhlLGsud2lkdGgsay5oZWlnaHQpLHQudGV4U3ViSW1hZ2UyRCgzNTUzLDAsMCwwLGsud2lkdGgsay5oZWlnaHQsdmUsZGUsay5kYXRhKSk6dC50ZXhJbWFnZTJEKDM1NTMsMCxoZSxrLndpZHRoLGsuaGVpZ2h0LDAsdmUsZGUsay5kYXRhKTtlbHNlIGlmKHYuaXNDb21wcmVzc2VkVGV4dHVyZSl7bmUmJk1lJiZ0LnRleFN0b3JhZ2UyRCgzNTUzLHJlLGhlLGFlWzBdLndpZHRoLGFlWzBdLmhlaWdodCk7Zm9yKGxldCBLPTAseWU9YWUubGVuZ3RoO0s8eWU7SysrKUU9YWVbS10sdi5mb3JtYXQhPT0xMDIzP3ZlIT09bnVsbD9uZT90LmNvbXByZXNzZWRUZXhTdWJJbWFnZTJEKDM1NTMsSywwLDAsRS53aWR0aCxFLmhlaWdodCx2ZSxFLmRhdGEpOnQuY29tcHJlc3NlZFRleEltYWdlMkQoMzU1MyxLLGhlLEUud2lkdGgsRS5oZWlnaHQsMCxFLmRhdGEpOmNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogQXR0ZW1wdCB0byBsb2FkIHVuc3VwcG9ydGVkIGNvbXByZXNzZWQgdGV4dHVyZSBmb3JtYXQgaW4gLnVwbG9hZFRleHR1cmUoKSIpOm5lP3QudGV4U3ViSW1hZ2UyRCgzNTUzLEssMCwwLEUud2lkdGgsRS5oZWlnaHQsdmUsZGUsRS5kYXRhKTp0LnRleEltYWdlMkQoMzU1MyxLLGhlLEUud2lkdGgsRS5oZWlnaHQsMCx2ZSxkZSxFLmRhdGEpfWVsc2UgaWYodi5pc0RhdGFBcnJheVRleHR1cmUpbmU/KE1lJiZ0LnRleFN0b3JhZ2UzRCgzNTg2NixyZSxoZSxrLndpZHRoLGsuaGVpZ2h0LGsuZGVwdGgpLHQudGV4U3ViSW1hZ2UzRCgzNTg2NiwwLDAsMCwwLGsud2lkdGgsay5oZWlnaHQsay5kZXB0aCx2ZSxkZSxrLmRhdGEpKTp0LnRleEltYWdlM0QoMzU4NjYsMCxoZSxrLndpZHRoLGsuaGVpZ2h0LGsuZGVwdGgsMCx2ZSxkZSxrLmRhdGEpO2Vsc2UgaWYodi5pc0RhdGEzRFRleHR1cmUpbmU/KE1lJiZ0LnRleFN0b3JhZ2UzRCgzMjg3OSxyZSxoZSxrLndpZHRoLGsuaGVpZ2h0LGsuZGVwdGgpLHQudGV4U3ViSW1hZ2UzRCgzMjg3OSwwLDAsMCwwLGsud2lkdGgsay5oZWlnaHQsay5kZXB0aCx2ZSxkZSxrLmRhdGEpKTp0LnRleEltYWdlM0QoMzI4NzksMCxoZSxrLndpZHRoLGsuaGVpZ2h0LGsuZGVwdGgsMCx2ZSxkZSxrLmRhdGEpO2Vsc2UgaWYodi5pc0ZyYW1lYnVmZmVyVGV4dHVyZSluZSYmTWU/dC50ZXhTdG9yYWdlMkQoMzU1MyxyZSxoZSxrLndpZHRoLGsuaGVpZ2h0KTp0LnRleEltYWdlMkQoMzU1MywwLGhlLGsud2lkdGgsay5oZWlnaHQsMCx2ZSxkZSxudWxsKTtlbHNlIGlmKGFlLmxlbmd0aD4wJiZ4ZSl7bmUmJk1lJiZ0LnRleFN0b3JhZ2UyRCgzNTUzLHJlLGhlLGFlWzBdLndpZHRoLGFlWzBdLmhlaWdodCk7Zm9yKGxldCBLPTAseWU9YWUubGVuZ3RoO0s8eWU7SysrKUU9YWVbS10sbmU/dC50ZXhTdWJJbWFnZTJEKDM1NTMsSywwLDAsdmUsZGUsRSk6dC50ZXhJbWFnZTJEKDM1NTMsSyxoZSx2ZSxkZSxFKTt2LmdlbmVyYXRlTWlwbWFwcz0hMX1lbHNlIG5lPyhNZSYmdC50ZXhTdG9yYWdlMkQoMzU1MyxyZSxoZSxrLndpZHRoLGsuaGVpZ2h0KSx0LnRleFN1YkltYWdlMkQoMzU1MywwLDAsMCx2ZSxkZSxrKSk6dC50ZXhJbWFnZTJEKDM1NTMsMCxoZSx2ZSxkZSxrKTtTKHYseGUpJiZSKHEpLHNlLl9fY3VycmVudFZlcnNpb249c2UudmVyc2lvbix2Lm9uVXBkYXRlJiZ2Lm9uVXBkYXRlKHYpfWIuX192ZXJzaW9uPXYudmVyc2lvbn1mdW5jdGlvbiBTZShiLHYsTyl7aWYodi5pbWFnZS5sZW5ndGghPT02KXJldHVybjtjb25zdCBxPSQoYix2KSxlZT12LnNvdXJjZTtpZih0LmFjdGl2ZVRleHR1cmUoMzM5ODQrTyksdC5iaW5kVGV4dHVyZSgzNDA2NyxiLl9fd2ViZ2xUZXh0dXJlKSxlZS52ZXJzaW9uIT09ZWUuX19jdXJyZW50VmVyc2lvbnx8cT09PSEwKXtzLnBpeGVsU3RvcmVpKDM3NDQwLHYuZmxpcFkpLHMucGl4ZWxTdG9yZWkoMzc0NDEsdi5wcmVtdWx0aXBseUFscGhhKSxzLnBpeGVsU3RvcmVpKDMzMTcsdi51bnBhY2tBbGlnbm1lbnQpLHMucGl4ZWxTdG9yZWkoMzc0NDMsMCk7Y29uc3Qgc2U9di5pc0NvbXByZXNzZWRUZXh0dXJlfHx2LmltYWdlWzBdLmlzQ29tcHJlc3NlZFRleHR1cmUscGU9di5pbWFnZVswXSYmdi5pbWFnZVswXS5pc0RhdGFUZXh0dXJlLGs9W107Zm9yKGxldCBLPTA7Szw2O0srKykhc2UmJiFwZT9rW0tdPXAodi5pbWFnZVtLXSwhMSwhMCxjKTprW0tdPXBlP3YuaW1hZ2VbS10uaW1hZ2U6di5pbWFnZVtLXSxrW0tdPVZlKHYsa1tLXSk7Y29uc3QgeGU9a1swXSx2ZT1UKHhlKXx8byxkZT1yLmNvbnZlcnQodi5mb3JtYXQsdi5lbmNvZGluZyksaGU9ci5jb252ZXJ0KHYudHlwZSksRT1EKHYuaW50ZXJuYWxGb3JtYXQsZGUsaGUsdi5lbmNvZGluZyksYWU9byYmdi5pc1ZpZGVvVGV4dHVyZSE9PSEwLG5lPWIuX192ZXJzaW9uPT09dm9pZCAwO2xldCBNZT1YKHYseGUsdmUpO21lKDM0MDY3LHYsdmUpO2xldCByZTtpZihzZSl7YWUmJm5lJiZ0LnRleFN0b3JhZ2UyRCgzNDA2NyxNZSxFLHhlLndpZHRoLHhlLmhlaWdodCk7Zm9yKGxldCBLPTA7Szw2O0srKyl7cmU9a1tLXS5taXBtYXBzO2ZvcihsZXQgeWU9MDt5ZTxyZS5sZW5ndGg7eWUrKyl7Y29uc3QgQ2U9cmVbeWVdO3YuZm9ybWF0IT09MTAyMz9kZSE9PW51bGw/YWU/dC5jb21wcmVzc2VkVGV4U3ViSW1hZ2UyRCgzNDA2OStLLHllLDAsMCxDZS53aWR0aCxDZS5oZWlnaHQsZGUsQ2UuZGF0YSk6dC5jb21wcmVzc2VkVGV4SW1hZ2UyRCgzNDA2OStLLHllLEUsQ2Uud2lkdGgsQ2UuaGVpZ2h0LDAsQ2UuZGF0YSk6Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiBBdHRlbXB0IHRvIGxvYWQgdW5zdXBwb3J0ZWQgY29tcHJlc3NlZCB0ZXh0dXJlIGZvcm1hdCBpbiAuc2V0VGV4dHVyZUN1YmUoKSIpOmFlP3QudGV4U3ViSW1hZ2UyRCgzNDA2OStLLHllLDAsMCxDZS53aWR0aCxDZS5oZWlnaHQsZGUsaGUsQ2UuZGF0YSk6dC50ZXhJbWFnZTJEKDM0MDY5K0sseWUsRSxDZS53aWR0aCxDZS5oZWlnaHQsMCxkZSxoZSxDZS5kYXRhKX19fWVsc2V7cmU9di5taXBtYXBzLGFlJiZuZSYmKHJlLmxlbmd0aD4wJiZNZSsrLHQudGV4U3RvcmFnZTJEKDM0MDY3LE1lLEUsa1swXS53aWR0aCxrWzBdLmhlaWdodCkpO2ZvcihsZXQgSz0wO0s8NjtLKyspaWYocGUpe2FlP3QudGV4U3ViSW1hZ2UyRCgzNDA2OStLLDAsMCwwLGtbS10ud2lkdGgsa1tLXS5oZWlnaHQsZGUsaGUsa1tLXS5kYXRhKTp0LnRleEltYWdlMkQoMzQwNjkrSywwLEUsa1tLXS53aWR0aCxrW0tdLmhlaWdodCwwLGRlLGhlLGtbS10uZGF0YSk7Zm9yKGxldCB5ZT0wO3llPHJlLmxlbmd0aDt5ZSsrKXtjb25zdCB6ZT1yZVt5ZV0uaW1hZ2VbS10uaW1hZ2U7YWU/dC50ZXhTdWJJbWFnZTJEKDM0MDY5K0sseWUrMSwwLDAsemUud2lkdGgsemUuaGVpZ2h0LGRlLGhlLHplLmRhdGEpOnQudGV4SW1hZ2UyRCgzNDA2OStLLHllKzEsRSx6ZS53aWR0aCx6ZS5oZWlnaHQsMCxkZSxoZSx6ZS5kYXRhKX19ZWxzZXthZT90LnRleFN1YkltYWdlMkQoMzQwNjkrSywwLDAsMCxkZSxoZSxrW0tdKTp0LnRleEltYWdlMkQoMzQwNjkrSywwLEUsZGUsaGUsa1tLXSk7Zm9yKGxldCB5ZT0wO3llPHJlLmxlbmd0aDt5ZSsrKXtjb25zdCBDZT1yZVt5ZV07YWU/dC50ZXhTdWJJbWFnZTJEKDM0MDY5K0sseWUrMSwwLDAsZGUsaGUsQ2UuaW1hZ2VbS10pOnQudGV4SW1hZ2UyRCgzNDA2OStLLHllKzEsRSxkZSxoZSxDZS5pbWFnZVtLXSl9fX1TKHYsdmUpJiZSKDM0MDY3KSxlZS5fX2N1cnJlbnRWZXJzaW9uPWVlLnZlcnNpb24sdi5vblVwZGF0ZSYmdi5vblVwZGF0ZSh2KX1iLl9fdmVyc2lvbj12LnZlcnNpb259ZnVuY3Rpb24gbGUoYix2LE8scSxlZSl7Y29uc3Qgc2U9ci5jb252ZXJ0KE8uZm9ybWF0LE8uZW5jb2RpbmcpLHBlPXIuY29udmVydChPLnR5cGUpLGs9RChPLmludGVybmFsRm9ybWF0LHNlLHBlLE8uZW5jb2RpbmcpO24uZ2V0KHYpLl9faGFzRXh0ZXJuYWxUZXh0dXJlc3x8KGVlPT09MzI4Nzl8fGVlPT09MzU4NjY/dC50ZXhJbWFnZTNEKGVlLDAsayx2LndpZHRoLHYuaGVpZ2h0LHYuZGVwdGgsMCxzZSxwZSxudWxsKTp0LnRleEltYWdlMkQoZWUsMCxrLHYud2lkdGgsdi5oZWlnaHQsMCxzZSxwZSxudWxsKSksdC5iaW5kRnJhbWVidWZmZXIoMzYxNjAsYiksdWUodik/ZC5mcmFtZWJ1ZmZlclRleHR1cmUyRE11bHRpc2FtcGxlRVhUKDM2MTYwLHEsZWUsbi5nZXQoTykuX193ZWJnbFRleHR1cmUsMCxnZSh2KSk6cy5mcmFtZWJ1ZmZlclRleHR1cmUyRCgzNjE2MCxxLGVlLG4uZ2V0KE8pLl9fd2ViZ2xUZXh0dXJlLDApLHQuYmluZEZyYW1lYnVmZmVyKDM2MTYwLG51bGwpfWZ1bmN0aW9uIGNlKGIsdixPKXtpZihzLmJpbmRSZW5kZXJidWZmZXIoMzYxNjEsYiksdi5kZXB0aEJ1ZmZlciYmIXYuc3RlbmNpbEJ1ZmZlcil7bGV0IHE9MzMxODk7aWYoT3x8dWUodikpe2NvbnN0IGVlPXYuZGVwdGhUZXh0dXJlO2VlJiZlZS5pc0RlcHRoVGV4dHVyZSYmKGVlLnR5cGU9PT0xMDE1P3E9MzYwMTI6ZWUudHlwZT09PTEwMTQmJihxPTMzMTkwKSk7Y29uc3Qgc2U9Z2Uodik7dWUodik/ZC5yZW5kZXJidWZmZXJTdG9yYWdlTXVsdGlzYW1wbGVFWFQoMzYxNjEsc2UscSx2LndpZHRoLHYuaGVpZ2h0KTpzLnJlbmRlcmJ1ZmZlclN0b3JhZ2VNdWx0aXNhbXBsZSgzNjE2MSxzZSxxLHYud2lkdGgsdi5oZWlnaHQpfWVsc2Ugcy5yZW5kZXJidWZmZXJTdG9yYWdlKDM2MTYxLHEsdi53aWR0aCx2LmhlaWdodCk7cy5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcigzNjE2MCwzNjA5NiwzNjE2MSxiKX1lbHNlIGlmKHYuZGVwdGhCdWZmZXImJnYuc3RlbmNpbEJ1ZmZlcil7Y29uc3QgcT1nZSh2KTtPJiZ1ZSh2KT09PSExP3MucmVuZGVyYnVmZmVyU3RvcmFnZU11bHRpc2FtcGxlKDM2MTYxLHEsMzUwNTYsdi53aWR0aCx2LmhlaWdodCk6dWUodik/ZC5yZW5kZXJidWZmZXJTdG9yYWdlTXVsdGlzYW1wbGVFWFQoMzYxNjEscSwzNTA1Nix2LndpZHRoLHYuaGVpZ2h0KTpzLnJlbmRlcmJ1ZmZlclN0b3JhZ2UoMzYxNjEsMzQwNDEsdi53aWR0aCx2LmhlaWdodCkscy5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcigzNjE2MCwzMzMwNiwzNjE2MSxiKX1lbHNle2NvbnN0IHE9di5pc1dlYkdMTXVsdGlwbGVSZW5kZXJUYXJnZXRzPT09ITA/di50ZXh0dXJlWzBdOnYudGV4dHVyZSxlZT1yLmNvbnZlcnQocS5mb3JtYXQscS5lbmNvZGluZyksc2U9ci5jb252ZXJ0KHEudHlwZSkscGU9RChxLmludGVybmFsRm9ybWF0LGVlLHNlLHEuZW5jb2RpbmcpLGs9Z2Uodik7TyYmdWUodik9PT0hMT9zLnJlbmRlcmJ1ZmZlclN0b3JhZ2VNdWx0aXNhbXBsZSgzNjE2MSxrLHBlLHYud2lkdGgsdi5oZWlnaHQpOnVlKHYpP2QucmVuZGVyYnVmZmVyU3RvcmFnZU11bHRpc2FtcGxlRVhUKDM2MTYxLGsscGUsdi53aWR0aCx2LmhlaWdodCk6cy5yZW5kZXJidWZmZXJTdG9yYWdlKDM2MTYxLHBlLHYud2lkdGgsdi5oZWlnaHQpfXMuYmluZFJlbmRlcmJ1ZmZlcigzNjE2MSxudWxsKX1mdW5jdGlvbiBBZShiLHYpe2lmKHYmJnYuaXNXZWJHTEN1YmVSZW5kZXJUYXJnZXQpdGhyb3cgbmV3IEVycm9yKCJEZXB0aCBUZXh0dXJlIHdpdGggY3ViZSByZW5kZXIgdGFyZ2V0cyBpcyBub3Qgc3VwcG9ydGVkIik7aWYodC5iaW5kRnJhbWVidWZmZXIoMzYxNjAsYiksISh2LmRlcHRoVGV4dHVyZSYmdi5kZXB0aFRleHR1cmUuaXNEZXB0aFRleHR1cmUpKXRocm93IG5ldyBFcnJvcigicmVuZGVyVGFyZ2V0LmRlcHRoVGV4dHVyZSBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIFRIUkVFLkRlcHRoVGV4dHVyZSIpOyghbi5nZXQodi5kZXB0aFRleHR1cmUpLl9fd2ViZ2xUZXh0dXJlfHx2LmRlcHRoVGV4dHVyZS5pbWFnZS53aWR0aCE9PXYud2lkdGh8fHYuZGVwdGhUZXh0dXJlLmltYWdlLmhlaWdodCE9PXYuaGVpZ2h0KSYmKHYuZGVwdGhUZXh0dXJlLmltYWdlLndpZHRoPXYud2lkdGgsdi5kZXB0aFRleHR1cmUuaW1hZ2UuaGVpZ2h0PXYuaGVpZ2h0LHYuZGVwdGhUZXh0dXJlLm5lZWRzVXBkYXRlPSEwKSxXKHYuZGVwdGhUZXh0dXJlLDApO2NvbnN0IHE9bi5nZXQodi5kZXB0aFRleHR1cmUpLl9fd2ViZ2xUZXh0dXJlLGVlPWdlKHYpO2lmKHYuZGVwdGhUZXh0dXJlLmZvcm1hdD09PTEwMjYpdWUodik/ZC5mcmFtZWJ1ZmZlclRleHR1cmUyRE11bHRpc2FtcGxlRVhUKDM2MTYwLDM2MDk2LDM1NTMscSwwLGVlKTpzLmZyYW1lYnVmZmVyVGV4dHVyZTJEKDM2MTYwLDM2MDk2LDM1NTMscSwwKTtlbHNlIGlmKHYuZGVwdGhUZXh0dXJlLmZvcm1hdD09PTEwMjcpdWUodik/ZC5mcmFtZWJ1ZmZlclRleHR1cmUyRE11bHRpc2FtcGxlRVhUKDM2MTYwLDMzMzA2LDM1NTMscSwwLGVlKTpzLmZyYW1lYnVmZmVyVGV4dHVyZTJEKDM2MTYwLDMzMzA2LDM1NTMscSwwKTtlbHNlIHRocm93IG5ldyBFcnJvcigiVW5rbm93biBkZXB0aFRleHR1cmUgZm9ybWF0Iil9ZnVuY3Rpb24gVihiKXtjb25zdCB2PW4uZ2V0KGIpLE89Yi5pc1dlYkdMQ3ViZVJlbmRlclRhcmdldD09PSEwO2lmKGIuZGVwdGhUZXh0dXJlJiYhdi5fX2F1dG9BbGxvY2F0ZURlcHRoQnVmZmVyKXtpZihPKXRocm93IG5ldyBFcnJvcigidGFyZ2V0LmRlcHRoVGV4dHVyZSBub3Qgc3VwcG9ydGVkIGluIEN1YmUgcmVuZGVyIHRhcmdldHMiKTtBZSh2Ll9fd2ViZ2xGcmFtZWJ1ZmZlcixiKX1lbHNlIGlmKE8pe3YuX193ZWJnbERlcHRoYnVmZmVyPVtdO2ZvcihsZXQgcT0wO3E8NjtxKyspdC5iaW5kRnJhbWVidWZmZXIoMzYxNjAsdi5fX3dlYmdsRnJhbWVidWZmZXJbcV0pLHYuX193ZWJnbERlcHRoYnVmZmVyW3FdPXMuY3JlYXRlUmVuZGVyYnVmZmVyKCksY2Uodi5fX3dlYmdsRGVwdGhidWZmZXJbcV0sYiwhMSl9ZWxzZSB0LmJpbmRGcmFtZWJ1ZmZlcigzNjE2MCx2Ll9fd2ViZ2xGcmFtZWJ1ZmZlciksdi5fX3dlYmdsRGVwdGhidWZmZXI9cy5jcmVhdGVSZW5kZXJidWZmZXIoKSxjZSh2Ll9fd2ViZ2xEZXB0aGJ1ZmZlcixiLCExKTt0LmJpbmRGcmFtZWJ1ZmZlcigzNjE2MCxudWxsKX1mdW5jdGlvbiBqKGIsdixPKXtjb25zdCBxPW4uZ2V0KGIpO3YhPT12b2lkIDAmJmxlKHEuX193ZWJnbEZyYW1lYnVmZmVyLGIsYi50ZXh0dXJlLDM2MDY0LDM1NTMpLE8hPT12b2lkIDAmJlYoYil9ZnVuY3Rpb24gUShiKXtjb25zdCB2PWIudGV4dHVyZSxPPW4uZ2V0KGIpLHE9bi5nZXQodik7Yi5hZGRFdmVudExpc3RlbmVyKCJkaXNwb3NlIix4KSxiLmlzV2ViR0xNdWx0aXBsZVJlbmRlclRhcmdldHMhPT0hMCYmKHEuX193ZWJnbFRleHR1cmU9PT12b2lkIDAmJihxLl9fd2ViZ2xUZXh0dXJlPXMuY3JlYXRlVGV4dHVyZSgpKSxxLl9fdmVyc2lvbj12LnZlcnNpb24sYS5tZW1vcnkudGV4dHVyZXMrKyk7Y29uc3QgZWU9Yi5pc1dlYkdMQ3ViZVJlbmRlclRhcmdldD09PSEwLHNlPWIuaXNXZWJHTE11bHRpcGxlUmVuZGVyVGFyZ2V0cz09PSEwLHBlPVQoYil8fG87aWYoZWUpe08uX193ZWJnbEZyYW1lYnVmZmVyPVtdO2ZvcihsZXQgaz0wO2s8NjtrKyspTy5fX3dlYmdsRnJhbWVidWZmZXJba109cy5jcmVhdGVGcmFtZWJ1ZmZlcigpfWVsc2UgaWYoTy5fX3dlYmdsRnJhbWVidWZmZXI9cy5jcmVhdGVGcmFtZWJ1ZmZlcigpLHNlKWlmKGkuZHJhd0J1ZmZlcnMpe2NvbnN0IGs9Yi50ZXh0dXJlO2ZvcihsZXQgeGU9MCx2ZT1rLmxlbmd0aDt4ZTx2ZTt4ZSsrKXtjb25zdCBkZT1uLmdldChrW3hlXSk7ZGUuX193ZWJnbFRleHR1cmU9PT12b2lkIDAmJihkZS5fX3dlYmdsVGV4dHVyZT1zLmNyZWF0ZVRleHR1cmUoKSxhLm1lbW9yeS50ZXh0dXJlcysrKX19ZWxzZSBjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IFdlYkdMTXVsdGlwbGVSZW5kZXJUYXJnZXRzIGNhbiBvbmx5IGJlIHVzZWQgd2l0aCBXZWJHTDIgb3IgV0VCR0xfZHJhd19idWZmZXJzIGV4dGVuc2lvbi4iKTtlbHNlIGlmKG8mJmIuc2FtcGxlcz4wJiZ1ZShiKT09PSExKXtPLl9fd2ViZ2xNdWx0aXNhbXBsZWRGcmFtZWJ1ZmZlcj1zLmNyZWF0ZUZyYW1lYnVmZmVyKCksTy5fX3dlYmdsQ29sb3JSZW5kZXJidWZmZXI9cy5jcmVhdGVSZW5kZXJidWZmZXIoKSxzLmJpbmRSZW5kZXJidWZmZXIoMzYxNjEsTy5fX3dlYmdsQ29sb3JSZW5kZXJidWZmZXIpO2NvbnN0IGs9ci5jb252ZXJ0KHYuZm9ybWF0LHYuZW5jb2RpbmcpLHhlPXIuY29udmVydCh2LnR5cGUpLHZlPUQodi5pbnRlcm5hbEZvcm1hdCxrLHhlLHYuZW5jb2RpbmcpLGRlPWdlKGIpO3MucmVuZGVyYnVmZmVyU3RvcmFnZU11bHRpc2FtcGxlKDM2MTYxLGRlLHZlLGIud2lkdGgsYi5oZWlnaHQpLHQuYmluZEZyYW1lYnVmZmVyKDM2MTYwLE8uX193ZWJnbE11bHRpc2FtcGxlZEZyYW1lYnVmZmVyKSxzLmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKDM2MTYwLDM2MDY0LDM2MTYxLE8uX193ZWJnbENvbG9yUmVuZGVyYnVmZmVyKSxzLmJpbmRSZW5kZXJidWZmZXIoMzYxNjEsbnVsbCksYi5kZXB0aEJ1ZmZlciYmKE8uX193ZWJnbERlcHRoUmVuZGVyYnVmZmVyPXMuY3JlYXRlUmVuZGVyYnVmZmVyKCksY2UoTy5fX3dlYmdsRGVwdGhSZW5kZXJidWZmZXIsYiwhMCkpLHQuYmluZEZyYW1lYnVmZmVyKDM2MTYwLG51bGwpfWlmKGVlKXt0LmJpbmRUZXh0dXJlKDM0MDY3LHEuX193ZWJnbFRleHR1cmUpLG1lKDM0MDY3LHYscGUpO2ZvcihsZXQgaz0wO2s8NjtrKyspbGUoTy5fX3dlYmdsRnJhbWVidWZmZXJba10sYix2LDM2MDY0LDM0MDY5K2spO1ModixwZSkmJlIoMzQwNjcpLHQudW5iaW5kVGV4dHVyZSgpfWVsc2UgaWYoc2Upe2NvbnN0IGs9Yi50ZXh0dXJlO2ZvcihsZXQgeGU9MCx2ZT1rLmxlbmd0aDt4ZTx2ZTt4ZSsrKXtjb25zdCBkZT1rW3hlXSxoZT1uLmdldChkZSk7dC5iaW5kVGV4dHVyZSgzNTUzLGhlLl9fd2ViZ2xUZXh0dXJlKSxtZSgzNTUzLGRlLHBlKSxsZShPLl9fd2ViZ2xGcmFtZWJ1ZmZlcixiLGRlLDM2MDY0K3hlLDM1NTMpLFMoZGUscGUpJiZSKDM1NTMpfXQudW5iaW5kVGV4dHVyZSgpfWVsc2V7bGV0IGs9MzU1MzsoYi5pc1dlYkdMM0RSZW5kZXJUYXJnZXR8fGIuaXNXZWJHTEFycmF5UmVuZGVyVGFyZ2V0KSYmKG8/az1iLmlzV2ViR0wzRFJlbmRlclRhcmdldD8zMjg3OTozNTg2Njpjb25zb2xlLmVycm9yKCJUSFJFRS5XZWJHTFRleHR1cmVzOiBUSFJFRS5EYXRhM0RUZXh0dXJlIGFuZCBUSFJFRS5EYXRhQXJyYXlUZXh0dXJlIG9ubHkgc3VwcG9ydGVkIHdpdGggV2ViR0wyLiIpKSx0LmJpbmRUZXh0dXJlKGsscS5fX3dlYmdsVGV4dHVyZSksbWUoayx2LHBlKSxsZShPLl9fd2ViZ2xGcmFtZWJ1ZmZlcixiLHYsMzYwNjQsayksUyh2LHBlKSYmUihrKSx0LnVuYmluZFRleHR1cmUoKX1iLmRlcHRoQnVmZmVyJiZWKGIpfWZ1bmN0aW9uIG9lKGIpe2NvbnN0IHY9VChiKXx8byxPPWIuaXNXZWJHTE11bHRpcGxlUmVuZGVyVGFyZ2V0cz09PSEwP2IudGV4dHVyZTpbYi50ZXh0dXJlXTtmb3IobGV0IHE9MCxlZT1PLmxlbmd0aDtxPGVlO3ErKyl7Y29uc3Qgc2U9T1txXTtpZihTKHNlLHYpKXtjb25zdCBwZT1iLmlzV2ViR0xDdWJlUmVuZGVyVGFyZ2V0PzM0MDY3OjM1NTMsaz1uLmdldChzZSkuX193ZWJnbFRleHR1cmU7dC5iaW5kVGV4dHVyZShwZSxrKSxSKHBlKSx0LnVuYmluZFRleHR1cmUoKX19fWZ1bmN0aW9uIHRlKGIpe2lmKG8mJmIuc2FtcGxlcz4wJiZ1ZShiKT09PSExKXtjb25zdCB2PWIud2lkdGgsTz1iLmhlaWdodDtsZXQgcT0xNjM4NDtjb25zdCBlZT1bMzYwNjRdLHNlPWIuc3RlbmNpbEJ1ZmZlcj8zMzMwNjozNjA5NjtiLmRlcHRoQnVmZmVyJiZlZS5wdXNoKHNlKTtjb25zdCBwZT1uLmdldChiKSxrPXBlLl9faWdub3JlRGVwdGhWYWx1ZXMhPT12b2lkIDA/cGUuX19pZ25vcmVEZXB0aFZhbHVlczohMTtrPT09ITEmJihiLmRlcHRoQnVmZmVyJiYocXw9MjU2KSxiLnN0ZW5jaWxCdWZmZXImJihxfD0xMDI0KSksdC5iaW5kRnJhbWVidWZmZXIoMzYwMDgscGUuX193ZWJnbE11bHRpc2FtcGxlZEZyYW1lYnVmZmVyKSx0LmJpbmRGcmFtZWJ1ZmZlcigzNjAwOSxwZS5fX3dlYmdsRnJhbWVidWZmZXIpLGs9PT0hMCYmKHMuaW52YWxpZGF0ZUZyYW1lYnVmZmVyKDM2MDA4LFtzZV0pLHMuaW52YWxpZGF0ZUZyYW1lYnVmZmVyKDM2MDA5LFtzZV0pKSxzLmJsaXRGcmFtZWJ1ZmZlcigwLDAsdixPLDAsMCx2LE8scSw5NzI4KSxzLmludmFsaWRhdGVGcmFtZWJ1ZmZlcigzNjAwOCxlZSksdC5iaW5kRnJhbWVidWZmZXIoMzYwMDgsbnVsbCksdC5iaW5kRnJhbWVidWZmZXIoMzYwMDkscGUuX193ZWJnbE11bHRpc2FtcGxlZEZyYW1lYnVmZmVyKX19ZnVuY3Rpb24gZ2UoYil7cmV0dXJuIE1hdGgubWluKHUsYi5zYW1wbGVzKX1mdW5jdGlvbiB1ZShiKXtjb25zdCB2PW4uZ2V0KGIpO3JldHVybiBvJiZiLnNhbXBsZXM+MCYmZS5oYXMoIldFQkdMX211bHRpc2FtcGxlZF9yZW5kZXJfdG9fdGV4dHVyZSIpPT09ITAmJnYuX191c2VSZW5kZXJUb1RleHR1cmUhPT0hMX1mdW5jdGlvbiB3ZShiKXtjb25zdCB2PWEucmVuZGVyLmZyYW1lO2YuZ2V0KGIpIT09diYmKGYuc2V0KGIsdiksYi51cGRhdGUoKSl9ZnVuY3Rpb24gVmUoYix2KXtjb25zdCBPPWIuZW5jb2RpbmcscT1iLmZvcm1hdCxlZT1iLnR5cGU7cmV0dXJuIGIuaXNDb21wcmVzc2VkVGV4dHVyZT09PSEwfHxiLmlzVmlkZW9UZXh0dXJlPT09ITB8fGIuZm9ybWF0PT09MTAzNXx8TyE9PTNlMyYmKE89PT0zMDAxP289PT0hMT9lLmhhcygiRVhUX3NSR0IiKT09PSEwJiZxPT09MTAyMz8oYi5mb3JtYXQ9MTAzNSxiLm1pbkZpbHRlcj0xMDA2LGIuZ2VuZXJhdGVNaXBtYXBzPSExKTp2PUltYWdlVXRpbHMuc1JHQlRvTGluZWFyKHYpOihxIT09MTAyM3x8ZWUhPT0xMDA5KSYmY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFRleHR1cmVzOiBzUkdCIGVuY29kZWQgdGV4dHVyZXMgaGF2ZSB0byB1c2UgUkdCQUZvcm1hdCBhbmQgVW5zaWduZWRCeXRlVHlwZS4iKTpjb25zb2xlLmVycm9yKCJUSFJFRS5XZWJHTFRleHR1cmVzOiBVbnN1cHBvcnRlZCB0ZXh0dXJlIGVuY29kaW5nOiIsTykpLHZ9dGhpcy5hbGxvY2F0ZVRleHR1cmVVbml0PUcsdGhpcy5yZXNldFRleHR1cmVVbml0cz1GLHRoaXMuc2V0VGV4dHVyZTJEPVcsdGhpcy5zZXRUZXh0dXJlMkRBcnJheT1aLHRoaXMuc2V0VGV4dHVyZTNEPVksdGhpcy5zZXRUZXh0dXJlQ3ViZT1KLHRoaXMucmViaW5kVGV4dHVyZXM9aix0aGlzLnNldHVwUmVuZGVyVGFyZ2V0PVEsdGhpcy51cGRhdGVSZW5kZXJUYXJnZXRNaXBtYXA9b2UsdGhpcy51cGRhdGVNdWx0aXNhbXBsZVJlbmRlclRhcmdldD10ZSx0aGlzLnNldHVwRGVwdGhSZW5kZXJidWZmZXI9Vix0aGlzLnNldHVwRnJhbWVCdWZmZXJUZXh0dXJlPWxlLHRoaXMudXNlTXVsdGlzYW1wbGVkUlRUPXVlfWZ1bmN0aW9uIFdlYkdMVXRpbHMocyxlLHQpe2NvbnN0IG49dC5pc1dlYkdMMjtmdW5jdGlvbiBpKHIsYT1udWxsKXtsZXQgbztpZihyPT09MTAwOSlyZXR1cm4gNTEyMTtpZihyPT09MTAxNylyZXR1cm4gMzI4MTk7aWYocj09PTEwMTgpcmV0dXJuIDMyODIwO2lmKHI9PT0xMDEwKXJldHVybiA1MTIwO2lmKHI9PT0xMDExKXJldHVybiA1MTIyO2lmKHI9PT0xMDEyKXJldHVybiA1MTIzO2lmKHI9PT0xMDEzKXJldHVybiA1MTI0O2lmKHI9PT0xMDE0KXJldHVybiA1MTI1O2lmKHI9PT0xMDE1KXJldHVybiA1MTI2O2lmKHI9PT0xMDE2KXJldHVybiBuPzUxMzE6KG89ZS5nZXQoIk9FU190ZXh0dXJlX2hhbGZfZmxvYXQiKSxvIT09bnVsbD9vLkhBTEZfRkxPQVRfT0VTOm51bGwpO2lmKHI9PT0xMDIxKXJldHVybiA2NDA2O2lmKHI9PT0xMDIzKXJldHVybiA2NDA4O2lmKHI9PT0xMDI0KXJldHVybiA2NDA5O2lmKHI9PT0xMDI1KXJldHVybiA2NDEwO2lmKHI9PT0xMDI2KXJldHVybiA2NDAyO2lmKHI9PT0xMDI3KXJldHVybiAzNDA0MTtpZihyPT09MTAyOClyZXR1cm4gNjQwMztpZihyPT09MTAyMilyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiBUSFJFRS5SR0JGb3JtYXQgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIFRIUkVFLlJHQkFGb3JtYXQgaW5zdGVhZC4gaHR0cHM6Ly9naXRodWIuY29tL21yZG9vYi90aHJlZS5qcy9wdWxsLzIzMjI4IiksNjQwODtpZihyPT09MTAzNSlyZXR1cm4gbz1lLmdldCgiRVhUX3NSR0IiKSxvIT09bnVsbD9vLlNSR0JfQUxQSEFfRVhUOm51bGw7aWYocj09PTEwMjkpcmV0dXJuIDM2MjQ0O2lmKHI9PT0xMDMwKXJldHVybiAzMzMxOTtpZihyPT09MTAzMSlyZXR1cm4gMzMzMjA7aWYocj09PTEwMzMpcmV0dXJuIDM2MjQ5O2lmKHI9PT0zMzc3Nnx8cj09PTMzNzc3fHxyPT09MzM3Nzh8fHI9PT0zMzc3OSlpZihhPT09MzAwMSlpZihvPWUuZ2V0KCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0Y19zcmdiIiksbyE9PW51bGwpe2lmKHI9PT0zMzc3NilyZXR1cm4gby5DT01QUkVTU0VEX1NSR0JfUzNUQ19EWFQxX0VYVDtpZihyPT09MzM3NzcpcmV0dXJuIG8uQ09NUFJFU1NFRF9TUkdCX0FMUEhBX1MzVENfRFhUMV9FWFQ7aWYocj09PTMzNzc4KXJldHVybiBvLkNPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDNfRVhUO2lmKHI9PT0zMzc3OSlyZXR1cm4gby5DT01QUkVTU0VEX1NSR0JfQUxQSEFfUzNUQ19EWFQ1X0VYVH1lbHNlIHJldHVybiBudWxsO2Vsc2UgaWYobz1lLmdldCgiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGMiKSxvIT09bnVsbCl7aWYocj09PTMzNzc2KXJldHVybiBvLkNPTVBSRVNTRURfUkdCX1MzVENfRFhUMV9FWFQ7aWYocj09PTMzNzc3KXJldHVybiBvLkNPTVBSRVNTRURfUkdCQV9TM1RDX0RYVDFfRVhUO2lmKHI9PT0zMzc3OClyZXR1cm4gby5DT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQzX0VYVDtpZihyPT09MzM3NzkpcmV0dXJuIG8uQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUNV9FWFR9ZWxzZSByZXR1cm4gbnVsbDtpZihyPT09MzU4NDB8fHI9PT0zNTg0MXx8cj09PTM1ODQyfHxyPT09MzU4NDMpaWYobz1lLmdldCgiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3B2cnRjIiksbyE9PW51bGwpe2lmKHI9PT0zNTg0MClyZXR1cm4gby5DT01QUkVTU0VEX1JHQl9QVlJUQ180QlBQVjFfSU1HO2lmKHI9PT0zNTg0MSlyZXR1cm4gby5DT01QUkVTU0VEX1JHQl9QVlJUQ18yQlBQVjFfSU1HO2lmKHI9PT0zNTg0MilyZXR1cm4gby5DT01QUkVTU0VEX1JHQkFfUFZSVENfNEJQUFYxX0lNRztpZihyPT09MzU4NDMpcmV0dXJuIG8uQ09NUFJFU1NFRF9SR0JBX1BWUlRDXzJCUFBWMV9JTUd9ZWxzZSByZXR1cm4gbnVsbDtpZihyPT09MzYxOTYpcmV0dXJuIG89ZS5nZXQoIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9ldGMxIiksbyE9PW51bGw/by5DT01QUkVTU0VEX1JHQl9FVEMxX1dFQkdMOm51bGw7aWYocj09PTM3NDkyfHxyPT09Mzc0OTYpaWYobz1lLmdldCgiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2V0YyIpLG8hPT1udWxsKXtpZihyPT09Mzc0OTIpcmV0dXJuIGE9PT0zMDAxP28uQ09NUFJFU1NFRF9TUkdCOF9FVEMyOm8uQ09NUFJFU1NFRF9SR0I4X0VUQzI7aWYocj09PTM3NDk2KXJldHVybiBhPT09MzAwMT9vLkNPTVBSRVNTRURfU1JHQjhfQUxQSEE4X0VUQzJfRUFDOm8uQ09NUFJFU1NFRF9SR0JBOF9FVEMyX0VBQ31lbHNlIHJldHVybiBudWxsO2lmKHI9PT0zNzgwOHx8cj09PTM3ODA5fHxyPT09Mzc4MTB8fHI9PT0zNzgxMXx8cj09PTM3ODEyfHxyPT09Mzc4MTN8fHI9PT0zNzgxNHx8cj09PTM3ODE1fHxyPT09Mzc4MTZ8fHI9PT0zNzgxN3x8cj09PTM3ODE4fHxyPT09Mzc4MTl8fHI9PT0zNzgyMHx8cj09PTM3ODIxKWlmKG89ZS5nZXQoIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9hc3RjIiksbyE9PW51bGwpe2lmKHI9PT0zNzgwOClyZXR1cm4gYT09PTMwMDE/by5DT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzR4NF9LSFI6by5DT01QUkVTU0VEX1JHQkFfQVNUQ180eDRfS0hSO2lmKHI9PT0zNzgwOSlyZXR1cm4gYT09PTMwMDE/by5DT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzV4NF9LSFI6by5DT01QUkVTU0VEX1JHQkFfQVNUQ181eDRfS0hSO2lmKHI9PT0zNzgxMClyZXR1cm4gYT09PTMwMDE/by5DT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzV4NV9LSFI6by5DT01QUkVTU0VEX1JHQkFfQVNUQ181eDVfS0hSO2lmKHI9PT0zNzgxMSlyZXR1cm4gYT09PTMwMDE/by5DT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzZ4NV9LSFI6by5DT01QUkVTU0VEX1JHQkFfQVNUQ182eDVfS0hSO2lmKHI9PT0zNzgxMilyZXR1cm4gYT09PTMwMDE/by5DT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzZ4Nl9LSFI6by5DT01QUkVTU0VEX1JHQkFfQVNUQ182eDZfS0hSO2lmKHI9PT0zNzgxMylyZXR1cm4gYT09PTMwMDE/by5DT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzh4NV9LSFI6by5DT01QUkVTU0VEX1JHQkFfQVNUQ184eDVfS0hSO2lmKHI9PT0zNzgxNClyZXR1cm4gYT09PTMwMDE/by5DT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzh4Nl9LSFI6by5DT01QUkVTU0VEX1JHQkFfQVNUQ184eDZfS0hSO2lmKHI9PT0zNzgxNSlyZXR1cm4gYT09PTMwMDE/by5DT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzh4OF9LSFI6by5DT01QUkVTU0VEX1JHQkFfQVNUQ184eDhfS0hSO2lmKHI9PT0zNzgxNilyZXR1cm4gYT09PTMwMDE/by5DT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzEweDVfS0hSOm8uQ09NUFJFU1NFRF9SR0JBX0FTVENfMTB4NV9LSFI7aWYocj09PTM3ODE3KXJldHVybiBhPT09MzAwMT9vLkNPTVBSRVNTRURfU1JHQjhfQUxQSEE4X0FTVENfMTB4Nl9LSFI6by5DT01QUkVTU0VEX1JHQkFfQVNUQ18xMHg2X0tIUjtpZihyPT09Mzc4MTgpcmV0dXJuIGE9PT0zMDAxP28uQ09NUFJFU1NFRF9TUkdCOF9BTFBIQThfQVNUQ18xMHg4X0tIUjpvLkNPTVBSRVNTRURfUkdCQV9BU1RDXzEweDhfS0hSO2lmKHI9PT0zNzgxOSlyZXR1cm4gYT09PTMwMDE/by5DT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzEweDEwX0tIUjpvLkNPTVBSRVNTRURfUkdCQV9BU1RDXzEweDEwX0tIUjtpZihyPT09Mzc4MjApcmV0dXJuIGE9PT0zMDAxP28uQ09NUFJFU1NFRF9TUkdCOF9BTFBIQThfQVNUQ18xMngxMF9LSFI6by5DT01QUkVTU0VEX1JHQkFfQVNUQ18xMngxMF9LSFI7aWYocj09PTM3ODIxKXJldHVybiBhPT09MzAwMT9vLkNPTVBSRVNTRURfU1JHQjhfQUxQSEE4X0FTVENfMTJ4MTJfS0hSOm8uQ09NUFJFU1NFRF9SR0JBX0FTVENfMTJ4MTJfS0hSfWVsc2UgcmV0dXJuIG51bGw7aWYocj09PTM2NDkyKWlmKG89ZS5nZXQoIkVYVF90ZXh0dXJlX2NvbXByZXNzaW9uX2JwdGMiKSxvIT09bnVsbCl7aWYocj09PTM2NDkyKXJldHVybiBhPT09MzAwMT9vLkNPTVBSRVNTRURfU1JHQl9BTFBIQV9CUFRDX1VOT1JNX0VYVDpvLkNPTVBSRVNTRURfUkdCQV9CUFRDX1VOT1JNX0VYVH1lbHNlIHJldHVybiBudWxsO2lmKHI9PT0xMDIwKXJldHVybiBuPzM0MDQyOihvPWUuZ2V0KCJXRUJHTF9kZXB0aF90ZXh0dXJlIiksbyE9PW51bGw/by5VTlNJR05FRF9JTlRfMjRfOF9XRUJHTDpudWxsKX1yZXR1cm57Y29udmVydDppfX1jbGFzcyBBcnJheUNhbWVyYSBleHRlbmRzIFBlcnNwZWN0aXZlQ2FtZXJhe2NvbnN0cnVjdG9yKGU9W10pe3N1cGVyKCk7dGhpcy5jYW1lcmFzPWV9fUFycmF5Q2FtZXJhLnByb3RvdHlwZS5pc0FycmF5Q2FtZXJhPSEwO2NsYXNzIEdyb3VwIGV4dGVuZHMgT2JqZWN0M0R7Y29uc3RydWN0b3IoKXtzdXBlcigpO3RoaXMudHlwZT0iR3JvdXAifX1Hcm91cC5wcm90b3R5cGUuaXNHcm91cD0hMDtjb25zdCBfbW92ZUV2ZW50PXt0eXBlOiJtb3ZlIn07Y2xhc3MgV2ViWFJDb250cm9sbGVye2NvbnN0cnVjdG9yKCl7dGhpcy5fdGFyZ2V0UmF5PW51bGwsdGhpcy5fZ3JpcD1udWxsLHRoaXMuX2hhbmQ9bnVsbH1nZXRIYW5kU3BhY2UoKXtyZXR1cm4gdGhpcy5faGFuZD09PW51bGwmJih0aGlzLl9oYW5kPW5ldyBHcm91cCx0aGlzLl9oYW5kLm1hdHJpeEF1dG9VcGRhdGU9ITEsdGhpcy5faGFuZC52aXNpYmxlPSExLHRoaXMuX2hhbmQuam9pbnRzPXt9LHRoaXMuX2hhbmQuaW5wdXRTdGF0ZT17cGluY2hpbmc6ITF9KSx0aGlzLl9oYW5kfWdldFRhcmdldFJheVNwYWNlKCl7cmV0dXJuIHRoaXMuX3RhcmdldFJheT09PW51bGwmJih0aGlzLl90YXJnZXRSYXk9bmV3IEdyb3VwLHRoaXMuX3RhcmdldFJheS5tYXRyaXhBdXRvVXBkYXRlPSExLHRoaXMuX3RhcmdldFJheS52aXNpYmxlPSExLHRoaXMuX3RhcmdldFJheS5oYXNMaW5lYXJWZWxvY2l0eT0hMSx0aGlzLl90YXJnZXRSYXkubGluZWFyVmVsb2NpdHk9bmV3IFZlY3RvcjMsdGhpcy5fdGFyZ2V0UmF5Lmhhc0FuZ3VsYXJWZWxvY2l0eT0hMSx0aGlzLl90YXJnZXRSYXkuYW5ndWxhclZlbG9jaXR5PW5ldyBWZWN0b3IzKSx0aGlzLl90YXJnZXRSYXl9Z2V0R3JpcFNwYWNlKCl7cmV0dXJuIHRoaXMuX2dyaXA9PT1udWxsJiYodGhpcy5fZ3JpcD1uZXcgR3JvdXAsdGhpcy5fZ3JpcC5tYXRyaXhBdXRvVXBkYXRlPSExLHRoaXMuX2dyaXAudmlzaWJsZT0hMSx0aGlzLl9ncmlwLmhhc0xpbmVhclZlbG9jaXR5PSExLHRoaXMuX2dyaXAubGluZWFyVmVsb2NpdHk9bmV3IFZlY3RvcjMsdGhpcy5fZ3JpcC5oYXNBbmd1bGFyVmVsb2NpdHk9ITEsdGhpcy5fZ3JpcC5hbmd1bGFyVmVsb2NpdHk9bmV3IFZlY3RvcjMpLHRoaXMuX2dyaXB9ZGlzcGF0Y2hFdmVudChlKXtyZXR1cm4gdGhpcy5fdGFyZ2V0UmF5IT09bnVsbCYmdGhpcy5fdGFyZ2V0UmF5LmRpc3BhdGNoRXZlbnQoZSksdGhpcy5fZ3JpcCE9PW51bGwmJnRoaXMuX2dyaXAuZGlzcGF0Y2hFdmVudChlKSx0aGlzLl9oYW5kIT09bnVsbCYmdGhpcy5faGFuZC5kaXNwYXRjaEV2ZW50KGUpLHRoaXN9ZGlzY29ubmVjdChlKXtyZXR1cm4gdGhpcy5kaXNwYXRjaEV2ZW50KHt0eXBlOiJkaXNjb25uZWN0ZWQiLGRhdGE6ZX0pLHRoaXMuX3RhcmdldFJheSE9PW51bGwmJih0aGlzLl90YXJnZXRSYXkudmlzaWJsZT0hMSksdGhpcy5fZ3JpcCE9PW51bGwmJih0aGlzLl9ncmlwLnZpc2libGU9ITEpLHRoaXMuX2hhbmQhPT1udWxsJiYodGhpcy5faGFuZC52aXNpYmxlPSExKSx0aGlzfXVwZGF0ZShlLHQsbil7bGV0IGk9bnVsbCxyPW51bGwsYT1udWxsO2NvbnN0IG89dGhpcy5fdGFyZ2V0UmF5LGw9dGhpcy5fZ3JpcCxjPXRoaXMuX2hhbmQ7aWYoZSYmdC5zZXNzaW9uLnZpc2liaWxpdHlTdGF0ZSE9PSJ2aXNpYmxlLWJsdXJyZWQiKWlmKG8hPT1udWxsJiYoaT10LmdldFBvc2UoZS50YXJnZXRSYXlTcGFjZSxuKSxpIT09bnVsbCYmKG8ubWF0cml4LmZyb21BcnJheShpLnRyYW5zZm9ybS5tYXRyaXgpLG8ubWF0cml4LmRlY29tcG9zZShvLnBvc2l0aW9uLG8ucm90YXRpb24sby5zY2FsZSksaS5saW5lYXJWZWxvY2l0eT8oby5oYXNMaW5lYXJWZWxvY2l0eT0hMCxvLmxpbmVhclZlbG9jaXR5LmNvcHkoaS5saW5lYXJWZWxvY2l0eSkpOm8uaGFzTGluZWFyVmVsb2NpdHk9ITEsaS5hbmd1bGFyVmVsb2NpdHk/KG8uaGFzQW5ndWxhclZlbG9jaXR5PSEwLG8uYW5ndWxhclZlbG9jaXR5LmNvcHkoaS5hbmd1bGFyVmVsb2NpdHkpKTpvLmhhc0FuZ3VsYXJWZWxvY2l0eT0hMSx0aGlzLmRpc3BhdGNoRXZlbnQoX21vdmVFdmVudCkpKSxjJiZlLmhhbmQpe2E9ITA7Zm9yKGNvbnN0IF8gb2YgZS5oYW5kLnZhbHVlcygpKXtjb25zdCB5PXQuZ2V0Sm9pbnRQb3NlKF8sbik7aWYoYy5qb2ludHNbXy5qb2ludE5hbWVdPT09dm9pZCAwKXtjb25zdCBwPW5ldyBHcm91cDtwLm1hdHJpeEF1dG9VcGRhdGU9ITEscC52aXNpYmxlPSExLGMuam9pbnRzW18uam9pbnROYW1lXT1wLGMuYWRkKHApfWNvbnN0IG09Yy5qb2ludHNbXy5qb2ludE5hbWVdO3khPT1udWxsJiYobS5tYXRyaXguZnJvbUFycmF5KHkudHJhbnNmb3JtLm1hdHJpeCksbS5tYXRyaXguZGVjb21wb3NlKG0ucG9zaXRpb24sbS5yb3RhdGlvbixtLnNjYWxlKSxtLmpvaW50UmFkaXVzPXkucmFkaXVzKSxtLnZpc2libGU9eSE9PW51bGx9Y29uc3QgaD1jLmpvaW50c1siaW5kZXgtZmluZ2VyLXRpcCJdLHU9Yy5qb2ludHNbInRodW1iLXRpcCJdLGQ9aC5wb3NpdGlvbi5kaXN0YW5jZVRvKHUucG9zaXRpb24pLGY9LjAyLGc9LjAwNTtjLmlucHV0U3RhdGUucGluY2hpbmcmJmQ+ZitnPyhjLmlucHV0U3RhdGUucGluY2hpbmc9ITEsdGhpcy5kaXNwYXRjaEV2ZW50KHt0eXBlOiJwaW5jaGVuZCIsaGFuZGVkbmVzczplLmhhbmRlZG5lc3MsdGFyZ2V0OnRoaXN9KSk6IWMuaW5wdXRTdGF0ZS5waW5jaGluZyYmZDw9Zi1nJiYoYy5pbnB1dFN0YXRlLnBpbmNoaW5nPSEwLHRoaXMuZGlzcGF0Y2hFdmVudCh7dHlwZToicGluY2hzdGFydCIsaGFuZGVkbmVzczplLmhhbmRlZG5lc3MsdGFyZ2V0OnRoaXN9KSl9ZWxzZSBsIT09bnVsbCYmZS5ncmlwU3BhY2UmJihyPXQuZ2V0UG9zZShlLmdyaXBTcGFjZSxuKSxyIT09bnVsbCYmKGwubWF0cml4LmZyb21BcnJheShyLnRyYW5zZm9ybS5tYXRyaXgpLGwubWF0cml4LmRlY29tcG9zZShsLnBvc2l0aW9uLGwucm90YXRpb24sbC5zY2FsZSksci5saW5lYXJWZWxvY2l0eT8obC5oYXNMaW5lYXJWZWxvY2l0eT0hMCxsLmxpbmVhclZlbG9jaXR5LmNvcHkoci5saW5lYXJWZWxvY2l0eSkpOmwuaGFzTGluZWFyVmVsb2NpdHk9ITEsci5hbmd1bGFyVmVsb2NpdHk/KGwuaGFzQW5ndWxhclZlbG9jaXR5PSEwLGwuYW5ndWxhclZlbG9jaXR5LmNvcHkoci5hbmd1bGFyVmVsb2NpdHkpKTpsLmhhc0FuZ3VsYXJWZWxvY2l0eT0hMSkpO3JldHVybiBvIT09bnVsbCYmKG8udmlzaWJsZT1pIT09bnVsbCksbCE9PW51bGwmJihsLnZpc2libGU9ciE9PW51bGwpLGMhPT1udWxsJiYoYy52aXNpYmxlPWEhPT1udWxsKSx0aGlzfX1jbGFzcyBEZXB0aFRleHR1cmUgZXh0ZW5kcyBUZXh0dXJle2NvbnN0cnVjdG9yKGUsdCxuLGkscixhLG8sbCxjLGgpe2lmKGg9aCE9PXZvaWQgMD9oOjEwMjYsaCE9PTEwMjYmJmghPT0xMDI3KXRocm93IG5ldyBFcnJvcigiRGVwdGhUZXh0dXJlIGZvcm1hdCBtdXN0IGJlIGVpdGhlciBUSFJFRS5EZXB0aEZvcm1hdCBvciBUSFJFRS5EZXB0aFN0ZW5jaWxGb3JtYXQiKTtuPT09dm9pZCAwJiZoPT09MTAyNiYmKG49MTAxMiksbj09PXZvaWQgMCYmaD09PTEwMjcmJihuPTEwMjApO3N1cGVyKG51bGwsaSxyLGEsbyxsLGgsbixjKTt0aGlzLmltYWdlPXt3aWR0aDplLGhlaWdodDp0fSx0aGlzLm1hZ0ZpbHRlcj1vIT09dm9pZCAwP286MTAwMyx0aGlzLm1pbkZpbHRlcj1sIT09dm9pZCAwP2w6MTAwMyx0aGlzLmZsaXBZPSExLHRoaXMuZ2VuZXJhdGVNaXBtYXBzPSExfX1EZXB0aFRleHR1cmUucHJvdG90eXBlLmlzRGVwdGhUZXh0dXJlPSEwO2NsYXNzIFdlYlhSTWFuYWdlciBleHRlbmRzIEV2ZW50RGlzcGF0Y2hlcntjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKCk7Y29uc3Qgbj10aGlzO2xldCBpPW51bGwscj0xLGE9bnVsbCxvPSJsb2NhbC1mbG9vciIsbD1udWxsLGM9bnVsbCxoPW51bGwsdT1udWxsLGQ9bnVsbDtjb25zdCBmPXQuZ2V0Q29udGV4dEF0dHJpYnV0ZXMoKTtsZXQgZz1udWxsLF89bnVsbDtjb25zdCB5PVtdLG09bmV3IE1hcCxwPW5ldyBQZXJzcGVjdGl2ZUNhbWVyYTtwLmxheWVycy5lbmFibGUoMSkscC52aWV3cG9ydD1uZXcgVmVjdG9yNDtjb25zdCBUPW5ldyBQZXJzcGVjdGl2ZUNhbWVyYTtULmxheWVycy5lbmFibGUoMiksVC52aWV3cG9ydD1uZXcgVmVjdG9yNDtjb25zdCB3PVtwLFRdLFM9bmV3IEFycmF5Q2FtZXJhO1MubGF5ZXJzLmVuYWJsZSgxKSxTLmxheWVycy5lbmFibGUoMik7bGV0IFI9bnVsbCxEPW51bGw7dGhpcy5jYW1lcmFBdXRvVXBkYXRlPSEwLHRoaXMuZW5hYmxlZD0hMSx0aGlzLmlzUHJlc2VudGluZz0hMSx0aGlzLmdldENvbnRyb2xsZXI9ZnVuY3Rpb24oTCl7bGV0IFc9eVtMXTtyZXR1cm4gVz09PXZvaWQgMCYmKFc9bmV3IFdlYlhSQ29udHJvbGxlcix5W0xdPVcpLFcuZ2V0VGFyZ2V0UmF5U3BhY2UoKX0sdGhpcy5nZXRDb250cm9sbGVyR3JpcD1mdW5jdGlvbihMKXtsZXQgVz15W0xdO3JldHVybiBXPT09dm9pZCAwJiYoVz1uZXcgV2ViWFJDb250cm9sbGVyLHlbTF09VyksVy5nZXRHcmlwU3BhY2UoKX0sdGhpcy5nZXRIYW5kPWZ1bmN0aW9uKEwpe2xldCBXPXlbTF07cmV0dXJuIFc9PT12b2lkIDAmJihXPW5ldyBXZWJYUkNvbnRyb2xsZXIseVtMXT1XKSxXLmdldEhhbmRTcGFjZSgpfTtmdW5jdGlvbiBYKEwpe2NvbnN0IFc9bS5nZXQoTC5pbnB1dFNvdXJjZSk7VyYmVy5kaXNwYXRjaEV2ZW50KHt0eXBlOkwudHlwZSxkYXRhOkwuaW5wdXRTb3VyY2V9KX1mdW5jdGlvbiBpZSgpe20uZm9yRWFjaChmdW5jdGlvbihMLFcpe0wuZGlzY29ubmVjdChXKX0pLG0uY2xlYXIoKSxSPW51bGwsRD1udWxsLGUuc2V0UmVuZGVyVGFyZ2V0KGcpLHU9bnVsbCxoPW51bGwsYz1udWxsLGk9bnVsbCxfPW51bGwsRy5zdG9wKCksbi5pc1ByZXNlbnRpbmc9ITEsbi5kaXNwYXRjaEV2ZW50KHt0eXBlOiJzZXNzaW9uZW5kIn0pfXRoaXMuc2V0RnJhbWVidWZmZXJTY2FsZUZhY3Rvcj1mdW5jdGlvbihMKXtyPUwsbi5pc1ByZXNlbnRpbmc9PT0hMCYmY29uc29sZS53YXJuKCJUSFJFRS5XZWJYUk1hbmFnZXI6IENhbm5vdCBjaGFuZ2UgZnJhbWVidWZmZXIgc2NhbGUgd2hpbGUgcHJlc2VudGluZy4iKX0sdGhpcy5zZXRSZWZlcmVuY2VTcGFjZVR5cGU9ZnVuY3Rpb24oTCl7bz1MLG4uaXNQcmVzZW50aW5nPT09ITAmJmNvbnNvbGUud2FybigiVEhSRUUuV2ViWFJNYW5hZ2VyOiBDYW5ub3QgY2hhbmdlIHJlZmVyZW5jZSBzcGFjZSB0eXBlIHdoaWxlIHByZXNlbnRpbmcuIil9LHRoaXMuZ2V0UmVmZXJlbmNlU3BhY2U9ZnVuY3Rpb24oKXtyZXR1cm4gYX0sdGhpcy5nZXRCYXNlTGF5ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gaCE9PW51bGw/aDp1fSx0aGlzLmdldEJpbmRpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gY30sdGhpcy5nZXRGcmFtZT1mdW5jdGlvbigpe3JldHVybiBkfSx0aGlzLmdldFNlc3Npb249ZnVuY3Rpb24oKXtyZXR1cm4gaX0sdGhpcy5zZXRTZXNzaW9uPWFzeW5jIGZ1bmN0aW9uKEwpe2lmKGk9TCxpIT09bnVsbCl7aWYoZz1lLmdldFJlbmRlclRhcmdldCgpLGkuYWRkRXZlbnRMaXN0ZW5lcigic2VsZWN0IixYKSxpLmFkZEV2ZW50TGlzdGVuZXIoInNlbGVjdHN0YXJ0IixYKSxpLmFkZEV2ZW50TGlzdGVuZXIoInNlbGVjdGVuZCIsWCksaS5hZGRFdmVudExpc3RlbmVyKCJzcXVlZXplIixYKSxpLmFkZEV2ZW50TGlzdGVuZXIoInNxdWVlemVzdGFydCIsWCksaS5hZGRFdmVudExpc3RlbmVyKCJzcXVlZXplZW5kIixYKSxpLmFkZEV2ZW50TGlzdGVuZXIoImVuZCIsaWUpLGkuYWRkRXZlbnRMaXN0ZW5lcigiaW5wdXRzb3VyY2VzY2hhbmdlIix6KSxmLnhyQ29tcGF0aWJsZSE9PSEwJiZhd2FpdCB0Lm1ha2VYUkNvbXBhdGlibGUoKSxpLnJlbmRlclN0YXRlLmxheWVycz09PXZvaWQgMHx8ZS5jYXBhYmlsaXRpZXMuaXNXZWJHTDI9PT0hMSl7Y29uc3QgVz17YW50aWFsaWFzOmkucmVuZGVyU3RhdGUubGF5ZXJzPT09dm9pZCAwP2YuYW50aWFsaWFzOiEwLGFscGhhOmYuYWxwaGEsZGVwdGg6Zi5kZXB0aCxzdGVuY2lsOmYuc3RlbmNpbCxmcmFtZWJ1ZmZlclNjYWxlRmFjdG9yOnJ9O3U9bmV3IFhSV2ViR0xMYXllcihpLHQsVyksaS51cGRhdGVSZW5kZXJTdGF0ZSh7YmFzZUxheWVyOnV9KSxfPW5ldyBXZWJHTFJlbmRlclRhcmdldCh1LmZyYW1lYnVmZmVyV2lkdGgsdS5mcmFtZWJ1ZmZlckhlaWdodCx7Zm9ybWF0OjEwMjMsdHlwZToxMDA5LGVuY29kaW5nOmUub3V0cHV0RW5jb2Rpbmd9KX1lbHNle2xldCBXPW51bGwsWj1udWxsLFk9bnVsbDtmLmRlcHRoJiYoWT1mLnN0ZW5jaWw/MzUwNTY6MzMxOTAsVz1mLnN0ZW5jaWw/MTAyNzoxMDI2LFo9Zi5zdGVuY2lsPzEwMjA6MTAxMik7Y29uc3QgSj17Y29sb3JGb3JtYXQ6ZS5vdXRwdXRFbmNvZGluZz09PTMwMDE/MzU5MDc6MzI4NTYsZGVwdGhGb3JtYXQ6WSxzY2FsZUZhY3RvcjpyfTtjPW5ldyBYUldlYkdMQmluZGluZyhpLHQpLGg9Yy5jcmVhdGVQcm9qZWN0aW9uTGF5ZXIoSiksaS51cGRhdGVSZW5kZXJTdGF0ZSh7bGF5ZXJzOltoXX0pLF89bmV3IFdlYkdMUmVuZGVyVGFyZ2V0KGgudGV4dHVyZVdpZHRoLGgudGV4dHVyZUhlaWdodCx7Zm9ybWF0OjEwMjMsdHlwZToxMDA5LGRlcHRoVGV4dHVyZTpuZXcgRGVwdGhUZXh0dXJlKGgudGV4dHVyZVdpZHRoLGgudGV4dHVyZUhlaWdodCxaLHZvaWQgMCx2b2lkIDAsdm9pZCAwLHZvaWQgMCx2b2lkIDAsdm9pZCAwLFcpLHN0ZW5jaWxCdWZmZXI6Zi5zdGVuY2lsLGVuY29kaW5nOmUub3V0cHV0RW5jb2Rpbmcsc2FtcGxlczpmLmFudGlhbGlhcz80OjB9KTtjb25zdCBmZT1lLnByb3BlcnRpZXMuZ2V0KF8pO2ZlLl9faWdub3JlRGVwdGhWYWx1ZXM9aC5pZ25vcmVEZXB0aFZhbHVlc31fLmlzWFJSZW5kZXJUYXJnZXQ9ITAsdGhpcy5zZXRGb3ZlYXRpb24oMSksYT1hd2FpdCBpLnJlcXVlc3RSZWZlcmVuY2VTcGFjZShvKSxHLnNldENvbnRleHQoaSksRy5zdGFydCgpLG4uaXNQcmVzZW50aW5nPSEwLG4uZGlzcGF0Y2hFdmVudCh7dHlwZToic2Vzc2lvbnN0YXJ0In0pfX07ZnVuY3Rpb24geihMKXtjb25zdCBXPWkuaW5wdXRTb3VyY2VzO2ZvcihsZXQgWj0wO1o8eS5sZW5ndGg7WisrKW0uc2V0KFdbWl0seVtaXSk7Zm9yKGxldCBaPTA7WjxMLnJlbW92ZWQubGVuZ3RoO1orKyl7Y29uc3QgWT1MLnJlbW92ZWRbWl0sSj1tLmdldChZKTtKJiYoSi5kaXNwYXRjaEV2ZW50KHt0eXBlOiJkaXNjb25uZWN0ZWQiLGRhdGE6WX0pLG0uZGVsZXRlKFkpKX1mb3IobGV0IFo9MDtaPEwuYWRkZWQubGVuZ3RoO1orKyl7Y29uc3QgWT1MLmFkZGVkW1pdLEo9bS5nZXQoWSk7SiYmSi5kaXNwYXRjaEV2ZW50KHt0eXBlOiJjb25uZWN0ZWQiLGRhdGE6WX0pfX1jb25zdCB4PW5ldyBWZWN0b3IzLEE9bmV3IFZlY3RvcjM7ZnVuY3Rpb24gUChMLFcsWil7eC5zZXRGcm9tTWF0cml4UG9zaXRpb24oVy5tYXRyaXhXb3JsZCksQS5zZXRGcm9tTWF0cml4UG9zaXRpb24oWi5tYXRyaXhXb3JsZCk7Y29uc3QgWT14LmRpc3RhbmNlVG8oQSksSj1XLnByb2plY3Rpb25NYXRyaXguZWxlbWVudHMsZmU9Wi5wcm9qZWN0aW9uTWF0cml4LmVsZW1lbnRzLFBlPUpbMTRdLyhKWzEwXS0xKSxtZT1KWzE0XS8oSlsxMF0rMSksJD0oSls5XSsxKS9KWzVdLERlPShKWzldLTEpL0pbNV0sU2U9KEpbOF0tMSkvSlswXSxsZT0oZmVbOF0rMSkvZmVbMF0sY2U9UGUqU2UsQWU9UGUqbGUsVj1ZLygtU2UrbGUpLGo9ViotU2U7Vy5tYXRyaXhXb3JsZC5kZWNvbXBvc2UoTC5wb3NpdGlvbixMLnF1YXRlcm5pb24sTC5zY2FsZSksTC50cmFuc2xhdGVYKGopLEwudHJhbnNsYXRlWihWKSxMLm1hdHJpeFdvcmxkLmNvbXBvc2UoTC5wb3NpdGlvbixMLnF1YXRlcm5pb24sTC5zY2FsZSksTC5tYXRyaXhXb3JsZEludmVyc2UuY29weShMLm1hdHJpeFdvcmxkKS5pbnZlcnQoKTtjb25zdCBRPVBlK1Ysb2U9bWUrVix0ZT1jZS1qLGdlPUFlKyhZLWopLHVlPSQqbWUvb2UqUSx3ZT1EZSptZS9vZSpRO0wucHJvamVjdGlvbk1hdHJpeC5tYWtlUGVyc3BlY3RpdmUodGUsZ2UsdWUsd2UsUSxvZSl9ZnVuY3Rpb24gQihMLFcpe1c9PT1udWxsP0wubWF0cml4V29ybGQuY29weShMLm1hdHJpeCk6TC5tYXRyaXhXb3JsZC5tdWx0aXBseU1hdHJpY2VzKFcubWF0cml4V29ybGQsTC5tYXRyaXgpLEwubWF0cml4V29ybGRJbnZlcnNlLmNvcHkoTC5tYXRyaXhXb3JsZCkuaW52ZXJ0KCl9dGhpcy51cGRhdGVDYW1lcmE9ZnVuY3Rpb24oTCl7aWYoaT09PW51bGwpcmV0dXJuO1MubmVhcj1ULm5lYXI9cC5uZWFyPUwubmVhcixTLmZhcj1ULmZhcj1wLmZhcj1MLmZhciwoUiE9PVMubmVhcnx8RCE9PVMuZmFyKSYmKGkudXBkYXRlUmVuZGVyU3RhdGUoe2RlcHRoTmVhcjpTLm5lYXIsZGVwdGhGYXI6Uy5mYXJ9KSxSPVMubmVhcixEPVMuZmFyKTtjb25zdCBXPUwucGFyZW50LFo9Uy5jYW1lcmFzO0IoUyxXKTtmb3IobGV0IEo9MDtKPFoubGVuZ3RoO0orKylCKFpbSl0sVyk7Uy5tYXRyaXhXb3JsZC5kZWNvbXBvc2UoUy5wb3NpdGlvbixTLnF1YXRlcm5pb24sUy5zY2FsZSksTC5wb3NpdGlvbi5jb3B5KFMucG9zaXRpb24pLEwucXVhdGVybmlvbi5jb3B5KFMucXVhdGVybmlvbiksTC5zY2FsZS5jb3B5KFMuc2NhbGUpLEwubWF0cml4LmNvcHkoUy5tYXRyaXgpLEwubWF0cml4V29ybGQuY29weShTLm1hdHJpeFdvcmxkKTtjb25zdCBZPUwuY2hpbGRyZW47Zm9yKGxldCBKPTAsZmU9WS5sZW5ndGg7SjxmZTtKKyspWVtKXS51cGRhdGVNYXRyaXhXb3JsZCghMCk7Wi5sZW5ndGg9PT0yP1AoUyxwLFQpOlMucHJvamVjdGlvbk1hdHJpeC5jb3B5KHAucHJvamVjdGlvbk1hdHJpeCl9LHRoaXMuZ2V0Q2FtZXJhPWZ1bmN0aW9uKCl7cmV0dXJuIFN9LHRoaXMuZ2V0Rm92ZWF0aW9uPWZ1bmN0aW9uKCl7aWYoaCE9PW51bGwpcmV0dXJuIGguZml4ZWRGb3ZlYXRpb247aWYodSE9PW51bGwpcmV0dXJuIHUuZml4ZWRGb3ZlYXRpb259LHRoaXMuc2V0Rm92ZWF0aW9uPWZ1bmN0aW9uKEwpe2ghPT1udWxsJiYoaC5maXhlZEZvdmVhdGlvbj1MKSx1IT09bnVsbCYmdS5maXhlZEZvdmVhdGlvbiE9PXZvaWQgMCYmKHUuZml4ZWRGb3ZlYXRpb249TCl9O2xldCBVPW51bGw7ZnVuY3Rpb24gRihMLFcpe2lmKGw9Vy5nZXRWaWV3ZXJQb3NlKGEpLGQ9VyxsIT09bnVsbCl7Y29uc3QgWT1sLnZpZXdzO3UhPT1udWxsJiYoZS5zZXRSZW5kZXJUYXJnZXRGcmFtZWJ1ZmZlcihfLHUuZnJhbWVidWZmZXIpLGUuc2V0UmVuZGVyVGFyZ2V0KF8pKTtsZXQgSj0hMTtZLmxlbmd0aCE9PVMuY2FtZXJhcy5sZW5ndGgmJihTLmNhbWVyYXMubGVuZ3RoPTAsSj0hMCk7Zm9yKGxldCBmZT0wO2ZlPFkubGVuZ3RoO2ZlKyspe2NvbnN0IFBlPVlbZmVdO2xldCBtZT1udWxsO2lmKHUhPT1udWxsKW1lPXUuZ2V0Vmlld3BvcnQoUGUpO2Vsc2V7Y29uc3QgRGU9Yy5nZXRWaWV3U3ViSW1hZ2UoaCxQZSk7bWU9RGUudmlld3BvcnQsZmU9PT0wJiYoZS5zZXRSZW5kZXJUYXJnZXRUZXh0dXJlcyhfLERlLmNvbG9yVGV4dHVyZSxoLmlnbm9yZURlcHRoVmFsdWVzP3ZvaWQgMDpEZS5kZXB0aFN0ZW5jaWxUZXh0dXJlKSxlLnNldFJlbmRlclRhcmdldChfKSl9Y29uc3QgJD13W2ZlXTskLm1hdHJpeC5mcm9tQXJyYXkoUGUudHJhbnNmb3JtLm1hdHJpeCksJC5wcm9qZWN0aW9uTWF0cml4LmZyb21BcnJheShQZS5wcm9qZWN0aW9uTWF0cml4KSwkLnZpZXdwb3J0LnNldChtZS54LG1lLnksbWUud2lkdGgsbWUuaGVpZ2h0KSxmZT09PTAmJlMubWF0cml4LmNvcHkoJC5tYXRyaXgpLEo9PT0hMCYmUy5jYW1lcmFzLnB1c2goJCl9fWNvbnN0IFo9aS5pbnB1dFNvdXJjZXM7Zm9yKGxldCBZPTA7WTx5Lmxlbmd0aDtZKyspe2NvbnN0IEo9eVtZXSxmZT1aW1ldO0oudXBkYXRlKGZlLFcsYSl9VSYmVShMLFcpLGQ9bnVsbH1jb25zdCBHPW5ldyBXZWJHTEFuaW1hdGlvbjtHLnNldEFuaW1hdGlvbkxvb3AoRiksdGhpcy5zZXRBbmltYXRpb25Mb29wPWZ1bmN0aW9uKEwpe1U9TH0sdGhpcy5kaXNwb3NlPWZ1bmN0aW9uKCl7fX19ZnVuY3Rpb24gV2ViR0xNYXRlcmlhbHMocyl7ZnVuY3Rpb24gZShtLHApe20uZm9nQ29sb3IudmFsdWUuY29weShwLmNvbG9yKSxwLmlzRm9nPyhtLmZvZ05lYXIudmFsdWU9cC5uZWFyLG0uZm9nRmFyLnZhbHVlPXAuZmFyKTpwLmlzRm9nRXhwMiYmKG0uZm9nRGVuc2l0eS52YWx1ZT1wLmRlbnNpdHkpfWZ1bmN0aW9uIHQobSxwLFQsdyxTKXtwLmlzTWVzaEJhc2ljTWF0ZXJpYWw/bihtLHApOnAuaXNNZXNoTGFtYmVydE1hdGVyaWFsPyhuKG0scCksbChtLHApKTpwLmlzTWVzaFRvb25NYXRlcmlhbD8obihtLHApLGgobSxwKSk6cC5pc01lc2hQaG9uZ01hdGVyaWFsPyhuKG0scCksYyhtLHApKTpwLmlzTWVzaFN0YW5kYXJkTWF0ZXJpYWw/KG4obSxwKSxwLmlzTWVzaFBoeXNpY2FsTWF0ZXJpYWw/ZChtLHAsUyk6dShtLHApKTpwLmlzTWVzaE1hdGNhcE1hdGVyaWFsPyhuKG0scCksZihtLHApKTpwLmlzTWVzaERlcHRoTWF0ZXJpYWw/KG4obSxwKSxnKG0scCkpOnAuaXNNZXNoRGlzdGFuY2VNYXRlcmlhbD8obihtLHApLF8obSxwKSk6cC5pc01lc2hOb3JtYWxNYXRlcmlhbD8obihtLHApLHkobSxwKSk6cC5pc0xpbmVCYXNpY01hdGVyaWFsPyhpKG0scCkscC5pc0xpbmVEYXNoZWRNYXRlcmlhbCYmcihtLHApKTpwLmlzUG9pbnRzTWF0ZXJpYWw/YShtLHAsVCx3KTpwLmlzU3ByaXRlTWF0ZXJpYWw/byhtLHApOnAuaXNTaGFkb3dNYXRlcmlhbD8obS5jb2xvci52YWx1ZS5jb3B5KHAuY29sb3IpLG0ub3BhY2l0eS52YWx1ZT1wLm9wYWNpdHkpOnAuaXNTaGFkZXJNYXRlcmlhbCYmKHAudW5pZm9ybXNOZWVkVXBkYXRlPSExKX1mdW5jdGlvbiBuKG0scCl7bS5vcGFjaXR5LnZhbHVlPXAub3BhY2l0eSxwLmNvbG9yJiZtLmRpZmZ1c2UudmFsdWUuY29weShwLmNvbG9yKSxwLmVtaXNzaXZlJiZtLmVtaXNzaXZlLnZhbHVlLmNvcHkocC5lbWlzc2l2ZSkubXVsdGlwbHlTY2FsYXIocC5lbWlzc2l2ZUludGVuc2l0eSkscC5tYXAmJihtLm1hcC52YWx1ZT1wLm1hcCkscC5hbHBoYU1hcCYmKG0uYWxwaGFNYXAudmFsdWU9cC5hbHBoYU1hcCkscC5zcGVjdWxhck1hcCYmKG0uc3BlY3VsYXJNYXAudmFsdWU9cC5zcGVjdWxhck1hcCkscC5hbHBoYVRlc3Q+MCYmKG0uYWxwaGFUZXN0LnZhbHVlPXAuYWxwaGFUZXN0KTtjb25zdCBUPXMuZ2V0KHApLmVudk1hcDtUJiYobS5lbnZNYXAudmFsdWU9VCxtLmZsaXBFbnZNYXAudmFsdWU9VC5pc0N1YmVUZXh0dXJlJiZULmlzUmVuZGVyVGFyZ2V0VGV4dHVyZT09PSExPy0xOjEsbS5yZWZsZWN0aXZpdHkudmFsdWU9cC5yZWZsZWN0aXZpdHksbS5pb3IudmFsdWU9cC5pb3IsbS5yZWZyYWN0aW9uUmF0aW8udmFsdWU9cC5yZWZyYWN0aW9uUmF0aW8pLHAubGlnaHRNYXAmJihtLmxpZ2h0TWFwLnZhbHVlPXAubGlnaHRNYXAsbS5saWdodE1hcEludGVuc2l0eS52YWx1ZT1wLmxpZ2h0TWFwSW50ZW5zaXR5KSxwLmFvTWFwJiYobS5hb01hcC52YWx1ZT1wLmFvTWFwLG0uYW9NYXBJbnRlbnNpdHkudmFsdWU9cC5hb01hcEludGVuc2l0eSk7bGV0IHc7cC5tYXA/dz1wLm1hcDpwLnNwZWN1bGFyTWFwP3c9cC5zcGVjdWxhck1hcDpwLmRpc3BsYWNlbWVudE1hcD93PXAuZGlzcGxhY2VtZW50TWFwOnAubm9ybWFsTWFwP3c9cC5ub3JtYWxNYXA6cC5idW1wTWFwP3c9cC5idW1wTWFwOnAucm91Z2huZXNzTWFwP3c9cC5yb3VnaG5lc3NNYXA6cC5tZXRhbG5lc3NNYXA/dz1wLm1ldGFsbmVzc01hcDpwLmFscGhhTWFwP3c9cC5hbHBoYU1hcDpwLmVtaXNzaXZlTWFwP3c9cC5lbWlzc2l2ZU1hcDpwLmNsZWFyY29hdE1hcD93PXAuY2xlYXJjb2F0TWFwOnAuY2xlYXJjb2F0Tm9ybWFsTWFwP3c9cC5jbGVhcmNvYXROb3JtYWxNYXA6cC5jbGVhcmNvYXRSb3VnaG5lc3NNYXA/dz1wLmNsZWFyY29hdFJvdWdobmVzc01hcDpwLnNwZWN1bGFySW50ZW5zaXR5TWFwP3c9cC5zcGVjdWxhckludGVuc2l0eU1hcDpwLnNwZWN1bGFyQ29sb3JNYXA/dz1wLnNwZWN1bGFyQ29sb3JNYXA6cC50cmFuc21pc3Npb25NYXA/dz1wLnRyYW5zbWlzc2lvbk1hcDpwLnRoaWNrbmVzc01hcD93PXAudGhpY2tuZXNzTWFwOnAuc2hlZW5Db2xvck1hcD93PXAuc2hlZW5Db2xvck1hcDpwLnNoZWVuUm91Z2huZXNzTWFwJiYodz1wLnNoZWVuUm91Z2huZXNzTWFwKSx3IT09dm9pZCAwJiYody5pc1dlYkdMUmVuZGVyVGFyZ2V0JiYodz13LnRleHR1cmUpLHcubWF0cml4QXV0b1VwZGF0ZT09PSEwJiZ3LnVwZGF0ZU1hdHJpeCgpLG0udXZUcmFuc2Zvcm0udmFsdWUuY29weSh3Lm1hdHJpeCkpO2xldCBTO3AuYW9NYXA/Uz1wLmFvTWFwOnAubGlnaHRNYXAmJihTPXAubGlnaHRNYXApLFMhPT12b2lkIDAmJihTLmlzV2ViR0xSZW5kZXJUYXJnZXQmJihTPVMudGV4dHVyZSksUy5tYXRyaXhBdXRvVXBkYXRlPT09ITAmJlMudXBkYXRlTWF0cml4KCksbS51djJUcmFuc2Zvcm0udmFsdWUuY29weShTLm1hdHJpeCkpfWZ1bmN0aW9uIGkobSxwKXttLmRpZmZ1c2UudmFsdWUuY29weShwLmNvbG9yKSxtLm9wYWNpdHkudmFsdWU9cC5vcGFjaXR5fWZ1bmN0aW9uIHIobSxwKXttLmRhc2hTaXplLnZhbHVlPXAuZGFzaFNpemUsbS50b3RhbFNpemUudmFsdWU9cC5kYXNoU2l6ZStwLmdhcFNpemUsbS5zY2FsZS52YWx1ZT1wLnNjYWxlfWZ1bmN0aW9uIGEobSxwLFQsdyl7bS5kaWZmdXNlLnZhbHVlLmNvcHkocC5jb2xvciksbS5vcGFjaXR5LnZhbHVlPXAub3BhY2l0eSxtLnNpemUudmFsdWU9cC5zaXplKlQsbS5zY2FsZS52YWx1ZT13Ki41LHAubWFwJiYobS5tYXAudmFsdWU9cC5tYXApLHAuYWxwaGFNYXAmJihtLmFscGhhTWFwLnZhbHVlPXAuYWxwaGFNYXApLHAuYWxwaGFUZXN0PjAmJihtLmFscGhhVGVzdC52YWx1ZT1wLmFscGhhVGVzdCk7bGV0IFM7cC5tYXA/Uz1wLm1hcDpwLmFscGhhTWFwJiYoUz1wLmFscGhhTWFwKSxTIT09dm9pZCAwJiYoUy5tYXRyaXhBdXRvVXBkYXRlPT09ITAmJlMudXBkYXRlTWF0cml4KCksbS51dlRyYW5zZm9ybS52YWx1ZS5jb3B5KFMubWF0cml4KSl9ZnVuY3Rpb24gbyhtLHApe20uZGlmZnVzZS52YWx1ZS5jb3B5KHAuY29sb3IpLG0ub3BhY2l0eS52YWx1ZT1wLm9wYWNpdHksbS5yb3RhdGlvbi52YWx1ZT1wLnJvdGF0aW9uLHAubWFwJiYobS5tYXAudmFsdWU9cC5tYXApLHAuYWxwaGFNYXAmJihtLmFscGhhTWFwLnZhbHVlPXAuYWxwaGFNYXApLHAuYWxwaGFUZXN0PjAmJihtLmFscGhhVGVzdC52YWx1ZT1wLmFscGhhVGVzdCk7bGV0IFQ7cC5tYXA/VD1wLm1hcDpwLmFscGhhTWFwJiYoVD1wLmFscGhhTWFwKSxUIT09dm9pZCAwJiYoVC5tYXRyaXhBdXRvVXBkYXRlPT09ITAmJlQudXBkYXRlTWF0cml4KCksbS51dlRyYW5zZm9ybS52YWx1ZS5jb3B5KFQubWF0cml4KSl9ZnVuY3Rpb24gbChtLHApe3AuZW1pc3NpdmVNYXAmJihtLmVtaXNzaXZlTWFwLnZhbHVlPXAuZW1pc3NpdmVNYXApfWZ1bmN0aW9uIGMobSxwKXttLnNwZWN1bGFyLnZhbHVlLmNvcHkocC5zcGVjdWxhciksbS5zaGluaW5lc3MudmFsdWU9TWF0aC5tYXgocC5zaGluaW5lc3MsMWUtNCkscC5lbWlzc2l2ZU1hcCYmKG0uZW1pc3NpdmVNYXAudmFsdWU9cC5lbWlzc2l2ZU1hcCkscC5idW1wTWFwJiYobS5idW1wTWFwLnZhbHVlPXAuYnVtcE1hcCxtLmJ1bXBTY2FsZS52YWx1ZT1wLmJ1bXBTY2FsZSxwLnNpZGU9PT0xJiYobS5idW1wU2NhbGUudmFsdWUqPS0xKSkscC5ub3JtYWxNYXAmJihtLm5vcm1hbE1hcC52YWx1ZT1wLm5vcm1hbE1hcCxtLm5vcm1hbFNjYWxlLnZhbHVlLmNvcHkocC5ub3JtYWxTY2FsZSkscC5zaWRlPT09MSYmbS5ub3JtYWxTY2FsZS52YWx1ZS5uZWdhdGUoKSkscC5kaXNwbGFjZW1lbnRNYXAmJihtLmRpc3BsYWNlbWVudE1hcC52YWx1ZT1wLmRpc3BsYWNlbWVudE1hcCxtLmRpc3BsYWNlbWVudFNjYWxlLnZhbHVlPXAuZGlzcGxhY2VtZW50U2NhbGUsbS5kaXNwbGFjZW1lbnRCaWFzLnZhbHVlPXAuZGlzcGxhY2VtZW50Qmlhcyl9ZnVuY3Rpb24gaChtLHApe3AuZ3JhZGllbnRNYXAmJihtLmdyYWRpZW50TWFwLnZhbHVlPXAuZ3JhZGllbnRNYXApLHAuZW1pc3NpdmVNYXAmJihtLmVtaXNzaXZlTWFwLnZhbHVlPXAuZW1pc3NpdmVNYXApLHAuYnVtcE1hcCYmKG0uYnVtcE1hcC52YWx1ZT1wLmJ1bXBNYXAsbS5idW1wU2NhbGUudmFsdWU9cC5idW1wU2NhbGUscC5zaWRlPT09MSYmKG0uYnVtcFNjYWxlLnZhbHVlKj0tMSkpLHAubm9ybWFsTWFwJiYobS5ub3JtYWxNYXAudmFsdWU9cC5ub3JtYWxNYXAsbS5ub3JtYWxTY2FsZS52YWx1ZS5jb3B5KHAubm9ybWFsU2NhbGUpLHAuc2lkZT09PTEmJm0ubm9ybWFsU2NhbGUudmFsdWUubmVnYXRlKCkpLHAuZGlzcGxhY2VtZW50TWFwJiYobS5kaXNwbGFjZW1lbnRNYXAudmFsdWU9cC5kaXNwbGFjZW1lbnRNYXAsbS5kaXNwbGFjZW1lbnRTY2FsZS52YWx1ZT1wLmRpc3BsYWNlbWVudFNjYWxlLG0uZGlzcGxhY2VtZW50Qmlhcy52YWx1ZT1wLmRpc3BsYWNlbWVudEJpYXMpfWZ1bmN0aW9uIHUobSxwKXttLnJvdWdobmVzcy52YWx1ZT1wLnJvdWdobmVzcyxtLm1ldGFsbmVzcy52YWx1ZT1wLm1ldGFsbmVzcyxwLnJvdWdobmVzc01hcCYmKG0ucm91Z2huZXNzTWFwLnZhbHVlPXAucm91Z2huZXNzTWFwKSxwLm1ldGFsbmVzc01hcCYmKG0ubWV0YWxuZXNzTWFwLnZhbHVlPXAubWV0YWxuZXNzTWFwKSxwLmVtaXNzaXZlTWFwJiYobS5lbWlzc2l2ZU1hcC52YWx1ZT1wLmVtaXNzaXZlTWFwKSxwLmJ1bXBNYXAmJihtLmJ1bXBNYXAudmFsdWU9cC5idW1wTWFwLG0uYnVtcFNjYWxlLnZhbHVlPXAuYnVtcFNjYWxlLHAuc2lkZT09PTEmJihtLmJ1bXBTY2FsZS52YWx1ZSo9LTEpKSxwLm5vcm1hbE1hcCYmKG0ubm9ybWFsTWFwLnZhbHVlPXAubm9ybWFsTWFwLG0ubm9ybWFsU2NhbGUudmFsdWUuY29weShwLm5vcm1hbFNjYWxlKSxwLnNpZGU9PT0xJiZtLm5vcm1hbFNjYWxlLnZhbHVlLm5lZ2F0ZSgpKSxwLmRpc3BsYWNlbWVudE1hcCYmKG0uZGlzcGxhY2VtZW50TWFwLnZhbHVlPXAuZGlzcGxhY2VtZW50TWFwLG0uZGlzcGxhY2VtZW50U2NhbGUudmFsdWU9cC5kaXNwbGFjZW1lbnRTY2FsZSxtLmRpc3BsYWNlbWVudEJpYXMudmFsdWU9cC5kaXNwbGFjZW1lbnRCaWFzKSxzLmdldChwKS5lbnZNYXAmJihtLmVudk1hcEludGVuc2l0eS52YWx1ZT1wLmVudk1hcEludGVuc2l0eSl9ZnVuY3Rpb24gZChtLHAsVCl7dShtLHApLG0uaW9yLnZhbHVlPXAuaW9yLHAuc2hlZW4+MCYmKG0uc2hlZW5Db2xvci52YWx1ZS5jb3B5KHAuc2hlZW5Db2xvcikubXVsdGlwbHlTY2FsYXIocC5zaGVlbiksbS5zaGVlblJvdWdobmVzcy52YWx1ZT1wLnNoZWVuUm91Z2huZXNzLHAuc2hlZW5Db2xvck1hcCYmKG0uc2hlZW5Db2xvck1hcC52YWx1ZT1wLnNoZWVuQ29sb3JNYXApLHAuc2hlZW5Sb3VnaG5lc3NNYXAmJihtLnNoZWVuUm91Z2huZXNzTWFwLnZhbHVlPXAuc2hlZW5Sb3VnaG5lc3NNYXApKSxwLmNsZWFyY29hdD4wJiYobS5jbGVhcmNvYXQudmFsdWU9cC5jbGVhcmNvYXQsbS5jbGVhcmNvYXRSb3VnaG5lc3MudmFsdWU9cC5jbGVhcmNvYXRSb3VnaG5lc3MscC5jbGVhcmNvYXRNYXAmJihtLmNsZWFyY29hdE1hcC52YWx1ZT1wLmNsZWFyY29hdE1hcCkscC5jbGVhcmNvYXRSb3VnaG5lc3NNYXAmJihtLmNsZWFyY29hdFJvdWdobmVzc01hcC52YWx1ZT1wLmNsZWFyY29hdFJvdWdobmVzc01hcCkscC5jbGVhcmNvYXROb3JtYWxNYXAmJihtLmNsZWFyY29hdE5vcm1hbFNjYWxlLnZhbHVlLmNvcHkocC5jbGVhcmNvYXROb3JtYWxTY2FsZSksbS5jbGVhcmNvYXROb3JtYWxNYXAudmFsdWU9cC5jbGVhcmNvYXROb3JtYWxNYXAscC5zaWRlPT09MSYmbS5jbGVhcmNvYXROb3JtYWxTY2FsZS52YWx1ZS5uZWdhdGUoKSkpLHAudHJhbnNtaXNzaW9uPjAmJihtLnRyYW5zbWlzc2lvbi52YWx1ZT1wLnRyYW5zbWlzc2lvbixtLnRyYW5zbWlzc2lvblNhbXBsZXJNYXAudmFsdWU9VC50ZXh0dXJlLG0udHJhbnNtaXNzaW9uU2FtcGxlclNpemUudmFsdWUuc2V0KFQud2lkdGgsVC5oZWlnaHQpLHAudHJhbnNtaXNzaW9uTWFwJiYobS50cmFuc21pc3Npb25NYXAudmFsdWU9cC50cmFuc21pc3Npb25NYXApLG0udGhpY2tuZXNzLnZhbHVlPXAudGhpY2tuZXNzLHAudGhpY2tuZXNzTWFwJiYobS50aGlja25lc3NNYXAudmFsdWU9cC50aGlja25lc3NNYXApLG0uYXR0ZW51YXRpb25EaXN0YW5jZS52YWx1ZT1wLmF0dGVudWF0aW9uRGlzdGFuY2UsbS5hdHRlbnVhdGlvbkNvbG9yLnZhbHVlLmNvcHkocC5hdHRlbnVhdGlvbkNvbG9yKSksbS5zcGVjdWxhckludGVuc2l0eS52YWx1ZT1wLnNwZWN1bGFySW50ZW5zaXR5LG0uc3BlY3VsYXJDb2xvci52YWx1ZS5jb3B5KHAuc3BlY3VsYXJDb2xvcikscC5zcGVjdWxhckludGVuc2l0eU1hcCYmKG0uc3BlY3VsYXJJbnRlbnNpdHlNYXAudmFsdWU9cC5zcGVjdWxhckludGVuc2l0eU1hcCkscC5zcGVjdWxhckNvbG9yTWFwJiYobS5zcGVjdWxhckNvbG9yTWFwLnZhbHVlPXAuc3BlY3VsYXJDb2xvck1hcCl9ZnVuY3Rpb24gZihtLHApe3AubWF0Y2FwJiYobS5tYXRjYXAudmFsdWU9cC5tYXRjYXApLHAuYnVtcE1hcCYmKG0uYnVtcE1hcC52YWx1ZT1wLmJ1bXBNYXAsbS5idW1wU2NhbGUudmFsdWU9cC5idW1wU2NhbGUscC5zaWRlPT09MSYmKG0uYnVtcFNjYWxlLnZhbHVlKj0tMSkpLHAubm9ybWFsTWFwJiYobS5ub3JtYWxNYXAudmFsdWU9cC5ub3JtYWxNYXAsbS5ub3JtYWxTY2FsZS52YWx1ZS5jb3B5KHAubm9ybWFsU2NhbGUpLHAuc2lkZT09PTEmJm0ubm9ybWFsU2NhbGUudmFsdWUubmVnYXRlKCkpLHAuZGlzcGxhY2VtZW50TWFwJiYobS5kaXNwbGFjZW1lbnRNYXAudmFsdWU9cC5kaXNwbGFjZW1lbnRNYXAsbS5kaXNwbGFjZW1lbnRTY2FsZS52YWx1ZT1wLmRpc3BsYWNlbWVudFNjYWxlLG0uZGlzcGxhY2VtZW50Qmlhcy52YWx1ZT1wLmRpc3BsYWNlbWVudEJpYXMpfWZ1bmN0aW9uIGcobSxwKXtwLmRpc3BsYWNlbWVudE1hcCYmKG0uZGlzcGxhY2VtZW50TWFwLnZhbHVlPXAuZGlzcGxhY2VtZW50TWFwLG0uZGlzcGxhY2VtZW50U2NhbGUudmFsdWU9cC5kaXNwbGFjZW1lbnRTY2FsZSxtLmRpc3BsYWNlbWVudEJpYXMudmFsdWU9cC5kaXNwbGFjZW1lbnRCaWFzKX1mdW5jdGlvbiBfKG0scCl7cC5kaXNwbGFjZW1lbnRNYXAmJihtLmRpc3BsYWNlbWVudE1hcC52YWx1ZT1wLmRpc3BsYWNlbWVudE1hcCxtLmRpc3BsYWNlbWVudFNjYWxlLnZhbHVlPXAuZGlzcGxhY2VtZW50U2NhbGUsbS5kaXNwbGFjZW1lbnRCaWFzLnZhbHVlPXAuZGlzcGxhY2VtZW50QmlhcyksbS5yZWZlcmVuY2VQb3NpdGlvbi52YWx1ZS5jb3B5KHAucmVmZXJlbmNlUG9zaXRpb24pLG0ubmVhckRpc3RhbmNlLnZhbHVlPXAubmVhckRpc3RhbmNlLG0uZmFyRGlzdGFuY2UudmFsdWU9cC5mYXJEaXN0YW5jZX1mdW5jdGlvbiB5KG0scCl7cC5idW1wTWFwJiYobS5idW1wTWFwLnZhbHVlPXAuYnVtcE1hcCxtLmJ1bXBTY2FsZS52YWx1ZT1wLmJ1bXBTY2FsZSxwLnNpZGU9PT0xJiYobS5idW1wU2NhbGUudmFsdWUqPS0xKSkscC5ub3JtYWxNYXAmJihtLm5vcm1hbE1hcC52YWx1ZT1wLm5vcm1hbE1hcCxtLm5vcm1hbFNjYWxlLnZhbHVlLmNvcHkocC5ub3JtYWxTY2FsZSkscC5zaWRlPT09MSYmbS5ub3JtYWxTY2FsZS52YWx1ZS5uZWdhdGUoKSkscC5kaXNwbGFjZW1lbnRNYXAmJihtLmRpc3BsYWNlbWVudE1hcC52YWx1ZT1wLmRpc3BsYWNlbWVudE1hcCxtLmRpc3BsYWNlbWVudFNjYWxlLnZhbHVlPXAuZGlzcGxhY2VtZW50U2NhbGUsbS5kaXNwbGFjZW1lbnRCaWFzLnZhbHVlPXAuZGlzcGxhY2VtZW50Qmlhcyl9cmV0dXJue3JlZnJlc2hGb2dVbmlmb3JtczplLHJlZnJlc2hNYXRlcmlhbFVuaWZvcm1zOnR9fWZ1bmN0aW9uIGNyZWF0ZUNhbnZhc0VsZW1lbnQoKXtjb25zdCBzPWNyZWF0ZUVsZW1lbnROUygiY2FudmFzIik7cmV0dXJuIHMuc3R5bGUuZGlzcGxheT0iYmxvY2siLHN9ZnVuY3Rpb24gV2ViR0xSZW5kZXJlcihzPXt9KXtjb25zdCBlPXMuY2FudmFzIT09dm9pZCAwP3MuY2FudmFzOmNyZWF0ZUNhbnZhc0VsZW1lbnQoKSx0PXMuY29udGV4dCE9PXZvaWQgMD9zLmNvbnRleHQ6bnVsbCxuPXMuZGVwdGghPT12b2lkIDA/cy5kZXB0aDohMCxpPXMuc3RlbmNpbCE9PXZvaWQgMD9zLnN0ZW5jaWw6ITAscj1zLmFudGlhbGlhcyE9PXZvaWQgMD9zLmFudGlhbGlhczohMSxhPXMucHJlbXVsdGlwbGllZEFscGhhIT09dm9pZCAwP3MucHJlbXVsdGlwbGllZEFscGhhOiEwLG89cy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXIhPT12b2lkIDA/cy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI6ITEsbD1zLnBvd2VyUHJlZmVyZW5jZSE9PXZvaWQgMD9zLnBvd2VyUHJlZmVyZW5jZToiZGVmYXVsdCIsYz1zLmZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQhPT12b2lkIDA/cy5mYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0OiExO2xldCBoO3MuY29udGV4dCE9PXZvaWQgMD9oPXQuZ2V0Q29udGV4dEF0dHJpYnV0ZXMoKS5hbHBoYTpoPXMuYWxwaGEhPT12b2lkIDA/cy5hbHBoYTohMTtsZXQgdT1udWxsLGQ9bnVsbDtjb25zdCBmPVtdLGc9W107dGhpcy5kb21FbGVtZW50PWUsdGhpcy5kZWJ1Zz17Y2hlY2tTaGFkZXJFcnJvcnM6ITB9LHRoaXMuYXV0b0NsZWFyPSEwLHRoaXMuYXV0b0NsZWFyQ29sb3I9ITAsdGhpcy5hdXRvQ2xlYXJEZXB0aD0hMCx0aGlzLmF1dG9DbGVhclN0ZW5jaWw9ITAsdGhpcy5zb3J0T2JqZWN0cz0hMCx0aGlzLmNsaXBwaW5nUGxhbmVzPVtdLHRoaXMubG9jYWxDbGlwcGluZ0VuYWJsZWQ9ITEsdGhpcy5vdXRwdXRFbmNvZGluZz0zZTMsdGhpcy5waHlzaWNhbGx5Q29ycmVjdExpZ2h0cz0hMSx0aGlzLnRvbmVNYXBwaW5nPTAsdGhpcy50b25lTWFwcGluZ0V4cG9zdXJlPTE7Y29uc3QgXz10aGlzO2xldCB5PSExLG09MCxwPTAsVD1udWxsLHc9LTEsUz1udWxsO2NvbnN0IFI9bmV3IFZlY3RvcjQsRD1uZXcgVmVjdG9yNDtsZXQgWD1udWxsLGllPWUud2lkdGgsej1lLmhlaWdodCx4PTEsQT1udWxsLFA9bnVsbDtjb25zdCBCPW5ldyBWZWN0b3I0KDAsMCxpZSx6KSxVPW5ldyBWZWN0b3I0KDAsMCxpZSx6KTtsZXQgRj0hMTtjb25zdCBHPW5ldyBGcnVzdHVtO2xldCBMPSExLFc9ITEsWj1udWxsO2NvbnN0IFk9bmV3IE1hdHJpeDQsSj1uZXcgVmVjdG9yMixmZT1uZXcgVmVjdG9yMyxQZT17YmFja2dyb3VuZDpudWxsLGZvZzpudWxsLGVudmlyb25tZW50Om51bGwsb3ZlcnJpZGVNYXRlcmlhbDpudWxsLGlzU2NlbmU6ITB9O2Z1bmN0aW9uIG1lKCl7cmV0dXJuIFQ9PT1udWxsP3g6MX1sZXQgJD10O2Z1bmN0aW9uIERlKE0sQyl7Zm9yKGxldCBOPTA7TjxNLmxlbmd0aDtOKyspe2NvbnN0IEk9TVtOXSxIPWUuZ2V0Q29udGV4dChJLEMpO2lmKEghPT1udWxsKXJldHVybiBIfXJldHVybiBudWxsfXRyeXtjb25zdCBNPXthbHBoYTohMCxkZXB0aDpuLHN0ZW5jaWw6aSxhbnRpYWxpYXM6cixwcmVtdWx0aXBsaWVkQWxwaGE6YSxwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6byxwb3dlclByZWZlcmVuY2U6bCxmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0OmN9O2lmKCJzZXRBdHRyaWJ1dGUiaW4gZSYmZS5zZXRBdHRyaWJ1dGUoImRhdGEtZW5naW5lIixgdGhyZWUuanMgciR7UkVWSVNJT059YCksZS5hZGRFdmVudExpc3RlbmVyKCJ3ZWJnbGNvbnRleHRsb3N0IixFLCExKSxlLmFkZEV2ZW50TGlzdGVuZXIoIndlYmdsY29udGV4dHJlc3RvcmVkIixhZSwhMSksJD09PW51bGwpe2NvbnN0IEM9WyJ3ZWJnbDIiLCJ3ZWJnbCIsImV4cGVyaW1lbnRhbC13ZWJnbCJdO2lmKF8uaXNXZWJHTDFSZW5kZXJlcj09PSEwJiZDLnNoaWZ0KCksJD1EZShDLE0pLCQ9PT1udWxsKXRocm93IERlKEMpP25ldyBFcnJvcigiRXJyb3IgY3JlYXRpbmcgV2ViR0wgY29udGV4dCB3aXRoIHlvdXIgc2VsZWN0ZWQgYXR0cmlidXRlcy4iKTpuZXcgRXJyb3IoIkVycm9yIGNyZWF0aW5nIFdlYkdMIGNvbnRleHQuIil9JC5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQ9PT12b2lkIDAmJigkLmdldFNoYWRlclByZWNpc2lvbkZvcm1hdD1mdW5jdGlvbigpe3JldHVybntyYW5nZU1pbjoxLHJhbmdlTWF4OjEscHJlY2lzaW9uOjF9fSl9Y2F0Y2goTSl7dGhyb3cgY29uc29sZS5lcnJvcigiVEhSRUUuV2ViR0xSZW5kZXJlcjogIitNLm1lc3NhZ2UpLE19bGV0IFNlLGxlLGNlLEFlLFYsaixRLG9lLHRlLGdlLHVlLHdlLFZlLGIsdixPLHEsZWUsc2UscGUsayx4ZSx2ZTtmdW5jdGlvbiBkZSgpe1NlPW5ldyBXZWJHTEV4dGVuc2lvbnMoJCksbGU9bmV3IFdlYkdMQ2FwYWJpbGl0aWVzKCQsU2UscyksU2UuaW5pdChsZSkseGU9bmV3IFdlYkdMVXRpbHMoJCxTZSxsZSksY2U9bmV3IFdlYkdMU3RhdGUoJCxTZSxsZSksQWU9bmV3IFdlYkdMSW5mbygkKSxWPW5ldyBXZWJHTFByb3BlcnRpZXMsaj1uZXcgV2ViR0xUZXh0dXJlcygkLFNlLGNlLFYsbGUseGUsQWUpLFE9bmV3IFdlYkdMQ3ViZU1hcHMoXyksb2U9bmV3IFdlYkdMQ3ViZVVWTWFwcyhfKSx0ZT1uZXcgV2ViR0xBdHRyaWJ1dGVzKCQsbGUpLHZlPW5ldyBXZWJHTEJpbmRpbmdTdGF0ZXMoJCxTZSx0ZSxsZSksZ2U9bmV3IFdlYkdMR2VvbWV0cmllcygkLHRlLEFlLHZlKSx1ZT1uZXcgV2ViR0xPYmplY3RzKCQsZ2UsdGUsQWUpLHNlPW5ldyBXZWJHTE1vcnBodGFyZ2V0cygkLGxlLGopLE89bmV3IFdlYkdMQ2xpcHBpbmcoViksd2U9bmV3IFdlYkdMUHJvZ3JhbXMoXyxRLG9lLFNlLGxlLHZlLE8pLFZlPW5ldyBXZWJHTE1hdGVyaWFscyhWKSxiPW5ldyBXZWJHTFJlbmRlckxpc3RzLHY9bmV3IFdlYkdMUmVuZGVyU3RhdGVzKFNlLGxlKSxlZT1uZXcgV2ViR0xCYWNrZ3JvdW5kKF8sUSxjZSx1ZSxoLGEpLHE9bmV3IFdlYkdMU2hhZG93TWFwKF8sdWUsbGUpLHBlPW5ldyBXZWJHTEJ1ZmZlclJlbmRlcmVyKCQsU2UsQWUsbGUpLGs9bmV3IFdlYkdMSW5kZXhlZEJ1ZmZlclJlbmRlcmVyKCQsU2UsQWUsbGUpLEFlLnByb2dyYW1zPXdlLnByb2dyYW1zLF8uY2FwYWJpbGl0aWVzPWxlLF8uZXh0ZW5zaW9ucz1TZSxfLnByb3BlcnRpZXM9VixfLnJlbmRlckxpc3RzPWIsXy5zaGFkb3dNYXA9cSxfLnN0YXRlPWNlLF8uaW5mbz1BZX1kZSgpO2NvbnN0IGhlPW5ldyBXZWJYUk1hbmFnZXIoXywkKTt0aGlzLnhyPWhlLHRoaXMuZ2V0Q29udGV4dD1mdW5jdGlvbigpe3JldHVybiAkfSx0aGlzLmdldENvbnRleHRBdHRyaWJ1dGVzPWZ1bmN0aW9uKCl7cmV0dXJuICQuZ2V0Q29udGV4dEF0dHJpYnV0ZXMoKX0sdGhpcy5mb3JjZUNvbnRleHRMb3NzPWZ1bmN0aW9uKCl7Y29uc3QgTT1TZS5nZXQoIldFQkdMX2xvc2VfY29udGV4dCIpO00mJk0ubG9zZUNvbnRleHQoKX0sdGhpcy5mb3JjZUNvbnRleHRSZXN0b3JlPWZ1bmN0aW9uKCl7Y29uc3QgTT1TZS5nZXQoIldFQkdMX2xvc2VfY29udGV4dCIpO00mJk0ucmVzdG9yZUNvbnRleHQoKX0sdGhpcy5nZXRQaXhlbFJhdGlvPWZ1bmN0aW9uKCl7cmV0dXJuIHh9LHRoaXMuc2V0UGl4ZWxSYXRpbz1mdW5jdGlvbihNKXtNIT09dm9pZCAwJiYoeD1NLHRoaXMuc2V0U2l6ZShpZSx6LCExKSl9LHRoaXMuZ2V0U2l6ZT1mdW5jdGlvbihNKXtyZXR1cm4gTS5zZXQoaWUseil9LHRoaXMuc2V0U2l6ZT1mdW5jdGlvbihNLEMsTil7aWYoaGUuaXNQcmVzZW50aW5nKXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IENhbid0IGNoYW5nZSBzaXplIHdoaWxlIFZSIGRldmljZSBpcyBwcmVzZW50aW5nLiIpO3JldHVybn1pZT1NLHo9QyxlLndpZHRoPU1hdGguZmxvb3IoTSp4KSxlLmhlaWdodD1NYXRoLmZsb29yKEMqeCksTiE9PSExJiYoZS5zdHlsZS53aWR0aD1NKyJweCIsZS5zdHlsZS5oZWlnaHQ9QysicHgiKSx0aGlzLnNldFZpZXdwb3J0KDAsMCxNLEMpfSx0aGlzLmdldERyYXdpbmdCdWZmZXJTaXplPWZ1bmN0aW9uKE0pe3JldHVybiBNLnNldChpZSp4LHoqeCkuZmxvb3IoKX0sdGhpcy5zZXREcmF3aW5nQnVmZmVyU2l6ZT1mdW5jdGlvbihNLEMsTil7aWU9TSx6PUMseD1OLGUud2lkdGg9TWF0aC5mbG9vcihNKk4pLGUuaGVpZ2h0PU1hdGguZmxvb3IoQypOKSx0aGlzLnNldFZpZXdwb3J0KDAsMCxNLEMpfSx0aGlzLmdldEN1cnJlbnRWaWV3cG9ydD1mdW5jdGlvbihNKXtyZXR1cm4gTS5jb3B5KFIpfSx0aGlzLmdldFZpZXdwb3J0PWZ1bmN0aW9uKE0pe3JldHVybiBNLmNvcHkoQil9LHRoaXMuc2V0Vmlld3BvcnQ9ZnVuY3Rpb24oTSxDLE4sSSl7TS5pc1ZlY3RvcjQ/Qi5zZXQoTS54LE0ueSxNLnosTS53KTpCLnNldChNLEMsTixJKSxjZS52aWV3cG9ydChSLmNvcHkoQikubXVsdGlwbHlTY2FsYXIoeCkuZmxvb3IoKSl9LHRoaXMuZ2V0U2Npc3Nvcj1mdW5jdGlvbihNKXtyZXR1cm4gTS5jb3B5KFUpfSx0aGlzLnNldFNjaXNzb3I9ZnVuY3Rpb24oTSxDLE4sSSl7TS5pc1ZlY3RvcjQ/VS5zZXQoTS54LE0ueSxNLnosTS53KTpVLnNldChNLEMsTixJKSxjZS5zY2lzc29yKEQuY29weShVKS5tdWx0aXBseVNjYWxhcih4KS5mbG9vcigpKX0sdGhpcy5nZXRTY2lzc29yVGVzdD1mdW5jdGlvbigpe3JldHVybiBGfSx0aGlzLnNldFNjaXNzb3JUZXN0PWZ1bmN0aW9uKE0pe2NlLnNldFNjaXNzb3JUZXN0KEY9TSl9LHRoaXMuc2V0T3BhcXVlU29ydD1mdW5jdGlvbihNKXtBPU19LHRoaXMuc2V0VHJhbnNwYXJlbnRTb3J0PWZ1bmN0aW9uKE0pe1A9TX0sdGhpcy5nZXRDbGVhckNvbG9yPWZ1bmN0aW9uKE0pe3JldHVybiBNLmNvcHkoZWUuZ2V0Q2xlYXJDb2xvcigpKX0sdGhpcy5zZXRDbGVhckNvbG9yPWZ1bmN0aW9uKCl7ZWUuc2V0Q2xlYXJDb2xvci5hcHBseShlZSxhcmd1bWVudHMpfSx0aGlzLmdldENsZWFyQWxwaGE9ZnVuY3Rpb24oKXtyZXR1cm4gZWUuZ2V0Q2xlYXJBbHBoYSgpfSx0aGlzLnNldENsZWFyQWxwaGE9ZnVuY3Rpb24oKXtlZS5zZXRDbGVhckFscGhhLmFwcGx5KGVlLGFyZ3VtZW50cyl9LHRoaXMuY2xlYXI9ZnVuY3Rpb24oTT0hMCxDPSEwLE49ITApe2xldCBJPTA7TSYmKEl8PTE2Mzg0KSxDJiYoSXw9MjU2KSxOJiYoSXw9MTAyNCksJC5jbGVhcihJKX0sdGhpcy5jbGVhckNvbG9yPWZ1bmN0aW9uKCl7dGhpcy5jbGVhcighMCwhMSwhMSl9LHRoaXMuY2xlYXJEZXB0aD1mdW5jdGlvbigpe3RoaXMuY2xlYXIoITEsITAsITEpfSx0aGlzLmNsZWFyU3RlbmNpbD1mdW5jdGlvbigpe3RoaXMuY2xlYXIoITEsITEsITApfSx0aGlzLmRpc3Bvc2U9ZnVuY3Rpb24oKXtlLnJlbW92ZUV2ZW50TGlzdGVuZXIoIndlYmdsY29udGV4dGxvc3QiLEUsITEpLGUucmVtb3ZlRXZlbnRMaXN0ZW5lcigid2ViZ2xjb250ZXh0cmVzdG9yZWQiLGFlLCExKSxiLmRpc3Bvc2UoKSx2LmRpc3Bvc2UoKSxWLmRpc3Bvc2UoKSxRLmRpc3Bvc2UoKSxvZS5kaXNwb3NlKCksdWUuZGlzcG9zZSgpLHZlLmRpc3Bvc2UoKSx3ZS5kaXNwb3NlKCksaGUuZGlzcG9zZSgpLGhlLnJlbW92ZUV2ZW50TGlzdGVuZXIoInNlc3Npb25zdGFydCIsQ2UpLGhlLnJlbW92ZUV2ZW50TGlzdGVuZXIoInNlc3Npb25lbmQiLHplKSxaJiYoWi5kaXNwb3NlKCksWj1udWxsKSxGZS5zdG9wKCl9O2Z1bmN0aW9uIEUoTSl7TS5wcmV2ZW50RGVmYXVsdCgpLGNvbnNvbGUubG9nKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiBDb250ZXh0IExvc3QuIikseT0hMH1mdW5jdGlvbiBhZSgpe2NvbnNvbGUubG9nKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiBDb250ZXh0IFJlc3RvcmVkLiIpLHk9ITE7Y29uc3QgTT1BZS5hdXRvUmVzZXQsQz1xLmVuYWJsZWQsTj1xLmF1dG9VcGRhdGUsST1xLm5lZWRzVXBkYXRlLEg9cS50eXBlO2RlKCksQWUuYXV0b1Jlc2V0PU0scS5lbmFibGVkPUMscS5hdXRvVXBkYXRlPU4scS5uZWVkc1VwZGF0ZT1JLHEudHlwZT1IfWZ1bmN0aW9uIG5lKE0pe2NvbnN0IEM9TS50YXJnZXQ7Qy5yZW1vdmVFdmVudExpc3RlbmVyKCJkaXNwb3NlIixuZSksTWUoQyl9ZnVuY3Rpb24gTWUoTSl7cmUoTSksVi5yZW1vdmUoTSl9ZnVuY3Rpb24gcmUoTSl7Y29uc3QgQz1WLmdldChNKS5wcm9ncmFtcztDIT09dm9pZCAwJiYoQy5mb3JFYWNoKGZ1bmN0aW9uKE4pe3dlLnJlbGVhc2VQcm9ncmFtKE4pfSksTS5pc1NoYWRlck1hdGVyaWFsJiZ3ZS5yZWxlYXNlU2hhZGVyQ2FjaGUoTSkpfXRoaXMucmVuZGVyQnVmZmVyRGlyZWN0PWZ1bmN0aW9uKE0sQyxOLEksSCxfZSl7Qz09PW51bGwmJihDPVBlKTtjb25zdCBiZT1ILmlzTWVzaCYmSC5tYXRyaXhXb3JsZC5kZXRlcm1pbmFudCgpPDAsRWU9YXQoTSxDLE4sSSxIKTtjZS5zZXRNYXRlcmlhbChJLGJlKTtsZXQgVGU9Ti5pbmRleDtjb25zdCBCZT1OLmF0dHJpYnV0ZXMucG9zaXRpb247aWYoVGU9PT1udWxsKXtpZihCZT09PXZvaWQgMHx8QmUuY291bnQ9PT0wKXJldHVybn1lbHNlIGlmKFRlLmNvdW50PT09MClyZXR1cm47bGV0IExlPTE7SS53aXJlZnJhbWU9PT0hMCYmKFRlPWdlLmdldFdpcmVmcmFtZUF0dHJpYnV0ZShOKSxMZT0yKSx2ZS5zZXR1cChILEksRWUsTixUZSk7bGV0IFJlLE5lPXBlO1RlIT09bnVsbCYmKFJlPXRlLmdldChUZSksTmU9ayxOZS5zZXRJbmRleChSZSkpO2NvbnN0IFhlPVRlIT09bnVsbD9UZS5jb3VudDpCZS5jb3VudCxqZT1OLmRyYXdSYW5nZS5zdGFydCpMZSxZZT1OLmRyYXdSYW5nZS5jb3VudCpMZSxXZT1fZSE9PW51bGw/X2Uuc3RhcnQqTGU6MCxJZT1fZSE9PW51bGw/X2UuY291bnQqTGU6MS8wLFplPU1hdGgubWF4KGplLFdlKSxVZT1NYXRoLm1pbihYZSxqZStZZSxXZStJZSktMSwkZT1NYXRoLm1heCgwLFVlLVplKzEpO2lmKCRlIT09MCl7aWYoSC5pc01lc2gpSS53aXJlZnJhbWU9PT0hMD8oY2Uuc2V0TGluZVdpZHRoKEkud2lyZWZyYW1lTGluZXdpZHRoKm1lKCkpLE5lLnNldE1vZGUoMSkpOk5lLnNldE1vZGUoNCk7ZWxzZSBpZihILmlzTGluZSl7bGV0IHFlPUkubGluZXdpZHRoO3FlPT09dm9pZCAwJiYocWU9MSksY2Uuc2V0TGluZVdpZHRoKHFlKm1lKCkpLEguaXNMaW5lU2VnbWVudHM/TmUuc2V0TW9kZSgxKTpILmlzTGluZUxvb3A/TmUuc2V0TW9kZSgyKTpOZS5zZXRNb2RlKDMpfWVsc2UgSC5pc1BvaW50cz9OZS5zZXRNb2RlKDApOkguaXNTcHJpdGUmJk5lLnNldE1vZGUoNCk7aWYoSC5pc0luc3RhbmNlZE1lc2gpTmUucmVuZGVySW5zdGFuY2VzKFplLCRlLEguY291bnQpO2Vsc2UgaWYoTi5pc0luc3RhbmNlZEJ1ZmZlckdlb21ldHJ5KXtjb25zdCBxZT1NYXRoLm1pbihOLmluc3RhbmNlQ291bnQsTi5fbWF4SW5zdGFuY2VDb3VudCk7TmUucmVuZGVySW5zdGFuY2VzKFplLCRlLHFlKX1lbHNlIE5lLnJlbmRlcihaZSwkZSl9fSx0aGlzLmNvbXBpbGU9ZnVuY3Rpb24oTSxDKXtkPXYuZ2V0KE0pLGQuaW5pdCgpLGcucHVzaChkKSxNLnRyYXZlcnNlVmlzaWJsZShmdW5jdGlvbihOKXtOLmlzTGlnaHQmJk4ubGF5ZXJzLnRlc3QoQy5sYXllcnMpJiYoZC5wdXNoTGlnaHQoTiksTi5jYXN0U2hhZG93JiZkLnB1c2hTaGFkb3coTikpfSksZC5zZXR1cExpZ2h0cyhfLnBoeXNpY2FsbHlDb3JyZWN0TGlnaHRzKSxNLnRyYXZlcnNlKGZ1bmN0aW9uKE4pe2NvbnN0IEk9Ti5tYXRlcmlhbDtpZihJKWlmKEFycmF5LmlzQXJyYXkoSSkpZm9yKGxldCBIPTA7SDxJLmxlbmd0aDtIKyspe2NvbnN0IF9lPUlbSF07ZXQoX2UsTSxOKX1lbHNlIGV0KEksTSxOKX0pLGcucG9wKCksZD1udWxsfTtsZXQgSz1udWxsO2Z1bmN0aW9uIHllKE0pe0smJksoTSl9ZnVuY3Rpb24gQ2UoKXtGZS5zdG9wKCl9ZnVuY3Rpb24gemUoKXtGZS5zdGFydCgpfWNvbnN0IEZlPW5ldyBXZWJHTEFuaW1hdGlvbjtGZS5zZXRBbmltYXRpb25Mb29wKHllKSx0eXBlb2Ygd2luZG93PCJ1IiYmRmUuc2V0Q29udGV4dCh3aW5kb3cpLHRoaXMuc2V0QW5pbWF0aW9uTG9vcD1mdW5jdGlvbihNKXtLPU0saGUuc2V0QW5pbWF0aW9uTG9vcChNKSxNPT09bnVsbD9GZS5zdG9wKCk6RmUuc3RhcnQoKX0saGUuYWRkRXZlbnRMaXN0ZW5lcigic2Vzc2lvbnN0YXJ0IixDZSksaGUuYWRkRXZlbnRMaXN0ZW5lcigic2Vzc2lvbmVuZCIsemUpLHRoaXMucmVuZGVyPWZ1bmN0aW9uKE0sQyl7aWYoQyE9PXZvaWQgMCYmQy5pc0NhbWVyYSE9PSEwKXtjb25zb2xlLmVycm9yKCJUSFJFRS5XZWJHTFJlbmRlcmVyLnJlbmRlcjogY2FtZXJhIGlzIG5vdCBhbiBpbnN0YW5jZSBvZiBUSFJFRS5DYW1lcmEuIik7cmV0dXJufWlmKHk9PT0hMClyZXR1cm47TS5hdXRvVXBkYXRlPT09ITAmJk0udXBkYXRlTWF0cml4V29ybGQoKSxDLnBhcmVudD09PW51bGwmJkMudXBkYXRlTWF0cml4V29ybGQoKSxoZS5lbmFibGVkPT09ITAmJmhlLmlzUHJlc2VudGluZz09PSEwJiYoaGUuY2FtZXJhQXV0b1VwZGF0ZT09PSEwJiZoZS51cGRhdGVDYW1lcmEoQyksQz1oZS5nZXRDYW1lcmEoKSksTS5pc1NjZW5lPT09ITAmJk0ub25CZWZvcmVSZW5kZXIoXyxNLEMsVCksZD12LmdldChNLGcubGVuZ3RoKSxkLmluaXQoKSxnLnB1c2goZCksWS5tdWx0aXBseU1hdHJpY2VzKEMucHJvamVjdGlvbk1hdHJpeCxDLm1hdHJpeFdvcmxkSW52ZXJzZSksRy5zZXRGcm9tUHJvamVjdGlvbk1hdHJpeChZKSxXPXRoaXMubG9jYWxDbGlwcGluZ0VuYWJsZWQsTD1PLmluaXQodGhpcy5jbGlwcGluZ1BsYW5lcyxXLEMpLHU9Yi5nZXQoTSxmLmxlbmd0aCksdS5pbml0KCksZi5wdXNoKHUpLGtlKE0sQywwLF8uc29ydE9iamVjdHMpLHUuZmluaXNoKCksXy5zb3J0T2JqZWN0cz09PSEwJiZ1LnNvcnQoQSxQKSxMPT09ITAmJk8uYmVnaW5TaGFkb3dzKCk7Y29uc3QgTj1kLnN0YXRlLnNoYWRvd3NBcnJheTtpZihxLnJlbmRlcihOLE0sQyksTD09PSEwJiZPLmVuZFNoYWRvd3MoKSx0aGlzLmluZm8uYXV0b1Jlc2V0PT09ITAmJnRoaXMuaW5mby5yZXNldCgpLGVlLnJlbmRlcih1LE0pLGQuc2V0dXBMaWdodHMoXy5waHlzaWNhbGx5Q29ycmVjdExpZ2h0cyksQy5pc0FycmF5Q2FtZXJhKXtjb25zdCBJPUMuY2FtZXJhcztmb3IobGV0IEg9MCxfZT1JLmxlbmd0aDtIPF9lO0grKyl7Y29uc3QgYmU9SVtIXTtIZSh1LE0sYmUsYmUudmlld3BvcnQpfX1lbHNlIEhlKHUsTSxDKTtUIT09bnVsbCYmKGoudXBkYXRlTXVsdGlzYW1wbGVSZW5kZXJUYXJnZXQoVCksai51cGRhdGVSZW5kZXJUYXJnZXRNaXBtYXAoVCkpLE0uaXNTY2VuZT09PSEwJiZNLm9uQWZ0ZXJSZW5kZXIoXyxNLEMpLHZlLnJlc2V0RGVmYXVsdFN0YXRlKCksdz0tMSxTPW51bGwsZy5wb3AoKSxnLmxlbmd0aD4wP2Q9Z1tnLmxlbmd0aC0xXTpkPW51bGwsZi5wb3AoKSxmLmxlbmd0aD4wP3U9ZltmLmxlbmd0aC0xXTp1PW51bGx9O2Z1bmN0aW9uIGtlKE0sQyxOLEkpe2lmKE0udmlzaWJsZT09PSExKXJldHVybjtpZihNLmxheWVycy50ZXN0KEMubGF5ZXJzKSl7aWYoTS5pc0dyb3VwKU49TS5yZW5kZXJPcmRlcjtlbHNlIGlmKE0uaXNMT0QpTS5hdXRvVXBkYXRlPT09ITAmJk0udXBkYXRlKEMpO2Vsc2UgaWYoTS5pc0xpZ2h0KWQucHVzaExpZ2h0KE0pLE0uY2FzdFNoYWRvdyYmZC5wdXNoU2hhZG93KE0pO2Vsc2UgaWYoTS5pc1Nwcml0ZSl7aWYoIU0uZnJ1c3R1bUN1bGxlZHx8Ry5pbnRlcnNlY3RzU3ByaXRlKE0pKXtJJiZmZS5zZXRGcm9tTWF0cml4UG9zaXRpb24oTS5tYXRyaXhXb3JsZCkuYXBwbHlNYXRyaXg0KFkpO2NvbnN0IGJlPXVlLnVwZGF0ZShNKSxFZT1NLm1hdGVyaWFsO0VlLnZpc2libGUmJnUucHVzaChNLGJlLEVlLE4sZmUueixudWxsKX19ZWxzZSBpZigoTS5pc01lc2h8fE0uaXNMaW5lfHxNLmlzUG9pbnRzKSYmKE0uaXNTa2lubmVkTWVzaCYmTS5za2VsZXRvbi5mcmFtZSE9PUFlLnJlbmRlci5mcmFtZSYmKE0uc2tlbGV0b24udXBkYXRlKCksTS5za2VsZXRvbi5mcmFtZT1BZS5yZW5kZXIuZnJhbWUpLCFNLmZydXN0dW1DdWxsZWR8fEcuaW50ZXJzZWN0c09iamVjdChNKSkpe0kmJmZlLnNldEZyb21NYXRyaXhQb3NpdGlvbihNLm1hdHJpeFdvcmxkKS5hcHBseU1hdHJpeDQoWSk7Y29uc3QgYmU9dWUudXBkYXRlKE0pLEVlPU0ubWF0ZXJpYWw7aWYoQXJyYXkuaXNBcnJheShFZSkpe2NvbnN0IFRlPWJlLmdyb3Vwcztmb3IobGV0IEJlPTAsTGU9VGUubGVuZ3RoO0JlPExlO0JlKyspe2NvbnN0IFJlPVRlW0JlXSxOZT1FZVtSZS5tYXRlcmlhbEluZGV4XTtOZSYmTmUudmlzaWJsZSYmdS5wdXNoKE0sYmUsTmUsTixmZS56LFJlKX19ZWxzZSBFZS52aXNpYmxlJiZ1LnB1c2goTSxiZSxFZSxOLGZlLnosbnVsbCl9fWNvbnN0IF9lPU0uY2hpbGRyZW47Zm9yKGxldCBiZT0wLEVlPV9lLmxlbmd0aDtiZTxFZTtiZSsrKWtlKF9lW2JlXSxDLE4sSSl9ZnVuY3Rpb24gSGUoTSxDLE4sSSl7Y29uc3QgSD1NLm9wYXF1ZSxfZT1NLnRyYW5zbWlzc2l2ZSxiZT1NLnRyYW5zcGFyZW50O2Quc2V0dXBMaWdodHNWaWV3KE4pLF9lLmxlbmd0aD4wJiZydChILEMsTiksSSYmY2Uudmlld3BvcnQoUi5jb3B5KEkpKSxILmxlbmd0aD4wJiZRZShILEMsTiksX2UubGVuZ3RoPjAmJlFlKF9lLEMsTiksYmUubGVuZ3RoPjAmJlFlKGJlLEMsTiksY2UuYnVmZmVycy5kZXB0aC5zZXRUZXN0KCEwKSxjZS5idWZmZXJzLmRlcHRoLnNldE1hc2soITApLGNlLmJ1ZmZlcnMuY29sb3Iuc2V0TWFzayghMCksY2Uuc2V0UG9seWdvbk9mZnNldCghMSl9ZnVuY3Rpb24gcnQoTSxDLE4pe2NvbnN0IEk9bGUuaXNXZWJHTDI7Wj09PW51bGwmJihaPW5ldyBXZWJHTFJlbmRlclRhcmdldCgxLDEse2dlbmVyYXRlTWlwbWFwczohMCx0eXBlOnhlLmNvbnZlcnQoMTAxNikhPT1udWxsPzEwMTY6MTAwOSxtaW5GaWx0ZXI6MTAwOCxzYW1wbGVzOkkmJnI9PT0hMD80OjB9KSksXy5nZXREcmF3aW5nQnVmZmVyU2l6ZShKKSxJP1ouc2V0U2l6ZShKLngsSi55KTpaLnNldFNpemUoZmxvb3JQb3dlck9mVHdvKEoueCksZmxvb3JQb3dlck9mVHdvKEoueSkpO2NvbnN0IEg9Xy5nZXRSZW5kZXJUYXJnZXQoKTtfLnNldFJlbmRlclRhcmdldChaKSxfLmNsZWFyKCk7Y29uc3QgX2U9Xy50b25lTWFwcGluZztfLnRvbmVNYXBwaW5nPTAsUWUoTSxDLE4pLF8udG9uZU1hcHBpbmc9X2Usai51cGRhdGVNdWx0aXNhbXBsZVJlbmRlclRhcmdldChaKSxqLnVwZGF0ZVJlbmRlclRhcmdldE1pcG1hcChaKSxfLnNldFJlbmRlclRhcmdldChIKX1mdW5jdGlvbiBRZShNLEMsTil7Y29uc3QgST1DLmlzU2NlbmU9PT0hMD9DLm92ZXJyaWRlTWF0ZXJpYWw6bnVsbDtmb3IobGV0IEg9MCxfZT1NLmxlbmd0aDtIPF9lO0grKyl7Y29uc3QgYmU9TVtIXSxFZT1iZS5vYmplY3QsVGU9YmUuZ2VvbWV0cnksQmU9ST09PW51bGw/YmUubWF0ZXJpYWw6SSxMZT1iZS5ncm91cDtFZS5sYXllcnMudGVzdChOLmxheWVycykmJnN0KEVlLEMsTixUZSxCZSxMZSl9fWZ1bmN0aW9uIHN0KE0sQyxOLEksSCxfZSl7TS5vbkJlZm9yZVJlbmRlcihfLEMsTixJLEgsX2UpLE0ubW9kZWxWaWV3TWF0cml4Lm11bHRpcGx5TWF0cmljZXMoTi5tYXRyaXhXb3JsZEludmVyc2UsTS5tYXRyaXhXb3JsZCksTS5ub3JtYWxNYXRyaXguZ2V0Tm9ybWFsTWF0cml4KE0ubW9kZWxWaWV3TWF0cml4KSxILm9uQmVmb3JlUmVuZGVyKF8sQyxOLEksTSxfZSksSC50cmFuc3BhcmVudD09PSEwJiZILnNpZGU9PT0yPyhILnNpZGU9MSxILm5lZWRzVXBkYXRlPSEwLF8ucmVuZGVyQnVmZmVyRGlyZWN0KE4sQyxJLEgsTSxfZSksSC5zaWRlPTAsSC5uZWVkc1VwZGF0ZT0hMCxfLnJlbmRlckJ1ZmZlckRpcmVjdChOLEMsSSxILE0sX2UpLEguc2lkZT0yKTpfLnJlbmRlckJ1ZmZlckRpcmVjdChOLEMsSSxILE0sX2UpLE0ub25BZnRlclJlbmRlcihfLEMsTixJLEgsX2UpfWZ1bmN0aW9uIGV0KE0sQyxOKXtDLmlzU2NlbmUhPT0hMCYmKEM9UGUpO2NvbnN0IEk9Vi5nZXQoTSksSD1kLnN0YXRlLmxpZ2h0cyxfZT1kLnN0YXRlLnNoYWRvd3NBcnJheSxiZT1ILnN0YXRlLnZlcnNpb24sRWU9d2UuZ2V0UGFyYW1ldGVycyhNLEguc3RhdGUsX2UsQyxOKSxUZT13ZS5nZXRQcm9ncmFtQ2FjaGVLZXkoRWUpO2xldCBCZT1JLnByb2dyYW1zO0kuZW52aXJvbm1lbnQ9TS5pc01lc2hTdGFuZGFyZE1hdGVyaWFsP0MuZW52aXJvbm1lbnQ6bnVsbCxJLmZvZz1DLmZvZyxJLmVudk1hcD0oTS5pc01lc2hTdGFuZGFyZE1hdGVyaWFsP29lOlEpLmdldChNLmVudk1hcHx8SS5lbnZpcm9ubWVudCksQmU9PT12b2lkIDAmJihNLmFkZEV2ZW50TGlzdGVuZXIoImRpc3Bvc2UiLG5lKSxCZT1uZXcgTWFwLEkucHJvZ3JhbXM9QmUpO2xldCBMZT1CZS5nZXQoVGUpO2lmKExlIT09dm9pZCAwKXtpZihJLmN1cnJlbnRQcm9ncmFtPT09TGUmJkkubGlnaHRzU3RhdGVWZXJzaW9uPT09YmUpcmV0dXJuIGl0KE0sRWUpLExlfWVsc2UgRWUudW5pZm9ybXM9d2UuZ2V0VW5pZm9ybXMoTSksTS5vbkJ1aWxkKE4sRWUsXyksTS5vbkJlZm9yZUNvbXBpbGUoRWUsXyksTGU9d2UuYWNxdWlyZVByb2dyYW0oRWUsVGUpLEJlLnNldChUZSxMZSksSS51bmlmb3Jtcz1FZS51bmlmb3Jtcztjb25zdCBSZT1JLnVuaWZvcm1zOyghTS5pc1NoYWRlck1hdGVyaWFsJiYhTS5pc1Jhd1NoYWRlck1hdGVyaWFsfHxNLmNsaXBwaW5nPT09ITApJiYoUmUuY2xpcHBpbmdQbGFuZXM9Ty51bmlmb3JtKSxpdChNLEVlKSxJLm5lZWRzTGlnaHRzPWx0KE0pLEkubGlnaHRzU3RhdGVWZXJzaW9uPWJlLEkubmVlZHNMaWdodHMmJihSZS5hbWJpZW50TGlnaHRDb2xvci52YWx1ZT1ILnN0YXRlLmFtYmllbnQsUmUubGlnaHRQcm9iZS52YWx1ZT1ILnN0YXRlLnByb2JlLFJlLmRpcmVjdGlvbmFsTGlnaHRzLnZhbHVlPUguc3RhdGUuZGlyZWN0aW9uYWwsUmUuZGlyZWN0aW9uYWxMaWdodFNoYWRvd3MudmFsdWU9SC5zdGF0ZS5kaXJlY3Rpb25hbFNoYWRvdyxSZS5zcG90TGlnaHRzLnZhbHVlPUguc3RhdGUuc3BvdCxSZS5zcG90TGlnaHRTaGFkb3dzLnZhbHVlPUguc3RhdGUuc3BvdFNoYWRvdyxSZS5yZWN0QXJlYUxpZ2h0cy52YWx1ZT1ILnN0YXRlLnJlY3RBcmVhLFJlLmx0Y18xLnZhbHVlPUguc3RhdGUucmVjdEFyZWFMVEMxLFJlLmx0Y18yLnZhbHVlPUguc3RhdGUucmVjdEFyZWFMVEMyLFJlLnBvaW50TGlnaHRzLnZhbHVlPUguc3RhdGUucG9pbnQsUmUucG9pbnRMaWdodFNoYWRvd3MudmFsdWU9SC5zdGF0ZS5wb2ludFNoYWRvdyxSZS5oZW1pc3BoZXJlTGlnaHRzLnZhbHVlPUguc3RhdGUuaGVtaSxSZS5kaXJlY3Rpb25hbFNoYWRvd01hcC52YWx1ZT1ILnN0YXRlLmRpcmVjdGlvbmFsU2hhZG93TWFwLFJlLmRpcmVjdGlvbmFsU2hhZG93TWF0cml4LnZhbHVlPUguc3RhdGUuZGlyZWN0aW9uYWxTaGFkb3dNYXRyaXgsUmUuc3BvdFNoYWRvd01hcC52YWx1ZT1ILnN0YXRlLnNwb3RTaGFkb3dNYXAsUmUuc3BvdFNoYWRvd01hdHJpeC52YWx1ZT1ILnN0YXRlLnNwb3RTaGFkb3dNYXRyaXgsUmUucG9pbnRTaGFkb3dNYXAudmFsdWU9SC5zdGF0ZS5wb2ludFNoYWRvd01hcCxSZS5wb2ludFNoYWRvd01hdHJpeC52YWx1ZT1ILnN0YXRlLnBvaW50U2hhZG93TWF0cml4KTtjb25zdCBOZT1MZS5nZXRVbmlmb3JtcygpLFhlPVdlYkdMVW5pZm9ybXMuc2VxV2l0aFZhbHVlKE5lLnNlcSxSZSk7cmV0dXJuIEkuY3VycmVudFByb2dyYW09TGUsSS51bmlmb3Jtc0xpc3Q9WGUsTGV9ZnVuY3Rpb24gaXQoTSxDKXtjb25zdCBOPVYuZ2V0KE0pO04ub3V0cHV0RW5jb2Rpbmc9Qy5vdXRwdXRFbmNvZGluZyxOLmluc3RhbmNpbmc9Qy5pbnN0YW5jaW5nLE4uc2tpbm5pbmc9Qy5za2lubmluZyxOLm1vcnBoVGFyZ2V0cz1DLm1vcnBoVGFyZ2V0cyxOLm1vcnBoTm9ybWFscz1DLm1vcnBoTm9ybWFscyxOLm1vcnBoQ29sb3JzPUMubW9ycGhDb2xvcnMsTi5tb3JwaFRhcmdldHNDb3VudD1DLm1vcnBoVGFyZ2V0c0NvdW50LE4ubnVtQ2xpcHBpbmdQbGFuZXM9Qy5udW1DbGlwcGluZ1BsYW5lcyxOLm51bUludGVyc2VjdGlvbj1DLm51bUNsaXBJbnRlcnNlY3Rpb24sTi52ZXJ0ZXhBbHBoYXM9Qy52ZXJ0ZXhBbHBoYXMsTi52ZXJ0ZXhUYW5nZW50cz1DLnZlcnRleFRhbmdlbnRzLE4udG9uZU1hcHBpbmc9Qy50b25lTWFwcGluZ31mdW5jdGlvbiBhdChNLEMsTixJLEgpe0MuaXNTY2VuZSE9PSEwJiYoQz1QZSksai5yZXNldFRleHR1cmVVbml0cygpO2NvbnN0IF9lPUMuZm9nLGJlPUkuaXNNZXNoU3RhbmRhcmRNYXRlcmlhbD9DLmVudmlyb25tZW50Om51bGwsRWU9VD09PW51bGw/Xy5vdXRwdXRFbmNvZGluZzpULmlzWFJSZW5kZXJUYXJnZXQ9PT0hMD9ULnRleHR1cmUuZW5jb2Rpbmc6M2UzLFRlPShJLmlzTWVzaFN0YW5kYXJkTWF0ZXJpYWw/b2U6USkuZ2V0KEkuZW52TWFwfHxiZSksQmU9SS52ZXJ0ZXhDb2xvcnM9PT0hMCYmISFOLmF0dHJpYnV0ZXMuY29sb3ImJk4uYXR0cmlidXRlcy5jb2xvci5pdGVtU2l6ZT09PTQsTGU9ISFJLm5vcm1hbE1hcCYmISFOLmF0dHJpYnV0ZXMudGFuZ2VudCxSZT0hIU4ubW9ycGhBdHRyaWJ1dGVzLnBvc2l0aW9uLE5lPSEhTi5tb3JwaEF0dHJpYnV0ZXMubm9ybWFsLFhlPSEhTi5tb3JwaEF0dHJpYnV0ZXMuY29sb3IsamU9SS50b25lTWFwcGVkP18udG9uZU1hcHBpbmc6MCxZZT1OLm1vcnBoQXR0cmlidXRlcy5wb3NpdGlvbnx8Ti5tb3JwaEF0dHJpYnV0ZXMubm9ybWFsfHxOLm1vcnBoQXR0cmlidXRlcy5jb2xvcixXZT1ZZSE9PXZvaWQgMD9ZZS5sZW5ndGg6MCxJZT1WLmdldChJKSxaZT1kLnN0YXRlLmxpZ2h0cztpZihMPT09ITAmJihXPT09ITB8fE0hPT1TKSl7Y29uc3QgT2U9TT09PVMmJkkuaWQ9PT13O08uc2V0U3RhdGUoSSxNLE9lKX1sZXQgVWU9ITE7SS52ZXJzaW9uPT09SWUuX192ZXJzaW9uPyhJZS5uZWVkc0xpZ2h0cyYmSWUubGlnaHRzU3RhdGVWZXJzaW9uIT09WmUuc3RhdGUudmVyc2lvbnx8SWUub3V0cHV0RW5jb2RpbmchPT1FZXx8SC5pc0luc3RhbmNlZE1lc2gmJkllLmluc3RhbmNpbmc9PT0hMXx8IUguaXNJbnN0YW5jZWRNZXNoJiZJZS5pbnN0YW5jaW5nPT09ITB8fEguaXNTa2lubmVkTWVzaCYmSWUuc2tpbm5pbmc9PT0hMXx8IUguaXNTa2lubmVkTWVzaCYmSWUuc2tpbm5pbmc9PT0hMHx8SWUuZW52TWFwIT09VGV8fEkuZm9nJiZJZS5mb2chPT1fZXx8SWUubnVtQ2xpcHBpbmdQbGFuZXMhPT12b2lkIDAmJihJZS5udW1DbGlwcGluZ1BsYW5lcyE9PU8ubnVtUGxhbmVzfHxJZS5udW1JbnRlcnNlY3Rpb24hPT1PLm51bUludGVyc2VjdGlvbil8fEllLnZlcnRleEFscGhhcyE9PUJlfHxJZS52ZXJ0ZXhUYW5nZW50cyE9PUxlfHxJZS5tb3JwaFRhcmdldHMhPT1SZXx8SWUubW9ycGhOb3JtYWxzIT09TmV8fEllLm1vcnBoQ29sb3JzIT09WGV8fEllLnRvbmVNYXBwaW5nIT09amV8fGxlLmlzV2ViR0wyPT09ITAmJkllLm1vcnBoVGFyZ2V0c0NvdW50IT09V2UpJiYoVWU9ITApOihVZT0hMCxJZS5fX3ZlcnNpb249SS52ZXJzaW9uKTtsZXQgJGU9SWUuY3VycmVudFByb2dyYW07VWU9PT0hMCYmKCRlPWV0KEksQyxIKSk7bGV0IHFlPSExLEplPSExLHR0PSExO2NvbnN0IEdlPSRlLmdldFVuaWZvcm1zKCksS2U9SWUudW5pZm9ybXM7aWYoY2UudXNlUHJvZ3JhbSgkZS5wcm9ncmFtKSYmKHFlPSEwLEplPSEwLHR0PSEwKSxJLmlkIT09dyYmKHc9SS5pZCxKZT0hMCkscWV8fFMhPT1NKXtpZihHZS5zZXRWYWx1ZSgkLCJwcm9qZWN0aW9uTWF0cml4IixNLnByb2plY3Rpb25NYXRyaXgpLGxlLmxvZ2FyaXRobWljRGVwdGhCdWZmZXImJkdlLnNldFZhbHVlKCQsImxvZ0RlcHRoQnVmRkMiLDIvKE1hdGgubG9nKE0uZmFyKzEpL01hdGguTE4yKSksUyE9PU0mJihTPU0sSmU9ITAsdHQ9ITApLEkuaXNTaGFkZXJNYXRlcmlhbHx8SS5pc01lc2hQaG9uZ01hdGVyaWFsfHxJLmlzTWVzaFRvb25NYXRlcmlhbHx8SS5pc01lc2hTdGFuZGFyZE1hdGVyaWFsfHxJLmVudk1hcCl7Y29uc3QgT2U9R2UubWFwLmNhbWVyYVBvc2l0aW9uO09lIT09dm9pZCAwJiZPZS5zZXRWYWx1ZSgkLGZlLnNldEZyb21NYXRyaXhQb3NpdGlvbihNLm1hdHJpeFdvcmxkKSl9KEkuaXNNZXNoUGhvbmdNYXRlcmlhbHx8SS5pc01lc2hUb29uTWF0ZXJpYWx8fEkuaXNNZXNoTGFtYmVydE1hdGVyaWFsfHxJLmlzTWVzaEJhc2ljTWF0ZXJpYWx8fEkuaXNNZXNoU3RhbmRhcmRNYXRlcmlhbHx8SS5pc1NoYWRlck1hdGVyaWFsKSYmR2Uuc2V0VmFsdWUoJCwiaXNPcnRob2dyYXBoaWMiLE0uaXNPcnRob2dyYXBoaWNDYW1lcmE9PT0hMCksKEkuaXNNZXNoUGhvbmdNYXRlcmlhbHx8SS5pc01lc2hUb29uTWF0ZXJpYWx8fEkuaXNNZXNoTGFtYmVydE1hdGVyaWFsfHxJLmlzTWVzaEJhc2ljTWF0ZXJpYWx8fEkuaXNNZXNoU3RhbmRhcmRNYXRlcmlhbHx8SS5pc1NoYWRlck1hdGVyaWFsfHxJLmlzU2hhZG93TWF0ZXJpYWx8fEguaXNTa2lubmVkTWVzaCkmJkdlLnNldFZhbHVlKCQsInZpZXdNYXRyaXgiLE0ubWF0cml4V29ybGRJbnZlcnNlKX1pZihILmlzU2tpbm5lZE1lc2gpe0dlLnNldE9wdGlvbmFsKCQsSCwiYmluZE1hdHJpeCIpLEdlLnNldE9wdGlvbmFsKCQsSCwiYmluZE1hdHJpeEludmVyc2UiKTtjb25zdCBPZT1ILnNrZWxldG9uO09lJiYobGUuZmxvYXRWZXJ0ZXhUZXh0dXJlcz8oT2UuYm9uZVRleHR1cmU9PT1udWxsJiZPZS5jb21wdXRlQm9uZVRleHR1cmUoKSxHZS5zZXRWYWx1ZSgkLCJib25lVGV4dHVyZSIsT2UuYm9uZVRleHR1cmUsaiksR2Uuc2V0VmFsdWUoJCwiYm9uZVRleHR1cmVTaXplIixPZS5ib25lVGV4dHVyZVNpemUpKTpHZS5zZXRPcHRpb25hbCgkLE9lLCJib25lTWF0cmljZXMiKSl9Y29uc3QgbnQ9Ti5tb3JwaEF0dHJpYnV0ZXM7cmV0dXJuKG50LnBvc2l0aW9uIT09dm9pZCAwfHxudC5ub3JtYWwhPT12b2lkIDB8fG50LmNvbG9yIT09dm9pZCAwJiZsZS5pc1dlYkdMMj09PSEwKSYmc2UudXBkYXRlKEgsTixJLCRlKSwoSmV8fEllLnJlY2VpdmVTaGFkb3chPT1ILnJlY2VpdmVTaGFkb3cpJiYoSWUucmVjZWl2ZVNoYWRvdz1ILnJlY2VpdmVTaGFkb3csR2Uuc2V0VmFsdWUoJCwicmVjZWl2ZVNoYWRvdyIsSC5yZWNlaXZlU2hhZG93KSksSmUmJihHZS5zZXRWYWx1ZSgkLCJ0b25lTWFwcGluZ0V4cG9zdXJlIixfLnRvbmVNYXBwaW5nRXhwb3N1cmUpLEllLm5lZWRzTGlnaHRzJiZvdChLZSx0dCksX2UmJkkuZm9nJiZWZS5yZWZyZXNoRm9nVW5pZm9ybXMoS2UsX2UpLFZlLnJlZnJlc2hNYXRlcmlhbFVuaWZvcm1zKEtlLEkseCx6LFopLFdlYkdMVW5pZm9ybXMudXBsb2FkKCQsSWUudW5pZm9ybXNMaXN0LEtlLGopKSxJLmlzU2hhZGVyTWF0ZXJpYWwmJkkudW5pZm9ybXNOZWVkVXBkYXRlPT09ITAmJihXZWJHTFVuaWZvcm1zLnVwbG9hZCgkLEllLnVuaWZvcm1zTGlzdCxLZSxqKSxJLnVuaWZvcm1zTmVlZFVwZGF0ZT0hMSksSS5pc1Nwcml0ZU1hdGVyaWFsJiZHZS5zZXRWYWx1ZSgkLCJjZW50ZXIiLEguY2VudGVyKSxHZS5zZXRWYWx1ZSgkLCJtb2RlbFZpZXdNYXRyaXgiLEgubW9kZWxWaWV3TWF0cml4KSxHZS5zZXRWYWx1ZSgkLCJub3JtYWxNYXRyaXgiLEgubm9ybWFsTWF0cml4KSxHZS5zZXRWYWx1ZSgkLCJtb2RlbE1hdHJpeCIsSC5tYXRyaXhXb3JsZCksJGV9ZnVuY3Rpb24gb3QoTSxDKXtNLmFtYmllbnRMaWdodENvbG9yLm5lZWRzVXBkYXRlPUMsTS5saWdodFByb2JlLm5lZWRzVXBkYXRlPUMsTS5kaXJlY3Rpb25hbExpZ2h0cy5uZWVkc1VwZGF0ZT1DLE0uZGlyZWN0aW9uYWxMaWdodFNoYWRvd3MubmVlZHNVcGRhdGU9QyxNLnBvaW50TGlnaHRzLm5lZWRzVXBkYXRlPUMsTS5wb2ludExpZ2h0U2hhZG93cy5uZWVkc1VwZGF0ZT1DLE0uc3BvdExpZ2h0cy5uZWVkc1VwZGF0ZT1DLE0uc3BvdExpZ2h0U2hhZG93cy5uZWVkc1VwZGF0ZT1DLE0ucmVjdEFyZWFMaWdodHMubmVlZHNVcGRhdGU9QyxNLmhlbWlzcGhlcmVMaWdodHMubmVlZHNVcGRhdGU9Q31mdW5jdGlvbiBsdChNKXtyZXR1cm4gTS5pc01lc2hMYW1iZXJ0TWF0ZXJpYWx8fE0uaXNNZXNoVG9vbk1hdGVyaWFsfHxNLmlzTWVzaFBob25nTWF0ZXJpYWx8fE0uaXNNZXNoU3RhbmRhcmRNYXRlcmlhbHx8TS5pc1NoYWRvd01hdGVyaWFsfHxNLmlzU2hhZGVyTWF0ZXJpYWwmJk0ubGlnaHRzPT09ITB9dGhpcy5nZXRBY3RpdmVDdWJlRmFjZT1mdW5jdGlvbigpe3JldHVybiBtfSx0aGlzLmdldEFjdGl2ZU1pcG1hcExldmVsPWZ1bmN0aW9uKCl7cmV0dXJuIHB9LHRoaXMuZ2V0UmVuZGVyVGFyZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIFR9LHRoaXMuc2V0UmVuZGVyVGFyZ2V0VGV4dHVyZXM9ZnVuY3Rpb24oTSxDLE4pe1YuZ2V0KE0udGV4dHVyZSkuX193ZWJnbFRleHR1cmU9QyxWLmdldChNLmRlcHRoVGV4dHVyZSkuX193ZWJnbFRleHR1cmU9Tjtjb25zdCBJPVYuZ2V0KE0pO0kuX19oYXNFeHRlcm5hbFRleHR1cmVzPSEwLEkuX19oYXNFeHRlcm5hbFRleHR1cmVzJiYoSS5fX2F1dG9BbGxvY2F0ZURlcHRoQnVmZmVyPU49PT12b2lkIDAsSS5fX2F1dG9BbGxvY2F0ZURlcHRoQnVmZmVyfHxTZS5oYXMoIldFQkdMX211bHRpc2FtcGxlZF9yZW5kZXJfdG9fdGV4dHVyZSIpPT09ITAmJihjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IFJlbmRlci10by10ZXh0dXJlIGV4dGVuc2lvbiB3YXMgZGlzYWJsZWQgYmVjYXVzZSBhbiBleHRlcm5hbCB0ZXh0dXJlIHdhcyBwcm92aWRlZCIpLEkuX191c2VSZW5kZXJUb1RleHR1cmU9ITEpKX0sdGhpcy5zZXRSZW5kZXJUYXJnZXRGcmFtZWJ1ZmZlcj1mdW5jdGlvbihNLEMpe2NvbnN0IE49Vi5nZXQoTSk7Ti5fX3dlYmdsRnJhbWVidWZmZXI9QyxOLl9fdXNlRGVmYXVsdEZyYW1lYnVmZmVyPUM9PT12b2lkIDB9LHRoaXMuc2V0UmVuZGVyVGFyZ2V0PWZ1bmN0aW9uKE0sQz0wLE49MCl7VD1NLG09QyxwPU47bGV0IEk9ITA7aWYoTSl7Y29uc3QgVGU9Vi5nZXQoTSk7VGUuX191c2VEZWZhdWx0RnJhbWVidWZmZXIhPT12b2lkIDA/KGNlLmJpbmRGcmFtZWJ1ZmZlcigzNjE2MCxudWxsKSxJPSExKTpUZS5fX3dlYmdsRnJhbWVidWZmZXI9PT12b2lkIDA/ai5zZXR1cFJlbmRlclRhcmdldChNKTpUZS5fX2hhc0V4dGVybmFsVGV4dHVyZXMmJmoucmViaW5kVGV4dHVyZXMoTSxWLmdldChNLnRleHR1cmUpLl9fd2ViZ2xUZXh0dXJlLFYuZ2V0KE0uZGVwdGhUZXh0dXJlKS5fX3dlYmdsVGV4dHVyZSl9bGV0IEg9bnVsbCxfZT0hMSxiZT0hMTtpZihNKXtjb25zdCBUZT1NLnRleHR1cmU7KFRlLmlzRGF0YTNEVGV4dHVyZXx8VGUuaXNEYXRhQXJyYXlUZXh0dXJlKSYmKGJlPSEwKTtjb25zdCBCZT1WLmdldChNKS5fX3dlYmdsRnJhbWVidWZmZXI7TS5pc1dlYkdMQ3ViZVJlbmRlclRhcmdldD8oSD1CZVtDXSxfZT0hMCk6bGUuaXNXZWJHTDImJk0uc2FtcGxlcz4wJiZqLnVzZU11bHRpc2FtcGxlZFJUVChNKT09PSExP0g9Vi5nZXQoTSkuX193ZWJnbE11bHRpc2FtcGxlZEZyYW1lYnVmZmVyOkg9QmUsUi5jb3B5KE0udmlld3BvcnQpLEQuY29weShNLnNjaXNzb3IpLFg9TS5zY2lzc29yVGVzdH1lbHNlIFIuY29weShCKS5tdWx0aXBseVNjYWxhcih4KS5mbG9vcigpLEQuY29weShVKS5tdWx0aXBseVNjYWxhcih4KS5mbG9vcigpLFg9RjtpZihjZS5iaW5kRnJhbWVidWZmZXIoMzYxNjAsSCkmJmxlLmRyYXdCdWZmZXJzJiZJJiZjZS5kcmF3QnVmZmVycyhNLEgpLGNlLnZpZXdwb3J0KFIpLGNlLnNjaXNzb3IoRCksY2Uuc2V0U2Npc3NvclRlc3QoWCksX2Upe2NvbnN0IFRlPVYuZ2V0KE0udGV4dHVyZSk7JC5mcmFtZWJ1ZmZlclRleHR1cmUyRCgzNjE2MCwzNjA2NCwzNDA2OStDLFRlLl9fd2ViZ2xUZXh0dXJlLE4pfWVsc2UgaWYoYmUpe2NvbnN0IFRlPVYuZ2V0KE0udGV4dHVyZSksQmU9Q3x8MDskLmZyYW1lYnVmZmVyVGV4dHVyZUxheWVyKDM2MTYwLDM2MDY0LFRlLl9fd2ViZ2xUZXh0dXJlLE58fDAsQmUpfXc9LTF9LHRoaXMucmVhZFJlbmRlclRhcmdldFBpeGVscz1mdW5jdGlvbihNLEMsTixJLEgsX2UsYmUpe2lmKCEoTSYmTS5pc1dlYkdMUmVuZGVyVGFyZ2V0KSl7Y29uc29sZS5lcnJvcigiVEhSRUUuV2ViR0xSZW5kZXJlci5yZWFkUmVuZGVyVGFyZ2V0UGl4ZWxzOiByZW5kZXJUYXJnZXQgaXMgbm90IFRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0LiIpO3JldHVybn1sZXQgRWU9Vi5nZXQoTSkuX193ZWJnbEZyYW1lYnVmZmVyO2lmKE0uaXNXZWJHTEN1YmVSZW5kZXJUYXJnZXQmJmJlIT09dm9pZCAwJiYoRWU9RWVbYmVdKSxFZSl7Y2UuYmluZEZyYW1lYnVmZmVyKDM2MTYwLEVlKTt0cnl7Y29uc3QgVGU9TS50ZXh0dXJlLEJlPVRlLmZvcm1hdCxMZT1UZS50eXBlO2lmKEJlIT09MTAyMyYmeGUuY29udmVydChCZSkhPT0kLmdldFBhcmFtZXRlcigzNTczOSkpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLldlYkdMUmVuZGVyZXIucmVhZFJlbmRlclRhcmdldFBpeGVsczogcmVuZGVyVGFyZ2V0IGlzIG5vdCBpbiBSR0JBIG9yIGltcGxlbWVudGF0aW9uIGRlZmluZWQgZm9ybWF0LiIpO3JldHVybn1jb25zdCBSZT1MZT09PTEwMTYmJihTZS5oYXMoIkVYVF9jb2xvcl9idWZmZXJfaGFsZl9mbG9hdCIpfHxsZS5pc1dlYkdMMiYmU2UuaGFzKCJFWFRfY29sb3JfYnVmZmVyX2Zsb2F0IikpO2lmKExlIT09MTAwOSYmeGUuY29udmVydChMZSkhPT0kLmdldFBhcmFtZXRlcigzNTczOCkmJiEoTGU9PT0xMDE1JiYobGUuaXNXZWJHTDJ8fFNlLmhhcygiT0VTX3RleHR1cmVfZmxvYXQiKXx8U2UuaGFzKCJXRUJHTF9jb2xvcl9idWZmZXJfZmxvYXQiKSkpJiYhUmUpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLldlYkdMUmVuZGVyZXIucmVhZFJlbmRlclRhcmdldFBpeGVsczogcmVuZGVyVGFyZ2V0IGlzIG5vdCBpbiBVbnNpZ25lZEJ5dGVUeXBlIG9yIGltcGxlbWVudGF0aW9uIGRlZmluZWQgdHlwZS4iKTtyZXR1cm59JC5jaGVja0ZyYW1lYnVmZmVyU3RhdHVzKDM2MTYwKT09PTM2MDUzP0M+PTAmJkM8PU0ud2lkdGgtSSYmTj49MCYmTjw9TS5oZWlnaHQtSCYmJC5yZWFkUGl4ZWxzKEMsTixJLEgseGUuY29udmVydChCZSkseGUuY29udmVydChMZSksX2UpOmNvbnNvbGUuZXJyb3IoIlRIUkVFLldlYkdMUmVuZGVyZXIucmVhZFJlbmRlclRhcmdldFBpeGVsczogcmVhZFBpeGVscyBmcm9tIHJlbmRlclRhcmdldCBmYWlsZWQuIEZyYW1lYnVmZmVyIG5vdCBjb21wbGV0ZS4iKX1maW5hbGx5e2NvbnN0IFRlPVQhPT1udWxsP1YuZ2V0KFQpLl9fd2ViZ2xGcmFtZWJ1ZmZlcjpudWxsO2NlLmJpbmRGcmFtZWJ1ZmZlcigzNjE2MCxUZSl9fX0sdGhpcy5jb3B5RnJhbWVidWZmZXJUb1RleHR1cmU9ZnVuY3Rpb24oTSxDLE49MCl7aWYoQy5pc0ZyYW1lYnVmZmVyVGV4dHVyZSE9PSEwKXtjb25zb2xlLmVycm9yKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiBjb3B5RnJhbWVidWZmZXJUb1RleHR1cmUoKSBjYW4gb25seSBiZSB1c2VkIHdpdGggRnJhbWVidWZmZXJUZXh0dXJlLiIpO3JldHVybn1jb25zdCBJPU1hdGgucG93KDIsLU4pLEg9TWF0aC5mbG9vcihDLmltYWdlLndpZHRoKkkpLF9lPU1hdGguZmxvb3IoQy5pbWFnZS5oZWlnaHQqSSk7ai5zZXRUZXh0dXJlMkQoQywwKSwkLmNvcHlUZXhTdWJJbWFnZTJEKDM1NTMsTiwwLDAsTS54LE0ueSxILF9lKSxjZS51bmJpbmRUZXh0dXJlKCl9LHRoaXMuY29weVRleHR1cmVUb1RleHR1cmU9ZnVuY3Rpb24oTSxDLE4sST0wKXtjb25zdCBIPUMuaW1hZ2Uud2lkdGgsX2U9Qy5pbWFnZS5oZWlnaHQsYmU9eGUuY29udmVydChOLmZvcm1hdCksRWU9eGUuY29udmVydChOLnR5cGUpO2ouc2V0VGV4dHVyZTJEKE4sMCksJC5waXhlbFN0b3JlaSgzNzQ0MCxOLmZsaXBZKSwkLnBpeGVsU3RvcmVpKDM3NDQxLE4ucHJlbXVsdGlwbHlBbHBoYSksJC5waXhlbFN0b3JlaSgzMzE3LE4udW5wYWNrQWxpZ25tZW50KSxDLmlzRGF0YVRleHR1cmU/JC50ZXhTdWJJbWFnZTJEKDM1NTMsSSxNLngsTS55LEgsX2UsYmUsRWUsQy5pbWFnZS5kYXRhKTpDLmlzQ29tcHJlc3NlZFRleHR1cmU/JC5jb21wcmVzc2VkVGV4U3ViSW1hZ2UyRCgzNTUzLEksTS54LE0ueSxDLm1pcG1hcHNbMF0ud2lkdGgsQy5taXBtYXBzWzBdLmhlaWdodCxiZSxDLm1pcG1hcHNbMF0uZGF0YSk6JC50ZXhTdWJJbWFnZTJEKDM1NTMsSSxNLngsTS55LGJlLEVlLEMuaW1hZ2UpLEk9PT0wJiZOLmdlbmVyYXRlTWlwbWFwcyYmJC5nZW5lcmF0ZU1pcG1hcCgzNTUzKSxjZS51bmJpbmRUZXh0dXJlKCl9LHRoaXMuY29weVRleHR1cmVUb1RleHR1cmUzRD1mdW5jdGlvbihNLEMsTixJLEg9MCl7aWYoXy5pc1dlYkdMMVJlbmRlcmVyKXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXIuY29weVRleHR1cmVUb1RleHR1cmUzRDogY2FuIG9ubHkgYmUgdXNlZCB3aXRoIFdlYkdMMi4iKTtyZXR1cm59Y29uc3QgX2U9TS5tYXgueC1NLm1pbi54KzEsYmU9TS5tYXgueS1NLm1pbi55KzEsRWU9TS5tYXguei1NLm1pbi56KzEsVGU9eGUuY29udmVydChJLmZvcm1hdCksQmU9eGUuY29udmVydChJLnR5cGUpO2xldCBMZTtpZihJLmlzRGF0YTNEVGV4dHVyZSlqLnNldFRleHR1cmUzRChJLDApLExlPTMyODc5O2Vsc2UgaWYoSS5pc0RhdGFBcnJheVRleHR1cmUpai5zZXRUZXh0dXJlMkRBcnJheShJLDApLExlPTM1ODY2O2Vsc2V7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyLmNvcHlUZXh0dXJlVG9UZXh0dXJlM0Q6IG9ubHkgc3VwcG9ydHMgVEhSRUUuRGF0YVRleHR1cmUzRCBhbmQgVEhSRUUuRGF0YVRleHR1cmUyREFycmF5LiIpO3JldHVybn0kLnBpeGVsU3RvcmVpKDM3NDQwLEkuZmxpcFkpLCQucGl4ZWxTdG9yZWkoMzc0NDEsSS5wcmVtdWx0aXBseUFscGhhKSwkLnBpeGVsU3RvcmVpKDMzMTcsSS51bnBhY2tBbGlnbm1lbnQpO2NvbnN0IFJlPSQuZ2V0UGFyYW1ldGVyKDMzMTQpLE5lPSQuZ2V0UGFyYW1ldGVyKDMyODc4KSxYZT0kLmdldFBhcmFtZXRlcigzMzE2KSxqZT0kLmdldFBhcmFtZXRlcigzMzE1KSxZZT0kLmdldFBhcmFtZXRlcigzMjg3NyksV2U9Ti5pc0NvbXByZXNzZWRUZXh0dXJlP04ubWlwbWFwc1swXTpOLmltYWdlOyQucGl4ZWxTdG9yZWkoMzMxNCxXZS53aWR0aCksJC5waXhlbFN0b3JlaSgzMjg3OCxXZS5oZWlnaHQpLCQucGl4ZWxTdG9yZWkoMzMxNixNLm1pbi54KSwkLnBpeGVsU3RvcmVpKDMzMTUsTS5taW4ueSksJC5waXhlbFN0b3JlaSgzMjg3NyxNLm1pbi56KSxOLmlzRGF0YVRleHR1cmV8fE4uaXNEYXRhM0RUZXh0dXJlPyQudGV4U3ViSW1hZ2UzRChMZSxILEMueCxDLnksQy56LF9lLGJlLEVlLFRlLEJlLFdlLmRhdGEpOk4uaXNDb21wcmVzc2VkVGV4dHVyZT8oY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyLmNvcHlUZXh0dXJlVG9UZXh0dXJlM0Q6IHVudGVzdGVkIHN1cHBvcnQgZm9yIGNvbXByZXNzZWQgc3JjVGV4dHVyZS4iKSwkLmNvbXByZXNzZWRUZXhTdWJJbWFnZTNEKExlLEgsQy54LEMueSxDLnosX2UsYmUsRWUsVGUsV2UuZGF0YSkpOiQudGV4U3ViSW1hZ2UzRChMZSxILEMueCxDLnksQy56LF9lLGJlLEVlLFRlLEJlLFdlKSwkLnBpeGVsU3RvcmVpKDMzMTQsUmUpLCQucGl4ZWxTdG9yZWkoMzI4NzgsTmUpLCQucGl4ZWxTdG9yZWkoMzMxNixYZSksJC5waXhlbFN0b3JlaSgzMzE1LGplKSwkLnBpeGVsU3RvcmVpKDMyODc3LFllKSxIPT09MCYmSS5nZW5lcmF0ZU1pcG1hcHMmJiQuZ2VuZXJhdGVNaXBtYXAoTGUpLGNlLnVuYmluZFRleHR1cmUoKX0sdGhpcy5pbml0VGV4dHVyZT1mdW5jdGlvbihNKXtqLnNldFRleHR1cmUyRChNLDApLGNlLnVuYmluZFRleHR1cmUoKX0sdGhpcy5yZXNldFN0YXRlPWZ1bmN0aW9uKCl7bT0wLHA9MCxUPW51bGwsY2UucmVzZXQoKSx2ZS5yZXNldCgpfSx0eXBlb2YgX19USFJFRV9ERVZUT09MU19fPCJ1IiYmX19USFJFRV9ERVZUT09MU19fLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCJvYnNlcnZlIix7ZGV0YWlsOnRoaXN9KSl9V2ViR0xSZW5kZXJlci5wcm90b3R5cGUuaXNXZWJHTFJlbmRlcmVyPSEwO2NsYXNzIFdlYkdMMVJlbmRlcmVyIGV4dGVuZHMgV2ViR0xSZW5kZXJlcnt9V2ViR0wxUmVuZGVyZXIucHJvdG90eXBlLmlzV2ViR0wxUmVuZGVyZXI9ITA7Y2xhc3MgU2NlbmUgZXh0ZW5kcyBPYmplY3QzRHtjb25zdHJ1Y3Rvcigpe3N1cGVyKCk7dGhpcy50eXBlPSJTY2VuZSIsdGhpcy5iYWNrZ3JvdW5kPW51bGwsdGhpcy5lbnZpcm9ubWVudD1udWxsLHRoaXMuZm9nPW51bGwsdGhpcy5vdmVycmlkZU1hdGVyaWFsPW51bGwsdGhpcy5hdXRvVXBkYXRlPSEwLHR5cGVvZiBfX1RIUkVFX0RFVlRPT0xTX188InUiJiZfX1RIUkVFX0RFVlRPT0xTX18uZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoIm9ic2VydmUiLHtkZXRhaWw6dGhpc30pKX1jb3B5KGUsdCl7cmV0dXJuIHN1cGVyLmNvcHkoZSx0KSxlLmJhY2tncm91bmQhPT1udWxsJiYodGhpcy5iYWNrZ3JvdW5kPWUuYmFja2dyb3VuZC5jbG9uZSgpKSxlLmVudmlyb25tZW50IT09bnVsbCYmKHRoaXMuZW52aXJvbm1lbnQ9ZS5lbnZpcm9ubWVudC5jbG9uZSgpKSxlLmZvZyE9PW51bGwmJih0aGlzLmZvZz1lLmZvZy5jbG9uZSgpKSxlLm92ZXJyaWRlTWF0ZXJpYWwhPT1udWxsJiYodGhpcy5vdmVycmlkZU1hdGVyaWFsPWUub3ZlcnJpZGVNYXRlcmlhbC5jbG9uZSgpKSx0aGlzLmF1dG9VcGRhdGU9ZS5hdXRvVXBkYXRlLHRoaXMubWF0cml4QXV0b1VwZGF0ZT1lLm1hdHJpeEF1dG9VcGRhdGUsdGhpc310b0pTT04oZSl7Y29uc3QgdD1zdXBlci50b0pTT04oZSk7cmV0dXJuIHRoaXMuZm9nIT09bnVsbCYmKHQub2JqZWN0LmZvZz10aGlzLmZvZy50b0pTT04oKSksdH19U2NlbmUucHJvdG90eXBlLmlzU2NlbmU9ITA7Y2xhc3MgSW50ZXJsZWF2ZWRCdWZmZXJ7Y29uc3RydWN0b3IoZSx0KXt0aGlzLmFycmF5PWUsdGhpcy5zdHJpZGU9dCx0aGlzLmNvdW50PWUhPT12b2lkIDA/ZS5sZW5ndGgvdDowLHRoaXMudXNhZ2U9MzUwNDQsdGhpcy51cGRhdGVSYW5nZT17b2Zmc2V0OjAsY291bnQ6LTF9LHRoaXMudmVyc2lvbj0wLHRoaXMudXVpZD1nZW5lcmF0ZVVVSUQoKX1vblVwbG9hZENhbGxiYWNrKCl7fXNldCBuZWVkc1VwZGF0ZShlKXtlPT09ITAmJnRoaXMudmVyc2lvbisrfXNldFVzYWdlKGUpe3JldHVybiB0aGlzLnVzYWdlPWUsdGhpc31jb3B5KGUpe3JldHVybiB0aGlzLmFycmF5PW5ldyBlLmFycmF5LmNvbnN0cnVjdG9yKGUuYXJyYXkpLHRoaXMuY291bnQ9ZS5jb3VudCx0aGlzLnN0cmlkZT1lLnN0cmlkZSx0aGlzLnVzYWdlPWUudXNhZ2UsdGhpc31jb3B5QXQoZSx0LG4pe2UqPXRoaXMuc3RyaWRlLG4qPXQuc3RyaWRlO2ZvcihsZXQgaT0wLHI9dGhpcy5zdHJpZGU7aTxyO2krKyl0aGlzLmFycmF5W2UraV09dC5hcnJheVtuK2ldO3JldHVybiB0aGlzfXNldChlLHQ9MCl7cmV0dXJuIHRoaXMuYXJyYXkuc2V0KGUsdCksdGhpc31jbG9uZShlKXtlLmFycmF5QnVmZmVycz09PXZvaWQgMCYmKGUuYXJyYXlCdWZmZXJzPXt9KSx0aGlzLmFycmF5LmJ1ZmZlci5fdXVpZD09PXZvaWQgMCYmKHRoaXMuYXJyYXkuYnVmZmVyLl91dWlkPWdlbmVyYXRlVVVJRCgpKSxlLmFycmF5QnVmZmVyc1t0aGlzLmFycmF5LmJ1ZmZlci5fdXVpZF09PT12b2lkIDAmJihlLmFycmF5QnVmZmVyc1t0aGlzLmFycmF5LmJ1ZmZlci5fdXVpZF09dGhpcy5hcnJheS5zbGljZSgwKS5idWZmZXIpO2NvbnN0IHQ9bmV3IHRoaXMuYXJyYXkuY29uc3RydWN0b3IoZS5hcnJheUJ1ZmZlcnNbdGhpcy5hcnJheS5idWZmZXIuX3V1aWRdKSxuPW5ldyB0aGlzLmNvbnN0cnVjdG9yKHQsdGhpcy5zdHJpZGUpO3JldHVybiBuLnNldFVzYWdlKHRoaXMudXNhZ2UpLG59b25VcGxvYWQoZSl7cmV0dXJuIHRoaXMub25VcGxvYWRDYWxsYmFjaz1lLHRoaXN9dG9KU09OKGUpe3JldHVybiBlLmFycmF5QnVmZmVycz09PXZvaWQgMCYmKGUuYXJyYXlCdWZmZXJzPXt9KSx0aGlzLmFycmF5LmJ1ZmZlci5fdXVpZD09PXZvaWQgMCYmKHRoaXMuYXJyYXkuYnVmZmVyLl91dWlkPWdlbmVyYXRlVVVJRCgpKSxlLmFycmF5QnVmZmVyc1t0aGlzLmFycmF5LmJ1ZmZlci5fdXVpZF09PT12b2lkIDAmJihlLmFycmF5QnVmZmVyc1t0aGlzLmFycmF5LmJ1ZmZlci5fdXVpZF09QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwobmV3IFVpbnQzMkFycmF5KHRoaXMuYXJyYXkuYnVmZmVyKSkpLHt1dWlkOnRoaXMudXVpZCxidWZmZXI6dGhpcy5hcnJheS5idWZmZXIuX3V1aWQsdHlwZTp0aGlzLmFycmF5LmNvbnN0cnVjdG9yLm5hbWUsc3RyaWRlOnRoaXMuc3RyaWRlfX19SW50ZXJsZWF2ZWRCdWZmZXIucHJvdG90eXBlLmlzSW50ZXJsZWF2ZWRCdWZmZXI9ITA7Y29uc3QgX3ZlY3RvciQ2PW5ldyBWZWN0b3IzO2NsYXNzIEludGVybGVhdmVkQnVmZmVyQXR0cmlidXRle2NvbnN0cnVjdG9yKGUsdCxuLGk9ITEpe3RoaXMubmFtZT0iIix0aGlzLmRhdGE9ZSx0aGlzLml0ZW1TaXplPXQsdGhpcy5vZmZzZXQ9bix0aGlzLm5vcm1hbGl6ZWQ9aT09PSEwfWdldCBjb3VudCgpe3JldHVybiB0aGlzLmRhdGEuY291bnR9Z2V0IGFycmF5KCl7cmV0dXJuIHRoaXMuZGF0YS5hcnJheX1zZXQgbmVlZHNVcGRhdGUoZSl7dGhpcy5kYXRhLm5lZWRzVXBkYXRlPWV9YXBwbHlNYXRyaXg0KGUpe2ZvcihsZXQgdD0wLG49dGhpcy5kYXRhLmNvdW50O3Q8bjt0KyspX3ZlY3RvciQ2Lng9dGhpcy5nZXRYKHQpLF92ZWN0b3IkNi55PXRoaXMuZ2V0WSh0KSxfdmVjdG9yJDYuej10aGlzLmdldFoodCksX3ZlY3RvciQ2LmFwcGx5TWF0cml4NChlKSx0aGlzLnNldFhZWih0LF92ZWN0b3IkNi54LF92ZWN0b3IkNi55LF92ZWN0b3IkNi56KTtyZXR1cm4gdGhpc31hcHBseU5vcm1hbE1hdHJpeChlKXtmb3IobGV0IHQ9MCxuPXRoaXMuY291bnQ7dDxuO3QrKylfdmVjdG9yJDYueD10aGlzLmdldFgodCksX3ZlY3RvciQ2Lnk9dGhpcy5nZXRZKHQpLF92ZWN0b3IkNi56PXRoaXMuZ2V0Wih0KSxfdmVjdG9yJDYuYXBwbHlOb3JtYWxNYXRyaXgoZSksdGhpcy5zZXRYWVoodCxfdmVjdG9yJDYueCxfdmVjdG9yJDYueSxfdmVjdG9yJDYueik7cmV0dXJuIHRoaXN9dHJhbnNmb3JtRGlyZWN0aW9uKGUpe2ZvcihsZXQgdD0wLG49dGhpcy5jb3VudDt0PG47dCsrKV92ZWN0b3IkNi54PXRoaXMuZ2V0WCh0KSxfdmVjdG9yJDYueT10aGlzLmdldFkodCksX3ZlY3RvciQ2Lno9dGhpcy5nZXRaKHQpLF92ZWN0b3IkNi50cmFuc2Zvcm1EaXJlY3Rpb24oZSksdGhpcy5zZXRYWVoodCxfdmVjdG9yJDYueCxfdmVjdG9yJDYueSxfdmVjdG9yJDYueik7cmV0dXJuIHRoaXN9c2V0WChlLHQpe3JldHVybiB0aGlzLmRhdGEuYXJyYXlbZSp0aGlzLmRhdGEuc3RyaWRlK3RoaXMub2Zmc2V0XT10LHRoaXN9c2V0WShlLHQpe3JldHVybiB0aGlzLmRhdGEuYXJyYXlbZSp0aGlzLmRhdGEuc3RyaWRlK3RoaXMub2Zmc2V0KzFdPXQsdGhpc31zZXRaKGUsdCl7cmV0dXJuIHRoaXMuZGF0YS5hcnJheVtlKnRoaXMuZGF0YS5zdHJpZGUrdGhpcy5vZmZzZXQrMl09dCx0aGlzfXNldFcoZSx0KXtyZXR1cm4gdGhpcy5kYXRhLmFycmF5W2UqdGhpcy5kYXRhLnN0cmlkZSt0aGlzLm9mZnNldCszXT10LHRoaXN9Z2V0WChlKXtyZXR1cm4gdGhpcy5kYXRhLmFycmF5W2UqdGhpcy5kYXRhLnN0cmlkZSt0aGlzLm9mZnNldF19Z2V0WShlKXtyZXR1cm4gdGhpcy5kYXRhLmFycmF5W2UqdGhpcy5kYXRhLnN0cmlkZSt0aGlzLm9mZnNldCsxXX1nZXRaKGUpe3JldHVybiB0aGlzLmRhdGEuYXJyYXlbZSp0aGlzLmRhdGEuc3RyaWRlK3RoaXMub2Zmc2V0KzJdfWdldFcoZSl7cmV0dXJuIHRoaXMuZGF0YS5hcnJheVtlKnRoaXMuZGF0YS5zdHJpZGUrdGhpcy5vZmZzZXQrM119c2V0WFkoZSx0LG4pe3JldHVybiBlPWUqdGhpcy5kYXRhLnN0cmlkZSt0aGlzLm9mZnNldCx0aGlzLmRhdGEuYXJyYXlbZSswXT10LHRoaXMuZGF0YS5hcnJheVtlKzFdPW4sdGhpc31zZXRYWVooZSx0LG4saSl7cmV0dXJuIGU9ZSp0aGlzLmRhdGEuc3RyaWRlK3RoaXMub2Zmc2V0LHRoaXMuZGF0YS5hcnJheVtlKzBdPXQsdGhpcy5kYXRhLmFycmF5W2UrMV09bix0aGlzLmRhdGEuYXJyYXlbZSsyXT1pLHRoaXN9c2V0WFlaVyhlLHQsbixpLHIpe3JldHVybiBlPWUqdGhpcy5kYXRhLnN0cmlkZSt0aGlzLm9mZnNldCx0aGlzLmRhdGEuYXJyYXlbZSswXT10LHRoaXMuZGF0YS5hcnJheVtlKzFdPW4sdGhpcy5kYXRhLmFycmF5W2UrMl09aSx0aGlzLmRhdGEuYXJyYXlbZSszXT1yLHRoaXN9Y2xvbmUoZSl7aWYoZT09PXZvaWQgMCl7Y29uc29sZS5sb2coIlRIUkVFLkludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlLmNsb25lKCk6IENsb25pbmcgYW4gaW50ZXJsYXZlZCBidWZmZXIgYXR0cmlidXRlIHdpbGwgZGVpbnRlcmxlYXZlIGJ1ZmZlciBkYXRhLiIpO2NvbnN0IHQ9W107Zm9yKGxldCBuPTA7bjx0aGlzLmNvdW50O24rKyl7Y29uc3QgaT1uKnRoaXMuZGF0YS5zdHJpZGUrdGhpcy5vZmZzZXQ7Zm9yKGxldCByPTA7cjx0aGlzLml0ZW1TaXplO3IrKyl0LnB1c2godGhpcy5kYXRhLmFycmF5W2krcl0pfXJldHVybiBuZXcgQnVmZmVyQXR0cmlidXRlKG5ldyB0aGlzLmFycmF5LmNvbnN0cnVjdG9yKHQpLHRoaXMuaXRlbVNpemUsdGhpcy5ub3JtYWxpemVkKX1lbHNlIHJldHVybiBlLmludGVybGVhdmVkQnVmZmVycz09PXZvaWQgMCYmKGUuaW50ZXJsZWF2ZWRCdWZmZXJzPXt9KSxlLmludGVybGVhdmVkQnVmZmVyc1t0aGlzLmRhdGEudXVpZF09PT12b2lkIDAmJihlLmludGVybGVhdmVkQnVmZmVyc1t0aGlzLmRhdGEudXVpZF09dGhpcy5kYXRhLmNsb25lKGUpKSxuZXcgSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUoZS5pbnRlcmxlYXZlZEJ1ZmZlcnNbdGhpcy5kYXRhLnV1aWRdLHRoaXMuaXRlbVNpemUsdGhpcy5vZmZzZXQsdGhpcy5ub3JtYWxpemVkKX10b0pTT04oZSl7aWYoZT09PXZvaWQgMCl7Y29uc29sZS5sb2coIlRIUkVFLkludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlLnRvSlNPTigpOiBTZXJpYWxpemluZyBhbiBpbnRlcmxhdmVkIGJ1ZmZlciBhdHRyaWJ1dGUgd2lsbCBkZWludGVybGVhdmUgYnVmZmVyIGRhdGEuIik7Y29uc3QgdD1bXTtmb3IobGV0IG49MDtuPHRoaXMuY291bnQ7bisrKXtjb25zdCBpPW4qdGhpcy5kYXRhLnN0cmlkZSt0aGlzLm9mZnNldDtmb3IobGV0IHI9MDtyPHRoaXMuaXRlbVNpemU7cisrKXQucHVzaCh0aGlzLmRhdGEuYXJyYXlbaStyXSl9cmV0dXJue2l0ZW1TaXplOnRoaXMuaXRlbVNpemUsdHlwZTp0aGlzLmFycmF5LmNvbnN0cnVjdG9yLm5hbWUsYXJyYXk6dCxub3JtYWxpemVkOnRoaXMubm9ybWFsaXplZH19ZWxzZSByZXR1cm4gZS5pbnRlcmxlYXZlZEJ1ZmZlcnM9PT12b2lkIDAmJihlLmludGVybGVhdmVkQnVmZmVycz17fSksZS5pbnRlcmxlYXZlZEJ1ZmZlcnNbdGhpcy5kYXRhLnV1aWRdPT09dm9pZCAwJiYoZS5pbnRlcmxlYXZlZEJ1ZmZlcnNbdGhpcy5kYXRhLnV1aWRdPXRoaXMuZGF0YS50b0pTT04oZSkpLHtpc0ludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlOiEwLGl0ZW1TaXplOnRoaXMuaXRlbVNpemUsZGF0YTp0aGlzLmRhdGEudXVpZCxvZmZzZXQ6dGhpcy5vZmZzZXQsbm9ybWFsaXplZDp0aGlzLm5vcm1hbGl6ZWR9fX1JbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZS5wcm90b3R5cGUuaXNJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZT0hMDtjbGFzcyBTcHJpdGVNYXRlcmlhbCBleHRlbmRzIE1hdGVyaWFse2NvbnN0cnVjdG9yKGUpe3N1cGVyKCk7dGhpcy50eXBlPSJTcHJpdGVNYXRlcmlhbCIsdGhpcy5jb2xvcj1uZXcgQ29sb3IoMTY3NzcyMTUpLHRoaXMubWFwPW51bGwsdGhpcy5hbHBoYU1hcD1udWxsLHRoaXMucm90YXRpb249MCx0aGlzLnNpemVBdHRlbnVhdGlvbj0hMCx0aGlzLnRyYW5zcGFyZW50PSEwLHRoaXMuc2V0VmFsdWVzKGUpfWNvcHkoZSl7cmV0dXJuIHN1cGVyLmNvcHkoZSksdGhpcy5jb2xvci5jb3B5KGUuY29sb3IpLHRoaXMubWFwPWUubWFwLHRoaXMuYWxwaGFNYXA9ZS5hbHBoYU1hcCx0aGlzLnJvdGF0aW9uPWUucm90YXRpb24sdGhpcy5zaXplQXR0ZW51YXRpb249ZS5zaXplQXR0ZW51YXRpb24sdGhpc319U3ByaXRlTWF0ZXJpYWwucHJvdG90eXBlLmlzU3ByaXRlTWF0ZXJpYWw9ITA7bGV0IF9nZW9tZXRyeTtjb25zdCBfaW50ZXJzZWN0UG9pbnQ9bmV3IFZlY3RvcjMsX3dvcmxkU2NhbGU9bmV3IFZlY3RvcjMsX212UG9zaXRpb249bmV3IFZlY3RvcjMsX2FsaWduZWRQb3NpdGlvbj1uZXcgVmVjdG9yMixfcm90YXRlZFBvc2l0aW9uPW5ldyBWZWN0b3IyLF92aWV3V29ybGRNYXRyaXg9bmV3IE1hdHJpeDQsX3ZBPW5ldyBWZWN0b3IzLF92Qj1uZXcgVmVjdG9yMyxfdkM9bmV3IFZlY3RvcjMsX3V2QT1uZXcgVmVjdG9yMixfdXZCPW5ldyBWZWN0b3IyLF91dkM9bmV3IFZlY3RvcjI7Y2xhc3MgU3ByaXRlIGV4dGVuZHMgT2JqZWN0M0R7Y29uc3RydWN0b3IoZSl7c3VwZXIoKTtpZih0aGlzLnR5cGU9IlNwcml0ZSIsX2dlb21ldHJ5PT09dm9pZCAwKXtfZ2VvbWV0cnk9bmV3IEJ1ZmZlckdlb21ldHJ5O2NvbnN0IHQ9bmV3IEZsb2F0MzJBcnJheShbLS41LC0uNSwwLDAsMCwuNSwtLjUsMCwxLDAsLjUsLjUsMCwxLDEsLS41LC41LDAsMCwxXSksbj1uZXcgSW50ZXJsZWF2ZWRCdWZmZXIodCw1KTtfZ2VvbWV0cnkuc2V0SW5kZXgoWzAsMSwyLDAsMiwzXSksX2dlb21ldHJ5LnNldEF0dHJpYnV0ZSgicG9zaXRpb24iLG5ldyBJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZShuLDMsMCwhMSkpLF9nZW9tZXRyeS5zZXRBdHRyaWJ1dGUoInV2IixuZXcgSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUobiwyLDMsITEpKX10aGlzLmdlb21ldHJ5PV9nZW9tZXRyeSx0aGlzLm1hdGVyaWFsPWUhPT12b2lkIDA/ZTpuZXcgU3ByaXRlTWF0ZXJpYWwsdGhpcy5jZW50ZXI9bmV3IFZlY3RvcjIoLjUsLjUpfXJheWNhc3QoZSx0KXtlLmNhbWVyYT09PW51bGwmJmNvbnNvbGUuZXJyb3IoJ1RIUkVFLlNwcml0ZTogIlJheWNhc3Rlci5jYW1lcmEiIG5lZWRzIHRvIGJlIHNldCBpbiBvcmRlciB0byByYXljYXN0IGFnYWluc3Qgc3ByaXRlcy4nKSxfd29ybGRTY2FsZS5zZXRGcm9tTWF0cml4U2NhbGUodGhpcy5tYXRyaXhXb3JsZCksX3ZpZXdXb3JsZE1hdHJpeC5jb3B5KGUuY2FtZXJhLm1hdHJpeFdvcmxkKSx0aGlzLm1vZGVsVmlld01hdHJpeC5tdWx0aXBseU1hdHJpY2VzKGUuY2FtZXJhLm1hdHJpeFdvcmxkSW52ZXJzZSx0aGlzLm1hdHJpeFdvcmxkKSxfbXZQb3NpdGlvbi5zZXRGcm9tTWF0cml4UG9zaXRpb24odGhpcy5tb2RlbFZpZXdNYXRyaXgpLGUuY2FtZXJhLmlzUGVyc3BlY3RpdmVDYW1lcmEmJnRoaXMubWF0ZXJpYWwuc2l6ZUF0dGVudWF0aW9uPT09ITEmJl93b3JsZFNjYWxlLm11bHRpcGx5U2NhbGFyKC1fbXZQb3NpdGlvbi56KTtjb25zdCBuPXRoaXMubWF0ZXJpYWwucm90YXRpb247bGV0IGkscjtuIT09MCYmKHI9TWF0aC5jb3MobiksaT1NYXRoLnNpbihuKSk7Y29uc3QgYT10aGlzLmNlbnRlcjt0cmFuc2Zvcm1WZXJ0ZXgoX3ZBLnNldCgtLjUsLS41LDApLF9tdlBvc2l0aW9uLGEsX3dvcmxkU2NhbGUsaSxyKSx0cmFuc2Zvcm1WZXJ0ZXgoX3ZCLnNldCguNSwtLjUsMCksX212UG9zaXRpb24sYSxfd29ybGRTY2FsZSxpLHIpLHRyYW5zZm9ybVZlcnRleChfdkMuc2V0KC41LC41LDApLF9tdlBvc2l0aW9uLGEsX3dvcmxkU2NhbGUsaSxyKSxfdXZBLnNldCgwLDApLF91dkIuc2V0KDEsMCksX3V2Qy5zZXQoMSwxKTtsZXQgbz1lLnJheS5pbnRlcnNlY3RUcmlhbmdsZShfdkEsX3ZCLF92QywhMSxfaW50ZXJzZWN0UG9pbnQpO2lmKG89PT1udWxsJiYodHJhbnNmb3JtVmVydGV4KF92Qi5zZXQoLS41LC41LDApLF9tdlBvc2l0aW9uLGEsX3dvcmxkU2NhbGUsaSxyKSxfdXZCLnNldCgwLDEpLG89ZS5yYXkuaW50ZXJzZWN0VHJpYW5nbGUoX3ZBLF92QyxfdkIsITEsX2ludGVyc2VjdFBvaW50KSxvPT09bnVsbCkpcmV0dXJuO2NvbnN0IGw9ZS5yYXkub3JpZ2luLmRpc3RhbmNlVG8oX2ludGVyc2VjdFBvaW50KTtsPGUubmVhcnx8bD5lLmZhcnx8dC5wdXNoKHtkaXN0YW5jZTpsLHBvaW50Ol9pbnRlcnNlY3RQb2ludC5jbG9uZSgpLHV2OlRyaWFuZ2xlLmdldFVWKF9pbnRlcnNlY3RQb2ludCxfdkEsX3ZCLF92QyxfdXZBLF91dkIsX3V2QyxuZXcgVmVjdG9yMiksZmFjZTpudWxsLG9iamVjdDp0aGlzfSl9Y29weShlKXtyZXR1cm4gc3VwZXIuY29weShlKSxlLmNlbnRlciE9PXZvaWQgMCYmdGhpcy5jZW50ZXIuY29weShlLmNlbnRlciksdGhpcy5tYXRlcmlhbD1lLm1hdGVyaWFsLHRoaXN9fVNwcml0ZS5wcm90b3R5cGUuaXNTcHJpdGU9ITA7ZnVuY3Rpb24gdHJhbnNmb3JtVmVydGV4KHMsZSx0LG4saSxyKXtfYWxpZ25lZFBvc2l0aW9uLnN1YlZlY3RvcnMocyx0KS5hZGRTY2FsYXIoLjUpLm11bHRpcGx5KG4pLGkhPT12b2lkIDA/KF9yb3RhdGVkUG9zaXRpb24ueD1yKl9hbGlnbmVkUG9zaXRpb24ueC1pKl9hbGlnbmVkUG9zaXRpb24ueSxfcm90YXRlZFBvc2l0aW9uLnk9aSpfYWxpZ25lZFBvc2l0aW9uLngrcipfYWxpZ25lZFBvc2l0aW9uLnkpOl9yb3RhdGVkUG9zaXRpb24uY29weShfYWxpZ25lZFBvc2l0aW9uKSxzLmNvcHkoZSkscy54Kz1fcm90YXRlZFBvc2l0aW9uLngscy55Kz1fcm90YXRlZFBvc2l0aW9uLnkscy5hcHBseU1hdHJpeDQoX3ZpZXdXb3JsZE1hdHJpeCl9Y29uc3QgX2Jhc2VQb3NpdGlvbj1uZXcgVmVjdG9yMyxfc2tpbkluZGV4PW5ldyBWZWN0b3I0LF9za2luV2VpZ2h0PW5ldyBWZWN0b3I0LF92ZWN0b3IkNT1uZXcgVmVjdG9yMyxfbWF0cml4PW5ldyBNYXRyaXg0O2NsYXNzIFNraW5uZWRNZXNoIGV4dGVuZHMgTWVzaHtjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsdCk7dGhpcy50eXBlPSJTa2lubmVkTWVzaCIsdGhpcy5iaW5kTW9kZT0iYXR0YWNoZWQiLHRoaXMuYmluZE1hdHJpeD1uZXcgTWF0cml4NCx0aGlzLmJpbmRNYXRyaXhJbnZlcnNlPW5ldyBNYXRyaXg0fWNvcHkoZSl7cmV0dXJuIHN1cGVyLmNvcHkoZSksdGhpcy5iaW5kTW9kZT1lLmJpbmRNb2RlLHRoaXMuYmluZE1hdHJpeC5jb3B5KGUuYmluZE1hdHJpeCksdGhpcy5iaW5kTWF0cml4SW52ZXJzZS5jb3B5KGUuYmluZE1hdHJpeEludmVyc2UpLHRoaXMuc2tlbGV0b249ZS5za2VsZXRvbix0aGlzfWJpbmQoZSx0KXt0aGlzLnNrZWxldG9uPWUsdD09PXZvaWQgMCYmKHRoaXMudXBkYXRlTWF0cml4V29ybGQoITApLHRoaXMuc2tlbGV0b24uY2FsY3VsYXRlSW52ZXJzZXMoKSx0PXRoaXMubWF0cml4V29ybGQpLHRoaXMuYmluZE1hdHJpeC5jb3B5KHQpLHRoaXMuYmluZE1hdHJpeEludmVyc2UuY29weSh0KS5pbnZlcnQoKX1wb3NlKCl7dGhpcy5za2VsZXRvbi5wb3NlKCl9bm9ybWFsaXplU2tpbldlaWdodHMoKXtjb25zdCBlPW5ldyBWZWN0b3I0LHQ9dGhpcy5nZW9tZXRyeS5hdHRyaWJ1dGVzLnNraW5XZWlnaHQ7Zm9yKGxldCBuPTAsaT10LmNvdW50O248aTtuKyspe2UueD10LmdldFgobiksZS55PXQuZ2V0WShuKSxlLno9dC5nZXRaKG4pLGUudz10LmdldFcobik7Y29uc3Qgcj0xL2UubWFuaGF0dGFuTGVuZ3RoKCk7ciE9PTEvMD9lLm11bHRpcGx5U2NhbGFyKHIpOmUuc2V0KDEsMCwwLDApLHQuc2V0WFlaVyhuLGUueCxlLnksZS56LGUudyl9fXVwZGF0ZU1hdHJpeFdvcmxkKGUpe3N1cGVyLnVwZGF0ZU1hdHJpeFdvcmxkKGUpLHRoaXMuYmluZE1vZGU9PT0iYXR0YWNoZWQiP3RoaXMuYmluZE1hdHJpeEludmVyc2UuY29weSh0aGlzLm1hdHJpeFdvcmxkKS5pbnZlcnQoKTp0aGlzLmJpbmRNb2RlPT09ImRldGFjaGVkIj90aGlzLmJpbmRNYXRyaXhJbnZlcnNlLmNvcHkodGhpcy5iaW5kTWF0cml4KS5pbnZlcnQoKTpjb25zb2xlLndhcm4oIlRIUkVFLlNraW5uZWRNZXNoOiBVbnJlY29nbml6ZWQgYmluZE1vZGU6ICIrdGhpcy5iaW5kTW9kZSl9Ym9uZVRyYW5zZm9ybShlLHQpe2NvbnN0IG49dGhpcy5za2VsZXRvbixpPXRoaXMuZ2VvbWV0cnk7X3NraW5JbmRleC5mcm9tQnVmZmVyQXR0cmlidXRlKGkuYXR0cmlidXRlcy5za2luSW5kZXgsZSksX3NraW5XZWlnaHQuZnJvbUJ1ZmZlckF0dHJpYnV0ZShpLmF0dHJpYnV0ZXMuc2tpbldlaWdodCxlKSxfYmFzZVBvc2l0aW9uLmNvcHkodCkuYXBwbHlNYXRyaXg0KHRoaXMuYmluZE1hdHJpeCksdC5zZXQoMCwwLDApO2ZvcihsZXQgcj0wO3I8NDtyKyspe2NvbnN0IGE9X3NraW5XZWlnaHQuZ2V0Q29tcG9uZW50KHIpO2lmKGEhPT0wKXtjb25zdCBvPV9za2luSW5kZXguZ2V0Q29tcG9uZW50KHIpO19tYXRyaXgubXVsdGlwbHlNYXRyaWNlcyhuLmJvbmVzW29dLm1hdHJpeFdvcmxkLG4uYm9uZUludmVyc2VzW29dKSx0LmFkZFNjYWxlZFZlY3RvcihfdmVjdG9yJDUuY29weShfYmFzZVBvc2l0aW9uKS5hcHBseU1hdHJpeDQoX21hdHJpeCksYSl9fXJldHVybiB0LmFwcGx5TWF0cml4NCh0aGlzLmJpbmRNYXRyaXhJbnZlcnNlKX19U2tpbm5lZE1lc2gucHJvdG90eXBlLmlzU2tpbm5lZE1lc2g9ITA7Y2xhc3MgQm9uZSBleHRlbmRzIE9iamVjdDNEe2NvbnN0cnVjdG9yKCl7c3VwZXIoKTt0aGlzLnR5cGU9IkJvbmUifX1Cb25lLnByb3RvdHlwZS5pc0JvbmU9ITA7Y2xhc3MgRGF0YVRleHR1cmUgZXh0ZW5kcyBUZXh0dXJle2NvbnN0cnVjdG9yKGU9bnVsbCx0PTEsbj0xLGkscixhLG8sbCxjPTEwMDMsaD0xMDAzLHUsZCl7c3VwZXIobnVsbCxhLG8sbCxjLGgsaSxyLHUsZCk7dGhpcy5pbWFnZT17ZGF0YTplLHdpZHRoOnQsaGVpZ2h0Om59LHRoaXMuZ2VuZXJhdGVNaXBtYXBzPSExLHRoaXMuZmxpcFk9ITEsdGhpcy51bnBhY2tBbGlnbm1lbnQ9MX19RGF0YVRleHR1cmUucHJvdG90eXBlLmlzRGF0YVRleHR1cmU9ITA7Y2xhc3MgSW5zdGFuY2VkQnVmZmVyQXR0cmlidXRlIGV4dGVuZHMgQnVmZmVyQXR0cmlidXRle2NvbnN0cnVjdG9yKGUsdCxuLGk9MSl7dHlwZW9mIG49PSJudW1iZXIiJiYoaT1uLG49ITEsY29uc29sZS5lcnJvcigiVEhSRUUuSW5zdGFuY2VkQnVmZmVyQXR0cmlidXRlOiBUaGUgY29uc3RydWN0b3Igbm93IGV4cGVjdHMgbm9ybWFsaXplZCBhcyB0aGUgdGhpcmQgYXJndW1lbnQuIikpO3N1cGVyKGUsdCxuKTt0aGlzLm1lc2hQZXJBdHRyaWJ1dGU9aX1jb3B5KGUpe3JldHVybiBzdXBlci5jb3B5KGUpLHRoaXMubWVzaFBlckF0dHJpYnV0ZT1lLm1lc2hQZXJBdHRyaWJ1dGUsdGhpc310b0pTT04oKXtjb25zdCBlPXN1cGVyLnRvSlNPTigpO3JldHVybiBlLm1lc2hQZXJBdHRyaWJ1dGU9dGhpcy5tZXNoUGVyQXR0cmlidXRlLGUuaXNJbnN0YW5jZWRCdWZmZXJBdHRyaWJ1dGU9ITAsZX19SW5zdGFuY2VkQnVmZmVyQXR0cmlidXRlLnByb3RvdHlwZS5pc0luc3RhbmNlZEJ1ZmZlckF0dHJpYnV0ZT0hMDtjb25zdCBfaW5zdGFuY2VMb2NhbE1hdHJpeD1uZXcgTWF0cml4NCxfaW5zdGFuY2VXb3JsZE1hdHJpeD1uZXcgTWF0cml4NCxfaW5zdGFuY2VJbnRlcnNlY3RzPVtdLF9tZXNoPW5ldyBNZXNoO2NsYXNzIEluc3RhbmNlZE1lc2ggZXh0ZW5kcyBNZXNoe2NvbnN0cnVjdG9yKGUsdCxuKXtzdXBlcihlLHQpO3RoaXMuaW5zdGFuY2VNYXRyaXg9bmV3IEluc3RhbmNlZEJ1ZmZlckF0dHJpYnV0ZShuZXcgRmxvYXQzMkFycmF5KG4qMTYpLDE2KSx0aGlzLmluc3RhbmNlQ29sb3I9bnVsbCx0aGlzLmNvdW50PW4sdGhpcy5mcnVzdHVtQ3VsbGVkPSExfWNvcHkoZSl7cmV0dXJuIHN1cGVyLmNvcHkoZSksdGhpcy5pbnN0YW5jZU1hdHJpeC5jb3B5KGUuaW5zdGFuY2VNYXRyaXgpLGUuaW5zdGFuY2VDb2xvciE9PW51bGwmJih0aGlzLmluc3RhbmNlQ29sb3I9ZS5pbnN0YW5jZUNvbG9yLmNsb25lKCkpLHRoaXMuY291bnQ9ZS5jb3VudCx0aGlzfWdldENvbG9yQXQoZSx0KXt0LmZyb21BcnJheSh0aGlzLmluc3RhbmNlQ29sb3IuYXJyYXksZSozKX1nZXRNYXRyaXhBdChlLHQpe3QuZnJvbUFycmF5KHRoaXMuaW5zdGFuY2VNYXRyaXguYXJyYXksZSoxNil9cmF5Y2FzdChlLHQpe2NvbnN0IG49dGhpcy5tYXRyaXhXb3JsZCxpPXRoaXMuY291bnQ7aWYoX21lc2guZ2VvbWV0cnk9dGhpcy5nZW9tZXRyeSxfbWVzaC5tYXRlcmlhbD10aGlzLm1hdGVyaWFsLF9tZXNoLm1hdGVyaWFsIT09dm9pZCAwKWZvcihsZXQgcj0wO3I8aTtyKyspe3RoaXMuZ2V0TWF0cml4QXQocixfaW5zdGFuY2VMb2NhbE1hdHJpeCksX2luc3RhbmNlV29ybGRNYXRyaXgubXVsdGlwbHlNYXRyaWNlcyhuLF9pbnN0YW5jZUxvY2FsTWF0cml4KSxfbWVzaC5tYXRyaXhXb3JsZD1faW5zdGFuY2VXb3JsZE1hdHJpeCxfbWVzaC5yYXljYXN0KGUsX2luc3RhbmNlSW50ZXJzZWN0cyk7Zm9yKGxldCBhPTAsbz1faW5zdGFuY2VJbnRlcnNlY3RzLmxlbmd0aDthPG87YSsrKXtjb25zdCBsPV9pbnN0YW5jZUludGVyc2VjdHNbYV07bC5pbnN0YW5jZUlkPXIsbC5vYmplY3Q9dGhpcyx0LnB1c2gobCl9X2luc3RhbmNlSW50ZXJzZWN0cy5sZW5ndGg9MH19c2V0Q29sb3JBdChlLHQpe3RoaXMuaW5zdGFuY2VDb2xvcj09PW51bGwmJih0aGlzLmluc3RhbmNlQ29sb3I9bmV3IEluc3RhbmNlZEJ1ZmZlckF0dHJpYnV0ZShuZXcgRmxvYXQzMkFycmF5KHRoaXMuaW5zdGFuY2VNYXRyaXguY291bnQqMyksMykpLHQudG9BcnJheSh0aGlzLmluc3RhbmNlQ29sb3IuYXJyYXksZSozKX1zZXRNYXRyaXhBdChlLHQpe3QudG9BcnJheSh0aGlzLmluc3RhbmNlTWF0cml4LmFycmF5LGUqMTYpfXVwZGF0ZU1vcnBoVGFyZ2V0cygpe31kaXNwb3NlKCl7dGhpcy5kaXNwYXRjaEV2ZW50KHt0eXBlOiJkaXNwb3NlIn0pfX1JbnN0YW5jZWRNZXNoLnByb3RvdHlwZS5pc0luc3RhbmNlZE1lc2g9ITA7Y2xhc3MgTGluZUJhc2ljTWF0ZXJpYWwgZXh0ZW5kcyBNYXRlcmlhbHtjb25zdHJ1Y3RvcihlKXtzdXBlcigpO3RoaXMudHlwZT0iTGluZUJhc2ljTWF0ZXJpYWwiLHRoaXMuY29sb3I9bmV3IENvbG9yKDE2Nzc3MjE1KSx0aGlzLmxpbmV3aWR0aD0xLHRoaXMubGluZWNhcD0icm91bmQiLHRoaXMubGluZWpvaW49InJvdW5kIix0aGlzLnNldFZhbHVlcyhlKX1jb3B5KGUpe3JldHVybiBzdXBlci5jb3B5KGUpLHRoaXMuY29sb3IuY29weShlLmNvbG9yKSx0aGlzLmxpbmV3aWR0aD1lLmxpbmV3aWR0aCx0aGlzLmxpbmVjYXA9ZS5saW5lY2FwLHRoaXMubGluZWpvaW49ZS5saW5lam9pbix0aGlzfX1MaW5lQmFzaWNNYXRlcmlhbC5wcm90b3R5cGUuaXNMaW5lQmFzaWNNYXRlcmlhbD0hMDtjb25zdCBfc3RhcnQkMT1uZXcgVmVjdG9yMyxfZW5kJDE9bmV3IFZlY3RvcjMsX2ludmVyc2VNYXRyaXgkMT1uZXcgTWF0cml4NCxfcmF5JDE9bmV3IFJheSxfc3BoZXJlJDE9bmV3IFNwaGVyZTtjbGFzcyBMaW5lIGV4dGVuZHMgT2JqZWN0M0R7Y29uc3RydWN0b3IoZT1uZXcgQnVmZmVyR2VvbWV0cnksdD1uZXcgTGluZUJhc2ljTWF0ZXJpYWwpe3N1cGVyKCk7dGhpcy50eXBlPSJMaW5lIix0aGlzLmdlb21ldHJ5PWUsdGhpcy5tYXRlcmlhbD10LHRoaXMudXBkYXRlTW9ycGhUYXJnZXRzKCl9Y29weShlKXtyZXR1cm4gc3VwZXIuY29weShlKSx0aGlzLm1hdGVyaWFsPWUubWF0ZXJpYWwsdGhpcy5nZW9tZXRyeT1lLmdlb21ldHJ5LHRoaXN9Y29tcHV0ZUxpbmVEaXN0YW5jZXMoKXtjb25zdCBlPXRoaXMuZ2VvbWV0cnk7aWYoZS5pc0J1ZmZlckdlb21ldHJ5KWlmKGUuaW5kZXg9PT1udWxsKXtjb25zdCB0PWUuYXR0cmlidXRlcy5wb3NpdGlvbixuPVswXTtmb3IobGV0IGk9MSxyPXQuY291bnQ7aTxyO2krKylfc3RhcnQkMS5mcm9tQnVmZmVyQXR0cmlidXRlKHQsaS0xKSxfZW5kJDEuZnJvbUJ1ZmZlckF0dHJpYnV0ZSh0LGkpLG5baV09bltpLTFdLG5baV0rPV9zdGFydCQxLmRpc3RhbmNlVG8oX2VuZCQxKTtlLnNldEF0dHJpYnV0ZSgibGluZURpc3RhbmNlIixuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZShuLDEpKX1lbHNlIGNvbnNvbGUud2FybigiVEhSRUUuTGluZS5jb21wdXRlTGluZURpc3RhbmNlcygpOiBDb21wdXRhdGlvbiBvbmx5IHBvc3NpYmxlIHdpdGggbm9uLWluZGV4ZWQgQnVmZmVyR2VvbWV0cnkuIik7ZWxzZSBlLmlzR2VvbWV0cnkmJmNvbnNvbGUuZXJyb3IoIlRIUkVFLkxpbmUuY29tcHV0ZUxpbmVEaXN0YW5jZXMoKSBubyBsb25nZXIgc3VwcG9ydHMgVEhSRUUuR2VvbWV0cnkuIFVzZSBUSFJFRS5CdWZmZXJHZW9tZXRyeSBpbnN0ZWFkLiIpO3JldHVybiB0aGlzfXJheWNhc3QoZSx0KXtjb25zdCBuPXRoaXMuZ2VvbWV0cnksaT10aGlzLm1hdHJpeFdvcmxkLHI9ZS5wYXJhbXMuTGluZS50aHJlc2hvbGQsYT1uLmRyYXdSYW5nZTtpZihuLmJvdW5kaW5nU3BoZXJlPT09bnVsbCYmbi5jb21wdXRlQm91bmRpbmdTcGhlcmUoKSxfc3BoZXJlJDEuY29weShuLmJvdW5kaW5nU3BoZXJlKSxfc3BoZXJlJDEuYXBwbHlNYXRyaXg0KGkpLF9zcGhlcmUkMS5yYWRpdXMrPXIsZS5yYXkuaW50ZXJzZWN0c1NwaGVyZShfc3BoZXJlJDEpPT09ITEpcmV0dXJuO19pbnZlcnNlTWF0cml4JDEuY29weShpKS5pbnZlcnQoKSxfcmF5JDEuY29weShlLnJheSkuYXBwbHlNYXRyaXg0KF9pbnZlcnNlTWF0cml4JDEpO2NvbnN0IG89ci8oKHRoaXMuc2NhbGUueCt0aGlzLnNjYWxlLnkrdGhpcy5zY2FsZS56KS8zKSxsPW8qbyxjPW5ldyBWZWN0b3IzLGg9bmV3IFZlY3RvcjMsdT1uZXcgVmVjdG9yMyxkPW5ldyBWZWN0b3IzLGY9dGhpcy5pc0xpbmVTZWdtZW50cz8yOjE7aWYobi5pc0J1ZmZlckdlb21ldHJ5KXtjb25zdCBnPW4uaW5kZXgseT1uLmF0dHJpYnV0ZXMucG9zaXRpb247aWYoZyE9PW51bGwpe2NvbnN0IG09TWF0aC5tYXgoMCxhLnN0YXJ0KSxwPU1hdGgubWluKGcuY291bnQsYS5zdGFydCthLmNvdW50KTtmb3IobGV0IFQ9bSx3PXAtMTtUPHc7VCs9Zil7Y29uc3QgUz1nLmdldFgoVCksUj1nLmdldFgoVCsxKTtpZihjLmZyb21CdWZmZXJBdHRyaWJ1dGUoeSxTKSxoLmZyb21CdWZmZXJBdHRyaWJ1dGUoeSxSKSxfcmF5JDEuZGlzdGFuY2VTcVRvU2VnbWVudChjLGgsZCx1KT5sKWNvbnRpbnVlO2QuYXBwbHlNYXRyaXg0KHRoaXMubWF0cml4V29ybGQpO2NvbnN0IFg9ZS5yYXkub3JpZ2luLmRpc3RhbmNlVG8oZCk7WDxlLm5lYXJ8fFg+ZS5mYXJ8fHQucHVzaCh7ZGlzdGFuY2U6WCxwb2ludDp1LmNsb25lKCkuYXBwbHlNYXRyaXg0KHRoaXMubWF0cml4V29ybGQpLGluZGV4OlQsZmFjZTpudWxsLGZhY2VJbmRleDpudWxsLG9iamVjdDp0aGlzfSl9fWVsc2V7Y29uc3QgbT1NYXRoLm1heCgwLGEuc3RhcnQpLHA9TWF0aC5taW4oeS5jb3VudCxhLnN0YXJ0K2EuY291bnQpO2ZvcihsZXQgVD1tLHc9cC0xO1Q8dztUKz1mKXtpZihjLmZyb21CdWZmZXJBdHRyaWJ1dGUoeSxUKSxoLmZyb21CdWZmZXJBdHRyaWJ1dGUoeSxUKzEpLF9yYXkkMS5kaXN0YW5jZVNxVG9TZWdtZW50KGMsaCxkLHUpPmwpY29udGludWU7ZC5hcHBseU1hdHJpeDQodGhpcy5tYXRyaXhXb3JsZCk7Y29uc3QgUj1lLnJheS5vcmlnaW4uZGlzdGFuY2VUbyhkKTtSPGUubmVhcnx8Uj5lLmZhcnx8dC5wdXNoKHtkaXN0YW5jZTpSLHBvaW50OnUuY2xvbmUoKS5hcHBseU1hdHJpeDQodGhpcy5tYXRyaXhXb3JsZCksaW5kZXg6VCxmYWNlOm51bGwsZmFjZUluZGV4Om51bGwsb2JqZWN0OnRoaXN9KX19fWVsc2Ugbi5pc0dlb21ldHJ5JiZjb25zb2xlLmVycm9yKCJUSFJFRS5MaW5lLnJheWNhc3QoKSBubyBsb25nZXIgc3VwcG9ydHMgVEhSRUUuR2VvbWV0cnkuIFVzZSBUSFJFRS5CdWZmZXJHZW9tZXRyeSBpbnN0ZWFkLiIpfXVwZGF0ZU1vcnBoVGFyZ2V0cygpe2NvbnN0IGU9dGhpcy5nZW9tZXRyeTtpZihlLmlzQnVmZmVyR2VvbWV0cnkpe2NvbnN0IHQ9ZS5tb3JwaEF0dHJpYnV0ZXMsbj1PYmplY3Qua2V5cyh0KTtpZihuLmxlbmd0aD4wKXtjb25zdCBpPXRbblswXV07aWYoaSE9PXZvaWQgMCl7dGhpcy5tb3JwaFRhcmdldEluZmx1ZW5jZXM9W10sdGhpcy5tb3JwaFRhcmdldERpY3Rpb25hcnk9e307Zm9yKGxldCByPTAsYT1pLmxlbmd0aDtyPGE7cisrKXtjb25zdCBvPWlbcl0ubmFtZXx8U3RyaW5nKHIpO3RoaXMubW9ycGhUYXJnZXRJbmZsdWVuY2VzLnB1c2goMCksdGhpcy5tb3JwaFRhcmdldERpY3Rpb25hcnlbb109cn19fX1lbHNle2NvbnN0IHQ9ZS5tb3JwaFRhcmdldHM7dCE9PXZvaWQgMCYmdC5sZW5ndGg+MCYmY29uc29sZS5lcnJvcigiVEhSRUUuTGluZS51cGRhdGVNb3JwaFRhcmdldHMoKSBkb2VzIG5vdCBzdXBwb3J0IFRIUkVFLkdlb21ldHJ5LiBVc2UgVEhSRUUuQnVmZmVyR2VvbWV0cnkgaW5zdGVhZC4iKX19fUxpbmUucHJvdG90eXBlLmlzTGluZT0hMDtjb25zdCBfc3RhcnQ9bmV3IFZlY3RvcjMsX2VuZD1uZXcgVmVjdG9yMztjbGFzcyBMaW5lU2VnbWVudHMgZXh0ZW5kcyBMaW5le2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KTt0aGlzLnR5cGU9IkxpbmVTZWdtZW50cyJ9Y29tcHV0ZUxpbmVEaXN0YW5jZXMoKXtjb25zdCBlPXRoaXMuZ2VvbWV0cnk7aWYoZS5pc0J1ZmZlckdlb21ldHJ5KWlmKGUuaW5kZXg9PT1udWxsKXtjb25zdCB0PWUuYXR0cmlidXRlcy5wb3NpdGlvbixuPVtdO2ZvcihsZXQgaT0wLHI9dC5jb3VudDtpPHI7aSs9Milfc3RhcnQuZnJvbUJ1ZmZlckF0dHJpYnV0ZSh0LGkpLF9lbmQuZnJvbUJ1ZmZlckF0dHJpYnV0ZSh0LGkrMSksbltpXT1pPT09MD8wOm5baS0xXSxuW2krMV09bltpXStfc3RhcnQuZGlzdGFuY2VUbyhfZW5kKTtlLnNldEF0dHJpYnV0ZSgibGluZURpc3RhbmNlIixuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZShuLDEpKX1lbHNlIGNvbnNvbGUud2FybigiVEhSRUUuTGluZVNlZ21lbnRzLmNvbXB1dGVMaW5lRGlzdGFuY2VzKCk6IENvbXB1dGF0aW9uIG9ubHkgcG9zc2libGUgd2l0aCBub24taW5kZXhlZCBCdWZmZXJHZW9tZXRyeS4iKTtlbHNlIGUuaXNHZW9tZXRyeSYmY29uc29sZS5lcnJvcigiVEhSRUUuTGluZVNlZ21lbnRzLmNvbXB1dGVMaW5lRGlzdGFuY2VzKCkgbm8gbG9uZ2VyIHN1cHBvcnRzIFRIUkVFLkdlb21ldHJ5LiBVc2UgVEhSRUUuQnVmZmVyR2VvbWV0cnkgaW5zdGVhZC4iKTtyZXR1cm4gdGhpc319TGluZVNlZ21lbnRzLnByb3RvdHlwZS5pc0xpbmVTZWdtZW50cz0hMDtjbGFzcyBMaW5lTG9vcCBleHRlbmRzIExpbmV7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQpO3RoaXMudHlwZT0iTGluZUxvb3AifX1MaW5lTG9vcC5wcm90b3R5cGUuaXNMaW5lTG9vcD0hMDtjbGFzcyBQb2ludHNNYXRlcmlhbCBleHRlbmRzIE1hdGVyaWFse2NvbnN0cnVjdG9yKGUpe3N1cGVyKCk7dGhpcy50eXBlPSJQb2ludHNNYXRlcmlhbCIsdGhpcy5jb2xvcj1uZXcgQ29sb3IoMTY3NzcyMTUpLHRoaXMubWFwPW51bGwsdGhpcy5hbHBoYU1hcD1udWxsLHRoaXMuc2l6ZT0xLHRoaXMuc2l6ZUF0dGVudWF0aW9uPSEwLHRoaXMuc2V0VmFsdWVzKGUpfWNvcHkoZSl7cmV0dXJuIHN1cGVyLmNvcHkoZSksdGhpcy5jb2xvci5jb3B5KGUuY29sb3IpLHRoaXMubWFwPWUubWFwLHRoaXMuYWxwaGFNYXA9ZS5hbHBoYU1hcCx0aGlzLnNpemU9ZS5zaXplLHRoaXMuc2l6ZUF0dGVudWF0aW9uPWUuc2l6ZUF0dGVudWF0aW9uLHRoaXN9fVBvaW50c01hdGVyaWFsLnByb3RvdHlwZS5pc1BvaW50c01hdGVyaWFsPSEwO2NvbnN0IF9pbnZlcnNlTWF0cml4PW5ldyBNYXRyaXg0LF9yYXk9bmV3IFJheSxfc3BoZXJlPW5ldyBTcGhlcmUsX3Bvc2l0aW9uJDI9bmV3IFZlY3RvcjM7Y2xhc3MgUG9pbnRzIGV4dGVuZHMgT2JqZWN0M0R7Y29uc3RydWN0b3IoZT1uZXcgQnVmZmVyR2VvbWV0cnksdD1uZXcgUG9pbnRzTWF0ZXJpYWwpe3N1cGVyKCk7dGhpcy50eXBlPSJQb2ludHMiLHRoaXMuZ2VvbWV0cnk9ZSx0aGlzLm1hdGVyaWFsPXQsdGhpcy51cGRhdGVNb3JwaFRhcmdldHMoKX1jb3B5KGUpe3JldHVybiBzdXBlci5jb3B5KGUpLHRoaXMubWF0ZXJpYWw9ZS5tYXRlcmlhbCx0aGlzLmdlb21ldHJ5PWUuZ2VvbWV0cnksdGhpc31yYXljYXN0KGUsdCl7Y29uc3Qgbj10aGlzLmdlb21ldHJ5LGk9dGhpcy5tYXRyaXhXb3JsZCxyPWUucGFyYW1zLlBvaW50cy50aHJlc2hvbGQsYT1uLmRyYXdSYW5nZTtpZihuLmJvdW5kaW5nU3BoZXJlPT09bnVsbCYmbi5jb21wdXRlQm91bmRpbmdTcGhlcmUoKSxfc3BoZXJlLmNvcHkobi5ib3VuZGluZ1NwaGVyZSksX3NwaGVyZS5hcHBseU1hdHJpeDQoaSksX3NwaGVyZS5yYWRpdXMrPXIsZS5yYXkuaW50ZXJzZWN0c1NwaGVyZShfc3BoZXJlKT09PSExKXJldHVybjtfaW52ZXJzZU1hdHJpeC5jb3B5KGkpLmludmVydCgpLF9yYXkuY29weShlLnJheSkuYXBwbHlNYXRyaXg0KF9pbnZlcnNlTWF0cml4KTtjb25zdCBvPXIvKCh0aGlzLnNjYWxlLngrdGhpcy5zY2FsZS55K3RoaXMuc2NhbGUueikvMyksbD1vKm87aWYobi5pc0J1ZmZlckdlb21ldHJ5KXtjb25zdCBjPW4uaW5kZXgsdT1uLmF0dHJpYnV0ZXMucG9zaXRpb247aWYoYyE9PW51bGwpe2NvbnN0IGQ9TWF0aC5tYXgoMCxhLnN0YXJ0KSxmPU1hdGgubWluKGMuY291bnQsYS5zdGFydCthLmNvdW50KTtmb3IobGV0IGc9ZCxfPWY7ZzxfO2crKyl7Y29uc3QgeT1jLmdldFgoZyk7X3Bvc2l0aW9uJDIuZnJvbUJ1ZmZlckF0dHJpYnV0ZSh1LHkpLHRlc3RQb2ludChfcG9zaXRpb24kMix5LGwsaSxlLHQsdGhpcyl9fWVsc2V7Y29uc3QgZD1NYXRoLm1heCgwLGEuc3RhcnQpLGY9TWF0aC5taW4odS5jb3VudCxhLnN0YXJ0K2EuY291bnQpO2ZvcihsZXQgZz1kLF89ZjtnPF87ZysrKV9wb3NpdGlvbiQyLmZyb21CdWZmZXJBdHRyaWJ1dGUodSxnKSx0ZXN0UG9pbnQoX3Bvc2l0aW9uJDIsZyxsLGksZSx0LHRoaXMpfX1lbHNlIGNvbnNvbGUuZXJyb3IoIlRIUkVFLlBvaW50cy5yYXljYXN0KCkgbm8gbG9uZ2VyIHN1cHBvcnRzIFRIUkVFLkdlb21ldHJ5LiBVc2UgVEhSRUUuQnVmZmVyR2VvbWV0cnkgaW5zdGVhZC4iKX11cGRhdGVNb3JwaFRhcmdldHMoKXtjb25zdCBlPXRoaXMuZ2VvbWV0cnk7aWYoZS5pc0J1ZmZlckdlb21ldHJ5KXtjb25zdCB0PWUubW9ycGhBdHRyaWJ1dGVzLG49T2JqZWN0LmtleXModCk7aWYobi5sZW5ndGg+MCl7Y29uc3QgaT10W25bMF1dO2lmKGkhPT12b2lkIDApe3RoaXMubW9ycGhUYXJnZXRJbmZsdWVuY2VzPVtdLHRoaXMubW9ycGhUYXJnZXREaWN0aW9uYXJ5PXt9O2ZvcihsZXQgcj0wLGE9aS5sZW5ndGg7cjxhO3IrKyl7Y29uc3Qgbz1pW3JdLm5hbWV8fFN0cmluZyhyKTt0aGlzLm1vcnBoVGFyZ2V0SW5mbHVlbmNlcy5wdXNoKDApLHRoaXMubW9ycGhUYXJnZXREaWN0aW9uYXJ5W29dPXJ9fX19ZWxzZXtjb25zdCB0PWUubW9ycGhUYXJnZXRzO3QhPT12b2lkIDAmJnQubGVuZ3RoPjAmJmNvbnNvbGUuZXJyb3IoIlRIUkVFLlBvaW50cy51cGRhdGVNb3JwaFRhcmdldHMoKSBkb2VzIG5vdCBzdXBwb3J0IFRIUkVFLkdlb21ldHJ5LiBVc2UgVEhSRUUuQnVmZmVyR2VvbWV0cnkgaW5zdGVhZC4iKX19fVBvaW50cy5wcm90b3R5cGUuaXNQb2ludHM9ITA7ZnVuY3Rpb24gdGVzdFBvaW50KHMsZSx0LG4saSxyLGEpe2NvbnN0IG89X3JheS5kaXN0YW5jZVNxVG9Qb2ludChzKTtpZihvPHQpe2NvbnN0IGw9bmV3IFZlY3RvcjM7X3JheS5jbG9zZXN0UG9pbnRUb1BvaW50KHMsbCksbC5hcHBseU1hdHJpeDQobik7Y29uc3QgYz1pLnJheS5vcmlnaW4uZGlzdGFuY2VUbyhsKTtpZihjPGkubmVhcnx8Yz5pLmZhcilyZXR1cm47ci5wdXNoKHtkaXN0YW5jZTpjLGRpc3RhbmNlVG9SYXk6TWF0aC5zcXJ0KG8pLHBvaW50OmwsaW5kZXg6ZSxmYWNlOm51bGwsb2JqZWN0OmF9KX19Y2xhc3MgVmlkZW9UZXh0dXJlIGV4dGVuZHMgVGV4dHVyZXtjb25zdHJ1Y3RvcihlLHQsbixpLHIsYSxvLGwsYyl7c3VwZXIoZSx0LG4saSxyLGEsbyxsLGMpO3RoaXMubWluRmlsdGVyPWEhPT12b2lkIDA/YToxMDA2LHRoaXMubWFnRmlsdGVyPXIhPT12b2lkIDA/cjoxMDA2LHRoaXMuZ2VuZXJhdGVNaXBtYXBzPSExO2NvbnN0IGg9dGhpcztmdW5jdGlvbiB1KCl7aC5uZWVkc1VwZGF0ZT0hMCxlLnJlcXVlc3RWaWRlb0ZyYW1lQ2FsbGJhY2sodSl9InJlcXVlc3RWaWRlb0ZyYW1lQ2FsbGJhY2siaW4gZSYmZS5yZXF1ZXN0VmlkZW9GcmFtZUNhbGxiYWNrKHUpfWNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuaW1hZ2UpLmNvcHkodGhpcyl9dXBkYXRlKCl7Y29uc3QgZT10aGlzLmltYWdlOyJyZXF1ZXN0VmlkZW9GcmFtZUNhbGxiYWNrImluIGU9PT0hMSYmZS5yZWFkeVN0YXRlPj1lLkhBVkVfQ1VSUkVOVF9EQVRBJiYodGhpcy5uZWVkc1VwZGF0ZT0hMCl9fVZpZGVvVGV4dHVyZS5wcm90b3R5cGUuaXNWaWRlb1RleHR1cmU9ITA7Y2xhc3MgRnJhbWVidWZmZXJUZXh0dXJlIGV4dGVuZHMgVGV4dHVyZXtjb25zdHJ1Y3RvcihlLHQsbil7c3VwZXIoe3dpZHRoOmUsaGVpZ2h0OnR9KTt0aGlzLmZvcm1hdD1uLHRoaXMubWFnRmlsdGVyPTEwMDMsdGhpcy5taW5GaWx0ZXI9MTAwMyx0aGlzLmdlbmVyYXRlTWlwbWFwcz0hMSx0aGlzLm5lZWRzVXBkYXRlPSEwfX1GcmFtZWJ1ZmZlclRleHR1cmUucHJvdG90eXBlLmlzRnJhbWVidWZmZXJUZXh0dXJlPSEwO2NsYXNzIENvbXByZXNzZWRUZXh0dXJlIGV4dGVuZHMgVGV4dHVyZXtjb25zdHJ1Y3RvcihlLHQsbixpLHIsYSxvLGwsYyxoLHUsZCl7c3VwZXIobnVsbCxhLG8sbCxjLGgsaSxyLHUsZCk7dGhpcy5pbWFnZT17d2lkdGg6dCxoZWlnaHQ6bn0sdGhpcy5taXBtYXBzPWUsdGhpcy5mbGlwWT0hMSx0aGlzLmdlbmVyYXRlTWlwbWFwcz0hMX19Q29tcHJlc3NlZFRleHR1cmUucHJvdG90eXBlLmlzQ29tcHJlc3NlZFRleHR1cmU9ITA7Y2xhc3MgQ2FudmFzVGV4dHVyZSBleHRlbmRzIFRleHR1cmV7Y29uc3RydWN0b3IoZSx0LG4saSxyLGEsbyxsLGMpe3N1cGVyKGUsdCxuLGkscixhLG8sbCxjKTt0aGlzLm5lZWRzVXBkYXRlPSEwfX1DYW52YXNUZXh0dXJlLnByb3RvdHlwZS5pc0NhbnZhc1RleHR1cmU9ITAsbmV3IFZlY3RvcjMsbmV3IFZlY3RvcjMsbmV3IFZlY3RvcjMsbmV3IFRyaWFuZ2xlO2NsYXNzIEN1cnZle2NvbnN0cnVjdG9yKCl7dGhpcy50eXBlPSJDdXJ2ZSIsdGhpcy5hcmNMZW5ndGhEaXZpc2lvbnM9MjAwfWdldFBvaW50KCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuQ3VydmU6IC5nZXRQb2ludCgpIG5vdCBpbXBsZW1lbnRlZC4iKSxudWxsfWdldFBvaW50QXQoZSx0KXtjb25zdCBuPXRoaXMuZ2V0VXRvVG1hcHBpbmcoZSk7cmV0dXJuIHRoaXMuZ2V0UG9pbnQobix0KX1nZXRQb2ludHMoZT01KXtjb25zdCB0PVtdO2ZvcihsZXQgbj0wO248PWU7bisrKXQucHVzaCh0aGlzLmdldFBvaW50KG4vZSkpO3JldHVybiB0fWdldFNwYWNlZFBvaW50cyhlPTUpe2NvbnN0IHQ9W107Zm9yKGxldCBuPTA7bjw9ZTtuKyspdC5wdXNoKHRoaXMuZ2V0UG9pbnRBdChuL2UpKTtyZXR1cm4gdH1nZXRMZW5ndGgoKXtjb25zdCBlPXRoaXMuZ2V0TGVuZ3RocygpO3JldHVybiBlW2UubGVuZ3RoLTFdfWdldExlbmd0aHMoZT10aGlzLmFyY0xlbmd0aERpdmlzaW9ucyl7aWYodGhpcy5jYWNoZUFyY0xlbmd0aHMmJnRoaXMuY2FjaGVBcmNMZW5ndGhzLmxlbmd0aD09PWUrMSYmIXRoaXMubmVlZHNVcGRhdGUpcmV0dXJuIHRoaXMuY2FjaGVBcmNMZW5ndGhzO3RoaXMubmVlZHNVcGRhdGU9ITE7Y29uc3QgdD1bXTtsZXQgbixpPXRoaXMuZ2V0UG9pbnQoMCkscj0wO3QucHVzaCgwKTtmb3IobGV0IGE9MTthPD1lO2ErKyluPXRoaXMuZ2V0UG9pbnQoYS9lKSxyKz1uLmRpc3RhbmNlVG8oaSksdC5wdXNoKHIpLGk9bjtyZXR1cm4gdGhpcy5jYWNoZUFyY0xlbmd0aHM9dCx0fXVwZGF0ZUFyY0xlbmd0aHMoKXt0aGlzLm5lZWRzVXBkYXRlPSEwLHRoaXMuZ2V0TGVuZ3RocygpfWdldFV0b1RtYXBwaW5nKGUsdCl7Y29uc3Qgbj10aGlzLmdldExlbmd0aHMoKTtsZXQgaT0wO2NvbnN0IHI9bi5sZW5ndGg7bGV0IGE7dD9hPXQ6YT1lKm5bci0xXTtsZXQgbz0wLGw9ci0xLGM7Zm9yKDtvPD1sOylpZihpPU1hdGguZmxvb3IobysobC1vKS8yKSxjPW5baV0tYSxjPDApbz1pKzE7ZWxzZSBpZihjPjApbD1pLTE7ZWxzZXtsPWk7YnJlYWt9aWYoaT1sLG5baV09PT1hKXJldHVybiBpLyhyLTEpO2NvbnN0IGg9bltpXSxkPW5baSsxXS1oLGY9KGEtaCkvZDtyZXR1cm4oaStmKS8oci0xKX1nZXRUYW5nZW50KGUsdCl7bGV0IGk9ZS0xZS00LHI9ZSsxZS00O2k8MCYmKGk9MCkscj4xJiYocj0xKTtjb25zdCBhPXRoaXMuZ2V0UG9pbnQoaSksbz10aGlzLmdldFBvaW50KHIpLGw9dHx8KGEuaXNWZWN0b3IyP25ldyBWZWN0b3IyOm5ldyBWZWN0b3IzKTtyZXR1cm4gbC5jb3B5KG8pLnN1YihhKS5ub3JtYWxpemUoKSxsfWdldFRhbmdlbnRBdChlLHQpe2NvbnN0IG49dGhpcy5nZXRVdG9UbWFwcGluZyhlKTtyZXR1cm4gdGhpcy5nZXRUYW5nZW50KG4sdCl9Y29tcHV0ZUZyZW5ldEZyYW1lcyhlLHQpe2NvbnN0IG49bmV3IFZlY3RvcjMsaT1bXSxyPVtdLGE9W10sbz1uZXcgVmVjdG9yMyxsPW5ldyBNYXRyaXg0O2ZvcihsZXQgZj0wO2Y8PWU7ZisrKXtjb25zdCBnPWYvZTtpW2ZdPXRoaXMuZ2V0VGFuZ2VudEF0KGcsbmV3IFZlY3RvcjMpfXJbMF09bmV3IFZlY3RvcjMsYVswXT1uZXcgVmVjdG9yMztsZXQgYz1OdW1iZXIuTUFYX1ZBTFVFO2NvbnN0IGg9TWF0aC5hYnMoaVswXS54KSx1PU1hdGguYWJzKGlbMF0ueSksZD1NYXRoLmFicyhpWzBdLnopO2g8PWMmJihjPWgsbi5zZXQoMSwwLDApKSx1PD1jJiYoYz11LG4uc2V0KDAsMSwwKSksZDw9YyYmbi5zZXQoMCwwLDEpLG8uY3Jvc3NWZWN0b3JzKGlbMF0sbikubm9ybWFsaXplKCksclswXS5jcm9zc1ZlY3RvcnMoaVswXSxvKSxhWzBdLmNyb3NzVmVjdG9ycyhpWzBdLHJbMF0pO2ZvcihsZXQgZj0xO2Y8PWU7ZisrKXtpZihyW2ZdPXJbZi0xXS5jbG9uZSgpLGFbZl09YVtmLTFdLmNsb25lKCksby5jcm9zc1ZlY3RvcnMoaVtmLTFdLGlbZl0pLG8ubGVuZ3RoKCk+TnVtYmVyLkVQU0lMT04pe28ubm9ybWFsaXplKCk7Y29uc3QgZz1NYXRoLmFjb3MoY2xhbXAoaVtmLTFdLmRvdChpW2ZdKSwtMSwxKSk7cltmXS5hcHBseU1hdHJpeDQobC5tYWtlUm90YXRpb25BeGlzKG8sZykpfWFbZl0uY3Jvc3NWZWN0b3JzKGlbZl0scltmXSl9aWYodD09PSEwKXtsZXQgZj1NYXRoLmFjb3MoY2xhbXAoclswXS5kb3QocltlXSksLTEsMSkpO2YvPWUsaVswXS5kb3Qoby5jcm9zc1ZlY3RvcnMoclswXSxyW2VdKSk+MCYmKGY9LWYpO2ZvcihsZXQgZz0xO2c8PWU7ZysrKXJbZ10uYXBwbHlNYXRyaXg0KGwubWFrZVJvdGF0aW9uQXhpcyhpW2ddLGYqZykpLGFbZ10uY3Jvc3NWZWN0b3JzKGlbZ10scltnXSl9cmV0dXJue3RhbmdlbnRzOmksbm9ybWFsczpyLGJpbm9ybWFsczphfX1jbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLmNvcHkodGhpcyl9Y29weShlKXtyZXR1cm4gdGhpcy5hcmNMZW5ndGhEaXZpc2lvbnM9ZS5hcmNMZW5ndGhEaXZpc2lvbnMsdGhpc310b0pTT04oKXtjb25zdCBlPXttZXRhZGF0YTp7dmVyc2lvbjo0LjUsdHlwZToiQ3VydmUiLGdlbmVyYXRvcjoiQ3VydmUudG9KU09OIn19O3JldHVybiBlLmFyY0xlbmd0aERpdmlzaW9ucz10aGlzLmFyY0xlbmd0aERpdmlzaW9ucyxlLnR5cGU9dGhpcy50eXBlLGV9ZnJvbUpTT04oZSl7cmV0dXJuIHRoaXMuYXJjTGVuZ3RoRGl2aXNpb25zPWUuYXJjTGVuZ3RoRGl2aXNpb25zLHRoaXN9fWNsYXNzIEVsbGlwc2VDdXJ2ZSBleHRlbmRzIEN1cnZle2NvbnN0cnVjdG9yKGU9MCx0PTAsbj0xLGk9MSxyPTAsYT1NYXRoLlBJKjIsbz0hMSxsPTApe3N1cGVyKCk7dGhpcy50eXBlPSJFbGxpcHNlQ3VydmUiLHRoaXMuYVg9ZSx0aGlzLmFZPXQsdGhpcy54UmFkaXVzPW4sdGhpcy55UmFkaXVzPWksdGhpcy5hU3RhcnRBbmdsZT1yLHRoaXMuYUVuZEFuZ2xlPWEsdGhpcy5hQ2xvY2t3aXNlPW8sdGhpcy5hUm90YXRpb249bH1nZXRQb2ludChlLHQpe2NvbnN0IG49dHx8bmV3IFZlY3RvcjIsaT1NYXRoLlBJKjI7bGV0IHI9dGhpcy5hRW5kQW5nbGUtdGhpcy5hU3RhcnRBbmdsZTtjb25zdCBhPU1hdGguYWJzKHIpPE51bWJlci5FUFNJTE9OO2Zvcig7cjwwOylyKz1pO2Zvcig7cj5pOylyLT1pO3I8TnVtYmVyLkVQU0lMT04mJihhP3I9MDpyPWkpLHRoaXMuYUNsb2Nrd2lzZT09PSEwJiYhYSYmKHI9PT1pP3I9LWk6cj1yLWkpO2NvbnN0IG89dGhpcy5hU3RhcnRBbmdsZStlKnI7bGV0IGw9dGhpcy5hWCt0aGlzLnhSYWRpdXMqTWF0aC5jb3MobyksYz10aGlzLmFZK3RoaXMueVJhZGl1cypNYXRoLnNpbihvKTtpZih0aGlzLmFSb3RhdGlvbiE9PTApe2NvbnN0IGg9TWF0aC5jb3ModGhpcy5hUm90YXRpb24pLHU9TWF0aC5zaW4odGhpcy5hUm90YXRpb24pLGQ9bC10aGlzLmFYLGY9Yy10aGlzLmFZO2w9ZCpoLWYqdSt0aGlzLmFYLGM9ZCp1K2YqaCt0aGlzLmFZfXJldHVybiBuLnNldChsLGMpfWNvcHkoZSl7cmV0dXJuIHN1cGVyLmNvcHkoZSksdGhpcy5hWD1lLmFYLHRoaXMuYVk9ZS5hWSx0aGlzLnhSYWRpdXM9ZS54UmFkaXVzLHRoaXMueVJhZGl1cz1lLnlSYWRpdXMsdGhpcy5hU3RhcnRBbmdsZT1lLmFTdGFydEFuZ2xlLHRoaXMuYUVuZEFuZ2xlPWUuYUVuZEFuZ2xlLHRoaXMuYUNsb2Nrd2lzZT1lLmFDbG9ja3dpc2UsdGhpcy5hUm90YXRpb249ZS5hUm90YXRpb24sdGhpc310b0pTT04oKXtjb25zdCBlPXN1cGVyLnRvSlNPTigpO3JldHVybiBlLmFYPXRoaXMuYVgsZS5hWT10aGlzLmFZLGUueFJhZGl1cz10aGlzLnhSYWRpdXMsZS55UmFkaXVzPXRoaXMueVJhZGl1cyxlLmFTdGFydEFuZ2xlPXRoaXMuYVN0YXJ0QW5nbGUsZS5hRW5kQW5nbGU9dGhpcy5hRW5kQW5nbGUsZS5hQ2xvY2t3aXNlPXRoaXMuYUNsb2Nrd2lzZSxlLmFSb3RhdGlvbj10aGlzLmFSb3RhdGlvbixlfWZyb21KU09OKGUpe3JldHVybiBzdXBlci5mcm9tSlNPTihlKSx0aGlzLmFYPWUuYVgsdGhpcy5hWT1lLmFZLHRoaXMueFJhZGl1cz1lLnhSYWRpdXMsdGhpcy55UmFkaXVzPWUueVJhZGl1cyx0aGlzLmFTdGFydEFuZ2xlPWUuYVN0YXJ0QW5nbGUsdGhpcy5hRW5kQW5nbGU9ZS5hRW5kQW5nbGUsdGhpcy5hQ2xvY2t3aXNlPWUuYUNsb2Nrd2lzZSx0aGlzLmFSb3RhdGlvbj1lLmFSb3RhdGlvbix0aGlzfX1FbGxpcHNlQ3VydmUucHJvdG90eXBlLmlzRWxsaXBzZUN1cnZlPSEwO2NsYXNzIEFyY0N1cnZlIGV4dGVuZHMgRWxsaXBzZUN1cnZle2NvbnN0cnVjdG9yKGUsdCxuLGkscixhKXtzdXBlcihlLHQsbixuLGkscixhKTt0aGlzLnR5cGU9IkFyY0N1cnZlIn19QXJjQ3VydmUucHJvdG90eXBlLmlzQXJjQ3VydmU9ITA7ZnVuY3Rpb24gQ3ViaWNQb2x5KCl7bGV0IHM9MCxlPTAsdD0wLG49MDtmdW5jdGlvbiBpKHIsYSxvLGwpe3M9cixlPW8sdD0tMypyKzMqYS0yKm8tbCxuPTIqci0yKmErbytsfXJldHVybntpbml0Q2F0bXVsbFJvbTpmdW5jdGlvbihyLGEsbyxsLGMpe2koYSxvLGMqKG8tciksYyoobC1hKSl9LGluaXROb251bmlmb3JtQ2F0bXVsbFJvbTpmdW5jdGlvbihyLGEsbyxsLGMsaCx1KXtsZXQgZD0oYS1yKS9jLShvLXIpLyhjK2gpKyhvLWEpL2gsZj0oby1hKS9oLShsLWEpLyhoK3UpKyhsLW8pL3U7ZCo9aCxmKj1oLGkoYSxvLGQsZil9LGNhbGM6ZnVuY3Rpb24ocil7Y29uc3QgYT1yKnIsbz1hKnI7cmV0dXJuIHMrZSpyK3QqYStuKm99fX1jb25zdCB0bXA9bmV3IFZlY3RvcjMscHg9bmV3IEN1YmljUG9seSxweT1uZXcgQ3ViaWNQb2x5LHB6PW5ldyBDdWJpY1BvbHk7Y2xhc3MgQ2F0bXVsbFJvbUN1cnZlMyBleHRlbmRzIEN1cnZle2NvbnN0cnVjdG9yKGU9W10sdD0hMSxuPSJjZW50cmlwZXRhbCIsaT0uNSl7c3VwZXIoKTt0aGlzLnR5cGU9IkNhdG11bGxSb21DdXJ2ZTMiLHRoaXMucG9pbnRzPWUsdGhpcy5jbG9zZWQ9dCx0aGlzLmN1cnZlVHlwZT1uLHRoaXMudGVuc2lvbj1pfWdldFBvaW50KGUsdD1uZXcgVmVjdG9yMyl7Y29uc3Qgbj10LGk9dGhpcy5wb2ludHMscj1pLmxlbmd0aCxhPShyLSh0aGlzLmNsb3NlZD8wOjEpKSplO2xldCBvPU1hdGguZmxvb3IoYSksbD1hLW87dGhpcy5jbG9zZWQ/bys9bz4wPzA6KE1hdGguZmxvb3IoTWF0aC5hYnMobykvcikrMSkqcjpsPT09MCYmbz09PXItMSYmKG89ci0yLGw9MSk7bGV0IGMsaDt0aGlzLmNsb3NlZHx8bz4wP2M9aVsoby0xKSVyXToodG1wLnN1YlZlY3RvcnMoaVswXSxpWzFdKS5hZGQoaVswXSksYz10bXApO2NvbnN0IHU9aVtvJXJdLGQ9aVsobysxKSVyXTtpZih0aGlzLmNsb3NlZHx8bysyPHI/aD1pWyhvKzIpJXJdOih0bXAuc3ViVmVjdG9ycyhpW3ItMV0saVtyLTJdKS5hZGQoaVtyLTFdKSxoPXRtcCksdGhpcy5jdXJ2ZVR5cGU9PT0iY2VudHJpcGV0YWwifHx0aGlzLmN1cnZlVHlwZT09PSJjaG9yZGFsIil7Y29uc3QgZj10aGlzLmN1cnZlVHlwZT09PSJjaG9yZGFsIj8uNTouMjU7bGV0IGc9TWF0aC5wb3coYy5kaXN0YW5jZVRvU3F1YXJlZCh1KSxmKSxfPU1hdGgucG93KHUuZGlzdGFuY2VUb1NxdWFyZWQoZCksZikseT1NYXRoLnBvdyhkLmRpc3RhbmNlVG9TcXVhcmVkKGgpLGYpO188MWUtNCYmKF89MSksZzwxZS00JiYoZz1fKSx5PDFlLTQmJih5PV8pLHB4LmluaXROb251bmlmb3JtQ2F0bXVsbFJvbShjLngsdS54LGQueCxoLngsZyxfLHkpLHB5LmluaXROb251bmlmb3JtQ2F0bXVsbFJvbShjLnksdS55LGQueSxoLnksZyxfLHkpLHB6LmluaXROb251bmlmb3JtQ2F0bXVsbFJvbShjLnosdS56LGQueixoLnosZyxfLHkpfWVsc2UgdGhpcy5jdXJ2ZVR5cGU9PT0iY2F0bXVsbHJvbSImJihweC5pbml0Q2F0bXVsbFJvbShjLngsdS54LGQueCxoLngsdGhpcy50ZW5zaW9uKSxweS5pbml0Q2F0bXVsbFJvbShjLnksdS55LGQueSxoLnksdGhpcy50ZW5zaW9uKSxwei5pbml0Q2F0bXVsbFJvbShjLnosdS56LGQueixoLnosdGhpcy50ZW5zaW9uKSk7cmV0dXJuIG4uc2V0KHB4LmNhbGMobCkscHkuY2FsYyhsKSxwei5jYWxjKGwpKSxufWNvcHkoZSl7c3VwZXIuY29weShlKSx0aGlzLnBvaW50cz1bXTtmb3IobGV0IHQ9MCxuPWUucG9pbnRzLmxlbmd0aDt0PG47dCsrKXtjb25zdCBpPWUucG9pbnRzW3RdO3RoaXMucG9pbnRzLnB1c2goaS5jbG9uZSgpKX1yZXR1cm4gdGhpcy5jbG9zZWQ9ZS5jbG9zZWQsdGhpcy5jdXJ2ZVR5cGU9ZS5jdXJ2ZVR5cGUsdGhpcy50ZW5zaW9uPWUudGVuc2lvbix0aGlzfXRvSlNPTigpe2NvbnN0IGU9c3VwZXIudG9KU09OKCk7ZS5wb2ludHM9W107Zm9yKGxldCB0PTAsbj10aGlzLnBvaW50cy5sZW5ndGg7dDxuO3QrKyl7Y29uc3QgaT10aGlzLnBvaW50c1t0XTtlLnBvaW50cy5wdXNoKGkudG9BcnJheSgpKX1yZXR1cm4gZS5jbG9zZWQ9dGhpcy5jbG9zZWQsZS5jdXJ2ZVR5cGU9dGhpcy5jdXJ2ZVR5cGUsZS50ZW5zaW9uPXRoaXMudGVuc2lvbixlfWZyb21KU09OKGUpe3N1cGVyLmZyb21KU09OKGUpLHRoaXMucG9pbnRzPVtdO2ZvcihsZXQgdD0wLG49ZS5wb2ludHMubGVuZ3RoO3Q8bjt0Kyspe2NvbnN0IGk9ZS5wb2ludHNbdF07dGhpcy5wb2ludHMucHVzaChuZXcgVmVjdG9yMygpLmZyb21BcnJheShpKSl9cmV0dXJuIHRoaXMuY2xvc2VkPWUuY2xvc2VkLHRoaXMuY3VydmVUeXBlPWUuY3VydmVUeXBlLHRoaXMudGVuc2lvbj1lLnRlbnNpb24sdGhpc319Q2F0bXVsbFJvbUN1cnZlMy5wcm90b3R5cGUuaXNDYXRtdWxsUm9tQ3VydmUzPSEwO2Z1bmN0aW9uIENhdG11bGxSb20ocyxlLHQsbixpKXtjb25zdCByPShuLWUpKi41LGE9KGktdCkqLjUsbz1zKnMsbD1zKm87cmV0dXJuKDIqdC0yKm4rcithKSpsKygtMyp0KzMqbi0yKnItYSkqbytyKnMrdH1mdW5jdGlvbiBRdWFkcmF0aWNCZXppZXJQMChzLGUpe2NvbnN0IHQ9MS1zO3JldHVybiB0KnQqZX1mdW5jdGlvbiBRdWFkcmF0aWNCZXppZXJQMShzLGUpe3JldHVybiAyKigxLXMpKnMqZX1mdW5jdGlvbiBRdWFkcmF0aWNCZXppZXJQMihzLGUpe3JldHVybiBzKnMqZX1mdW5jdGlvbiBRdWFkcmF0aWNCZXppZXIocyxlLHQsbil7cmV0dXJuIFF1YWRyYXRpY0JlemllclAwKHMsZSkrUXVhZHJhdGljQmV6aWVyUDEocyx0KStRdWFkcmF0aWNCZXppZXJQMihzLG4pfWZ1bmN0aW9uIEN1YmljQmV6aWVyUDAocyxlKXtjb25zdCB0PTEtcztyZXR1cm4gdCp0KnQqZX1mdW5jdGlvbiBDdWJpY0JlemllclAxKHMsZSl7Y29uc3QgdD0xLXM7cmV0dXJuIDMqdCp0KnMqZX1mdW5jdGlvbiBDdWJpY0JlemllclAyKHMsZSl7cmV0dXJuIDMqKDEtcykqcypzKmV9ZnVuY3Rpb24gQ3ViaWNCZXppZXJQMyhzLGUpe3JldHVybiBzKnMqcyplfWZ1bmN0aW9uIEN1YmljQmV6aWVyKHMsZSx0LG4saSl7cmV0dXJuIEN1YmljQmV6aWVyUDAocyxlKStDdWJpY0JlemllclAxKHMsdCkrQ3ViaWNCZXppZXJQMihzLG4pK0N1YmljQmV6aWVyUDMocyxpKX1jbGFzcyBDdWJpY0JlemllckN1cnZlIGV4dGVuZHMgQ3VydmV7Y29uc3RydWN0b3IoZT1uZXcgVmVjdG9yMix0PW5ldyBWZWN0b3IyLG49bmV3IFZlY3RvcjIsaT1uZXcgVmVjdG9yMil7c3VwZXIoKTt0aGlzLnR5cGU9IkN1YmljQmV6aWVyQ3VydmUiLHRoaXMudjA9ZSx0aGlzLnYxPXQsdGhpcy52Mj1uLHRoaXMudjM9aX1nZXRQb2ludChlLHQ9bmV3IFZlY3RvcjIpe2NvbnN0IG49dCxpPXRoaXMudjAscj10aGlzLnYxLGE9dGhpcy52MixvPXRoaXMudjM7cmV0dXJuIG4uc2V0KEN1YmljQmV6aWVyKGUsaS54LHIueCxhLngsby54KSxDdWJpY0JlemllcihlLGkueSxyLnksYS55LG8ueSkpLG59Y29weShlKXtyZXR1cm4gc3VwZXIuY29weShlKSx0aGlzLnYwLmNvcHkoZS52MCksdGhpcy52MS5jb3B5KGUudjEpLHRoaXMudjIuY29weShlLnYyKSx0aGlzLnYzLmNvcHkoZS52MyksdGhpc310b0pTT04oKXtjb25zdCBlPXN1cGVyLnRvSlNPTigpO3JldHVybiBlLnYwPXRoaXMudjAudG9BcnJheSgpLGUudjE9dGhpcy52MS50b0FycmF5KCksZS52Mj10aGlzLnYyLnRvQXJyYXkoKSxlLnYzPXRoaXMudjMudG9BcnJheSgpLGV9ZnJvbUpTT04oZSl7cmV0dXJuIHN1cGVyLmZyb21KU09OKGUpLHRoaXMudjAuZnJvbUFycmF5KGUudjApLHRoaXMudjEuZnJvbUFycmF5KGUudjEpLHRoaXMudjIuZnJvbUFycmF5KGUudjIpLHRoaXMudjMuZnJvbUFycmF5KGUudjMpLHRoaXN9fUN1YmljQmV6aWVyQ3VydmUucHJvdG90eXBlLmlzQ3ViaWNCZXppZXJDdXJ2ZT0hMDtjbGFzcyBDdWJpY0JlemllckN1cnZlMyBleHRlbmRzIEN1cnZle2NvbnN0cnVjdG9yKGU9bmV3IFZlY3RvcjMsdD1uZXcgVmVjdG9yMyxuPW5ldyBWZWN0b3IzLGk9bmV3IFZlY3RvcjMpe3N1cGVyKCk7dGhpcy50eXBlPSJDdWJpY0JlemllckN1cnZlMyIsdGhpcy52MD1lLHRoaXMudjE9dCx0aGlzLnYyPW4sdGhpcy52Mz1pfWdldFBvaW50KGUsdD1uZXcgVmVjdG9yMyl7Y29uc3Qgbj10LGk9dGhpcy52MCxyPXRoaXMudjEsYT10aGlzLnYyLG89dGhpcy52MztyZXR1cm4gbi5zZXQoQ3ViaWNCZXppZXIoZSxpLngsci54LGEueCxvLngpLEN1YmljQmV6aWVyKGUsaS55LHIueSxhLnksby55KSxDdWJpY0JlemllcihlLGkueixyLnosYS56LG8ueikpLG59Y29weShlKXtyZXR1cm4gc3VwZXIuY29weShlKSx0aGlzLnYwLmNvcHkoZS52MCksdGhpcy52MS5jb3B5KGUudjEpLHRoaXMudjIuY29weShlLnYyKSx0aGlzLnYzLmNvcHkoZS52MyksdGhpc310b0pTT04oKXtjb25zdCBlPXN1cGVyLnRvSlNPTigpO3JldHVybiBlLnYwPXRoaXMudjAudG9BcnJheSgpLGUudjE9dGhpcy52MS50b0FycmF5KCksZS52Mj10aGlzLnYyLnRvQXJyYXkoKSxlLnYzPXRoaXMudjMudG9BcnJheSgpLGV9ZnJvbUpTT04oZSl7cmV0dXJuIHN1cGVyLmZyb21KU09OKGUpLHRoaXMudjAuZnJvbUFycmF5KGUudjApLHRoaXMudjEuZnJvbUFycmF5KGUudjEpLHRoaXMudjIuZnJvbUFycmF5KGUudjIpLHRoaXMudjMuZnJvbUFycmF5KGUudjMpLHRoaXN9fUN1YmljQmV6aWVyQ3VydmUzLnByb3RvdHlwZS5pc0N1YmljQmV6aWVyQ3VydmUzPSEwO2NsYXNzIExpbmVDdXJ2ZSBleHRlbmRzIEN1cnZle2NvbnN0cnVjdG9yKGU9bmV3IFZlY3RvcjIsdD1uZXcgVmVjdG9yMil7c3VwZXIoKTt0aGlzLnR5cGU9IkxpbmVDdXJ2ZSIsdGhpcy52MT1lLHRoaXMudjI9dH1nZXRQb2ludChlLHQ9bmV3IFZlY3RvcjIpe2NvbnN0IG49dDtyZXR1cm4gZT09PTE/bi5jb3B5KHRoaXMudjIpOihuLmNvcHkodGhpcy52Mikuc3ViKHRoaXMudjEpLG4ubXVsdGlwbHlTY2FsYXIoZSkuYWRkKHRoaXMudjEpKSxufWdldFBvaW50QXQoZSx0KXtyZXR1cm4gdGhpcy5nZXRQb2ludChlLHQpfWdldFRhbmdlbnQoZSx0KXtjb25zdCBuPXR8fG5ldyBWZWN0b3IyO3JldHVybiBuLmNvcHkodGhpcy52Mikuc3ViKHRoaXMudjEpLm5vcm1hbGl6ZSgpLG59Y29weShlKXtyZXR1cm4gc3VwZXIuY29weShlKSx0aGlzLnYxLmNvcHkoZS52MSksdGhpcy52Mi5jb3B5KGUudjIpLHRoaXN9dG9KU09OKCl7Y29uc3QgZT1zdXBlci50b0pTT04oKTtyZXR1cm4gZS52MT10aGlzLnYxLnRvQXJyYXkoKSxlLnYyPXRoaXMudjIudG9BcnJheSgpLGV9ZnJvbUpTT04oZSl7cmV0dXJuIHN1cGVyLmZyb21KU09OKGUpLHRoaXMudjEuZnJvbUFycmF5KGUudjEpLHRoaXMudjIuZnJvbUFycmF5KGUudjIpLHRoaXN9fUxpbmVDdXJ2ZS5wcm90b3R5cGUuaXNMaW5lQ3VydmU9ITA7Y2xhc3MgTGluZUN1cnZlMyBleHRlbmRzIEN1cnZle2NvbnN0cnVjdG9yKGU9bmV3IFZlY3RvcjMsdD1uZXcgVmVjdG9yMyl7c3VwZXIoKTt0aGlzLnR5cGU9IkxpbmVDdXJ2ZTMiLHRoaXMuaXNMaW5lQ3VydmUzPSEwLHRoaXMudjE9ZSx0aGlzLnYyPXR9Z2V0UG9pbnQoZSx0PW5ldyBWZWN0b3IzKXtjb25zdCBuPXQ7cmV0dXJuIGU9PT0xP24uY29weSh0aGlzLnYyKToobi5jb3B5KHRoaXMudjIpLnN1Yih0aGlzLnYxKSxuLm11bHRpcGx5U2NhbGFyKGUpLmFkZCh0aGlzLnYxKSksbn1nZXRQb2ludEF0KGUsdCl7cmV0dXJuIHRoaXMuZ2V0UG9pbnQoZSx0KX1jb3B5KGUpe3JldHVybiBzdXBlci5jb3B5KGUpLHRoaXMudjEuY29weShlLnYxKSx0aGlzLnYyLmNvcHkoZS52MiksdGhpc310b0pTT04oKXtjb25zdCBlPXN1cGVyLnRvSlNPTigpO3JldHVybiBlLnYxPXRoaXMudjEudG9BcnJheSgpLGUudjI9dGhpcy52Mi50b0FycmF5KCksZX1mcm9tSlNPTihlKXtyZXR1cm4gc3VwZXIuZnJvbUpTT04oZSksdGhpcy52MS5mcm9tQXJyYXkoZS52MSksdGhpcy52Mi5mcm9tQXJyYXkoZS52MiksdGhpc319Y2xhc3MgUXVhZHJhdGljQmV6aWVyQ3VydmUgZXh0ZW5kcyBDdXJ2ZXtjb25zdHJ1Y3RvcihlPW5ldyBWZWN0b3IyLHQ9bmV3IFZlY3RvcjIsbj1uZXcgVmVjdG9yMil7c3VwZXIoKTt0aGlzLnR5cGU9IlF1YWRyYXRpY0JlemllckN1cnZlIix0aGlzLnYwPWUsdGhpcy52MT10LHRoaXMudjI9bn1nZXRQb2ludChlLHQ9bmV3IFZlY3RvcjIpe2NvbnN0IG49dCxpPXRoaXMudjAscj10aGlzLnYxLGE9dGhpcy52MjtyZXR1cm4gbi5zZXQoUXVhZHJhdGljQmV6aWVyKGUsaS54LHIueCxhLngpLFF1YWRyYXRpY0JlemllcihlLGkueSxyLnksYS55KSksbn1jb3B5KGUpe3JldHVybiBzdXBlci5jb3B5KGUpLHRoaXMudjAuY29weShlLnYwKSx0aGlzLnYxLmNvcHkoZS52MSksdGhpcy52Mi5jb3B5KGUudjIpLHRoaXN9dG9KU09OKCl7Y29uc3QgZT1zdXBlci50b0pTT04oKTtyZXR1cm4gZS52MD10aGlzLnYwLnRvQXJyYXkoKSxlLnYxPXRoaXMudjEudG9BcnJheSgpLGUudjI9dGhpcy52Mi50b0FycmF5KCksZX1mcm9tSlNPTihlKXtyZXR1cm4gc3VwZXIuZnJvbUpTT04oZSksdGhpcy52MC5mcm9tQXJyYXkoZS52MCksdGhpcy52MS5mcm9tQXJyYXkoZS52MSksdGhpcy52Mi5mcm9tQXJyYXkoZS52MiksdGhpc319UXVhZHJhdGljQmV6aWVyQ3VydmUucHJvdG90eXBlLmlzUXVhZHJhdGljQmV6aWVyQ3VydmU9ITA7Y2xhc3MgUXVhZHJhdGljQmV6aWVyQ3VydmUzIGV4dGVuZHMgQ3VydmV7Y29uc3RydWN0b3IoZT1uZXcgVmVjdG9yMyx0PW5ldyBWZWN0b3IzLG49bmV3IFZlY3RvcjMpe3N1cGVyKCk7dGhpcy50eXBlPSJRdWFkcmF0aWNCZXppZXJDdXJ2ZTMiLHRoaXMudjA9ZSx0aGlzLnYxPXQsdGhpcy52Mj1ufWdldFBvaW50KGUsdD1uZXcgVmVjdG9yMyl7Y29uc3Qgbj10LGk9dGhpcy52MCxyPXRoaXMudjEsYT10aGlzLnYyO3JldHVybiBuLnNldChRdWFkcmF0aWNCZXppZXIoZSxpLngsci54LGEueCksUXVhZHJhdGljQmV6aWVyKGUsaS55LHIueSxhLnkpLFF1YWRyYXRpY0JlemllcihlLGkueixyLnosYS56KSksbn1jb3B5KGUpe3JldHVybiBzdXBlci5jb3B5KGUpLHRoaXMudjAuY29weShlLnYwKSx0aGlzLnYxLmNvcHkoZS52MSksdGhpcy52Mi5jb3B5KGUudjIpLHRoaXN9dG9KU09OKCl7Y29uc3QgZT1zdXBlci50b0pTT04oKTtyZXR1cm4gZS52MD10aGlzLnYwLnRvQXJyYXkoKSxlLnYxPXRoaXMudjEudG9BcnJheSgpLGUudjI9dGhpcy52Mi50b0FycmF5KCksZX1mcm9tSlNPTihlKXtyZXR1cm4gc3VwZXIuZnJvbUpTT04oZSksdGhpcy52MC5mcm9tQXJyYXkoZS52MCksdGhpcy52MS5mcm9tQXJyYXkoZS52MSksdGhpcy52Mi5mcm9tQXJyYXkoZS52MiksdGhpc319UXVhZHJhdGljQmV6aWVyQ3VydmUzLnByb3RvdHlwZS5pc1F1YWRyYXRpY0JlemllckN1cnZlMz0hMDtjbGFzcyBTcGxpbmVDdXJ2ZSBleHRlbmRzIEN1cnZle2NvbnN0cnVjdG9yKGU9W10pe3N1cGVyKCk7dGhpcy50eXBlPSJTcGxpbmVDdXJ2ZSIsdGhpcy5wb2ludHM9ZX1nZXRQb2ludChlLHQ9bmV3IFZlY3RvcjIpe2NvbnN0IG49dCxpPXRoaXMucG9pbnRzLHI9KGkubGVuZ3RoLTEpKmUsYT1NYXRoLmZsb29yKHIpLG89ci1hLGw9aVthPT09MD9hOmEtMV0sYz1pW2FdLGg9aVthPmkubGVuZ3RoLTI/aS5sZW5ndGgtMTphKzFdLHU9aVthPmkubGVuZ3RoLTM/aS5sZW5ndGgtMTphKzJdO3JldHVybiBuLnNldChDYXRtdWxsUm9tKG8sbC54LGMueCxoLngsdS54KSxDYXRtdWxsUm9tKG8sbC55LGMueSxoLnksdS55KSksbn1jb3B5KGUpe3N1cGVyLmNvcHkoZSksdGhpcy5wb2ludHM9W107Zm9yKGxldCB0PTAsbj1lLnBvaW50cy5sZW5ndGg7dDxuO3QrKyl7Y29uc3QgaT1lLnBvaW50c1t0XTt0aGlzLnBvaW50cy5wdXNoKGkuY2xvbmUoKSl9cmV0dXJuIHRoaXN9dG9KU09OKCl7Y29uc3QgZT1zdXBlci50b0pTT04oKTtlLnBvaW50cz1bXTtmb3IobGV0IHQ9MCxuPXRoaXMucG9pbnRzLmxlbmd0aDt0PG47dCsrKXtjb25zdCBpPXRoaXMucG9pbnRzW3RdO2UucG9pbnRzLnB1c2goaS50b0FycmF5KCkpfXJldHVybiBlfWZyb21KU09OKGUpe3N1cGVyLmZyb21KU09OKGUpLHRoaXMucG9pbnRzPVtdO2ZvcihsZXQgdD0wLG49ZS5wb2ludHMubGVuZ3RoO3Q8bjt0Kyspe2NvbnN0IGk9ZS5wb2ludHNbdF07dGhpcy5wb2ludHMucHVzaChuZXcgVmVjdG9yMigpLmZyb21BcnJheShpKSl9cmV0dXJuIHRoaXN9fVNwbGluZUN1cnZlLnByb3RvdHlwZS5pc1NwbGluZUN1cnZlPSEwO3ZhciBDdXJ2ZXM9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsQXJjQ3VydmUsQ2F0bXVsbFJvbUN1cnZlMyxDdWJpY0JlemllckN1cnZlLEN1YmljQmV6aWVyQ3VydmUzLEVsbGlwc2VDdXJ2ZSxMaW5lQ3VydmUsTGluZUN1cnZlMyxRdWFkcmF0aWNCZXppZXJDdXJ2ZSxRdWFkcmF0aWNCZXppZXJDdXJ2ZTMsU3BsaW5lQ3VydmV9KTtjbGFzcyBDdXJ2ZVBhdGggZXh0ZW5kcyBDdXJ2ZXtjb25zdHJ1Y3Rvcigpe3N1cGVyKCk7dGhpcy50eXBlPSJDdXJ2ZVBhdGgiLHRoaXMuY3VydmVzPVtdLHRoaXMuYXV0b0Nsb3NlPSExfWFkZChlKXt0aGlzLmN1cnZlcy5wdXNoKGUpfWNsb3NlUGF0aCgpe2NvbnN0IGU9dGhpcy5jdXJ2ZXNbMF0uZ2V0UG9pbnQoMCksdD10aGlzLmN1cnZlc1t0aGlzLmN1cnZlcy5sZW5ndGgtMV0uZ2V0UG9pbnQoMSk7ZS5lcXVhbHModCl8fHRoaXMuY3VydmVzLnB1c2gobmV3IExpbmVDdXJ2ZSh0LGUpKX1nZXRQb2ludChlLHQpe2NvbnN0IG49ZSp0aGlzLmdldExlbmd0aCgpLGk9dGhpcy5nZXRDdXJ2ZUxlbmd0aHMoKTtsZXQgcj0wO2Zvcig7cjxpLmxlbmd0aDspe2lmKGlbcl0+PW4pe2NvbnN0IGE9aVtyXS1uLG89dGhpcy5jdXJ2ZXNbcl0sbD1vLmdldExlbmd0aCgpLGM9bD09PTA/MDoxLWEvbDtyZXR1cm4gby5nZXRQb2ludEF0KGMsdCl9cisrfXJldHVybiBudWxsfWdldExlbmd0aCgpe2NvbnN0IGU9dGhpcy5nZXRDdXJ2ZUxlbmd0aHMoKTtyZXR1cm4gZVtlLmxlbmd0aC0xXX11cGRhdGVBcmNMZW5ndGhzKCl7dGhpcy5uZWVkc1VwZGF0ZT0hMCx0aGlzLmNhY2hlTGVuZ3Rocz1udWxsLHRoaXMuZ2V0Q3VydmVMZW5ndGhzKCl9Z2V0Q3VydmVMZW5ndGhzKCl7aWYodGhpcy5jYWNoZUxlbmd0aHMmJnRoaXMuY2FjaGVMZW5ndGhzLmxlbmd0aD09PXRoaXMuY3VydmVzLmxlbmd0aClyZXR1cm4gdGhpcy5jYWNoZUxlbmd0aHM7Y29uc3QgZT1bXTtsZXQgdD0wO2ZvcihsZXQgbj0wLGk9dGhpcy5jdXJ2ZXMubGVuZ3RoO248aTtuKyspdCs9dGhpcy5jdXJ2ZXNbbl0uZ2V0TGVuZ3RoKCksZS5wdXNoKHQpO3JldHVybiB0aGlzLmNhY2hlTGVuZ3Rocz1lLGV9Z2V0U3BhY2VkUG9pbnRzKGU9NDApe2NvbnN0IHQ9W107Zm9yKGxldCBuPTA7bjw9ZTtuKyspdC5wdXNoKHRoaXMuZ2V0UG9pbnQobi9lKSk7cmV0dXJuIHRoaXMuYXV0b0Nsb3NlJiZ0LnB1c2godFswXSksdH1nZXRQb2ludHMoZT0xMil7Y29uc3QgdD1bXTtsZXQgbjtmb3IobGV0IGk9MCxyPXRoaXMuY3VydmVzO2k8ci5sZW5ndGg7aSsrKXtjb25zdCBhPXJbaV0sbz1hLmlzRWxsaXBzZUN1cnZlP2UqMjphLmlzTGluZUN1cnZlfHxhLmlzTGluZUN1cnZlMz8xOmEuaXNTcGxpbmVDdXJ2ZT9lKmEucG9pbnRzLmxlbmd0aDplLGw9YS5nZXRQb2ludHMobyk7Zm9yKGxldCBjPTA7YzxsLmxlbmd0aDtjKyspe2NvbnN0IGg9bFtjXTtuJiZuLmVxdWFscyhoKXx8KHQucHVzaChoKSxuPWgpfX1yZXR1cm4gdGhpcy5hdXRvQ2xvc2UmJnQubGVuZ3RoPjEmJiF0W3QubGVuZ3RoLTFdLmVxdWFscyh0WzBdKSYmdC5wdXNoKHRbMF0pLHR9Y29weShlKXtzdXBlci5jb3B5KGUpLHRoaXMuY3VydmVzPVtdO2ZvcihsZXQgdD0wLG49ZS5jdXJ2ZXMubGVuZ3RoO3Q8bjt0Kyspe2NvbnN0IGk9ZS5jdXJ2ZXNbdF07dGhpcy5jdXJ2ZXMucHVzaChpLmNsb25lKCkpfXJldHVybiB0aGlzLmF1dG9DbG9zZT1lLmF1dG9DbG9zZSx0aGlzfXRvSlNPTigpe2NvbnN0IGU9c3VwZXIudG9KU09OKCk7ZS5hdXRvQ2xvc2U9dGhpcy5hdXRvQ2xvc2UsZS5jdXJ2ZXM9W107Zm9yKGxldCB0PTAsbj10aGlzLmN1cnZlcy5sZW5ndGg7dDxuO3QrKyl7Y29uc3QgaT10aGlzLmN1cnZlc1t0XTtlLmN1cnZlcy5wdXNoKGkudG9KU09OKCkpfXJldHVybiBlfWZyb21KU09OKGUpe3N1cGVyLmZyb21KU09OKGUpLHRoaXMuYXV0b0Nsb3NlPWUuYXV0b0Nsb3NlLHRoaXMuY3VydmVzPVtdO2ZvcihsZXQgdD0wLG49ZS5jdXJ2ZXMubGVuZ3RoO3Q8bjt0Kyspe2NvbnN0IGk9ZS5jdXJ2ZXNbdF07dGhpcy5jdXJ2ZXMucHVzaChuZXcgQ3VydmVzW2kudHlwZV0oKS5mcm9tSlNPTihpKSl9cmV0dXJuIHRoaXN9fWNsYXNzIFBhdGggZXh0ZW5kcyBDdXJ2ZVBhdGh7Y29uc3RydWN0b3IoZSl7c3VwZXIoKTt0aGlzLnR5cGU9IlBhdGgiLHRoaXMuY3VycmVudFBvaW50PW5ldyBWZWN0b3IyLGUmJnRoaXMuc2V0RnJvbVBvaW50cyhlKX1zZXRGcm9tUG9pbnRzKGUpe3RoaXMubW92ZVRvKGVbMF0ueCxlWzBdLnkpO2ZvcihsZXQgdD0xLG49ZS5sZW5ndGg7dDxuO3QrKyl0aGlzLmxpbmVUbyhlW3RdLngsZVt0XS55KTtyZXR1cm4gdGhpc31tb3ZlVG8oZSx0KXtyZXR1cm4gdGhpcy5jdXJyZW50UG9pbnQuc2V0KGUsdCksdGhpc31saW5lVG8oZSx0KXtjb25zdCBuPW5ldyBMaW5lQ3VydmUodGhpcy5jdXJyZW50UG9pbnQuY2xvbmUoKSxuZXcgVmVjdG9yMihlLHQpKTtyZXR1cm4gdGhpcy5jdXJ2ZXMucHVzaChuKSx0aGlzLmN1cnJlbnRQb2ludC5zZXQoZSx0KSx0aGlzfXF1YWRyYXRpY0N1cnZlVG8oZSx0LG4saSl7Y29uc3Qgcj1uZXcgUXVhZHJhdGljQmV6aWVyQ3VydmUodGhpcy5jdXJyZW50UG9pbnQuY2xvbmUoKSxuZXcgVmVjdG9yMihlLHQpLG5ldyBWZWN0b3IyKG4saSkpO3JldHVybiB0aGlzLmN1cnZlcy5wdXNoKHIpLHRoaXMuY3VycmVudFBvaW50LnNldChuLGkpLHRoaXN9YmV6aWVyQ3VydmVUbyhlLHQsbixpLHIsYSl7Y29uc3Qgbz1uZXcgQ3ViaWNCZXppZXJDdXJ2ZSh0aGlzLmN1cnJlbnRQb2ludC5jbG9uZSgpLG5ldyBWZWN0b3IyKGUsdCksbmV3IFZlY3RvcjIobixpKSxuZXcgVmVjdG9yMihyLGEpKTtyZXR1cm4gdGhpcy5jdXJ2ZXMucHVzaChvKSx0aGlzLmN1cnJlbnRQb2ludC5zZXQocixhKSx0aGlzfXNwbGluZVRocnUoZSl7Y29uc3QgdD1bdGhpcy5jdXJyZW50UG9pbnQuY2xvbmUoKV0uY29uY2F0KGUpLG49bmV3IFNwbGluZUN1cnZlKHQpO3JldHVybiB0aGlzLmN1cnZlcy5wdXNoKG4pLHRoaXMuY3VycmVudFBvaW50LmNvcHkoZVtlLmxlbmd0aC0xXSksdGhpc31hcmMoZSx0LG4saSxyLGEpe2NvbnN0IG89dGhpcy5jdXJyZW50UG9pbnQueCxsPXRoaXMuY3VycmVudFBvaW50Lnk7cmV0dXJuIHRoaXMuYWJzYXJjKGUrbyx0K2wsbixpLHIsYSksdGhpc31hYnNhcmMoZSx0LG4saSxyLGEpe3JldHVybiB0aGlzLmFic2VsbGlwc2UoZSx0LG4sbixpLHIsYSksdGhpc31lbGxpcHNlKGUsdCxuLGkscixhLG8sbCl7Y29uc3QgYz10aGlzLmN1cnJlbnRQb2ludC54LGg9dGhpcy5jdXJyZW50UG9pbnQueTtyZXR1cm4gdGhpcy5hYnNlbGxpcHNlKGUrYyx0K2gsbixpLHIsYSxvLGwpLHRoaXN9YWJzZWxsaXBzZShlLHQsbixpLHIsYSxvLGwpe2NvbnN0IGM9bmV3IEVsbGlwc2VDdXJ2ZShlLHQsbixpLHIsYSxvLGwpO2lmKHRoaXMuY3VydmVzLmxlbmd0aD4wKXtjb25zdCB1PWMuZ2V0UG9pbnQoMCk7dS5lcXVhbHModGhpcy5jdXJyZW50UG9pbnQpfHx0aGlzLmxpbmVUbyh1LngsdS55KX10aGlzLmN1cnZlcy5wdXNoKGMpO2NvbnN0IGg9Yy5nZXRQb2ludCgxKTtyZXR1cm4gdGhpcy5jdXJyZW50UG9pbnQuY29weShoKSx0aGlzfWNvcHkoZSl7cmV0dXJuIHN1cGVyLmNvcHkoZSksdGhpcy5jdXJyZW50UG9pbnQuY29weShlLmN1cnJlbnRQb2ludCksdGhpc310b0pTT04oKXtjb25zdCBlPXN1cGVyLnRvSlNPTigpO3JldHVybiBlLmN1cnJlbnRQb2ludD10aGlzLmN1cnJlbnRQb2ludC50b0FycmF5KCksZX1mcm9tSlNPTihlKXtyZXR1cm4gc3VwZXIuZnJvbUpTT04oZSksdGhpcy5jdXJyZW50UG9pbnQuZnJvbUFycmF5KGUuY3VycmVudFBvaW50KSx0aGlzfX1jbGFzcyBTaGFwZSBleHRlbmRzIFBhdGh7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSk7dGhpcy51dWlkPWdlbmVyYXRlVVVJRCgpLHRoaXMudHlwZT0iU2hhcGUiLHRoaXMuaG9sZXM9W119Z2V0UG9pbnRzSG9sZXMoZSl7Y29uc3QgdD1bXTtmb3IobGV0IG49MCxpPXRoaXMuaG9sZXMubGVuZ3RoO248aTtuKyspdFtuXT10aGlzLmhvbGVzW25dLmdldFBvaW50cyhlKTtyZXR1cm4gdH1leHRyYWN0UG9pbnRzKGUpe3JldHVybntzaGFwZTp0aGlzLmdldFBvaW50cyhlKSxob2xlczp0aGlzLmdldFBvaW50c0hvbGVzKGUpfX1jb3B5KGUpe3N1cGVyLmNvcHkoZSksdGhpcy5ob2xlcz1bXTtmb3IobGV0IHQ9MCxuPWUuaG9sZXMubGVuZ3RoO3Q8bjt0Kyspe2NvbnN0IGk9ZS5ob2xlc1t0XTt0aGlzLmhvbGVzLnB1c2goaS5jbG9uZSgpKX1yZXR1cm4gdGhpc310b0pTT04oKXtjb25zdCBlPXN1cGVyLnRvSlNPTigpO2UudXVpZD10aGlzLnV1aWQsZS5ob2xlcz1bXTtmb3IobGV0IHQ9MCxuPXRoaXMuaG9sZXMubGVuZ3RoO3Q8bjt0Kyspe2NvbnN0IGk9dGhpcy5ob2xlc1t0XTtlLmhvbGVzLnB1c2goaS50b0pTT04oKSl9cmV0dXJuIGV9ZnJvbUpTT04oZSl7c3VwZXIuZnJvbUpTT04oZSksdGhpcy51dWlkPWUudXVpZCx0aGlzLmhvbGVzPVtdO2ZvcihsZXQgdD0wLG49ZS5ob2xlcy5sZW5ndGg7dDxuO3QrKyl7Y29uc3QgaT1lLmhvbGVzW3RdO3RoaXMuaG9sZXMucHVzaChuZXcgUGF0aCgpLmZyb21KU09OKGkpKX1yZXR1cm4gdGhpc319Y29uc3QgRWFyY3V0PXt0cmlhbmd1bGF0ZTpmdW5jdGlvbihzLGUsdD0yKXtjb25zdCBuPWUmJmUubGVuZ3RoLGk9bj9lWzBdKnQ6cy5sZW5ndGg7bGV0IHI9bGlua2VkTGlzdChzLDAsaSx0LCEwKTtjb25zdCBhPVtdO2lmKCFyfHxyLm5leHQ9PT1yLnByZXYpcmV0dXJuIGE7bGV0IG8sbCxjLGgsdSxkLGY7aWYobiYmKHI9ZWxpbWluYXRlSG9sZXMocyxlLHIsdCkpLHMubGVuZ3RoPjgwKnQpe289Yz1zWzBdLGw9aD1zWzFdO2ZvcihsZXQgZz10O2c8aTtnKz10KXU9c1tnXSxkPXNbZysxXSx1PG8mJihvPXUpLGQ8bCYmKGw9ZCksdT5jJiYoYz11KSxkPmgmJihoPWQpO2Y9TWF0aC5tYXgoYy1vLGgtbCksZj1mIT09MD8xL2Y6MH1yZXR1cm4gZWFyY3V0TGlua2VkKHIsYSx0LG8sbCxmKSxhfX07ZnVuY3Rpb24gbGlua2VkTGlzdChzLGUsdCxuLGkpe2xldCByLGE7aWYoaT09PXNpZ25lZEFyZWEocyxlLHQsbik+MClmb3Iocj1lO3I8dDtyKz1uKWE9aW5zZXJ0Tm9kZShyLHNbcl0sc1tyKzFdLGEpO2Vsc2UgZm9yKHI9dC1uO3I+PWU7ci09bilhPWluc2VydE5vZGUocixzW3JdLHNbcisxXSxhKTtyZXR1cm4gYSYmZXF1YWxzKGEsYS5uZXh0KSYmKHJlbW92ZU5vZGUoYSksYT1hLm5leHQpLGF9ZnVuY3Rpb24gZmlsdGVyUG9pbnRzKHMsZSl7aWYoIXMpcmV0dXJuIHM7ZXx8KGU9cyk7bGV0IHQ9cyxuO2RvIGlmKG49ITEsIXQuc3RlaW5lciYmKGVxdWFscyh0LHQubmV4dCl8fGFyZWEodC5wcmV2LHQsdC5uZXh0KT09PTApKXtpZihyZW1vdmVOb2RlKHQpLHQ9ZT10LnByZXYsdD09PXQubmV4dClicmVhaztuPSEwfWVsc2UgdD10Lm5leHQ7d2hpbGUobnx8dCE9PWUpO3JldHVybiBlfWZ1bmN0aW9uIGVhcmN1dExpbmtlZChzLGUsdCxuLGkscixhKXtpZighcylyZXR1cm47IWEmJnImJmluZGV4Q3VydmUocyxuLGkscik7bGV0IG89cyxsLGM7Zm9yKDtzLnByZXYhPT1zLm5leHQ7KXtpZihsPXMucHJldixjPXMubmV4dCxyP2lzRWFySGFzaGVkKHMsbixpLHIpOmlzRWFyKHMpKXtlLnB1c2gobC5pL3QpLGUucHVzaChzLmkvdCksZS5wdXNoKGMuaS90KSxyZW1vdmVOb2RlKHMpLHM9Yy5uZXh0LG89Yy5uZXh0O2NvbnRpbnVlfWlmKHM9YyxzPT09byl7YT9hPT09MT8ocz1jdXJlTG9jYWxJbnRlcnNlY3Rpb25zKGZpbHRlclBvaW50cyhzKSxlLHQpLGVhcmN1dExpbmtlZChzLGUsdCxuLGksciwyKSk6YT09PTImJnNwbGl0RWFyY3V0KHMsZSx0LG4saSxyKTplYXJjdXRMaW5rZWQoZmlsdGVyUG9pbnRzKHMpLGUsdCxuLGksciwxKTticmVha319fWZ1bmN0aW9uIGlzRWFyKHMpe2NvbnN0IGU9cy5wcmV2LHQ9cyxuPXMubmV4dDtpZihhcmVhKGUsdCxuKT49MClyZXR1cm4hMTtsZXQgaT1zLm5leHQubmV4dDtmb3IoO2khPT1zLnByZXY7KXtpZihwb2ludEluVHJpYW5nbGUoZS54LGUueSx0LngsdC55LG4ueCxuLnksaS54LGkueSkmJmFyZWEoaS5wcmV2LGksaS5uZXh0KT49MClyZXR1cm4hMTtpPWkubmV4dH1yZXR1cm4hMH1mdW5jdGlvbiBpc0Vhckhhc2hlZChzLGUsdCxuKXtjb25zdCBpPXMucHJldixyPXMsYT1zLm5leHQ7aWYoYXJlYShpLHIsYSk+PTApcmV0dXJuITE7Y29uc3Qgbz1pLng8ci54P2kueDxhLng/aS54OmEueDpyLng8YS54P3IueDphLngsbD1pLnk8ci55P2kueTxhLnk/aS55OmEueTpyLnk8YS55P3IueTphLnksYz1pLng+ci54P2kueD5hLng/aS54OmEueDpyLng+YS54P3IueDphLngsaD1pLnk+ci55P2kueT5hLnk/aS55OmEueTpyLnk+YS55P3IueTphLnksdT16T3JkZXIobyxsLGUsdCxuKSxkPXpPcmRlcihjLGgsZSx0LG4pO2xldCBmPXMucHJldlosZz1zLm5leHRaO2Zvcig7ZiYmZi56Pj11JiZnJiZnLno8PWQ7KXtpZihmIT09cy5wcmV2JiZmIT09cy5uZXh0JiZwb2ludEluVHJpYW5nbGUoaS54LGkueSxyLngsci55LGEueCxhLnksZi54LGYueSkmJmFyZWEoZi5wcmV2LGYsZi5uZXh0KT49MHx8KGY9Zi5wcmV2WixnIT09cy5wcmV2JiZnIT09cy5uZXh0JiZwb2ludEluVHJpYW5nbGUoaS54LGkueSxyLngsci55LGEueCxhLnksZy54LGcueSkmJmFyZWEoZy5wcmV2LGcsZy5uZXh0KT49MCkpcmV0dXJuITE7Zz1nLm5leHRafWZvcig7ZiYmZi56Pj11Oyl7aWYoZiE9PXMucHJldiYmZiE9PXMubmV4dCYmcG9pbnRJblRyaWFuZ2xlKGkueCxpLnksci54LHIueSxhLngsYS55LGYueCxmLnkpJiZhcmVhKGYucHJldixmLGYubmV4dCk+PTApcmV0dXJuITE7Zj1mLnByZXZafWZvcig7ZyYmZy56PD1kOyl7aWYoZyE9PXMucHJldiYmZyE9PXMubmV4dCYmcG9pbnRJblRyaWFuZ2xlKGkueCxpLnksci54LHIueSxhLngsYS55LGcueCxnLnkpJiZhcmVhKGcucHJldixnLGcubmV4dCk+PTApcmV0dXJuITE7Zz1nLm5leHRafXJldHVybiEwfWZ1bmN0aW9uIGN1cmVMb2NhbEludGVyc2VjdGlvbnMocyxlLHQpe2xldCBuPXM7ZG97Y29uc3QgaT1uLnByZXYscj1uLm5leHQubmV4dDshZXF1YWxzKGkscikmJmludGVyc2VjdHMoaSxuLG4ubmV4dCxyKSYmbG9jYWxseUluc2lkZShpLHIpJiZsb2NhbGx5SW5zaWRlKHIsaSkmJihlLnB1c2goaS5pL3QpLGUucHVzaChuLmkvdCksZS5wdXNoKHIuaS90KSxyZW1vdmVOb2RlKG4pLHJlbW92ZU5vZGUobi5uZXh0KSxuPXM9ciksbj1uLm5leHR9d2hpbGUobiE9PXMpO3JldHVybiBmaWx0ZXJQb2ludHMobil9ZnVuY3Rpb24gc3BsaXRFYXJjdXQocyxlLHQsbixpLHIpe2xldCBhPXM7ZG97bGV0IG89YS5uZXh0Lm5leHQ7Zm9yKDtvIT09YS5wcmV2Oyl7aWYoYS5pIT09by5pJiZpc1ZhbGlkRGlhZ29uYWwoYSxvKSl7bGV0IGw9c3BsaXRQb2x5Z29uKGEsbyk7YT1maWx0ZXJQb2ludHMoYSxhLm5leHQpLGw9ZmlsdGVyUG9pbnRzKGwsbC5uZXh0KSxlYXJjdXRMaW5rZWQoYSxlLHQsbixpLHIpLGVhcmN1dExpbmtlZChsLGUsdCxuLGkscik7cmV0dXJufW89by5uZXh0fWE9YS5uZXh0fXdoaWxlKGEhPT1zKX1mdW5jdGlvbiBlbGltaW5hdGVIb2xlcyhzLGUsdCxuKXtjb25zdCBpPVtdO2xldCByLGEsbyxsLGM7Zm9yKHI9MCxhPWUubGVuZ3RoO3I8YTtyKyspbz1lW3JdKm4sbD1yPGEtMT9lW3IrMV0qbjpzLmxlbmd0aCxjPWxpbmtlZExpc3QocyxvLGwsbiwhMSksYz09PWMubmV4dCYmKGMuc3RlaW5lcj0hMCksaS5wdXNoKGdldExlZnRtb3N0KGMpKTtmb3IoaS5zb3J0KGNvbXBhcmVYKSxyPTA7cjxpLmxlbmd0aDtyKyspZWxpbWluYXRlSG9sZShpW3JdLHQpLHQ9ZmlsdGVyUG9pbnRzKHQsdC5uZXh0KTtyZXR1cm4gdH1mdW5jdGlvbiBjb21wYXJlWChzLGUpe3JldHVybiBzLngtZS54fWZ1bmN0aW9uIGVsaW1pbmF0ZUhvbGUocyxlKXtpZihlPWZpbmRIb2xlQnJpZGdlKHMsZSksZSl7Y29uc3QgdD1zcGxpdFBvbHlnb24oZSxzKTtmaWx0ZXJQb2ludHMoZSxlLm5leHQpLGZpbHRlclBvaW50cyh0LHQubmV4dCl9fWZ1bmN0aW9uIGZpbmRIb2xlQnJpZGdlKHMsZSl7bGV0IHQ9ZTtjb25zdCBuPXMueCxpPXMueTtsZXQgcj0tMS8wLGE7ZG97aWYoaTw9dC55JiZpPj10Lm5leHQueSYmdC5uZXh0LnkhPT10Lnkpe2NvbnN0IGQ9dC54KyhpLXQueSkqKHQubmV4dC54LXQueCkvKHQubmV4dC55LXQueSk7aWYoZDw9biYmZD5yKXtpZihyPWQsZD09PW4pe2lmKGk9PT10LnkpcmV0dXJuIHQ7aWYoaT09PXQubmV4dC55KXJldHVybiB0Lm5leHR9YT10Lng8dC5uZXh0Lng/dDp0Lm5leHR9fXQ9dC5uZXh0fXdoaWxlKHQhPT1lKTtpZighYSlyZXR1cm4gbnVsbDtpZihuPT09cilyZXR1cm4gYTtjb25zdCBvPWEsbD1hLngsYz1hLnk7bGV0IGg9MS8wLHU7dD1hO2RvIG4+PXQueCYmdC54Pj1sJiZuIT09dC54JiZwb2ludEluVHJpYW5nbGUoaTxjP246cixpLGwsYyxpPGM/cjpuLGksdC54LHQueSkmJih1PU1hdGguYWJzKGktdC55KS8obi10LngpLGxvY2FsbHlJbnNpZGUodCxzKSYmKHU8aHx8dT09PWgmJih0Lng+YS54fHx0Lng9PT1hLngmJnNlY3RvckNvbnRhaW5zU2VjdG9yKGEsdCkpKSYmKGE9dCxoPXUpKSx0PXQubmV4dDt3aGlsZSh0IT09byk7cmV0dXJuIGF9ZnVuY3Rpb24gc2VjdG9yQ29udGFpbnNTZWN0b3IocyxlKXtyZXR1cm4gYXJlYShzLnByZXYscyxlLnByZXYpPDAmJmFyZWEoZS5uZXh0LHMscy5uZXh0KTwwfWZ1bmN0aW9uIGluZGV4Q3VydmUocyxlLHQsbil7bGV0IGk9cztkbyBpLno9PT1udWxsJiYoaS56PXpPcmRlcihpLngsaS55LGUsdCxuKSksaS5wcmV2Wj1pLnByZXYsaS5uZXh0Wj1pLm5leHQsaT1pLm5leHQ7d2hpbGUoaSE9PXMpO2kucHJldloubmV4dFo9bnVsbCxpLnByZXZaPW51bGwsc29ydExpbmtlZChpKX1mdW5jdGlvbiBzb3J0TGlua2VkKHMpe2xldCBlLHQsbixpLHIsYSxvLGwsYz0xO2Rve2Zvcih0PXMscz1udWxsLHI9bnVsbCxhPTA7dDspe2ZvcihhKyssbj10LG89MCxlPTA7ZTxjJiYobysrLG49bi5uZXh0WiwhIW4pO2UrKyk7Zm9yKGw9YztvPjB8fGw+MCYmbjspbyE9PTAmJihsPT09MHx8IW58fHQuejw9bi56KT8oaT10LHQ9dC5uZXh0WixvLS0pOihpPW4sbj1uLm5leHRaLGwtLSkscj9yLm5leHRaPWk6cz1pLGkucHJldlo9cixyPWk7dD1ufXIubmV4dFo9bnVsbCxjKj0yfXdoaWxlKGE+MSk7cmV0dXJuIHN9ZnVuY3Rpb24gek9yZGVyKHMsZSx0LG4saSl7cmV0dXJuIHM9MzI3NjcqKHMtdCkqaSxlPTMyNzY3KihlLW4pKmkscz0oc3xzPDw4KSYxNjcxMTkzNSxzPShzfHM8PDQpJjI1MjY0NTEzNSxzPShzfHM8PDIpJjg1ODk5MzQ1OSxzPShzfHM8PDEpJjE0MzE2NTU3NjUsZT0oZXxlPDw4KSYxNjcxMTkzNSxlPShlfGU8PDQpJjI1MjY0NTEzNSxlPShlfGU8PDIpJjg1ODk5MzQ1OSxlPShlfGU8PDEpJjE0MzE2NTU3NjUsc3xlPDwxfWZ1bmN0aW9uIGdldExlZnRtb3N0KHMpe2xldCBlPXMsdD1zO2RvKGUueDx0Lnh8fGUueD09PXQueCYmZS55PHQueSkmJih0PWUpLGU9ZS5uZXh0O3doaWxlKGUhPT1zKTtyZXR1cm4gdH1mdW5jdGlvbiBwb2ludEluVHJpYW5nbGUocyxlLHQsbixpLHIsYSxvKXtyZXR1cm4oaS1hKSooZS1vKS0ocy1hKSooci1vKT49MCYmKHMtYSkqKG4tbyktKHQtYSkqKGUtbyk+PTAmJih0LWEpKihyLW8pLShpLWEpKihuLW8pPj0wfWZ1bmN0aW9uIGlzVmFsaWREaWFnb25hbChzLGUpe3JldHVybiBzLm5leHQuaSE9PWUuaSYmcy5wcmV2LmkhPT1lLmkmJiFpbnRlcnNlY3RzUG9seWdvbihzLGUpJiYobG9jYWxseUluc2lkZShzLGUpJiZsb2NhbGx5SW5zaWRlKGUscykmJm1pZGRsZUluc2lkZShzLGUpJiYoYXJlYShzLnByZXYscyxlLnByZXYpfHxhcmVhKHMsZS5wcmV2LGUpKXx8ZXF1YWxzKHMsZSkmJmFyZWEocy5wcmV2LHMscy5uZXh0KT4wJiZhcmVhKGUucHJldixlLGUubmV4dCk+MCl9ZnVuY3Rpb24gYXJlYShzLGUsdCl7cmV0dXJuKGUueS1zLnkpKih0LngtZS54KS0oZS54LXMueCkqKHQueS1lLnkpfWZ1bmN0aW9uIGVxdWFscyhzLGUpe3JldHVybiBzLng9PT1lLngmJnMueT09PWUueX1mdW5jdGlvbiBpbnRlcnNlY3RzKHMsZSx0LG4pe2NvbnN0IGk9c2lnbihhcmVhKHMsZSx0KSkscj1zaWduKGFyZWEocyxlLG4pKSxhPXNpZ24oYXJlYSh0LG4scykpLG89c2lnbihhcmVhKHQsbixlKSk7cmV0dXJuISEoaSE9PXImJmEhPT1vfHxpPT09MCYmb25TZWdtZW50KHMsdCxlKXx8cj09PTAmJm9uU2VnbWVudChzLG4sZSl8fGE9PT0wJiZvblNlZ21lbnQodCxzLG4pfHxvPT09MCYmb25TZWdtZW50KHQsZSxuKSl9ZnVuY3Rpb24gb25TZWdtZW50KHMsZSx0KXtyZXR1cm4gZS54PD1NYXRoLm1heChzLngsdC54KSYmZS54Pj1NYXRoLm1pbihzLngsdC54KSYmZS55PD1NYXRoLm1heChzLnksdC55KSYmZS55Pj1NYXRoLm1pbihzLnksdC55KX1mdW5jdGlvbiBzaWduKHMpe3JldHVybiBzPjA/MTpzPDA/LTE6MH1mdW5jdGlvbiBpbnRlcnNlY3RzUG9seWdvbihzLGUpe2xldCB0PXM7ZG97aWYodC5pIT09cy5pJiZ0Lm5leHQuaSE9PXMuaSYmdC5pIT09ZS5pJiZ0Lm5leHQuaSE9PWUuaSYmaW50ZXJzZWN0cyh0LHQubmV4dCxzLGUpKXJldHVybiEwO3Q9dC5uZXh0fXdoaWxlKHQhPT1zKTtyZXR1cm4hMX1mdW5jdGlvbiBsb2NhbGx5SW5zaWRlKHMsZSl7cmV0dXJuIGFyZWEocy5wcmV2LHMscy5uZXh0KTwwP2FyZWEocyxlLHMubmV4dCk+PTAmJmFyZWEocyxzLnByZXYsZSk+PTA6YXJlYShzLGUscy5wcmV2KTwwfHxhcmVhKHMscy5uZXh0LGUpPDB9ZnVuY3Rpb24gbWlkZGxlSW5zaWRlKHMsZSl7bGV0IHQ9cyxuPSExO2NvbnN0IGk9KHMueCtlLngpLzIscj0ocy55K2UueSkvMjtkbyB0Lnk+ciE9dC5uZXh0Lnk+ciYmdC5uZXh0LnkhPT10LnkmJmk8KHQubmV4dC54LXQueCkqKHItdC55KS8odC5uZXh0LnktdC55KSt0LngmJihuPSFuKSx0PXQubmV4dDt3aGlsZSh0IT09cyk7cmV0dXJuIG59ZnVuY3Rpb24gc3BsaXRQb2x5Z29uKHMsZSl7Y29uc3QgdD1uZXcgTm9kZShzLmkscy54LHMueSksbj1uZXcgTm9kZShlLmksZS54LGUueSksaT1zLm5leHQscj1lLnByZXY7cmV0dXJuIHMubmV4dD1lLGUucHJldj1zLHQubmV4dD1pLGkucHJldj10LG4ubmV4dD10LHQucHJldj1uLHIubmV4dD1uLG4ucHJldj1yLG59ZnVuY3Rpb24gaW5zZXJ0Tm9kZShzLGUsdCxuKXtjb25zdCBpPW5ldyBOb2RlKHMsZSx0KTtyZXR1cm4gbj8oaS5uZXh0PW4ubmV4dCxpLnByZXY9bixuLm5leHQucHJldj1pLG4ubmV4dD1pKTooaS5wcmV2PWksaS5uZXh0PWkpLGl9ZnVuY3Rpb24gcmVtb3ZlTm9kZShzKXtzLm5leHQucHJldj1zLnByZXYscy5wcmV2Lm5leHQ9cy5uZXh0LHMucHJldlomJihzLnByZXZaLm5leHRaPXMubmV4dFopLHMubmV4dFomJihzLm5leHRaLnByZXZaPXMucHJldlopfWZ1bmN0aW9uIE5vZGUocyxlLHQpe3RoaXMuaT1zLHRoaXMueD1lLHRoaXMueT10LHRoaXMucHJldj1udWxsLHRoaXMubmV4dD1udWxsLHRoaXMuej1udWxsLHRoaXMucHJldlo9bnVsbCx0aGlzLm5leHRaPW51bGwsdGhpcy5zdGVpbmVyPSExfWZ1bmN0aW9uIHNpZ25lZEFyZWEocyxlLHQsbil7bGV0IGk9MDtmb3IobGV0IHI9ZSxhPXQtbjtyPHQ7cis9bilpKz0oc1thXS1zW3JdKSooc1tyKzFdK3NbYSsxXSksYT1yO3JldHVybiBpfWNsYXNzIFNoYXBlVXRpbHN7c3RhdGljIGFyZWEoZSl7Y29uc3QgdD1lLmxlbmd0aDtsZXQgbj0wO2ZvcihsZXQgaT10LTEscj0wO3I8dDtpPXIrKyluKz1lW2ldLngqZVtyXS55LWVbcl0ueCplW2ldLnk7cmV0dXJuIG4qLjV9c3RhdGljIGlzQ2xvY2tXaXNlKGUpe3JldHVybiBTaGFwZVV0aWxzLmFyZWEoZSk8MH1zdGF0aWMgdHJpYW5ndWxhdGVTaGFwZShlLHQpe2NvbnN0IG49W10saT1bXSxyPVtdO3JlbW92ZUR1cEVuZFB0cyhlKSxhZGRDb250b3VyKG4sZSk7bGV0IGE9ZS5sZW5ndGg7dC5mb3JFYWNoKHJlbW92ZUR1cEVuZFB0cyk7Zm9yKGxldCBsPTA7bDx0Lmxlbmd0aDtsKyspaS5wdXNoKGEpLGErPXRbbF0ubGVuZ3RoLGFkZENvbnRvdXIobix0W2xdKTtjb25zdCBvPUVhcmN1dC50cmlhbmd1bGF0ZShuLGkpO2ZvcihsZXQgbD0wO2w8by5sZW5ndGg7bCs9MylyLnB1c2goby5zbGljZShsLGwrMykpO3JldHVybiByfX1mdW5jdGlvbiByZW1vdmVEdXBFbmRQdHMocyl7Y29uc3QgZT1zLmxlbmd0aDtlPjImJnNbZS0xXS5lcXVhbHMoc1swXSkmJnMucG9wKCl9ZnVuY3Rpb24gYWRkQ29udG91cihzLGUpe2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKXMucHVzaChlW3RdLngpLHMucHVzaChlW3RdLnkpfWNsYXNzIEV4dHJ1ZGVHZW9tZXRyeSBleHRlbmRzIEJ1ZmZlckdlb21ldHJ5e2NvbnN0cnVjdG9yKGU9bmV3IFNoYXBlKFtuZXcgVmVjdG9yMiguNSwuNSksbmV3IFZlY3RvcjIoLS41LC41KSxuZXcgVmVjdG9yMigtLjUsLS41KSxuZXcgVmVjdG9yMiguNSwtLjUpXSksdD17fSl7c3VwZXIoKTt0aGlzLnR5cGU9IkV4dHJ1ZGVHZW9tZXRyeSIsdGhpcy5wYXJhbWV0ZXJzPXtzaGFwZXM6ZSxvcHRpb25zOnR9LGU9QXJyYXkuaXNBcnJheShlKT9lOltlXTtjb25zdCBuPXRoaXMsaT1bXSxyPVtdO2ZvcihsZXQgbz0wLGw9ZS5sZW5ndGg7bzxsO28rKyl7Y29uc3QgYz1lW29dO2EoYyl9dGhpcy5zZXRBdHRyaWJ1dGUoInBvc2l0aW9uIixuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZShpLDMpKSx0aGlzLnNldEF0dHJpYnV0ZSgidXYiLG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKHIsMikpLHRoaXMuY29tcHV0ZVZlcnRleE5vcm1hbHMoKTtmdW5jdGlvbiBhKG8pe2NvbnN0IGw9W10sYz10LmN1cnZlU2VnbWVudHMhPT12b2lkIDA/dC5jdXJ2ZVNlZ21lbnRzOjEyLGg9dC5zdGVwcyE9PXZvaWQgMD90LnN0ZXBzOjE7bGV0IHU9dC5kZXB0aCE9PXZvaWQgMD90LmRlcHRoOjEsZD10LmJldmVsRW5hYmxlZCE9PXZvaWQgMD90LmJldmVsRW5hYmxlZDohMCxmPXQuYmV2ZWxUaGlja25lc3MhPT12b2lkIDA/dC5iZXZlbFRoaWNrbmVzczouMixnPXQuYmV2ZWxTaXplIT09dm9pZCAwP3QuYmV2ZWxTaXplOmYtLjEsXz10LmJldmVsT2Zmc2V0IT09dm9pZCAwP3QuYmV2ZWxPZmZzZXQ6MCx5PXQuYmV2ZWxTZWdtZW50cyE9PXZvaWQgMD90LmJldmVsU2VnbWVudHM6Mztjb25zdCBtPXQuZXh0cnVkZVBhdGgscD10LlVWR2VuZXJhdG9yIT09dm9pZCAwP3QuVVZHZW5lcmF0b3I6V29ybGRVVkdlbmVyYXRvcjt0LmFtb3VudCE9PXZvaWQgMCYmKGNvbnNvbGUud2FybigiVEhSRUUuRXh0cnVkZUJ1ZmZlckdlb21ldHJ5OiBhbW91bnQgaGFzIGJlZW4gcmVuYW1lZCB0byBkZXB0aC4iKSx1PXQuYW1vdW50KTtsZXQgVCx3PSExLFMsUixELFg7bSYmKFQ9bS5nZXRTcGFjZWRQb2ludHMoaCksdz0hMCxkPSExLFM9bS5jb21wdXRlRnJlbmV0RnJhbWVzKGgsITEpLFI9bmV3IFZlY3RvcjMsRD1uZXcgVmVjdG9yMyxYPW5ldyBWZWN0b3IzKSxkfHwoeT0wLGY9MCxnPTAsXz0wKTtjb25zdCBpZT1vLmV4dHJhY3RQb2ludHMoYyk7bGV0IHo9aWUuc2hhcGU7Y29uc3QgeD1pZS5ob2xlcztpZighU2hhcGVVdGlscy5pc0Nsb2NrV2lzZSh6KSl7ej16LnJldmVyc2UoKTtmb3IobGV0IFY9MCxqPXgubGVuZ3RoO1Y8ajtWKyspe2NvbnN0IFE9eFtWXTtTaGFwZVV0aWxzLmlzQ2xvY2tXaXNlKFEpJiYoeFtWXT1RLnJldmVyc2UoKSl9fWNvbnN0IFA9U2hhcGVVdGlscy50cmlhbmd1bGF0ZVNoYXBlKHoseCksQj16O2ZvcihsZXQgVj0wLGo9eC5sZW5ndGg7VjxqO1YrKyl7Y29uc3QgUT14W1ZdO3o9ei5jb25jYXQoUSl9ZnVuY3Rpb24gVShWLGosUSl7cmV0dXJuIGp8fGNvbnNvbGUuZXJyb3IoIlRIUkVFLkV4dHJ1ZGVHZW9tZXRyeTogdmVjIGRvZXMgbm90IGV4aXN0Iiksai5jbG9uZSgpLm11bHRpcGx5U2NhbGFyKFEpLmFkZChWKX1jb25zdCBGPXoubGVuZ3RoLEc9UC5sZW5ndGg7ZnVuY3Rpb24gTChWLGosUSl7bGV0IG9lLHRlLGdlO2NvbnN0IHVlPVYueC1qLngsd2U9Vi55LWoueSxWZT1RLngtVi54LGI9US55LVYueSx2PXVlKnVlK3dlKndlLE89dWUqYi13ZSpWZTtpZihNYXRoLmFicyhPKT5OdW1iZXIuRVBTSUxPTil7Y29uc3QgcT1NYXRoLnNxcnQodiksZWU9TWF0aC5zcXJ0KFZlKlZlK2IqYiksc2U9ai54LXdlL3EscGU9ai55K3VlL3Esaz1RLngtYi9lZSx4ZT1RLnkrVmUvZWUsdmU9KChrLXNlKSpiLSh4ZS1wZSkqVmUpLyh1ZSpiLXdlKlZlKTtvZT1zZSt1ZSp2ZS1WLngsdGU9cGUrd2UqdmUtVi55O2NvbnN0IGRlPW9lKm9lK3RlKnRlO2lmKGRlPD0yKXJldHVybiBuZXcgVmVjdG9yMihvZSx0ZSk7Z2U9TWF0aC5zcXJ0KGRlLzIpfWVsc2V7bGV0IHE9ITE7dWU+TnVtYmVyLkVQU0lMT04/VmU+TnVtYmVyLkVQU0lMT04mJihxPSEwKTp1ZTwtTnVtYmVyLkVQU0lMT04/VmU8LU51bWJlci5FUFNJTE9OJiYocT0hMCk6TWF0aC5zaWduKHdlKT09PU1hdGguc2lnbihiKSYmKHE9ITApLHE/KG9lPS13ZSx0ZT11ZSxnZT1NYXRoLnNxcnQodikpOihvZT11ZSx0ZT13ZSxnZT1NYXRoLnNxcnQodi8yKSl9cmV0dXJuIG5ldyBWZWN0b3IyKG9lL2dlLHRlL2dlKX1jb25zdCBXPVtdO2ZvcihsZXQgVj0wLGo9Qi5sZW5ndGgsUT1qLTEsb2U9VisxO1Y8ajtWKyssUSsrLG9lKyspUT09PWomJihRPTApLG9lPT09aiYmKG9lPTApLFdbVl09TChCW1ZdLEJbUV0sQltvZV0pO2NvbnN0IFo9W107bGV0IFksSj1XLmNvbmNhdCgpO2ZvcihsZXQgVj0wLGo9eC5sZW5ndGg7VjxqO1YrKyl7Y29uc3QgUT14W1ZdO1k9W107Zm9yKGxldCBvZT0wLHRlPVEubGVuZ3RoLGdlPXRlLTEsdWU9b2UrMTtvZTx0ZTtvZSsrLGdlKyssdWUrKylnZT09PXRlJiYoZ2U9MCksdWU9PT10ZSYmKHVlPTApLFlbb2VdPUwoUVtvZV0sUVtnZV0sUVt1ZV0pO1oucHVzaChZKSxKPUouY29uY2F0KFkpfWZvcihsZXQgVj0wO1Y8eTtWKyspe2NvbnN0IGo9Vi95LFE9ZipNYXRoLmNvcyhqKk1hdGguUEkvMiksb2U9ZypNYXRoLnNpbihqKk1hdGguUEkvMikrXztmb3IobGV0IHRlPTAsZ2U9Qi5sZW5ndGg7dGU8Z2U7dGUrKyl7Y29uc3QgdWU9VShCW3RlXSxXW3RlXSxvZSk7RGUodWUueCx1ZS55LC1RKX1mb3IobGV0IHRlPTAsZ2U9eC5sZW5ndGg7dGU8Z2U7dGUrKyl7Y29uc3QgdWU9eFt0ZV07WT1aW3RlXTtmb3IobGV0IHdlPTAsVmU9dWUubGVuZ3RoO3dlPFZlO3dlKyspe2NvbnN0IGI9VSh1ZVt3ZV0sWVt3ZV0sb2UpO0RlKGIueCxiLnksLVEpfX19Y29uc3QgZmU9ZytfO2ZvcihsZXQgVj0wO1Y8RjtWKyspe2NvbnN0IGo9ZD9VKHpbVl0sSltWXSxmZSk6eltWXTt3PyhELmNvcHkoUy5ub3JtYWxzWzBdKS5tdWx0aXBseVNjYWxhcihqLngpLFIuY29weShTLmJpbm9ybWFsc1swXSkubXVsdGlwbHlTY2FsYXIoai55KSxYLmNvcHkoVFswXSkuYWRkKEQpLmFkZChSKSxEZShYLngsWC55LFgueikpOkRlKGoueCxqLnksMCl9Zm9yKGxldCBWPTE7Vjw9aDtWKyspZm9yKGxldCBqPTA7ajxGO2orKyl7Y29uc3QgUT1kP1UoeltqXSxKW2pdLGZlKTp6W2pdO3c/KEQuY29weShTLm5vcm1hbHNbVl0pLm11bHRpcGx5U2NhbGFyKFEueCksUi5jb3B5KFMuYmlub3JtYWxzW1ZdKS5tdWx0aXBseVNjYWxhcihRLnkpLFguY29weShUW1ZdKS5hZGQoRCkuYWRkKFIpLERlKFgueCxYLnksWC56KSk6RGUoUS54LFEueSx1L2gqVil9Zm9yKGxldCBWPXktMTtWPj0wO1YtLSl7Y29uc3Qgaj1WL3ksUT1mKk1hdGguY29zKGoqTWF0aC5QSS8yKSxvZT1nKk1hdGguc2luKGoqTWF0aC5QSS8yKStfO2ZvcihsZXQgdGU9MCxnZT1CLmxlbmd0aDt0ZTxnZTt0ZSsrKXtjb25zdCB1ZT1VKEJbdGVdLFdbdGVdLG9lKTtEZSh1ZS54LHVlLnksdStRKX1mb3IobGV0IHRlPTAsZ2U9eC5sZW5ndGg7dGU8Z2U7dGUrKyl7Y29uc3QgdWU9eFt0ZV07WT1aW3RlXTtmb3IobGV0IHdlPTAsVmU9dWUubGVuZ3RoO3dlPFZlO3dlKyspe2NvbnN0IGI9VSh1ZVt3ZV0sWVt3ZV0sb2UpO3c/RGUoYi54LGIueStUW2gtMV0ueSxUW2gtMV0ueCtRKTpEZShiLngsYi55LHUrUSl9fX1QZSgpLG1lKCk7ZnVuY3Rpb24gUGUoKXtjb25zdCBWPWkubGVuZ3RoLzM7aWYoZCl7bGV0IGo9MCxRPUYqajtmb3IobGV0IG9lPTA7b2U8RztvZSsrKXtjb25zdCB0ZT1QW29lXTtTZSh0ZVsyXStRLHRlWzFdK1EsdGVbMF0rUSl9aj1oK3kqMixRPUYqajtmb3IobGV0IG9lPTA7b2U8RztvZSsrKXtjb25zdCB0ZT1QW29lXTtTZSh0ZVswXStRLHRlWzFdK1EsdGVbMl0rUSl9fWVsc2V7Zm9yKGxldCBqPTA7ajxHO2orKyl7Y29uc3QgUT1QW2pdO1NlKFFbMl0sUVsxXSxRWzBdKX1mb3IobGV0IGo9MDtqPEc7aisrKXtjb25zdCBRPVBbal07U2UoUVswXStGKmgsUVsxXStGKmgsUVsyXStGKmgpfX1uLmFkZEdyb3VwKFYsaS5sZW5ndGgvMy1WLDApfWZ1bmN0aW9uIG1lKCl7Y29uc3QgVj1pLmxlbmd0aC8zO2xldCBqPTA7JChCLGopLGorPUIubGVuZ3RoO2ZvcihsZXQgUT0wLG9lPXgubGVuZ3RoO1E8b2U7USsrKXtjb25zdCB0ZT14W1FdOyQodGUsaiksais9dGUubGVuZ3RofW4uYWRkR3JvdXAoVixpLmxlbmd0aC8zLVYsMSl9ZnVuY3Rpb24gJChWLGope2xldCBRPVYubGVuZ3RoO2Zvcig7LS1RPj0wOyl7Y29uc3Qgb2U9UTtsZXQgdGU9US0xO3RlPDAmJih0ZT1WLmxlbmd0aC0xKTtmb3IobGV0IGdlPTAsdWU9aCt5KjI7Z2U8dWU7Z2UrKyl7Y29uc3Qgd2U9RipnZSxWZT1GKihnZSsxKSxiPWorb2Urd2Usdj1qK3RlK3dlLE89ait0ZStWZSxxPWorb2UrVmU7bGUoYix2LE8scSl9fX1mdW5jdGlvbiBEZShWLGosUSl7bC5wdXNoKFYpLGwucHVzaChqKSxsLnB1c2goUSl9ZnVuY3Rpb24gU2UoVixqLFEpe2NlKFYpLGNlKGopLGNlKFEpO2NvbnN0IG9lPWkubGVuZ3RoLzMsdGU9cC5nZW5lcmF0ZVRvcFVWKG4saSxvZS0zLG9lLTIsb2UtMSk7QWUodGVbMF0pLEFlKHRlWzFdKSxBZSh0ZVsyXSl9ZnVuY3Rpb24gbGUoVixqLFEsb2Upe2NlKFYpLGNlKGopLGNlKG9lKSxjZShqKSxjZShRKSxjZShvZSk7Y29uc3QgdGU9aS5sZW5ndGgvMyxnZT1wLmdlbmVyYXRlU2lkZVdhbGxVVihuLGksdGUtNix0ZS0zLHRlLTIsdGUtMSk7QWUoZ2VbMF0pLEFlKGdlWzFdKSxBZShnZVszXSksQWUoZ2VbMV0pLEFlKGdlWzJdKSxBZShnZVszXSl9ZnVuY3Rpb24gY2UoVil7aS5wdXNoKGxbViozKzBdKSxpLnB1c2gobFtWKjMrMV0pLGkucHVzaChsW1YqMysyXSl9ZnVuY3Rpb24gQWUoVil7ci5wdXNoKFYueCksci5wdXNoKFYueSl9fX10b0pTT04oKXtjb25zdCBlPXN1cGVyLnRvSlNPTigpLHQ9dGhpcy5wYXJhbWV0ZXJzLnNoYXBlcyxuPXRoaXMucGFyYW1ldGVycy5vcHRpb25zO3JldHVybiB0b0pTT04kMSh0LG4sZSl9c3RhdGljIGZyb21KU09OKGUsdCl7Y29uc3Qgbj1bXTtmb3IobGV0IHI9MCxhPWUuc2hhcGVzLmxlbmd0aDtyPGE7cisrKXtjb25zdCBvPXRbZS5zaGFwZXNbcl1dO24ucHVzaChvKX1jb25zdCBpPWUub3B0aW9ucy5leHRydWRlUGF0aDtyZXR1cm4gaSE9PXZvaWQgMCYmKGUub3B0aW9ucy5leHRydWRlUGF0aD1uZXcgQ3VydmVzW2kudHlwZV0oKS5mcm9tSlNPTihpKSksbmV3IEV4dHJ1ZGVHZW9tZXRyeShuLGUub3B0aW9ucyl9fWNvbnN0IFdvcmxkVVZHZW5lcmF0b3I9e2dlbmVyYXRlVG9wVVY6ZnVuY3Rpb24ocyxlLHQsbixpKXtjb25zdCByPWVbdCozXSxhPWVbdCozKzFdLG89ZVtuKjNdLGw9ZVtuKjMrMV0sYz1lW2kqM10saD1lW2kqMysxXTtyZXR1cm5bbmV3IFZlY3RvcjIocixhKSxuZXcgVmVjdG9yMihvLGwpLG5ldyBWZWN0b3IyKGMsaCldfSxnZW5lcmF0ZVNpZGVXYWxsVVY6ZnVuY3Rpb24ocyxlLHQsbixpLHIpe2NvbnN0IGE9ZVt0KjNdLG89ZVt0KjMrMV0sbD1lW3QqMysyXSxjPWVbbiozXSxoPWVbbiozKzFdLHU9ZVtuKjMrMl0sZD1lW2kqM10sZj1lW2kqMysxXSxnPWVbaSozKzJdLF89ZVtyKjNdLHk9ZVtyKjMrMV0sbT1lW3IqMysyXTtyZXR1cm4gTWF0aC5hYnMoby1oKTxNYXRoLmFicyhhLWMpP1tuZXcgVmVjdG9yMihhLDEtbCksbmV3IFZlY3RvcjIoYywxLXUpLG5ldyBWZWN0b3IyKGQsMS1nKSxuZXcgVmVjdG9yMihfLDEtbSldOltuZXcgVmVjdG9yMihvLDEtbCksbmV3IFZlY3RvcjIoaCwxLXUpLG5ldyBWZWN0b3IyKGYsMS1nKSxuZXcgVmVjdG9yMih5LDEtbSldfX07ZnVuY3Rpb24gdG9KU09OJDEocyxlLHQpe2lmKHQuc2hhcGVzPVtdLEFycmF5LmlzQXJyYXkocykpZm9yKGxldCBuPTAsaT1zLmxlbmd0aDtuPGk7bisrKXtjb25zdCByPXNbbl07dC5zaGFwZXMucHVzaChyLnV1aWQpfWVsc2UgdC5zaGFwZXMucHVzaChzLnV1aWQpO3JldHVybiBlLmV4dHJ1ZGVQYXRoIT09dm9pZCAwJiYodC5vcHRpb25zLmV4dHJ1ZGVQYXRoPWUuZXh0cnVkZVBhdGgudG9KU09OKCkpLHR9Y2xhc3MgU2hhcGVHZW9tZXRyeSBleHRlbmRzIEJ1ZmZlckdlb21ldHJ5e2NvbnN0cnVjdG9yKGU9bmV3IFNoYXBlKFtuZXcgVmVjdG9yMigwLC41KSxuZXcgVmVjdG9yMigtLjUsLS41KSxuZXcgVmVjdG9yMiguNSwtLjUpXSksdD0xMil7c3VwZXIoKTt0aGlzLnR5cGU9IlNoYXBlR2VvbWV0cnkiLHRoaXMucGFyYW1ldGVycz17c2hhcGVzOmUsY3VydmVTZWdtZW50czp0fTtjb25zdCBuPVtdLGk9W10scj1bXSxhPVtdO2xldCBvPTAsbD0wO2lmKEFycmF5LmlzQXJyYXkoZSk9PT0hMSljKGUpO2Vsc2UgZm9yKGxldCBoPTA7aDxlLmxlbmd0aDtoKyspYyhlW2hdKSx0aGlzLmFkZEdyb3VwKG8sbCxoKSxvKz1sLGw9MDt0aGlzLnNldEluZGV4KG4pLHRoaXMuc2V0QXR0cmlidXRlKCJwb3NpdGlvbiIsbmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUoaSwzKSksdGhpcy5zZXRBdHRyaWJ1dGUoIm5vcm1hbCIsbmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUociwzKSksdGhpcy5zZXRBdHRyaWJ1dGUoInV2IixuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZShhLDIpKTtmdW5jdGlvbiBjKGgpe2NvbnN0IHU9aS5sZW5ndGgvMyxkPWguZXh0cmFjdFBvaW50cyh0KTtsZXQgZj1kLnNoYXBlO2NvbnN0IGc9ZC5ob2xlcztTaGFwZVV0aWxzLmlzQ2xvY2tXaXNlKGYpPT09ITEmJihmPWYucmV2ZXJzZSgpKTtmb3IobGV0IHk9MCxtPWcubGVuZ3RoO3k8bTt5Kyspe2NvbnN0IHA9Z1t5XTtTaGFwZVV0aWxzLmlzQ2xvY2tXaXNlKHApPT09ITAmJihnW3ldPXAucmV2ZXJzZSgpKX1jb25zdCBfPVNoYXBlVXRpbHMudHJpYW5ndWxhdGVTaGFwZShmLGcpO2ZvcihsZXQgeT0wLG09Zy5sZW5ndGg7eTxtO3krKyl7Y29uc3QgcD1nW3ldO2Y9Zi5jb25jYXQocCl9Zm9yKGxldCB5PTAsbT1mLmxlbmd0aDt5PG07eSsrKXtjb25zdCBwPWZbeV07aS5wdXNoKHAueCxwLnksMCksci5wdXNoKDAsMCwxKSxhLnB1c2gocC54LHAueSl9Zm9yKGxldCB5PTAsbT1fLmxlbmd0aDt5PG07eSsrKXtjb25zdCBwPV9beV0sVD1wWzBdK3Usdz1wWzFdK3UsUz1wWzJdK3U7bi5wdXNoKFQsdyxTKSxsKz0zfX19dG9KU09OKCl7Y29uc3QgZT1zdXBlci50b0pTT04oKSx0PXRoaXMucGFyYW1ldGVycy5zaGFwZXM7cmV0dXJuIHRvSlNPTih0LGUpfXN0YXRpYyBmcm9tSlNPTihlLHQpe2NvbnN0IG49W107Zm9yKGxldCBpPTAscj1lLnNoYXBlcy5sZW5ndGg7aTxyO2krKyl7Y29uc3QgYT10W2Uuc2hhcGVzW2ldXTtuLnB1c2goYSl9cmV0dXJuIG5ldyBTaGFwZUdlb21ldHJ5KG4sZS5jdXJ2ZVNlZ21lbnRzKX19ZnVuY3Rpb24gdG9KU09OKHMsZSl7aWYoZS5zaGFwZXM9W10sQXJyYXkuaXNBcnJheShzKSlmb3IobGV0IHQ9MCxuPXMubGVuZ3RoO3Q8bjt0Kyspe2NvbnN0IGk9c1t0XTtlLnNoYXBlcy5wdXNoKGkudXVpZCl9ZWxzZSBlLnNoYXBlcy5wdXNoKHMudXVpZCk7cmV0dXJuIGV9Y2xhc3MgU2hhZG93TWF0ZXJpYWwgZXh0ZW5kcyBNYXRlcmlhbHtjb25zdHJ1Y3RvcihlKXtzdXBlcigpO3RoaXMudHlwZT0iU2hhZG93TWF0ZXJpYWwiLHRoaXMuY29sb3I9bmV3IENvbG9yKDApLHRoaXMudHJhbnNwYXJlbnQ9ITAsdGhpcy5zZXRWYWx1ZXMoZSl9Y29weShlKXtyZXR1cm4gc3VwZXIuY29weShlKSx0aGlzLmNvbG9yLmNvcHkoZS5jb2xvciksdGhpc319U2hhZG93TWF0ZXJpYWwucHJvdG90eXBlLmlzU2hhZG93TWF0ZXJpYWw9ITA7Y2xhc3MgUmF3U2hhZGVyTWF0ZXJpYWwgZXh0ZW5kcyBTaGFkZXJNYXRlcmlhbHtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKTt0aGlzLnR5cGU9IlJhd1NoYWRlck1hdGVyaWFsIn19UmF3U2hhZGVyTWF0ZXJpYWwucHJvdG90eXBlLmlzUmF3U2hhZGVyTWF0ZXJpYWw9ITA7Y2xhc3MgTWVzaFN0YW5kYXJkTWF0ZXJpYWwgZXh0ZW5kcyBNYXRlcmlhbHtjb25zdHJ1Y3RvcihlKXtzdXBlcigpO3RoaXMuZGVmaW5lcz17U1RBTkRBUkQ6IiJ9LHRoaXMudHlwZT0iTWVzaFN0YW5kYXJkTWF0ZXJpYWwiLHRoaXMuY29sb3I9bmV3IENvbG9yKDE2Nzc3MjE1KSx0aGlzLnJvdWdobmVzcz0xLHRoaXMubWV0YWxuZXNzPTAsdGhpcy5tYXA9bnVsbCx0aGlzLmxpZ2h0TWFwPW51bGwsdGhpcy5saWdodE1hcEludGVuc2l0eT0xLHRoaXMuYW9NYXA9bnVsbCx0aGlzLmFvTWFwSW50ZW5zaXR5PTEsdGhpcy5lbWlzc2l2ZT1uZXcgQ29sb3IoMCksdGhpcy5lbWlzc2l2ZUludGVuc2l0eT0xLHRoaXMuZW1pc3NpdmVNYXA9bnVsbCx0aGlzLmJ1bXBNYXA9bnVsbCx0aGlzLmJ1bXBTY2FsZT0xLHRoaXMubm9ybWFsTWFwPW51bGwsdGhpcy5ub3JtYWxNYXBUeXBlPTAsdGhpcy5ub3JtYWxTY2FsZT1uZXcgVmVjdG9yMigxLDEpLHRoaXMuZGlzcGxhY2VtZW50TWFwPW51bGwsdGhpcy5kaXNwbGFjZW1lbnRTY2FsZT0xLHRoaXMuZGlzcGxhY2VtZW50Qmlhcz0wLHRoaXMucm91Z2huZXNzTWFwPW51bGwsdGhpcy5tZXRhbG5lc3NNYXA9bnVsbCx0aGlzLmFscGhhTWFwPW51bGwsdGhpcy5lbnZNYXA9bnVsbCx0aGlzLmVudk1hcEludGVuc2l0eT0xLHRoaXMucmVmcmFjdGlvblJhdGlvPS45OCx0aGlzLndpcmVmcmFtZT0hMSx0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD0xLHRoaXMud2lyZWZyYW1lTGluZWNhcD0icm91bmQiLHRoaXMud2lyZWZyYW1lTGluZWpvaW49InJvdW5kIix0aGlzLmZsYXRTaGFkaW5nPSExLHRoaXMuc2V0VmFsdWVzKGUpfWNvcHkoZSl7cmV0dXJuIHN1cGVyLmNvcHkoZSksdGhpcy5kZWZpbmVzPXtTVEFOREFSRDoiIn0sdGhpcy5jb2xvci5jb3B5KGUuY29sb3IpLHRoaXMucm91Z2huZXNzPWUucm91Z2huZXNzLHRoaXMubWV0YWxuZXNzPWUubWV0YWxuZXNzLHRoaXMubWFwPWUubWFwLHRoaXMubGlnaHRNYXA9ZS5saWdodE1hcCx0aGlzLmxpZ2h0TWFwSW50ZW5zaXR5PWUubGlnaHRNYXBJbnRlbnNpdHksdGhpcy5hb01hcD1lLmFvTWFwLHRoaXMuYW9NYXBJbnRlbnNpdHk9ZS5hb01hcEludGVuc2l0eSx0aGlzLmVtaXNzaXZlLmNvcHkoZS5lbWlzc2l2ZSksdGhpcy5lbWlzc2l2ZU1hcD1lLmVtaXNzaXZlTWFwLHRoaXMuZW1pc3NpdmVJbnRlbnNpdHk9ZS5lbWlzc2l2ZUludGVuc2l0eSx0aGlzLmJ1bXBNYXA9ZS5idW1wTWFwLHRoaXMuYnVtcFNjYWxlPWUuYnVtcFNjYWxlLHRoaXMubm9ybWFsTWFwPWUubm9ybWFsTWFwLHRoaXMubm9ybWFsTWFwVHlwZT1lLm5vcm1hbE1hcFR5cGUsdGhpcy5ub3JtYWxTY2FsZS5jb3B5KGUubm9ybWFsU2NhbGUpLHRoaXMuZGlzcGxhY2VtZW50TWFwPWUuZGlzcGxhY2VtZW50TWFwLHRoaXMuZGlzcGxhY2VtZW50U2NhbGU9ZS5kaXNwbGFjZW1lbnRTY2FsZSx0aGlzLmRpc3BsYWNlbWVudEJpYXM9ZS5kaXNwbGFjZW1lbnRCaWFzLHRoaXMucm91Z2huZXNzTWFwPWUucm91Z2huZXNzTWFwLHRoaXMubWV0YWxuZXNzTWFwPWUubWV0YWxuZXNzTWFwLHRoaXMuYWxwaGFNYXA9ZS5hbHBoYU1hcCx0aGlzLmVudk1hcD1lLmVudk1hcCx0aGlzLmVudk1hcEludGVuc2l0eT1lLmVudk1hcEludGVuc2l0eSx0aGlzLnJlZnJhY3Rpb25SYXRpbz1lLnJlZnJhY3Rpb25SYXRpbyx0aGlzLndpcmVmcmFtZT1lLndpcmVmcmFtZSx0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD1lLndpcmVmcmFtZUxpbmV3aWR0aCx0aGlzLndpcmVmcmFtZUxpbmVjYXA9ZS53aXJlZnJhbWVMaW5lY2FwLHRoaXMud2lyZWZyYW1lTGluZWpvaW49ZS53aXJlZnJhbWVMaW5lam9pbix0aGlzLmZsYXRTaGFkaW5nPWUuZmxhdFNoYWRpbmcsdGhpc319TWVzaFN0YW5kYXJkTWF0ZXJpYWwucHJvdG90eXBlLmlzTWVzaFN0YW5kYXJkTWF0ZXJpYWw9ITA7Y2xhc3MgTWVzaFBoeXNpY2FsTWF0ZXJpYWwgZXh0ZW5kcyBNZXNoU3RhbmRhcmRNYXRlcmlhbHtjb25zdHJ1Y3RvcihlKXtzdXBlcigpO3RoaXMuZGVmaW5lcz17U1RBTkRBUkQ6IiIsUEhZU0lDQUw6IiJ9LHRoaXMudHlwZT0iTWVzaFBoeXNpY2FsTWF0ZXJpYWwiLHRoaXMuY2xlYXJjb2F0TWFwPW51bGwsdGhpcy5jbGVhcmNvYXRSb3VnaG5lc3M9MCx0aGlzLmNsZWFyY29hdFJvdWdobmVzc01hcD1udWxsLHRoaXMuY2xlYXJjb2F0Tm9ybWFsU2NhbGU9bmV3IFZlY3RvcjIoMSwxKSx0aGlzLmNsZWFyY29hdE5vcm1hbE1hcD1udWxsLHRoaXMuaW9yPTEuNSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywicmVmbGVjdGl2aXR5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNsYW1wKDIuNSoodGhpcy5pb3ItMSkvKHRoaXMuaW9yKzEpLDAsMSl9LHNldDpmdW5jdGlvbih0KXt0aGlzLmlvcj0oMSsuNCp0KS8oMS0uNCp0KX19KSx0aGlzLnNoZWVuQ29sb3I9bmV3IENvbG9yKDApLHRoaXMuc2hlZW5Db2xvck1hcD1udWxsLHRoaXMuc2hlZW5Sb3VnaG5lc3M9MSx0aGlzLnNoZWVuUm91Z2huZXNzTWFwPW51bGwsdGhpcy50cmFuc21pc3Npb25NYXA9bnVsbCx0aGlzLnRoaWNrbmVzcz0wLHRoaXMudGhpY2tuZXNzTWFwPW51bGwsdGhpcy5hdHRlbnVhdGlvbkRpc3RhbmNlPTAsdGhpcy5hdHRlbnVhdGlvbkNvbG9yPW5ldyBDb2xvcigxLDEsMSksdGhpcy5zcGVjdWxhckludGVuc2l0eT0xLHRoaXMuc3BlY3VsYXJJbnRlbnNpdHlNYXA9bnVsbCx0aGlzLnNwZWN1bGFyQ29sb3I9bmV3IENvbG9yKDEsMSwxKSx0aGlzLnNwZWN1bGFyQ29sb3JNYXA9bnVsbCx0aGlzLl9zaGVlbj0wLHRoaXMuX2NsZWFyY29hdD0wLHRoaXMuX3RyYW5zbWlzc2lvbj0wLHRoaXMuc2V0VmFsdWVzKGUpfWdldCBzaGVlbigpe3JldHVybiB0aGlzLl9zaGVlbn1zZXQgc2hlZW4oZSl7dGhpcy5fc2hlZW4+MCE9ZT4wJiZ0aGlzLnZlcnNpb24rKyx0aGlzLl9zaGVlbj1lfWdldCBjbGVhcmNvYXQoKXtyZXR1cm4gdGhpcy5fY2xlYXJjb2F0fXNldCBjbGVhcmNvYXQoZSl7dGhpcy5fY2xlYXJjb2F0PjAhPWU+MCYmdGhpcy52ZXJzaW9uKyssdGhpcy5fY2xlYXJjb2F0PWV9Z2V0IHRyYW5zbWlzc2lvbigpe3JldHVybiB0aGlzLl90cmFuc21pc3Npb259c2V0IHRyYW5zbWlzc2lvbihlKXt0aGlzLl90cmFuc21pc3Npb24+MCE9ZT4wJiZ0aGlzLnZlcnNpb24rKyx0aGlzLl90cmFuc21pc3Npb249ZX1jb3B5KGUpe3JldHVybiBzdXBlci5jb3B5KGUpLHRoaXMuZGVmaW5lcz17U1RBTkRBUkQ6IiIsUEhZU0lDQUw6IiJ9LHRoaXMuY2xlYXJjb2F0PWUuY2xlYXJjb2F0LHRoaXMuY2xlYXJjb2F0TWFwPWUuY2xlYXJjb2F0TWFwLHRoaXMuY2xlYXJjb2F0Um91Z2huZXNzPWUuY2xlYXJjb2F0Um91Z2huZXNzLHRoaXMuY2xlYXJjb2F0Um91Z2huZXNzTWFwPWUuY2xlYXJjb2F0Um91Z2huZXNzTWFwLHRoaXMuY2xlYXJjb2F0Tm9ybWFsTWFwPWUuY2xlYXJjb2F0Tm9ybWFsTWFwLHRoaXMuY2xlYXJjb2F0Tm9ybWFsU2NhbGUuY29weShlLmNsZWFyY29hdE5vcm1hbFNjYWxlKSx0aGlzLmlvcj1lLmlvcix0aGlzLnNoZWVuPWUuc2hlZW4sdGhpcy5zaGVlbkNvbG9yLmNvcHkoZS5zaGVlbkNvbG9yKSx0aGlzLnNoZWVuQ29sb3JNYXA9ZS5zaGVlbkNvbG9yTWFwLHRoaXMuc2hlZW5Sb3VnaG5lc3M9ZS5zaGVlblJvdWdobmVzcyx0aGlzLnNoZWVuUm91Z2huZXNzTWFwPWUuc2hlZW5Sb3VnaG5lc3NNYXAsdGhpcy50cmFuc21pc3Npb249ZS50cmFuc21pc3Npb24sdGhpcy50cmFuc21pc3Npb25NYXA9ZS50cmFuc21pc3Npb25NYXAsdGhpcy50aGlja25lc3M9ZS50aGlja25lc3MsdGhpcy50aGlja25lc3NNYXA9ZS50aGlja25lc3NNYXAsdGhpcy5hdHRlbnVhdGlvbkRpc3RhbmNlPWUuYXR0ZW51YXRpb25EaXN0YW5jZSx0aGlzLmF0dGVudWF0aW9uQ29sb3IuY29weShlLmF0dGVudWF0aW9uQ29sb3IpLHRoaXMuc3BlY3VsYXJJbnRlbnNpdHk9ZS5zcGVjdWxhckludGVuc2l0eSx0aGlzLnNwZWN1bGFySW50ZW5zaXR5TWFwPWUuc3BlY3VsYXJJbnRlbnNpdHlNYXAsdGhpcy5zcGVjdWxhckNvbG9yLmNvcHkoZS5zcGVjdWxhckNvbG9yKSx0aGlzLnNwZWN1bGFyQ29sb3JNYXA9ZS5zcGVjdWxhckNvbG9yTWFwLHRoaXN9fU1lc2hQaHlzaWNhbE1hdGVyaWFsLnByb3RvdHlwZS5pc01lc2hQaHlzaWNhbE1hdGVyaWFsPSEwO2NsYXNzIE1lc2hQaG9uZ01hdGVyaWFsIGV4dGVuZHMgTWF0ZXJpYWx7Y29uc3RydWN0b3IoZSl7c3VwZXIoKTt0aGlzLnR5cGU9Ik1lc2hQaG9uZ01hdGVyaWFsIix0aGlzLmNvbG9yPW5ldyBDb2xvcigxNjc3NzIxNSksdGhpcy5zcGVjdWxhcj1uZXcgQ29sb3IoMTExODQ4MSksdGhpcy5zaGluaW5lc3M9MzAsdGhpcy5tYXA9bnVsbCx0aGlzLmxpZ2h0TWFwPW51bGwsdGhpcy5saWdodE1hcEludGVuc2l0eT0xLHRoaXMuYW9NYXA9bnVsbCx0aGlzLmFvTWFwSW50ZW5zaXR5PTEsdGhpcy5lbWlzc2l2ZT1uZXcgQ29sb3IoMCksdGhpcy5lbWlzc2l2ZUludGVuc2l0eT0xLHRoaXMuZW1pc3NpdmVNYXA9bnVsbCx0aGlzLmJ1bXBNYXA9bnVsbCx0aGlzLmJ1bXBTY2FsZT0xLHRoaXMubm9ybWFsTWFwPW51bGwsdGhpcy5ub3JtYWxNYXBUeXBlPTAsdGhpcy5ub3JtYWxTY2FsZT1uZXcgVmVjdG9yMigxLDEpLHRoaXMuZGlzcGxhY2VtZW50TWFwPW51bGwsdGhpcy5kaXNwbGFjZW1lbnRTY2FsZT0xLHRoaXMuZGlzcGxhY2VtZW50Qmlhcz0wLHRoaXMuc3BlY3VsYXJNYXA9bnVsbCx0aGlzLmFscGhhTWFwPW51bGwsdGhpcy5lbnZNYXA9bnVsbCx0aGlzLmNvbWJpbmU9MCx0aGlzLnJlZmxlY3Rpdml0eT0xLHRoaXMucmVmcmFjdGlvblJhdGlvPS45OCx0aGlzLndpcmVmcmFtZT0hMSx0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD0xLHRoaXMud2lyZWZyYW1lTGluZWNhcD0icm91bmQiLHRoaXMud2lyZWZyYW1lTGluZWpvaW49InJvdW5kIix0aGlzLmZsYXRTaGFkaW5nPSExLHRoaXMuc2V0VmFsdWVzKGUpfWNvcHkoZSl7cmV0dXJuIHN1cGVyLmNvcHkoZSksdGhpcy5jb2xvci5jb3B5KGUuY29sb3IpLHRoaXMuc3BlY3VsYXIuY29weShlLnNwZWN1bGFyKSx0aGlzLnNoaW5pbmVzcz1lLnNoaW5pbmVzcyx0aGlzLm1hcD1lLm1hcCx0aGlzLmxpZ2h0TWFwPWUubGlnaHRNYXAsdGhpcy5saWdodE1hcEludGVuc2l0eT1lLmxpZ2h0TWFwSW50ZW5zaXR5LHRoaXMuYW9NYXA9ZS5hb01hcCx0aGlzLmFvTWFwSW50ZW5zaXR5PWUuYW9NYXBJbnRlbnNpdHksdGhpcy5lbWlzc2l2ZS5jb3B5KGUuZW1pc3NpdmUpLHRoaXMuZW1pc3NpdmVNYXA9ZS5lbWlzc2l2ZU1hcCx0aGlzLmVtaXNzaXZlSW50ZW5zaXR5PWUuZW1pc3NpdmVJbnRlbnNpdHksdGhpcy5idW1wTWFwPWUuYnVtcE1hcCx0aGlzLmJ1bXBTY2FsZT1lLmJ1bXBTY2FsZSx0aGlzLm5vcm1hbE1hcD1lLm5vcm1hbE1hcCx0aGlzLm5vcm1hbE1hcFR5cGU9ZS5ub3JtYWxNYXBUeXBlLHRoaXMubm9ybWFsU2NhbGUuY29weShlLm5vcm1hbFNjYWxlKSx0aGlzLmRpc3BsYWNlbWVudE1hcD1lLmRpc3BsYWNlbWVudE1hcCx0aGlzLmRpc3BsYWNlbWVudFNjYWxlPWUuZGlzcGxhY2VtZW50U2NhbGUsdGhpcy5kaXNwbGFjZW1lbnRCaWFzPWUuZGlzcGxhY2VtZW50Qmlhcyx0aGlzLnNwZWN1bGFyTWFwPWUuc3BlY3VsYXJNYXAsdGhpcy5hbHBoYU1hcD1lLmFscGhhTWFwLHRoaXMuZW52TWFwPWUuZW52TWFwLHRoaXMuY29tYmluZT1lLmNvbWJpbmUsdGhpcy5yZWZsZWN0aXZpdHk9ZS5yZWZsZWN0aXZpdHksdGhpcy5yZWZyYWN0aW9uUmF0aW89ZS5yZWZyYWN0aW9uUmF0aW8sdGhpcy53aXJlZnJhbWU9ZS53aXJlZnJhbWUsdGhpcy53aXJlZnJhbWVMaW5ld2lkdGg9ZS53aXJlZnJhbWVMaW5ld2lkdGgsdGhpcy53aXJlZnJhbWVMaW5lY2FwPWUud2lyZWZyYW1lTGluZWNhcCx0aGlzLndpcmVmcmFtZUxpbmVqb2luPWUud2lyZWZyYW1lTGluZWpvaW4sdGhpcy5mbGF0U2hhZGluZz1lLmZsYXRTaGFkaW5nLHRoaXN9fU1lc2hQaG9uZ01hdGVyaWFsLnByb3RvdHlwZS5pc01lc2hQaG9uZ01hdGVyaWFsPSEwO2NsYXNzIE1lc2hUb29uTWF0ZXJpYWwgZXh0ZW5kcyBNYXRlcmlhbHtjb25zdHJ1Y3RvcihlKXtzdXBlcigpO3RoaXMuZGVmaW5lcz17VE9PTjoiIn0sdGhpcy50eXBlPSJNZXNoVG9vbk1hdGVyaWFsIix0aGlzLmNvbG9yPW5ldyBDb2xvcigxNjc3NzIxNSksdGhpcy5tYXA9bnVsbCx0aGlzLmdyYWRpZW50TWFwPW51bGwsdGhpcy5saWdodE1hcD1udWxsLHRoaXMubGlnaHRNYXBJbnRlbnNpdHk9MSx0aGlzLmFvTWFwPW51bGwsdGhpcy5hb01hcEludGVuc2l0eT0xLHRoaXMuZW1pc3NpdmU9bmV3IENvbG9yKDApLHRoaXMuZW1pc3NpdmVJbnRlbnNpdHk9MSx0aGlzLmVtaXNzaXZlTWFwPW51bGwsdGhpcy5idW1wTWFwPW51bGwsdGhpcy5idW1wU2NhbGU9MSx0aGlzLm5vcm1hbE1hcD1udWxsLHRoaXMubm9ybWFsTWFwVHlwZT0wLHRoaXMubm9ybWFsU2NhbGU9bmV3IFZlY3RvcjIoMSwxKSx0aGlzLmRpc3BsYWNlbWVudE1hcD1udWxsLHRoaXMuZGlzcGxhY2VtZW50U2NhbGU9MSx0aGlzLmRpc3BsYWNlbWVudEJpYXM9MCx0aGlzLmFscGhhTWFwPW51bGwsdGhpcy53aXJlZnJhbWU9ITEsdGhpcy53aXJlZnJhbWVMaW5ld2lkdGg9MSx0aGlzLndpcmVmcmFtZUxpbmVjYXA9InJvdW5kIix0aGlzLndpcmVmcmFtZUxpbmVqb2luPSJyb3VuZCIsdGhpcy5zZXRWYWx1ZXMoZSl9Y29weShlKXtyZXR1cm4gc3VwZXIuY29weShlKSx0aGlzLmNvbG9yLmNvcHkoZS5jb2xvciksdGhpcy5tYXA9ZS5tYXAsdGhpcy5ncmFkaWVudE1hcD1lLmdyYWRpZW50TWFwLHRoaXMubGlnaHRNYXA9ZS5saWdodE1hcCx0aGlzLmxpZ2h0TWFwSW50ZW5zaXR5PWUubGlnaHRNYXBJbnRlbnNpdHksdGhpcy5hb01hcD1lLmFvTWFwLHRoaXMuYW9NYXBJbnRlbnNpdHk9ZS5hb01hcEludGVuc2l0eSx0aGlzLmVtaXNzaXZlLmNvcHkoZS5lbWlzc2l2ZSksdGhpcy5lbWlzc2l2ZU1hcD1lLmVtaXNzaXZlTWFwLHRoaXMuZW1pc3NpdmVJbnRlbnNpdHk9ZS5lbWlzc2l2ZUludGVuc2l0eSx0aGlzLmJ1bXBNYXA9ZS5idW1wTWFwLHRoaXMuYnVtcFNjYWxlPWUuYnVtcFNjYWxlLHRoaXMubm9ybWFsTWFwPWUubm9ybWFsTWFwLHRoaXMubm9ybWFsTWFwVHlwZT1lLm5vcm1hbE1hcFR5cGUsdGhpcy5ub3JtYWxTY2FsZS5jb3B5KGUubm9ybWFsU2NhbGUpLHRoaXMuZGlzcGxhY2VtZW50TWFwPWUuZGlzcGxhY2VtZW50TWFwLHRoaXMuZGlzcGxhY2VtZW50U2NhbGU9ZS5kaXNwbGFjZW1lbnRTY2FsZSx0aGlzLmRpc3BsYWNlbWVudEJpYXM9ZS5kaXNwbGFjZW1lbnRCaWFzLHRoaXMuYWxwaGFNYXA9ZS5hbHBoYU1hcCx0aGlzLndpcmVmcmFtZT1lLndpcmVmcmFtZSx0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD1lLndpcmVmcmFtZUxpbmV3aWR0aCx0aGlzLndpcmVmcmFtZUxpbmVjYXA9ZS53aXJlZnJhbWVMaW5lY2FwLHRoaXMud2lyZWZyYW1lTGluZWpvaW49ZS53aXJlZnJhbWVMaW5lam9pbix0aGlzfX1NZXNoVG9vbk1hdGVyaWFsLnByb3RvdHlwZS5pc01lc2hUb29uTWF0ZXJpYWw9ITA7Y2xhc3MgTWVzaE5vcm1hbE1hdGVyaWFsIGV4dGVuZHMgTWF0ZXJpYWx7Y29uc3RydWN0b3IoZSl7c3VwZXIoKTt0aGlzLnR5cGU9Ik1lc2hOb3JtYWxNYXRlcmlhbCIsdGhpcy5idW1wTWFwPW51bGwsdGhpcy5idW1wU2NhbGU9MSx0aGlzLm5vcm1hbE1hcD1udWxsLHRoaXMubm9ybWFsTWFwVHlwZT0wLHRoaXMubm9ybWFsU2NhbGU9bmV3IFZlY3RvcjIoMSwxKSx0aGlzLmRpc3BsYWNlbWVudE1hcD1udWxsLHRoaXMuZGlzcGxhY2VtZW50U2NhbGU9MSx0aGlzLmRpc3BsYWNlbWVudEJpYXM9MCx0aGlzLndpcmVmcmFtZT0hMSx0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD0xLHRoaXMuZm9nPSExLHRoaXMuZmxhdFNoYWRpbmc9ITEsdGhpcy5zZXRWYWx1ZXMoZSl9Y29weShlKXtyZXR1cm4gc3VwZXIuY29weShlKSx0aGlzLmJ1bXBNYXA9ZS5idW1wTWFwLHRoaXMuYnVtcFNjYWxlPWUuYnVtcFNjYWxlLHRoaXMubm9ybWFsTWFwPWUubm9ybWFsTWFwLHRoaXMubm9ybWFsTWFwVHlwZT1lLm5vcm1hbE1hcFR5cGUsdGhpcy5ub3JtYWxTY2FsZS5jb3B5KGUubm9ybWFsU2NhbGUpLHRoaXMuZGlzcGxhY2VtZW50TWFwPWUuZGlzcGxhY2VtZW50TWFwLHRoaXMuZGlzcGxhY2VtZW50U2NhbGU9ZS5kaXNwbGFjZW1lbnRTY2FsZSx0aGlzLmRpc3BsYWNlbWVudEJpYXM9ZS5kaXNwbGFjZW1lbnRCaWFzLHRoaXMud2lyZWZyYW1lPWUud2lyZWZyYW1lLHRoaXMud2lyZWZyYW1lTGluZXdpZHRoPWUud2lyZWZyYW1lTGluZXdpZHRoLHRoaXMuZmxhdFNoYWRpbmc9ZS5mbGF0U2hhZGluZyx0aGlzfX1NZXNoTm9ybWFsTWF0ZXJpYWwucHJvdG90eXBlLmlzTWVzaE5vcm1hbE1hdGVyaWFsPSEwO2NsYXNzIE1lc2hMYW1iZXJ0TWF0ZXJpYWwgZXh0ZW5kcyBNYXRlcmlhbHtjb25zdHJ1Y3RvcihlKXtzdXBlcigpO3RoaXMudHlwZT0iTWVzaExhbWJlcnRNYXRlcmlhbCIsdGhpcy5jb2xvcj1uZXcgQ29sb3IoMTY3NzcyMTUpLHRoaXMubWFwPW51bGwsdGhpcy5saWdodE1hcD1udWxsLHRoaXMubGlnaHRNYXBJbnRlbnNpdHk9MSx0aGlzLmFvTWFwPW51bGwsdGhpcy5hb01hcEludGVuc2l0eT0xLHRoaXMuZW1pc3NpdmU9bmV3IENvbG9yKDApLHRoaXMuZW1pc3NpdmVJbnRlbnNpdHk9MSx0aGlzLmVtaXNzaXZlTWFwPW51bGwsdGhpcy5zcGVjdWxhck1hcD1udWxsLHRoaXMuYWxwaGFNYXA9bnVsbCx0aGlzLmVudk1hcD1udWxsLHRoaXMuY29tYmluZT0wLHRoaXMucmVmbGVjdGl2aXR5PTEsdGhpcy5yZWZyYWN0aW9uUmF0aW89Ljk4LHRoaXMud2lyZWZyYW1lPSExLHRoaXMud2lyZWZyYW1lTGluZXdpZHRoPTEsdGhpcy53aXJlZnJhbWVMaW5lY2FwPSJyb3VuZCIsdGhpcy53aXJlZnJhbWVMaW5lam9pbj0icm91bmQiLHRoaXMuc2V0VmFsdWVzKGUpfWNvcHkoZSl7cmV0dXJuIHN1cGVyLmNvcHkoZSksdGhpcy5jb2xvci5jb3B5KGUuY29sb3IpLHRoaXMubWFwPWUubWFwLHRoaXMubGlnaHRNYXA9ZS5saWdodE1hcCx0aGlzLmxpZ2h0TWFwSW50ZW5zaXR5PWUubGlnaHRNYXBJbnRlbnNpdHksdGhpcy5hb01hcD1lLmFvTWFwLHRoaXMuYW9NYXBJbnRlbnNpdHk9ZS5hb01hcEludGVuc2l0eSx0aGlzLmVtaXNzaXZlLmNvcHkoZS5lbWlzc2l2ZSksdGhpcy5lbWlzc2l2ZU1hcD1lLmVtaXNzaXZlTWFwLHRoaXMuZW1pc3NpdmVJbnRlbnNpdHk9ZS5lbWlzc2l2ZUludGVuc2l0eSx0aGlzLnNwZWN1bGFyTWFwPWUuc3BlY3VsYXJNYXAsdGhpcy5hbHBoYU1hcD1lLmFscGhhTWFwLHRoaXMuZW52TWFwPWUuZW52TWFwLHRoaXMuY29tYmluZT1lLmNvbWJpbmUsdGhpcy5yZWZsZWN0aXZpdHk9ZS5yZWZsZWN0aXZpdHksdGhpcy5yZWZyYWN0aW9uUmF0aW89ZS5yZWZyYWN0aW9uUmF0aW8sdGhpcy53aXJlZnJhbWU9ZS53aXJlZnJhbWUsdGhpcy53aXJlZnJhbWVMaW5ld2lkdGg9ZS53aXJlZnJhbWVMaW5ld2lkdGgsdGhpcy53aXJlZnJhbWVMaW5lY2FwPWUud2lyZWZyYW1lTGluZWNhcCx0aGlzLndpcmVmcmFtZUxpbmVqb2luPWUud2lyZWZyYW1lTGluZWpvaW4sdGhpc319TWVzaExhbWJlcnRNYXRlcmlhbC5wcm90b3R5cGUuaXNNZXNoTGFtYmVydE1hdGVyaWFsPSEwO2NsYXNzIE1lc2hNYXRjYXBNYXRlcmlhbCBleHRlbmRzIE1hdGVyaWFse2NvbnN0cnVjdG9yKGUpe3N1cGVyKCk7dGhpcy5kZWZpbmVzPXtNQVRDQVA6IiJ9LHRoaXMudHlwZT0iTWVzaE1hdGNhcE1hdGVyaWFsIix0aGlzLmNvbG9yPW5ldyBDb2xvcigxNjc3NzIxNSksdGhpcy5tYXRjYXA9bnVsbCx0aGlzLm1hcD1udWxsLHRoaXMuYnVtcE1hcD1udWxsLHRoaXMuYnVtcFNjYWxlPTEsdGhpcy5ub3JtYWxNYXA9bnVsbCx0aGlzLm5vcm1hbE1hcFR5cGU9MCx0aGlzLm5vcm1hbFNjYWxlPW5ldyBWZWN0b3IyKDEsMSksdGhpcy5kaXNwbGFjZW1lbnRNYXA9bnVsbCx0aGlzLmRpc3BsYWNlbWVudFNjYWxlPTEsdGhpcy5kaXNwbGFjZW1lbnRCaWFzPTAsdGhpcy5hbHBoYU1hcD1udWxsLHRoaXMuZmxhdFNoYWRpbmc9ITEsdGhpcy5zZXRWYWx1ZXMoZSl9Y29weShlKXtyZXR1cm4gc3VwZXIuY29weShlKSx0aGlzLmRlZmluZXM9e01BVENBUDoiIn0sdGhpcy5jb2xvci5jb3B5KGUuY29sb3IpLHRoaXMubWF0Y2FwPWUubWF0Y2FwLHRoaXMubWFwPWUubWFwLHRoaXMuYnVtcE1hcD1lLmJ1bXBNYXAsdGhpcy5idW1wU2NhbGU9ZS5idW1wU2NhbGUsdGhpcy5ub3JtYWxNYXA9ZS5ub3JtYWxNYXAsdGhpcy5ub3JtYWxNYXBUeXBlPWUubm9ybWFsTWFwVHlwZSx0aGlzLm5vcm1hbFNjYWxlLmNvcHkoZS5ub3JtYWxTY2FsZSksdGhpcy5kaXNwbGFjZW1lbnRNYXA9ZS5kaXNwbGFjZW1lbnRNYXAsdGhpcy5kaXNwbGFjZW1lbnRTY2FsZT1lLmRpc3BsYWNlbWVudFNjYWxlLHRoaXMuZGlzcGxhY2VtZW50Qmlhcz1lLmRpc3BsYWNlbWVudEJpYXMsdGhpcy5hbHBoYU1hcD1lLmFscGhhTWFwLHRoaXMuZmxhdFNoYWRpbmc9ZS5mbGF0U2hhZGluZyx0aGlzfX1NZXNoTWF0Y2FwTWF0ZXJpYWwucHJvdG90eXBlLmlzTWVzaE1hdGNhcE1hdGVyaWFsPSEwO2NsYXNzIExpbmVEYXNoZWRNYXRlcmlhbCBleHRlbmRzIExpbmVCYXNpY01hdGVyaWFse2NvbnN0cnVjdG9yKGUpe3N1cGVyKCk7dGhpcy50eXBlPSJMaW5lRGFzaGVkTWF0ZXJpYWwiLHRoaXMuc2NhbGU9MSx0aGlzLmRhc2hTaXplPTMsdGhpcy5nYXBTaXplPTEsdGhpcy5zZXRWYWx1ZXMoZSl9Y29weShlKXtyZXR1cm4gc3VwZXIuY29weShlKSx0aGlzLnNjYWxlPWUuc2NhbGUsdGhpcy5kYXNoU2l6ZT1lLmRhc2hTaXplLHRoaXMuZ2FwU2l6ZT1lLmdhcFNpemUsdGhpc319TGluZURhc2hlZE1hdGVyaWFsLnByb3RvdHlwZS5pc0xpbmVEYXNoZWRNYXRlcmlhbD0hMDtjb25zdCBtYXRlcmlhbExpYj17U2hhZG93TWF0ZXJpYWwsU3ByaXRlTWF0ZXJpYWwsUmF3U2hhZGVyTWF0ZXJpYWwsU2hhZGVyTWF0ZXJpYWwsUG9pbnRzTWF0ZXJpYWwsTWVzaFBoeXNpY2FsTWF0ZXJpYWwsTWVzaFN0YW5kYXJkTWF0ZXJpYWwsTWVzaFBob25nTWF0ZXJpYWwsTWVzaFRvb25NYXRlcmlhbCxNZXNoTm9ybWFsTWF0ZXJpYWwsTWVzaExhbWJlcnRNYXRlcmlhbCxNZXNoRGVwdGhNYXRlcmlhbCxNZXNoRGlzdGFuY2VNYXRlcmlhbCxNZXNoQmFzaWNNYXRlcmlhbCxNZXNoTWF0Y2FwTWF0ZXJpYWwsTGluZURhc2hlZE1hdGVyaWFsLExpbmVCYXNpY01hdGVyaWFsLE1hdGVyaWFsfTtNYXRlcmlhbC5mcm9tVHlwZT1mdW5jdGlvbihzKXtyZXR1cm4gbmV3IG1hdGVyaWFsTGliW3NdfTtjb25zdCBBbmltYXRpb25VdGlscz17YXJyYXlTbGljZTpmdW5jdGlvbihzLGUsdCl7cmV0dXJuIEFuaW1hdGlvblV0aWxzLmlzVHlwZWRBcnJheShzKT9uZXcgcy5jb25zdHJ1Y3RvcihzLnN1YmFycmF5KGUsdCE9PXZvaWQgMD90OnMubGVuZ3RoKSk6cy5zbGljZShlLHQpfSxjb252ZXJ0QXJyYXk6ZnVuY3Rpb24ocyxlLHQpe3JldHVybiFzfHwhdCYmcy5jb25zdHJ1Y3Rvcj09PWU/czp0eXBlb2YgZS5CWVRFU19QRVJfRUxFTUVOVD09Im51bWJlciI/bmV3IGUocyk6QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwocyl9LGlzVHlwZWRBcnJheTpmdW5jdGlvbihzKXtyZXR1cm4gQXJyYXlCdWZmZXIuaXNWaWV3KHMpJiYhKHMgaW5zdGFuY2VvZiBEYXRhVmlldyl9LGdldEtleWZyYW1lT3JkZXI6ZnVuY3Rpb24ocyl7ZnVuY3Rpb24gZShpLHIpe3JldHVybiBzW2ldLXNbcl19Y29uc3QgdD1zLmxlbmd0aCxuPW5ldyBBcnJheSh0KTtmb3IobGV0IGk9MDtpIT09dDsrK2kpbltpXT1pO3JldHVybiBuLnNvcnQoZSksbn0sc29ydGVkQXJyYXk6ZnVuY3Rpb24ocyxlLHQpe2NvbnN0IG49cy5sZW5ndGgsaT1uZXcgcy5jb25zdHJ1Y3RvcihuKTtmb3IobGV0IHI9MCxhPTA7YSE9PW47KytyKXtjb25zdCBvPXRbcl0qZTtmb3IobGV0IGw9MDtsIT09ZTsrK2wpaVthKytdPXNbbytsXX1yZXR1cm4gaX0sZmxhdHRlbkpTT046ZnVuY3Rpb24ocyxlLHQsbil7bGV0IGk9MSxyPXNbMF07Zm9yKDtyIT09dm9pZCAwJiZyW25dPT09dm9pZCAwOylyPXNbaSsrXTtpZihyPT09dm9pZCAwKXJldHVybjtsZXQgYT1yW25dO2lmKGEhPT12b2lkIDApaWYoQXJyYXkuaXNBcnJheShhKSlkbyBhPXJbbl0sYSE9PXZvaWQgMCYmKGUucHVzaChyLnRpbWUpLHQucHVzaC5hcHBseSh0LGEpKSxyPXNbaSsrXTt3aGlsZShyIT09dm9pZCAwKTtlbHNlIGlmKGEudG9BcnJheSE9PXZvaWQgMClkbyBhPXJbbl0sYSE9PXZvaWQgMCYmKGUucHVzaChyLnRpbWUpLGEudG9BcnJheSh0LHQubGVuZ3RoKSkscj1zW2krK107d2hpbGUociE9PXZvaWQgMCk7ZWxzZSBkbyBhPXJbbl0sYSE9PXZvaWQgMCYmKGUucHVzaChyLnRpbWUpLHQucHVzaChhKSkscj1zW2krK107d2hpbGUociE9PXZvaWQgMCl9LHN1YmNsaXA6ZnVuY3Rpb24ocyxlLHQsbixpPTMwKXtjb25zdCByPXMuY2xvbmUoKTtyLm5hbWU9ZTtjb25zdCBhPVtdO2ZvcihsZXQgbD0wO2w8ci50cmFja3MubGVuZ3RoOysrbCl7Y29uc3QgYz1yLnRyYWNrc1tsXSxoPWMuZ2V0VmFsdWVTaXplKCksdT1bXSxkPVtdO2ZvcihsZXQgZj0wO2Y8Yy50aW1lcy5sZW5ndGg7KytmKXtjb25zdCBnPWMudGltZXNbZl0qaTtpZighKGc8dHx8Zz49bikpe3UucHVzaChjLnRpbWVzW2ZdKTtmb3IobGV0IF89MDtfPGg7KytfKWQucHVzaChjLnZhbHVlc1tmKmgrX10pfX11Lmxlbmd0aCE9PTAmJihjLnRpbWVzPUFuaW1hdGlvblV0aWxzLmNvbnZlcnRBcnJheSh1LGMudGltZXMuY29uc3RydWN0b3IpLGMudmFsdWVzPUFuaW1hdGlvblV0aWxzLmNvbnZlcnRBcnJheShkLGMudmFsdWVzLmNvbnN0cnVjdG9yKSxhLnB1c2goYykpfXIudHJhY2tzPWE7bGV0IG89MS8wO2ZvcihsZXQgbD0wO2w8ci50cmFja3MubGVuZ3RoOysrbClvPnIudHJhY2tzW2xdLnRpbWVzWzBdJiYobz1yLnRyYWNrc1tsXS50aW1lc1swXSk7Zm9yKGxldCBsPTA7bDxyLnRyYWNrcy5sZW5ndGg7KytsKXIudHJhY2tzW2xdLnNoaWZ0KC0xKm8pO3JldHVybiByLnJlc2V0RHVyYXRpb24oKSxyfSxtYWtlQ2xpcEFkZGl0aXZlOmZ1bmN0aW9uKHMsZT0wLHQ9cyxuPTMwKXtuPD0wJiYobj0zMCk7Y29uc3QgaT10LnRyYWNrcy5sZW5ndGgscj1lL247Zm9yKGxldCBhPTA7YTxpOysrYSl7Y29uc3Qgbz10LnRyYWNrc1thXSxsPW8uVmFsdWVUeXBlTmFtZTtpZihsPT09ImJvb2wifHxsPT09InN0cmluZyIpY29udGludWU7Y29uc3QgYz1zLnRyYWNrcy5maW5kKGZ1bmN0aW9uKG0pe3JldHVybiBtLm5hbWU9PT1vLm5hbWUmJm0uVmFsdWVUeXBlTmFtZT09PWx9KTtpZihjPT09dm9pZCAwKWNvbnRpbnVlO2xldCBoPTA7Y29uc3QgdT1vLmdldFZhbHVlU2l6ZSgpO28uY3JlYXRlSW50ZXJwb2xhbnQuaXNJbnRlcnBvbGFudEZhY3RvcnlNZXRob2RHTFRGQ3ViaWNTcGxpbmUmJihoPXUvMyk7bGV0IGQ9MDtjb25zdCBmPWMuZ2V0VmFsdWVTaXplKCk7Yy5jcmVhdGVJbnRlcnBvbGFudC5pc0ludGVycG9sYW50RmFjdG9yeU1ldGhvZEdMVEZDdWJpY1NwbGluZSYmKGQ9Zi8zKTtjb25zdCBnPW8udGltZXMubGVuZ3RoLTE7bGV0IF87aWYocjw9by50aW1lc1swXSl7Y29uc3QgbT1oLHA9dS1oO189QW5pbWF0aW9uVXRpbHMuYXJyYXlTbGljZShvLnZhbHVlcyxtLHApfWVsc2UgaWYocj49by50aW1lc1tnXSl7Y29uc3QgbT1nKnUraCxwPW0rdS1oO189QW5pbWF0aW9uVXRpbHMuYXJyYXlTbGljZShvLnZhbHVlcyxtLHApfWVsc2V7Y29uc3QgbT1vLmNyZWF0ZUludGVycG9sYW50KCkscD1oLFQ9dS1oO20uZXZhbHVhdGUociksXz1BbmltYXRpb25VdGlscy5hcnJheVNsaWNlKG0ucmVzdWx0QnVmZmVyLHAsVCl9bD09PSJxdWF0ZXJuaW9uIiYmbmV3IFF1YXRlcm5pb24oKS5mcm9tQXJyYXkoXykubm9ybWFsaXplKCkuY29uanVnYXRlKCkudG9BcnJheShfKTtjb25zdCB5PWMudGltZXMubGVuZ3RoO2ZvcihsZXQgbT0wO208eTsrK20pe2NvbnN0IHA9bSpmK2Q7aWYobD09PSJxdWF0ZXJuaW9uIilRdWF0ZXJuaW9uLm11bHRpcGx5UXVhdGVybmlvbnNGbGF0KGMudmFsdWVzLHAsXywwLGMudmFsdWVzLHApO2Vsc2V7Y29uc3QgVD1mLWQqMjtmb3IobGV0IHc9MDt3PFQ7Kyt3KWMudmFsdWVzW3Ard10tPV9bd119fX1yZXR1cm4gcy5ibGVuZE1vZGU9MjUwMSxzfX07Y2xhc3MgSW50ZXJwb2xhbnR7Y29uc3RydWN0b3IoZSx0LG4saSl7dGhpcy5wYXJhbWV0ZXJQb3NpdGlvbnM9ZSx0aGlzLl9jYWNoZWRJbmRleD0wLHRoaXMucmVzdWx0QnVmZmVyPWkhPT12b2lkIDA/aTpuZXcgdC5jb25zdHJ1Y3RvcihuKSx0aGlzLnNhbXBsZVZhbHVlcz10LHRoaXMudmFsdWVTaXplPW4sdGhpcy5zZXR0aW5ncz1udWxsLHRoaXMuRGVmYXVsdFNldHRpbmdzXz17fX1ldmFsdWF0ZShlKXtjb25zdCB0PXRoaXMucGFyYW1ldGVyUG9zaXRpb25zO2xldCBuPXRoaXMuX2NhY2hlZEluZGV4LGk9dFtuXSxyPXRbbi0xXTtlOnt0OntsZXQgYTtuOntpOmlmKCEoZTxpKSl7Zm9yKGxldCBvPW4rMjs7KXtpZihpPT09dm9pZCAwKXtpZihlPHIpYnJlYWsgaTtyZXR1cm4gbj10Lmxlbmd0aCx0aGlzLl9jYWNoZWRJbmRleD1uLHRoaXMuYWZ0ZXJFbmRfKG4tMSxlLHIpfWlmKG49PT1vKWJyZWFrO2lmKHI9aSxpPXRbKytuXSxlPGkpYnJlYWsgdH1hPXQubGVuZ3RoO2JyZWFrIG59aWYoIShlPj1yKSl7Y29uc3Qgbz10WzFdO2U8byYmKG49MixyPW8pO2ZvcihsZXQgbD1uLTI7Oyl7aWYocj09PXZvaWQgMClyZXR1cm4gdGhpcy5fY2FjaGVkSW5kZXg9MCx0aGlzLmJlZm9yZVN0YXJ0XygwLGUsaSk7aWYobj09PWwpYnJlYWs7aWYoaT1yLHI9dFstLW4tMV0sZT49cilicmVhayB0fWE9bixuPTA7YnJlYWsgbn1icmVhayBlfWZvcig7bjxhOyl7Y29uc3Qgbz1uK2E+Pj4xO2U8dFtvXT9hPW86bj1vKzF9aWYoaT10W25dLHI9dFtuLTFdLHI9PT12b2lkIDApcmV0dXJuIHRoaXMuX2NhY2hlZEluZGV4PTAsdGhpcy5iZWZvcmVTdGFydF8oMCxlLGkpO2lmKGk9PT12b2lkIDApcmV0dXJuIG49dC5sZW5ndGgsdGhpcy5fY2FjaGVkSW5kZXg9bix0aGlzLmFmdGVyRW5kXyhuLTEscixlKX10aGlzLl9jYWNoZWRJbmRleD1uLHRoaXMuaW50ZXJ2YWxDaGFuZ2VkXyhuLHIsaSl9cmV0dXJuIHRoaXMuaW50ZXJwb2xhdGVfKG4scixlLGkpfWdldFNldHRpbmdzXygpe3JldHVybiB0aGlzLnNldHRpbmdzfHx0aGlzLkRlZmF1bHRTZXR0aW5nc199Y29weVNhbXBsZVZhbHVlXyhlKXtjb25zdCB0PXRoaXMucmVzdWx0QnVmZmVyLG49dGhpcy5zYW1wbGVWYWx1ZXMsaT10aGlzLnZhbHVlU2l6ZSxyPWUqaTtmb3IobGV0IGE9MDthIT09aTsrK2EpdFthXT1uW3IrYV07cmV0dXJuIHR9aW50ZXJwb2xhdGVfKCl7dGhyb3cgbmV3IEVycm9yKCJjYWxsIHRvIGFic3RyYWN0IG1ldGhvZCIpfWludGVydmFsQ2hhbmdlZF8oKXt9fUludGVycG9sYW50LnByb3RvdHlwZS5iZWZvcmVTdGFydF89SW50ZXJwb2xhbnQucHJvdG90eXBlLmNvcHlTYW1wbGVWYWx1ZV8sSW50ZXJwb2xhbnQucHJvdG90eXBlLmFmdGVyRW5kXz1JbnRlcnBvbGFudC5wcm90b3R5cGUuY29weVNhbXBsZVZhbHVlXztjbGFzcyBDdWJpY0ludGVycG9sYW50IGV4dGVuZHMgSW50ZXJwb2xhbnR7Y29uc3RydWN0b3IoZSx0LG4saSl7c3VwZXIoZSx0LG4saSk7dGhpcy5fd2VpZ2h0UHJldj0tMCx0aGlzLl9vZmZzZXRQcmV2PS0wLHRoaXMuX3dlaWdodE5leHQ9LTAsdGhpcy5fb2Zmc2V0TmV4dD0tMCx0aGlzLkRlZmF1bHRTZXR0aW5nc189e2VuZGluZ1N0YXJ0OjI0MDAsZW5kaW5nRW5kOjI0MDB9fWludGVydmFsQ2hhbmdlZF8oZSx0LG4pe2NvbnN0IGk9dGhpcy5wYXJhbWV0ZXJQb3NpdGlvbnM7bGV0IHI9ZS0yLGE9ZSsxLG89aVtyXSxsPWlbYV07aWYobz09PXZvaWQgMClzd2l0Y2godGhpcy5nZXRTZXR0aW5nc18oKS5lbmRpbmdTdGFydCl7Y2FzZSAyNDAxOnI9ZSxvPTIqdC1uO2JyZWFrO2Nhc2UgMjQwMjpyPWkubGVuZ3RoLTIsbz10K2lbcl0taVtyKzFdO2JyZWFrO2RlZmF1bHQ6cj1lLG89bn1pZihsPT09dm9pZCAwKXN3aXRjaCh0aGlzLmdldFNldHRpbmdzXygpLmVuZGluZ0VuZCl7Y2FzZSAyNDAxOmE9ZSxsPTIqbi10O2JyZWFrO2Nhc2UgMjQwMjphPTEsbD1uK2lbMV0taVswXTticmVhaztkZWZhdWx0OmE9ZS0xLGw9dH1jb25zdCBjPShuLXQpKi41LGg9dGhpcy52YWx1ZVNpemU7dGhpcy5fd2VpZ2h0UHJldj1jLyh0LW8pLHRoaXMuX3dlaWdodE5leHQ9Yy8obC1uKSx0aGlzLl9vZmZzZXRQcmV2PXIqaCx0aGlzLl9vZmZzZXROZXh0PWEqaH1pbnRlcnBvbGF0ZV8oZSx0LG4saSl7Y29uc3Qgcj10aGlzLnJlc3VsdEJ1ZmZlcixhPXRoaXMuc2FtcGxlVmFsdWVzLG89dGhpcy52YWx1ZVNpemUsbD1lKm8sYz1sLW8saD10aGlzLl9vZmZzZXRQcmV2LHU9dGhpcy5fb2Zmc2V0TmV4dCxkPXRoaXMuX3dlaWdodFByZXYsZj10aGlzLl93ZWlnaHROZXh0LGc9KG4tdCkvKGktdCksXz1nKmcseT1fKmcsbT0tZCp5KzIqZCpfLWQqZyxwPSgxK2QpKnkrKC0xLjUtMipkKSpfKygtLjUrZCkqZysxLFQ9KC0xLWYpKnkrKDEuNStmKSpfKy41Kmcsdz1mKnktZipfO2ZvcihsZXQgUz0wO1MhPT1vOysrUylyW1NdPW0qYVtoK1NdK3AqYVtjK1NdK1QqYVtsK1NdK3cqYVt1K1NdO3JldHVybiByfX1jbGFzcyBMaW5lYXJJbnRlcnBvbGFudCBleHRlbmRzIEludGVycG9sYW50e2NvbnN0cnVjdG9yKGUsdCxuLGkpe3N1cGVyKGUsdCxuLGkpfWludGVycG9sYXRlXyhlLHQsbixpKXtjb25zdCByPXRoaXMucmVzdWx0QnVmZmVyLGE9dGhpcy5zYW1wbGVWYWx1ZXMsbz10aGlzLnZhbHVlU2l6ZSxsPWUqbyxjPWwtbyxoPShuLXQpLyhpLXQpLHU9MS1oO2ZvcihsZXQgZD0wO2QhPT1vOysrZClyW2RdPWFbYytkXSp1K2FbbCtkXSpoO3JldHVybiByfX1jbGFzcyBEaXNjcmV0ZUludGVycG9sYW50IGV4dGVuZHMgSW50ZXJwb2xhbnR7Y29uc3RydWN0b3IoZSx0LG4saSl7c3VwZXIoZSx0LG4saSl9aW50ZXJwb2xhdGVfKGUpe3JldHVybiB0aGlzLmNvcHlTYW1wbGVWYWx1ZV8oZS0xKX19Y2xhc3MgS2V5ZnJhbWVUcmFja3tjb25zdHJ1Y3RvcihlLHQsbixpKXtpZihlPT09dm9pZCAwKXRocm93IG5ldyBFcnJvcigiVEhSRUUuS2V5ZnJhbWVUcmFjazogdHJhY2sgbmFtZSBpcyB1bmRlZmluZWQiKTtpZih0PT09dm9pZCAwfHx0Lmxlbmd0aD09PTApdGhyb3cgbmV3IEVycm9yKCJUSFJFRS5LZXlmcmFtZVRyYWNrOiBubyBrZXlmcmFtZXMgaW4gdHJhY2sgbmFtZWQgIitlKTt0aGlzLm5hbWU9ZSx0aGlzLnRpbWVzPUFuaW1hdGlvblV0aWxzLmNvbnZlcnRBcnJheSh0LHRoaXMuVGltZUJ1ZmZlclR5cGUpLHRoaXMudmFsdWVzPUFuaW1hdGlvblV0aWxzLmNvbnZlcnRBcnJheShuLHRoaXMuVmFsdWVCdWZmZXJUeXBlKSx0aGlzLnNldEludGVycG9sYXRpb24oaXx8dGhpcy5EZWZhdWx0SW50ZXJwb2xhdGlvbil9c3RhdGljIHRvSlNPTihlKXtjb25zdCB0PWUuY29uc3RydWN0b3I7bGV0IG47aWYodC50b0pTT04hPT10aGlzLnRvSlNPTiluPXQudG9KU09OKGUpO2Vsc2V7bj17bmFtZTplLm5hbWUsdGltZXM6QW5pbWF0aW9uVXRpbHMuY29udmVydEFycmF5KGUudGltZXMsQXJyYXkpLHZhbHVlczpBbmltYXRpb25VdGlscy5jb252ZXJ0QXJyYXkoZS52YWx1ZXMsQXJyYXkpfTtjb25zdCBpPWUuZ2V0SW50ZXJwb2xhdGlvbigpO2khPT1lLkRlZmF1bHRJbnRlcnBvbGF0aW9uJiYobi5pbnRlcnBvbGF0aW9uPWkpfXJldHVybiBuLnR5cGU9ZS5WYWx1ZVR5cGVOYW1lLG59SW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kRGlzY3JldGUoZSl7cmV0dXJuIG5ldyBEaXNjcmV0ZUludGVycG9sYW50KHRoaXMudGltZXMsdGhpcy52YWx1ZXMsdGhpcy5nZXRWYWx1ZVNpemUoKSxlKX1JbnRlcnBvbGFudEZhY3RvcnlNZXRob2RMaW5lYXIoZSl7cmV0dXJuIG5ldyBMaW5lYXJJbnRlcnBvbGFudCh0aGlzLnRpbWVzLHRoaXMudmFsdWVzLHRoaXMuZ2V0VmFsdWVTaXplKCksZSl9SW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kU21vb3RoKGUpe3JldHVybiBuZXcgQ3ViaWNJbnRlcnBvbGFudCh0aGlzLnRpbWVzLHRoaXMudmFsdWVzLHRoaXMuZ2V0VmFsdWVTaXplKCksZSl9c2V0SW50ZXJwb2xhdGlvbihlKXtsZXQgdDtzd2l0Y2goZSl7Y2FzZSAyMzAwOnQ9dGhpcy5JbnRlcnBvbGFudEZhY3RvcnlNZXRob2REaXNjcmV0ZTticmVhaztjYXNlIDIzMDE6dD10aGlzLkludGVycG9sYW50RmFjdG9yeU1ldGhvZExpbmVhcjticmVhaztjYXNlIDIzMDI6dD10aGlzLkludGVycG9sYW50RmFjdG9yeU1ldGhvZFNtb290aDticmVha31pZih0PT09dm9pZCAwKXtjb25zdCBuPSJ1bnN1cHBvcnRlZCBpbnRlcnBvbGF0aW9uIGZvciAiK3RoaXMuVmFsdWVUeXBlTmFtZSsiIGtleWZyYW1lIHRyYWNrIG5hbWVkICIrdGhpcy5uYW1lO2lmKHRoaXMuY3JlYXRlSW50ZXJwb2xhbnQ9PT12b2lkIDApaWYoZSE9PXRoaXMuRGVmYXVsdEludGVycG9sYXRpb24pdGhpcy5zZXRJbnRlcnBvbGF0aW9uKHRoaXMuRGVmYXVsdEludGVycG9sYXRpb24pO2Vsc2UgdGhyb3cgbmV3IEVycm9yKG4pO3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLktleWZyYW1lVHJhY2s6IixuKSx0aGlzfXJldHVybiB0aGlzLmNyZWF0ZUludGVycG9sYW50PXQsdGhpc31nZXRJbnRlcnBvbGF0aW9uKCl7c3dpdGNoKHRoaXMuY3JlYXRlSW50ZXJwb2xhbnQpe2Nhc2UgdGhpcy5JbnRlcnBvbGFudEZhY3RvcnlNZXRob2REaXNjcmV0ZTpyZXR1cm4gMjMwMDtjYXNlIHRoaXMuSW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kTGluZWFyOnJldHVybiAyMzAxO2Nhc2UgdGhpcy5JbnRlcnBvbGFudEZhY3RvcnlNZXRob2RTbW9vdGg6cmV0dXJuIDIzMDJ9fWdldFZhbHVlU2l6ZSgpe3JldHVybiB0aGlzLnZhbHVlcy5sZW5ndGgvdGhpcy50aW1lcy5sZW5ndGh9c2hpZnQoZSl7aWYoZSE9PTApe2NvbnN0IHQ9dGhpcy50aW1lcztmb3IobGV0IG49MCxpPXQubGVuZ3RoO24hPT1pOysrbil0W25dKz1lfXJldHVybiB0aGlzfXNjYWxlKGUpe2lmKGUhPT0xKXtjb25zdCB0PXRoaXMudGltZXM7Zm9yKGxldCBuPTAsaT10Lmxlbmd0aDtuIT09aTsrK24pdFtuXSo9ZX1yZXR1cm4gdGhpc310cmltKGUsdCl7Y29uc3Qgbj10aGlzLnRpbWVzLGk9bi5sZW5ndGg7bGV0IHI9MCxhPWktMTtmb3IoO3IhPT1pJiZuW3JdPGU7KSsrcjtmb3IoO2EhPT0tMSYmblthXT50OyktLWE7aWYoKythLHIhPT0wfHxhIT09aSl7cj49YSYmKGE9TWF0aC5tYXgoYSwxKSxyPWEtMSk7Y29uc3Qgbz10aGlzLmdldFZhbHVlU2l6ZSgpO3RoaXMudGltZXM9QW5pbWF0aW9uVXRpbHMuYXJyYXlTbGljZShuLHIsYSksdGhpcy52YWx1ZXM9QW5pbWF0aW9uVXRpbHMuYXJyYXlTbGljZSh0aGlzLnZhbHVlcyxyKm8sYSpvKX1yZXR1cm4gdGhpc312YWxpZGF0ZSgpe2xldCBlPSEwO2NvbnN0IHQ9dGhpcy5nZXRWYWx1ZVNpemUoKTt0LU1hdGguZmxvb3IodCkhPT0wJiYoY29uc29sZS5lcnJvcigiVEhSRUUuS2V5ZnJhbWVUcmFjazogSW52YWxpZCB2YWx1ZSBzaXplIGluIHRyYWNrLiIsdGhpcyksZT0hMSk7Y29uc3Qgbj10aGlzLnRpbWVzLGk9dGhpcy52YWx1ZXMscj1uLmxlbmd0aDtyPT09MCYmKGNvbnNvbGUuZXJyb3IoIlRIUkVFLktleWZyYW1lVHJhY2s6IFRyYWNrIGlzIGVtcHR5LiIsdGhpcyksZT0hMSk7bGV0IGE9bnVsbDtmb3IobGV0IG89MDtvIT09cjtvKyspe2NvbnN0IGw9bltvXTtpZih0eXBlb2YgbD09Im51bWJlciImJmlzTmFOKGwpKXtjb25zb2xlLmVycm9yKCJUSFJFRS5LZXlmcmFtZVRyYWNrOiBUaW1lIGlzIG5vdCBhIHZhbGlkIG51bWJlci4iLHRoaXMsbyxsKSxlPSExO2JyZWFrfWlmKGEhPT1udWxsJiZhPmwpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLktleWZyYW1lVHJhY2s6IE91dCBvZiBvcmRlciBrZXlzLiIsdGhpcyxvLGwsYSksZT0hMTticmVha31hPWx9aWYoaSE9PXZvaWQgMCYmQW5pbWF0aW9uVXRpbHMuaXNUeXBlZEFycmF5KGkpKWZvcihsZXQgbz0wLGw9aS5sZW5ndGg7byE9PWw7KytvKXtjb25zdCBjPWlbb107aWYoaXNOYU4oYykpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLktleWZyYW1lVHJhY2s6IFZhbHVlIGlzIG5vdCBhIHZhbGlkIG51bWJlci4iLHRoaXMsbyxjKSxlPSExO2JyZWFrfX1yZXR1cm4gZX1vcHRpbWl6ZSgpe2NvbnN0IGU9QW5pbWF0aW9uVXRpbHMuYXJyYXlTbGljZSh0aGlzLnRpbWVzKSx0PUFuaW1hdGlvblV0aWxzLmFycmF5U2xpY2UodGhpcy52YWx1ZXMpLG49dGhpcy5nZXRWYWx1ZVNpemUoKSxpPXRoaXMuZ2V0SW50ZXJwb2xhdGlvbigpPT09MjMwMixyPWUubGVuZ3RoLTE7bGV0IGE9MTtmb3IobGV0IG89MTtvPHI7KytvKXtsZXQgbD0hMTtjb25zdCBjPWVbb10saD1lW28rMV07aWYoYyE9PWgmJihvIT09MXx8YyE9PWVbMF0pKWlmKGkpbD0hMDtlbHNle2NvbnN0IHU9bypuLGQ9dS1uLGY9dStuO2ZvcihsZXQgZz0wO2chPT1uOysrZyl7Y29uc3QgXz10W3UrZ107aWYoXyE9PXRbZCtnXXx8XyE9PXRbZitnXSl7bD0hMDticmVha319fWlmKGwpe2lmKG8hPT1hKXtlW2FdPWVbb107Y29uc3QgdT1vKm4sZD1hKm47Zm9yKGxldCBmPTA7ZiE9PW47KytmKXRbZCtmXT10W3UrZl19KythfX1pZihyPjApe2VbYV09ZVtyXTtmb3IobGV0IG89cipuLGw9YSpuLGM9MDtjIT09bjsrK2MpdFtsK2NdPXRbbytjXTsrK2F9cmV0dXJuIGEhPT1lLmxlbmd0aD8odGhpcy50aW1lcz1BbmltYXRpb25VdGlscy5hcnJheVNsaWNlKGUsMCxhKSx0aGlzLnZhbHVlcz1BbmltYXRpb25VdGlscy5hcnJheVNsaWNlKHQsMCxhKm4pKToodGhpcy50aW1lcz1lLHRoaXMudmFsdWVzPXQpLHRoaXN9Y2xvbmUoKXtjb25zdCBlPUFuaW1hdGlvblV0aWxzLmFycmF5U2xpY2UodGhpcy50aW1lcywwKSx0PUFuaW1hdGlvblV0aWxzLmFycmF5U2xpY2UodGhpcy52YWx1ZXMsMCksbj10aGlzLmNvbnN0cnVjdG9yLGk9bmV3IG4odGhpcy5uYW1lLGUsdCk7cmV0dXJuIGkuY3JlYXRlSW50ZXJwb2xhbnQ9dGhpcy5jcmVhdGVJbnRlcnBvbGFudCxpfX1LZXlmcmFtZVRyYWNrLnByb3RvdHlwZS5UaW1lQnVmZmVyVHlwZT1GbG9hdDMyQXJyYXksS2V5ZnJhbWVUcmFjay5wcm90b3R5cGUuVmFsdWVCdWZmZXJUeXBlPUZsb2F0MzJBcnJheSxLZXlmcmFtZVRyYWNrLnByb3RvdHlwZS5EZWZhdWx0SW50ZXJwb2xhdGlvbj0yMzAxO2NsYXNzIEJvb2xlYW5LZXlmcmFtZVRyYWNrIGV4dGVuZHMgS2V5ZnJhbWVUcmFja3t9Qm9vbGVhbktleWZyYW1lVHJhY2sucHJvdG90eXBlLlZhbHVlVHlwZU5hbWU9ImJvb2wiLEJvb2xlYW5LZXlmcmFtZVRyYWNrLnByb3RvdHlwZS5WYWx1ZUJ1ZmZlclR5cGU9QXJyYXksQm9vbGVhbktleWZyYW1lVHJhY2sucHJvdG90eXBlLkRlZmF1bHRJbnRlcnBvbGF0aW9uPTIzMDAsQm9vbGVhbktleWZyYW1lVHJhY2sucHJvdG90eXBlLkludGVycG9sYW50RmFjdG9yeU1ldGhvZExpbmVhcj12b2lkIDAsQm9vbGVhbktleWZyYW1lVHJhY2sucHJvdG90eXBlLkludGVycG9sYW50RmFjdG9yeU1ldGhvZFNtb290aD12b2lkIDA7Y2xhc3MgQ29sb3JLZXlmcmFtZVRyYWNrIGV4dGVuZHMgS2V5ZnJhbWVUcmFja3t9Q29sb3JLZXlmcmFtZVRyYWNrLnByb3RvdHlwZS5WYWx1ZVR5cGVOYW1lPSJjb2xvciI7Y2xhc3MgTnVtYmVyS2V5ZnJhbWVUcmFjayBleHRlbmRzIEtleWZyYW1lVHJhY2t7fU51bWJlcktleWZyYW1lVHJhY2sucHJvdG90eXBlLlZhbHVlVHlwZU5hbWU9Im51bWJlciI7Y2xhc3MgUXVhdGVybmlvbkxpbmVhckludGVycG9sYW50IGV4dGVuZHMgSW50ZXJwb2xhbnR7Y29uc3RydWN0b3IoZSx0LG4saSl7c3VwZXIoZSx0LG4saSl9aW50ZXJwb2xhdGVfKGUsdCxuLGkpe2NvbnN0IHI9dGhpcy5yZXN1bHRCdWZmZXIsYT10aGlzLnNhbXBsZVZhbHVlcyxvPXRoaXMudmFsdWVTaXplLGw9KG4tdCkvKGktdCk7bGV0IGM9ZSpvO2ZvcihsZXQgaD1jK287YyE9PWg7Yys9NClRdWF0ZXJuaW9uLnNsZXJwRmxhdChyLDAsYSxjLW8sYSxjLGwpO3JldHVybiByfX1jbGFzcyBRdWF0ZXJuaW9uS2V5ZnJhbWVUcmFjayBleHRlbmRzIEtleWZyYW1lVHJhY2t7SW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kTGluZWFyKGUpe3JldHVybiBuZXcgUXVhdGVybmlvbkxpbmVhckludGVycG9sYW50KHRoaXMudGltZXMsdGhpcy52YWx1ZXMsdGhpcy5nZXRWYWx1ZVNpemUoKSxlKX19UXVhdGVybmlvbktleWZyYW1lVHJhY2sucHJvdG90eXBlLlZhbHVlVHlwZU5hbWU9InF1YXRlcm5pb24iLFF1YXRlcm5pb25LZXlmcmFtZVRyYWNrLnByb3RvdHlwZS5EZWZhdWx0SW50ZXJwb2xhdGlvbj0yMzAxLFF1YXRlcm5pb25LZXlmcmFtZVRyYWNrLnByb3RvdHlwZS5JbnRlcnBvbGFudEZhY3RvcnlNZXRob2RTbW9vdGg9dm9pZCAwO2NsYXNzIFN0cmluZ0tleWZyYW1lVHJhY2sgZXh0ZW5kcyBLZXlmcmFtZVRyYWNre31TdHJpbmdLZXlmcmFtZVRyYWNrLnByb3RvdHlwZS5WYWx1ZVR5cGVOYW1lPSJzdHJpbmciLFN0cmluZ0tleWZyYW1lVHJhY2sucHJvdG90eXBlLlZhbHVlQnVmZmVyVHlwZT1BcnJheSxTdHJpbmdLZXlmcmFtZVRyYWNrLnByb3RvdHlwZS5EZWZhdWx0SW50ZXJwb2xhdGlvbj0yMzAwLFN0cmluZ0tleWZyYW1lVHJhY2sucHJvdG90eXBlLkludGVycG9sYW50RmFjdG9yeU1ldGhvZExpbmVhcj12b2lkIDAsU3RyaW5nS2V5ZnJhbWVUcmFjay5wcm90b3R5cGUuSW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kU21vb3RoPXZvaWQgMDtjbGFzcyBWZWN0b3JLZXlmcmFtZVRyYWNrIGV4dGVuZHMgS2V5ZnJhbWVUcmFja3t9VmVjdG9yS2V5ZnJhbWVUcmFjay5wcm90b3R5cGUuVmFsdWVUeXBlTmFtZT0idmVjdG9yIjtjbGFzcyBBbmltYXRpb25DbGlwe2NvbnN0cnVjdG9yKGUsdD0tMSxuLGk9MjUwMCl7dGhpcy5uYW1lPWUsdGhpcy50cmFja3M9bix0aGlzLmR1cmF0aW9uPXQsdGhpcy5ibGVuZE1vZGU9aSx0aGlzLnV1aWQ9Z2VuZXJhdGVVVUlEKCksdGhpcy5kdXJhdGlvbjwwJiZ0aGlzLnJlc2V0RHVyYXRpb24oKX1zdGF0aWMgcGFyc2UoZSl7Y29uc3QgdD1bXSxuPWUudHJhY2tzLGk9MS8oZS5mcHN8fDEpO2ZvcihsZXQgYT0wLG89bi5sZW5ndGg7YSE9PW87KythKXQucHVzaChwYXJzZUtleWZyYW1lVHJhY2soblthXSkuc2NhbGUoaSkpO2NvbnN0IHI9bmV3IHRoaXMoZS5uYW1lLGUuZHVyYXRpb24sdCxlLmJsZW5kTW9kZSk7cmV0dXJuIHIudXVpZD1lLnV1aWQscn1zdGF0aWMgdG9KU09OKGUpe2NvbnN0IHQ9W10sbj1lLnRyYWNrcyxpPXtuYW1lOmUubmFtZSxkdXJhdGlvbjplLmR1cmF0aW9uLHRyYWNrczp0LHV1aWQ6ZS51dWlkLGJsZW5kTW9kZTplLmJsZW5kTW9kZX07Zm9yKGxldCByPTAsYT1uLmxlbmd0aDtyIT09YTsrK3IpdC5wdXNoKEtleWZyYW1lVHJhY2sudG9KU09OKG5bcl0pKTtyZXR1cm4gaX1zdGF0aWMgQ3JlYXRlRnJvbU1vcnBoVGFyZ2V0U2VxdWVuY2UoZSx0LG4saSl7Y29uc3Qgcj10Lmxlbmd0aCxhPVtdO2ZvcihsZXQgbz0wO288cjtvKyspe2xldCBsPVtdLGM9W107bC5wdXNoKChvK3ItMSklcixvLChvKzEpJXIpLGMucHVzaCgwLDEsMCk7Y29uc3QgaD1BbmltYXRpb25VdGlscy5nZXRLZXlmcmFtZU9yZGVyKGwpO2w9QW5pbWF0aW9uVXRpbHMuc29ydGVkQXJyYXkobCwxLGgpLGM9QW5pbWF0aW9uVXRpbHMuc29ydGVkQXJyYXkoYywxLGgpLCFpJiZsWzBdPT09MCYmKGwucHVzaChyKSxjLnB1c2goY1swXSkpLGEucHVzaChuZXcgTnVtYmVyS2V5ZnJhbWVUcmFjaygiLm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1siK3Rbb10ubmFtZSsiXSIsbCxjKS5zY2FsZSgxL24pKX1yZXR1cm4gbmV3IHRoaXMoZSwtMSxhKX1zdGF0aWMgZmluZEJ5TmFtZShlLHQpe2xldCBuPWU7aWYoIUFycmF5LmlzQXJyYXkoZSkpe2NvbnN0IGk9ZTtuPWkuZ2VvbWV0cnkmJmkuZ2VvbWV0cnkuYW5pbWF0aW9uc3x8aS5hbmltYXRpb25zfWZvcihsZXQgaT0wO2k8bi5sZW5ndGg7aSsrKWlmKG5baV0ubmFtZT09PXQpcmV0dXJuIG5baV07cmV0dXJuIG51bGx9c3RhdGljIENyZWF0ZUNsaXBzRnJvbU1vcnBoVGFyZ2V0U2VxdWVuY2VzKGUsdCxuKXtjb25zdCBpPXt9LHI9L14oW1x3LV0qPykoW1xkXSspJC87Zm9yKGxldCBvPTAsbD1lLmxlbmd0aDtvPGw7bysrKXtjb25zdCBjPWVbb10saD1jLm5hbWUubWF0Y2gocik7aWYoaCYmaC5sZW5ndGg+MSl7Y29uc3QgdT1oWzFdO2xldCBkPWlbdV07ZHx8KGlbdV09ZD1bXSksZC5wdXNoKGMpfX1jb25zdCBhPVtdO2Zvcihjb25zdCBvIGluIGkpYS5wdXNoKHRoaXMuQ3JlYXRlRnJvbU1vcnBoVGFyZ2V0U2VxdWVuY2UobyxpW29dLHQsbikpO3JldHVybiBhfXN0YXRpYyBwYXJzZUFuaW1hdGlvbihlLHQpe2lmKCFlKXJldHVybiBjb25zb2xlLmVycm9yKCJUSFJFRS5BbmltYXRpb25DbGlwOiBObyBhbmltYXRpb24gaW4gSlNPTkxvYWRlciBkYXRhLiIpLG51bGw7Y29uc3Qgbj1mdW5jdGlvbih1LGQsZixnLF8pe2lmKGYubGVuZ3RoIT09MCl7Y29uc3QgeT1bXSxtPVtdO0FuaW1hdGlvblV0aWxzLmZsYXR0ZW5KU09OKGYseSxtLGcpLHkubGVuZ3RoIT09MCYmXy5wdXNoKG5ldyB1KGQseSxtKSl9fSxpPVtdLHI9ZS5uYW1lfHwiZGVmYXVsdCIsYT1lLmZwc3x8MzAsbz1lLmJsZW5kTW9kZTtsZXQgbD1lLmxlbmd0aHx8LTE7Y29uc3QgYz1lLmhpZXJhcmNoeXx8W107Zm9yKGxldCB1PTA7dTxjLmxlbmd0aDt1Kyspe2NvbnN0IGQ9Y1t1XS5rZXlzO2lmKCEoIWR8fGQubGVuZ3RoPT09MCkpaWYoZFswXS5tb3JwaFRhcmdldHMpe2NvbnN0IGY9e307bGV0IGc7Zm9yKGc9MDtnPGQubGVuZ3RoO2crKylpZihkW2ddLm1vcnBoVGFyZ2V0cylmb3IobGV0IF89MDtfPGRbZ10ubW9ycGhUYXJnZXRzLmxlbmd0aDtfKyspZltkW2ddLm1vcnBoVGFyZ2V0c1tfXV09LTE7Zm9yKGNvbnN0IF8gaW4gZil7Y29uc3QgeT1bXSxtPVtdO2ZvcihsZXQgcD0wO3AhPT1kW2ddLm1vcnBoVGFyZ2V0cy5sZW5ndGg7KytwKXtjb25zdCBUPWRbZ107eS5wdXNoKFQudGltZSksbS5wdXNoKFQubW9ycGhUYXJnZXQ9PT1fPzE6MCl9aS5wdXNoKG5ldyBOdW1iZXJLZXlmcmFtZVRyYWNrKCIubW9ycGhUYXJnZXRJbmZsdWVuY2VbIitfKyJdIix5LG0pKX1sPWYubGVuZ3RoKmF9ZWxzZXtjb25zdCBmPSIuYm9uZXNbIit0W3VdLm5hbWUrIl0iO24oVmVjdG9yS2V5ZnJhbWVUcmFjayxmKyIucG9zaXRpb24iLGQsInBvcyIsaSksbihRdWF0ZXJuaW9uS2V5ZnJhbWVUcmFjayxmKyIucXVhdGVybmlvbiIsZCwicm90IixpKSxuKFZlY3RvcktleWZyYW1lVHJhY2ssZisiLnNjYWxlIixkLCJzY2wiLGkpfX1yZXR1cm4gaS5sZW5ndGg9PT0wP251bGw6bmV3IHRoaXMocixsLGksbyl9cmVzZXREdXJhdGlvbigpe2NvbnN0IGU9dGhpcy50cmFja3M7bGV0IHQ9MDtmb3IobGV0IG49MCxpPWUubGVuZ3RoO24hPT1pOysrbil7Y29uc3Qgcj10aGlzLnRyYWNrc1tuXTt0PU1hdGgubWF4KHQsci50aW1lc1tyLnRpbWVzLmxlbmd0aC0xXSl9cmV0dXJuIHRoaXMuZHVyYXRpb249dCx0aGlzfXRyaW0oKXtmb3IobGV0IGU9MDtlPHRoaXMudHJhY2tzLmxlbmd0aDtlKyspdGhpcy50cmFja3NbZV0udHJpbSgwLHRoaXMuZHVyYXRpb24pO3JldHVybiB0aGlzfXZhbGlkYXRlKCl7bGV0IGU9ITA7Zm9yKGxldCB0PTA7dDx0aGlzLnRyYWNrcy5sZW5ndGg7dCsrKWU9ZSYmdGhpcy50cmFja3NbdF0udmFsaWRhdGUoKTtyZXR1cm4gZX1vcHRpbWl6ZSgpe2ZvcihsZXQgZT0wO2U8dGhpcy50cmFja3MubGVuZ3RoO2UrKyl0aGlzLnRyYWNrc1tlXS5vcHRpbWl6ZSgpO3JldHVybiB0aGlzfWNsb25lKCl7Y29uc3QgZT1bXTtmb3IobGV0IHQ9MDt0PHRoaXMudHJhY2tzLmxlbmd0aDt0KyspZS5wdXNoKHRoaXMudHJhY2tzW3RdLmNsb25lKCkpO3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLm5hbWUsdGhpcy5kdXJhdGlvbixlLHRoaXMuYmxlbmRNb2RlKX10b0pTT04oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b0pTT04odGhpcyl9fWZ1bmN0aW9uIGdldFRyYWNrVHlwZUZvclZhbHVlVHlwZU5hbWUocyl7c3dpdGNoKHMudG9Mb3dlckNhc2UoKSl7Y2FzZSJzY2FsYXIiOmNhc2UiZG91YmxlIjpjYXNlImZsb2F0IjpjYXNlIm51bWJlciI6Y2FzZSJpbnRlZ2VyIjpyZXR1cm4gTnVtYmVyS2V5ZnJhbWVUcmFjaztjYXNlInZlY3RvciI6Y2FzZSJ2ZWN0b3IyIjpjYXNlInZlY3RvcjMiOmNhc2UidmVjdG9yNCI6cmV0dXJuIFZlY3RvcktleWZyYW1lVHJhY2s7Y2FzZSJjb2xvciI6cmV0dXJuIENvbG9yS2V5ZnJhbWVUcmFjaztjYXNlInF1YXRlcm5pb24iOnJldHVybiBRdWF0ZXJuaW9uS2V5ZnJhbWVUcmFjaztjYXNlImJvb2wiOmNhc2UiYm9vbGVhbiI6cmV0dXJuIEJvb2xlYW5LZXlmcmFtZVRyYWNrO2Nhc2Uic3RyaW5nIjpyZXR1cm4gU3RyaW5nS2V5ZnJhbWVUcmFja310aHJvdyBuZXcgRXJyb3IoIlRIUkVFLktleWZyYW1lVHJhY2s6IFVuc3VwcG9ydGVkIHR5cGVOYW1lOiAiK3MpfWZ1bmN0aW9uIHBhcnNlS2V5ZnJhbWVUcmFjayhzKXtpZihzLnR5cGU9PT12b2lkIDApdGhyb3cgbmV3IEVycm9yKCJUSFJFRS5LZXlmcmFtZVRyYWNrOiB0cmFjayB0eXBlIHVuZGVmaW5lZCwgY2FuIG5vdCBwYXJzZSIpO2NvbnN0IGU9Z2V0VHJhY2tUeXBlRm9yVmFsdWVUeXBlTmFtZShzLnR5cGUpO2lmKHMudGltZXM9PT12b2lkIDApe2NvbnN0IHQ9W10sbj1bXTtBbmltYXRpb25VdGlscy5mbGF0dGVuSlNPTihzLmtleXMsdCxuLCJ2YWx1ZSIpLHMudGltZXM9dCxzLnZhbHVlcz1ufXJldHVybiBlLnBhcnNlIT09dm9pZCAwP2UucGFyc2Uocyk6bmV3IGUocy5uYW1lLHMudGltZXMscy52YWx1ZXMscy5pbnRlcnBvbGF0aW9uKX1jb25zdCBDYWNoZT17ZW5hYmxlZDohMSxmaWxlczp7fSxhZGQ6ZnVuY3Rpb24ocyxlKXt0aGlzLmVuYWJsZWQhPT0hMSYmKHRoaXMuZmlsZXNbc109ZSl9LGdldDpmdW5jdGlvbihzKXtpZih0aGlzLmVuYWJsZWQhPT0hMSlyZXR1cm4gdGhpcy5maWxlc1tzXX0scmVtb3ZlOmZ1bmN0aW9uKHMpe2RlbGV0ZSB0aGlzLmZpbGVzW3NdfSxjbGVhcjpmdW5jdGlvbigpe3RoaXMuZmlsZXM9e319fTtjbGFzcyBMb2FkaW5nTWFuYWdlcntjb25zdHJ1Y3RvcihlLHQsbil7Y29uc3QgaT10aGlzO2xldCByPSExLGE9MCxvPTAsbDtjb25zdCBjPVtdO3RoaXMub25TdGFydD12b2lkIDAsdGhpcy5vbkxvYWQ9ZSx0aGlzLm9uUHJvZ3Jlc3M9dCx0aGlzLm9uRXJyb3I9bix0aGlzLml0ZW1TdGFydD1mdW5jdGlvbihoKXtvKysscj09PSExJiZpLm9uU3RhcnQhPT12b2lkIDAmJmkub25TdGFydChoLGEsbykscj0hMH0sdGhpcy5pdGVtRW5kPWZ1bmN0aW9uKGgpe2ErKyxpLm9uUHJvZ3Jlc3MhPT12b2lkIDAmJmkub25Qcm9ncmVzcyhoLGEsbyksYT09PW8mJihyPSExLGkub25Mb2FkIT09dm9pZCAwJiZpLm9uTG9hZCgpKX0sdGhpcy5pdGVtRXJyb3I9ZnVuY3Rpb24oaCl7aS5vbkVycm9yIT09dm9pZCAwJiZpLm9uRXJyb3IoaCl9LHRoaXMucmVzb2x2ZVVSTD1mdW5jdGlvbihoKXtyZXR1cm4gbD9sKGgpOmh9LHRoaXMuc2V0VVJMTW9kaWZpZXI9ZnVuY3Rpb24oaCl7cmV0dXJuIGw9aCx0aGlzfSx0aGlzLmFkZEhhbmRsZXI9ZnVuY3Rpb24oaCx1KXtyZXR1cm4gYy5wdXNoKGgsdSksdGhpc30sdGhpcy5yZW1vdmVIYW5kbGVyPWZ1bmN0aW9uKGgpe2NvbnN0IHU9Yy5pbmRleE9mKGgpO3JldHVybiB1IT09LTEmJmMuc3BsaWNlKHUsMiksdGhpc30sdGhpcy5nZXRIYW5kbGVyPWZ1bmN0aW9uKGgpe2ZvcihsZXQgdT0wLGQ9Yy5sZW5ndGg7dTxkO3UrPTIpe2NvbnN0IGY9Y1t1XSxnPWNbdSsxXTtpZihmLmdsb2JhbCYmKGYubGFzdEluZGV4PTApLGYudGVzdChoKSlyZXR1cm4gZ31yZXR1cm4gbnVsbH19fWNvbnN0IERlZmF1bHRMb2FkaW5nTWFuYWdlcj1uZXcgTG9hZGluZ01hbmFnZXI7Y2xhc3MgTG9hZGVye2NvbnN0cnVjdG9yKGUpe3RoaXMubWFuYWdlcj1lIT09dm9pZCAwP2U6RGVmYXVsdExvYWRpbmdNYW5hZ2VyLHRoaXMuY3Jvc3NPcmlnaW49ImFub255bW91cyIsdGhpcy53aXRoQ3JlZGVudGlhbHM9ITEsdGhpcy5wYXRoPSIiLHRoaXMucmVzb3VyY2VQYXRoPSIiLHRoaXMucmVxdWVzdEhlYWRlcj17fX1sb2FkKCl7fWxvYWRBc3luYyhlLHQpe2NvbnN0IG49dGhpcztyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oaSxyKXtuLmxvYWQoZSxpLHQscil9KX1wYXJzZSgpe31zZXRDcm9zc09yaWdpbihlKXtyZXR1cm4gdGhpcy5jcm9zc09yaWdpbj1lLHRoaXN9c2V0V2l0aENyZWRlbnRpYWxzKGUpe3JldHVybiB0aGlzLndpdGhDcmVkZW50aWFscz1lLHRoaXN9c2V0UGF0aChlKXtyZXR1cm4gdGhpcy5wYXRoPWUsdGhpc31zZXRSZXNvdXJjZVBhdGgoZSl7cmV0dXJuIHRoaXMucmVzb3VyY2VQYXRoPWUsdGhpc31zZXRSZXF1ZXN0SGVhZGVyKGUpe3JldHVybiB0aGlzLnJlcXVlc3RIZWFkZXI9ZSx0aGlzfX1jb25zdCBsb2FkaW5nPXt9O2NsYXNzIEZpbGVMb2FkZXIgZXh0ZW5kcyBMb2FkZXJ7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSl9bG9hZChlLHQsbixpKXtlPT09dm9pZCAwJiYoZT0iIiksdGhpcy5wYXRoIT09dm9pZCAwJiYoZT10aGlzLnBhdGgrZSksZT10aGlzLm1hbmFnZXIucmVzb2x2ZVVSTChlKTtjb25zdCByPUNhY2hlLmdldChlKTtpZihyIT09dm9pZCAwKXJldHVybiB0aGlzLm1hbmFnZXIuaXRlbVN0YXJ0KGUpLHNldFRpbWVvdXQoKCk9Pnt0JiZ0KHIpLHRoaXMubWFuYWdlci5pdGVtRW5kKGUpfSwwKSxyO2lmKGxvYWRpbmdbZV0hPT12b2lkIDApe2xvYWRpbmdbZV0ucHVzaCh7b25Mb2FkOnQsb25Qcm9ncmVzczpuLG9uRXJyb3I6aX0pO3JldHVybn1sb2FkaW5nW2VdPVtdLGxvYWRpbmdbZV0ucHVzaCh7b25Mb2FkOnQsb25Qcm9ncmVzczpuLG9uRXJyb3I6aX0pO2NvbnN0IGE9bmV3IFJlcXVlc3QoZSx7aGVhZGVyczpuZXcgSGVhZGVycyh0aGlzLnJlcXVlc3RIZWFkZXIpLGNyZWRlbnRpYWxzOnRoaXMud2l0aENyZWRlbnRpYWxzPyJpbmNsdWRlIjoic2FtZS1vcmlnaW4ifSksbz10aGlzLm1pbWVUeXBlLGw9dGhpcy5yZXNwb25zZVR5cGU7ZmV0Y2goYSkudGhlbihjPT57aWYoYy5zdGF0dXM9PT0yMDB8fGMuc3RhdHVzPT09MCl7aWYoYy5zdGF0dXM9PT0wJiZjb25zb2xlLndhcm4oIlRIUkVFLkZpbGVMb2FkZXI6IEhUVFAgU3RhdHVzIDAgcmVjZWl2ZWQuIiksdHlwZW9mIFJlYWRhYmxlU3RyZWFtPiJ1Inx8Yy5ib2R5PT09dm9pZCAwfHxjLmJvZHkuZ2V0UmVhZGVyPT09dm9pZCAwKXJldHVybiBjO2NvbnN0IGg9bG9hZGluZ1tlXSx1PWMuYm9keS5nZXRSZWFkZXIoKSxkPWMuaGVhZGVycy5nZXQoIkNvbnRlbnQtTGVuZ3RoIiksZj1kP3BhcnNlSW50KGQpOjAsZz1mIT09MDtsZXQgXz0wO2NvbnN0IHk9bmV3IFJlYWRhYmxlU3RyZWFtKHtzdGFydChtKXtwKCk7ZnVuY3Rpb24gcCgpe3UucmVhZCgpLnRoZW4oKHtkb25lOlQsdmFsdWU6d30pPT57aWYoVCltLmNsb3NlKCk7ZWxzZXtfKz13LmJ5dGVMZW5ndGg7Y29uc3QgUz1uZXcgUHJvZ3Jlc3NFdmVudCgicHJvZ3Jlc3MiLHtsZW5ndGhDb21wdXRhYmxlOmcsbG9hZGVkOl8sdG90YWw6Zn0pO2ZvcihsZXQgUj0wLEQ9aC5sZW5ndGg7UjxEO1IrKyl7Y29uc3QgWD1oW1JdO1gub25Qcm9ncmVzcyYmWC5vblByb2dyZXNzKFMpfW0uZW5xdWV1ZSh3KSxwKCl9fSl9fX0pO3JldHVybiBuZXcgUmVzcG9uc2UoeSl9ZWxzZSB0aHJvdyBFcnJvcihgZmV0Y2ggZm9yICIke2MudXJsfSIgcmVzcG9uZGVkIHdpdGggJHtjLnN0YXR1c306ICR7Yy5zdGF0dXNUZXh0fWApfSkudGhlbihjPT57c3dpdGNoKGwpe2Nhc2UiYXJyYXlidWZmZXIiOnJldHVybiBjLmFycmF5QnVmZmVyKCk7Y2FzZSJibG9iIjpyZXR1cm4gYy5ibG9iKCk7Y2FzZSJkb2N1bWVudCI6cmV0dXJuIGMudGV4dCgpLnRoZW4oaD0+bmV3IERPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyhoLG8pKTtjYXNlImpzb24iOnJldHVybiBjLmpzb24oKTtkZWZhdWx0OmlmKG89PT12b2lkIDApcmV0dXJuIGMudGV4dCgpO3tjb25zdCB1PS9jaGFyc2V0PSI/KFteOyJcc10qKSI/L2kuZXhlYyhvKSxkPXUmJnVbMV0/dVsxXS50b0xvd2VyQ2FzZSgpOnZvaWQgMCxmPW5ldyBUZXh0RGVjb2RlcihkKTtyZXR1cm4gYy5hcnJheUJ1ZmZlcigpLnRoZW4oZz0+Zi5kZWNvZGUoZykpfX19KS50aGVuKGM9PntDYWNoZS5hZGQoZSxjKTtjb25zdCBoPWxvYWRpbmdbZV07ZGVsZXRlIGxvYWRpbmdbZV07Zm9yKGxldCB1PTAsZD1oLmxlbmd0aDt1PGQ7dSsrKXtjb25zdCBmPWhbdV07Zi5vbkxvYWQmJmYub25Mb2FkKGMpfX0pLmNhdGNoKGM9Pntjb25zdCBoPWxvYWRpbmdbZV07aWYoaD09PXZvaWQgMCl0aHJvdyB0aGlzLm1hbmFnZXIuaXRlbUVycm9yKGUpLGM7ZGVsZXRlIGxvYWRpbmdbZV07Zm9yKGxldCB1PTAsZD1oLmxlbmd0aDt1PGQ7dSsrKXtjb25zdCBmPWhbdV07Zi5vbkVycm9yJiZmLm9uRXJyb3IoYyl9dGhpcy5tYW5hZ2VyLml0ZW1FcnJvcihlKX0pLmZpbmFsbHkoKCk9Pnt0aGlzLm1hbmFnZXIuaXRlbUVuZChlKX0pLHRoaXMubWFuYWdlci5pdGVtU3RhcnQoZSl9c2V0UmVzcG9uc2VUeXBlKGUpe3JldHVybiB0aGlzLnJlc3BvbnNlVHlwZT1lLHRoaXN9c2V0TWltZVR5cGUoZSl7cmV0dXJuIHRoaXMubWltZVR5cGU9ZSx0aGlzfX1jbGFzcyBJbWFnZUxvYWRlciBleHRlbmRzIExvYWRlcntjb25zdHJ1Y3RvcihlKXtzdXBlcihlKX1sb2FkKGUsdCxuLGkpe3RoaXMucGF0aCE9PXZvaWQgMCYmKGU9dGhpcy5wYXRoK2UpLGU9dGhpcy5tYW5hZ2VyLnJlc29sdmVVUkwoZSk7Y29uc3Qgcj10aGlzLGE9Q2FjaGUuZ2V0KGUpO2lmKGEhPT12b2lkIDApcmV0dXJuIHIubWFuYWdlci5pdGVtU3RhcnQoZSksc2V0VGltZW91dChmdW5jdGlvbigpe3QmJnQoYSksci5tYW5hZ2VyLml0ZW1FbmQoZSl9LDApLGE7Y29uc3Qgbz1jcmVhdGVFbGVtZW50TlMoImltZyIpO2Z1bmN0aW9uIGwoKXtoKCksQ2FjaGUuYWRkKGUsdGhpcyksdCYmdCh0aGlzKSxyLm1hbmFnZXIuaXRlbUVuZChlKX1mdW5jdGlvbiBjKHUpe2goKSxpJiZpKHUpLHIubWFuYWdlci5pdGVtRXJyb3IoZSksci5tYW5hZ2VyLml0ZW1FbmQoZSl9ZnVuY3Rpb24gaCgpe28ucmVtb3ZlRXZlbnRMaXN0ZW5lcigibG9hZCIsbCwhMSksby5yZW1vdmVFdmVudExpc3RlbmVyKCJlcnJvciIsYywhMSl9cmV0dXJuIG8uYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsbCwhMSksby5hZGRFdmVudExpc3RlbmVyKCJlcnJvciIsYywhMSksZS5zbGljZSgwLDUpIT09ImRhdGE6IiYmdGhpcy5jcm9zc09yaWdpbiE9PXZvaWQgMCYmKG8uY3Jvc3NPcmlnaW49dGhpcy5jcm9zc09yaWdpbiksci5tYW5hZ2VyLml0ZW1TdGFydChlKSxvLnNyYz1lLG99fWNsYXNzIEN1YmVUZXh0dXJlTG9hZGVyIGV4dGVuZHMgTG9hZGVye2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpfWxvYWQoZSx0LG4saSl7Y29uc3Qgcj1uZXcgQ3ViZVRleHR1cmUsYT1uZXcgSW1hZ2VMb2FkZXIodGhpcy5tYW5hZ2VyKTthLnNldENyb3NzT3JpZ2luKHRoaXMuY3Jvc3NPcmlnaW4pLGEuc2V0UGF0aCh0aGlzLnBhdGgpO2xldCBvPTA7ZnVuY3Rpb24gbChjKXthLmxvYWQoZVtjXSxmdW5jdGlvbihoKXtyLmltYWdlc1tjXT1oLG8rKyxvPT09NiYmKHIubmVlZHNVcGRhdGU9ITAsdCYmdChyKSl9LHZvaWQgMCxpKX1mb3IobGV0IGM9MDtjPGUubGVuZ3RoOysrYylsKGMpO3JldHVybiByfX1jbGFzcyBUZXh0dXJlTG9hZGVyIGV4dGVuZHMgTG9hZGVye2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpfWxvYWQoZSx0LG4saSl7Y29uc3Qgcj1uZXcgVGV4dHVyZSxhPW5ldyBJbWFnZUxvYWRlcih0aGlzLm1hbmFnZXIpO3JldHVybiBhLnNldENyb3NzT3JpZ2luKHRoaXMuY3Jvc3NPcmlnaW4pLGEuc2V0UGF0aCh0aGlzLnBhdGgpLGEubG9hZChlLGZ1bmN0aW9uKG8pe3IuaW1hZ2U9byxyLm5lZWRzVXBkYXRlPSEwLHQhPT12b2lkIDAmJnQocil9LG4saSkscn19Y2xhc3MgTGlnaHQgZXh0ZW5kcyBPYmplY3QzRHtjb25zdHJ1Y3RvcihlLHQ9MSl7c3VwZXIoKTt0aGlzLnR5cGU9IkxpZ2h0Iix0aGlzLmNvbG9yPW5ldyBDb2xvcihlKSx0aGlzLmludGVuc2l0eT10fWRpc3Bvc2UoKXt9Y29weShlKXtyZXR1cm4gc3VwZXIuY29weShlKSx0aGlzLmNvbG9yLmNvcHkoZS5jb2xvciksdGhpcy5pbnRlbnNpdHk9ZS5pbnRlbnNpdHksdGhpc310b0pTT04oZSl7Y29uc3QgdD1zdXBlci50b0pTT04oZSk7cmV0dXJuIHQub2JqZWN0LmNvbG9yPXRoaXMuY29sb3IuZ2V0SGV4KCksdC5vYmplY3QuaW50ZW5zaXR5PXRoaXMuaW50ZW5zaXR5LHRoaXMuZ3JvdW5kQ29sb3IhPT12b2lkIDAmJih0Lm9iamVjdC5ncm91bmRDb2xvcj10aGlzLmdyb3VuZENvbG9yLmdldEhleCgpKSx0aGlzLmRpc3RhbmNlIT09dm9pZCAwJiYodC5vYmplY3QuZGlzdGFuY2U9dGhpcy5kaXN0YW5jZSksdGhpcy5hbmdsZSE9PXZvaWQgMCYmKHQub2JqZWN0LmFuZ2xlPXRoaXMuYW5nbGUpLHRoaXMuZGVjYXkhPT12b2lkIDAmJih0Lm9iamVjdC5kZWNheT10aGlzLmRlY2F5KSx0aGlzLnBlbnVtYnJhIT09dm9pZCAwJiYodC5vYmplY3QucGVudW1icmE9dGhpcy5wZW51bWJyYSksdGhpcy5zaGFkb3chPT12b2lkIDAmJih0Lm9iamVjdC5zaGFkb3c9dGhpcy5zaGFkb3cudG9KU09OKCkpLHR9fUxpZ2h0LnByb3RvdHlwZS5pc0xpZ2h0PSEwO2NsYXNzIEhlbWlzcGhlcmVMaWdodCBleHRlbmRzIExpZ2h0e2NvbnN0cnVjdG9yKGUsdCxuKXtzdXBlcihlLG4pO3RoaXMudHlwZT0iSGVtaXNwaGVyZUxpZ2h0Iix0aGlzLnBvc2l0aW9uLmNvcHkoT2JqZWN0M0QuRGVmYXVsdFVwKSx0aGlzLnVwZGF0ZU1hdHJpeCgpLHRoaXMuZ3JvdW5kQ29sb3I9bmV3IENvbG9yKHQpfWNvcHkoZSl7cmV0dXJuIExpZ2h0LnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyxlKSx0aGlzLmdyb3VuZENvbG9yLmNvcHkoZS5ncm91bmRDb2xvciksdGhpc319SGVtaXNwaGVyZUxpZ2h0LnByb3RvdHlwZS5pc0hlbWlzcGhlcmVMaWdodD0hMDtjb25zdCBfcHJvalNjcmVlbk1hdHJpeCQxPW5ldyBNYXRyaXg0LF9saWdodFBvc2l0aW9uV29ybGQkMT1uZXcgVmVjdG9yMyxfbG9va1RhcmdldCQxPW5ldyBWZWN0b3IzO2NsYXNzIExpZ2h0U2hhZG93e2NvbnN0cnVjdG9yKGUpe3RoaXMuY2FtZXJhPWUsdGhpcy5iaWFzPTAsdGhpcy5ub3JtYWxCaWFzPTAsdGhpcy5yYWRpdXM9MSx0aGlzLmJsdXJTYW1wbGVzPTgsdGhpcy5tYXBTaXplPW5ldyBWZWN0b3IyKDUxMiw1MTIpLHRoaXMubWFwPW51bGwsdGhpcy5tYXBQYXNzPW51bGwsdGhpcy5tYXRyaXg9bmV3IE1hdHJpeDQsdGhpcy5hdXRvVXBkYXRlPSEwLHRoaXMubmVlZHNVcGRhdGU9ITEsdGhpcy5fZnJ1c3R1bT1uZXcgRnJ1c3R1bSx0aGlzLl9mcmFtZUV4dGVudHM9bmV3IFZlY3RvcjIoMSwxKSx0aGlzLl92aWV3cG9ydENvdW50PTEsdGhpcy5fdmlld3BvcnRzPVtuZXcgVmVjdG9yNCgwLDAsMSwxKV19Z2V0Vmlld3BvcnRDb3VudCgpe3JldHVybiB0aGlzLl92aWV3cG9ydENvdW50fWdldEZydXN0dW0oKXtyZXR1cm4gdGhpcy5fZnJ1c3R1bX11cGRhdGVNYXRyaWNlcyhlKXtjb25zdCB0PXRoaXMuY2FtZXJhLG49dGhpcy5tYXRyaXg7X2xpZ2h0UG9zaXRpb25Xb3JsZCQxLnNldEZyb21NYXRyaXhQb3NpdGlvbihlLm1hdHJpeFdvcmxkKSx0LnBvc2l0aW9uLmNvcHkoX2xpZ2h0UG9zaXRpb25Xb3JsZCQxKSxfbG9va1RhcmdldCQxLnNldEZyb21NYXRyaXhQb3NpdGlvbihlLnRhcmdldC5tYXRyaXhXb3JsZCksdC5sb29rQXQoX2xvb2tUYXJnZXQkMSksdC51cGRhdGVNYXRyaXhXb3JsZCgpLF9wcm9qU2NyZWVuTWF0cml4JDEubXVsdGlwbHlNYXRyaWNlcyh0LnByb2plY3Rpb25NYXRyaXgsdC5tYXRyaXhXb3JsZEludmVyc2UpLHRoaXMuX2ZydXN0dW0uc2V0RnJvbVByb2plY3Rpb25NYXRyaXgoX3Byb2pTY3JlZW5NYXRyaXgkMSksbi5zZXQoLjUsMCwwLC41LDAsLjUsMCwuNSwwLDAsLjUsLjUsMCwwLDAsMSksbi5tdWx0aXBseSh0LnByb2plY3Rpb25NYXRyaXgpLG4ubXVsdGlwbHkodC5tYXRyaXhXb3JsZEludmVyc2UpfWdldFZpZXdwb3J0KGUpe3JldHVybiB0aGlzLl92aWV3cG9ydHNbZV19Z2V0RnJhbWVFeHRlbnRzKCl7cmV0dXJuIHRoaXMuX2ZyYW1lRXh0ZW50c31kaXNwb3NlKCl7dGhpcy5tYXAmJnRoaXMubWFwLmRpc3Bvc2UoKSx0aGlzLm1hcFBhc3MmJnRoaXMubWFwUGFzcy5kaXNwb3NlKCl9Y29weShlKXtyZXR1cm4gdGhpcy5jYW1lcmE9ZS5jYW1lcmEuY2xvbmUoKSx0aGlzLmJpYXM9ZS5iaWFzLHRoaXMucmFkaXVzPWUucmFkaXVzLHRoaXMubWFwU2l6ZS5jb3B5KGUubWFwU2l6ZSksdGhpc31jbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLmNvcHkodGhpcyl9dG9KU09OKCl7Y29uc3QgZT17fTtyZXR1cm4gdGhpcy5iaWFzIT09MCYmKGUuYmlhcz10aGlzLmJpYXMpLHRoaXMubm9ybWFsQmlhcyE9PTAmJihlLm5vcm1hbEJpYXM9dGhpcy5ub3JtYWxCaWFzKSx0aGlzLnJhZGl1cyE9PTEmJihlLnJhZGl1cz10aGlzLnJhZGl1cyksKHRoaXMubWFwU2l6ZS54IT09NTEyfHx0aGlzLm1hcFNpemUueSE9PTUxMikmJihlLm1hcFNpemU9dGhpcy5tYXBTaXplLnRvQXJyYXkoKSksZS5jYW1lcmE9dGhpcy5jYW1lcmEudG9KU09OKCExKS5vYmplY3QsZGVsZXRlIGUuY2FtZXJhLm1hdHJpeCxlfX1jbGFzcyBTcG90TGlnaHRTaGFkb3cgZXh0ZW5kcyBMaWdodFNoYWRvd3tjb25zdHJ1Y3Rvcigpe3N1cGVyKG5ldyBQZXJzcGVjdGl2ZUNhbWVyYSg1MCwxLC41LDUwMCkpO3RoaXMuZm9jdXM9MX11cGRhdGVNYXRyaWNlcyhlKXtjb25zdCB0PXRoaXMuY2FtZXJhLG49UkFEMkRFRyoyKmUuYW5nbGUqdGhpcy5mb2N1cyxpPXRoaXMubWFwU2l6ZS53aWR0aC90aGlzLm1hcFNpemUuaGVpZ2h0LHI9ZS5kaXN0YW5jZXx8dC5mYXI7KG4hPT10LmZvdnx8aSE9PXQuYXNwZWN0fHxyIT09dC5mYXIpJiYodC5mb3Y9bix0LmFzcGVjdD1pLHQuZmFyPXIsdC51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCkpLHN1cGVyLnVwZGF0ZU1hdHJpY2VzKGUpfWNvcHkoZSl7cmV0dXJuIHN1cGVyLmNvcHkoZSksdGhpcy5mb2N1cz1lLmZvY3VzLHRoaXN9fVNwb3RMaWdodFNoYWRvdy5wcm90b3R5cGUuaXNTcG90TGlnaHRTaGFkb3c9ITA7Y2xhc3MgU3BvdExpZ2h0IGV4dGVuZHMgTGlnaHR7Y29uc3RydWN0b3IoZSx0LG49MCxpPU1hdGguUEkvMyxyPTAsYT0xKXtzdXBlcihlLHQpO3RoaXMudHlwZT0iU3BvdExpZ2h0Iix0aGlzLnBvc2l0aW9uLmNvcHkoT2JqZWN0M0QuRGVmYXVsdFVwKSx0aGlzLnVwZGF0ZU1hdHJpeCgpLHRoaXMudGFyZ2V0PW5ldyBPYmplY3QzRCx0aGlzLmRpc3RhbmNlPW4sdGhpcy5hbmdsZT1pLHRoaXMucGVudW1icmE9cix0aGlzLmRlY2F5PWEsdGhpcy5zaGFkb3c9bmV3IFNwb3RMaWdodFNoYWRvd31nZXQgcG93ZXIoKXtyZXR1cm4gdGhpcy5pbnRlbnNpdHkqTWF0aC5QSX1zZXQgcG93ZXIoZSl7dGhpcy5pbnRlbnNpdHk9ZS9NYXRoLlBJfWRpc3Bvc2UoKXt0aGlzLnNoYWRvdy5kaXNwb3NlKCl9Y29weShlKXtyZXR1cm4gc3VwZXIuY29weShlKSx0aGlzLmRpc3RhbmNlPWUuZGlzdGFuY2UsdGhpcy5hbmdsZT1lLmFuZ2xlLHRoaXMucGVudW1icmE9ZS5wZW51bWJyYSx0aGlzLmRlY2F5PWUuZGVjYXksdGhpcy50YXJnZXQ9ZS50YXJnZXQuY2xvbmUoKSx0aGlzLnNoYWRvdz1lLnNoYWRvdy5jbG9uZSgpLHRoaXN9fVNwb3RMaWdodC5wcm90b3R5cGUuaXNTcG90TGlnaHQ9ITA7Y29uc3QgX3Byb2pTY3JlZW5NYXRyaXg9bmV3IE1hdHJpeDQsX2xpZ2h0UG9zaXRpb25Xb3JsZD1uZXcgVmVjdG9yMyxfbG9va1RhcmdldD1uZXcgVmVjdG9yMztjbGFzcyBQb2ludExpZ2h0U2hhZG93IGV4dGVuZHMgTGlnaHRTaGFkb3d7Y29uc3RydWN0b3IoKXtzdXBlcihuZXcgUGVyc3BlY3RpdmVDYW1lcmEoOTAsMSwuNSw1MDApKTt0aGlzLl9mcmFtZUV4dGVudHM9bmV3IFZlY3RvcjIoNCwyKSx0aGlzLl92aWV3cG9ydENvdW50PTYsdGhpcy5fdmlld3BvcnRzPVtuZXcgVmVjdG9yNCgyLDEsMSwxKSxuZXcgVmVjdG9yNCgwLDEsMSwxKSxuZXcgVmVjdG9yNCgzLDEsMSwxKSxuZXcgVmVjdG9yNCgxLDEsMSwxKSxuZXcgVmVjdG9yNCgzLDAsMSwxKSxuZXcgVmVjdG9yNCgxLDAsMSwxKV0sdGhpcy5fY3ViZURpcmVjdGlvbnM9W25ldyBWZWN0b3IzKDEsMCwwKSxuZXcgVmVjdG9yMygtMSwwLDApLG5ldyBWZWN0b3IzKDAsMCwxKSxuZXcgVmVjdG9yMygwLDAsLTEpLG5ldyBWZWN0b3IzKDAsMSwwKSxuZXcgVmVjdG9yMygwLC0xLDApXSx0aGlzLl9jdWJlVXBzPVtuZXcgVmVjdG9yMygwLDEsMCksbmV3IFZlY3RvcjMoMCwxLDApLG5ldyBWZWN0b3IzKDAsMSwwKSxuZXcgVmVjdG9yMygwLDEsMCksbmV3IFZlY3RvcjMoMCwwLDEpLG5ldyBWZWN0b3IzKDAsMCwtMSldfXVwZGF0ZU1hdHJpY2VzKGUsdD0wKXtjb25zdCBuPXRoaXMuY2FtZXJhLGk9dGhpcy5tYXRyaXgscj1lLmRpc3RhbmNlfHxuLmZhcjtyIT09bi5mYXImJihuLmZhcj1yLG4udXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpKSxfbGlnaHRQb3NpdGlvbldvcmxkLnNldEZyb21NYXRyaXhQb3NpdGlvbihlLm1hdHJpeFdvcmxkKSxuLnBvc2l0aW9uLmNvcHkoX2xpZ2h0UG9zaXRpb25Xb3JsZCksX2xvb2tUYXJnZXQuY29weShuLnBvc2l0aW9uKSxfbG9va1RhcmdldC5hZGQodGhpcy5fY3ViZURpcmVjdGlvbnNbdF0pLG4udXAuY29weSh0aGlzLl9jdWJlVXBzW3RdKSxuLmxvb2tBdChfbG9va1RhcmdldCksbi51cGRhdGVNYXRyaXhXb3JsZCgpLGkubWFrZVRyYW5zbGF0aW9uKC1fbGlnaHRQb3NpdGlvbldvcmxkLngsLV9saWdodFBvc2l0aW9uV29ybGQueSwtX2xpZ2h0UG9zaXRpb25Xb3JsZC56KSxfcHJvalNjcmVlbk1hdHJpeC5tdWx0aXBseU1hdHJpY2VzKG4ucHJvamVjdGlvbk1hdHJpeCxuLm1hdHJpeFdvcmxkSW52ZXJzZSksdGhpcy5fZnJ1c3R1bS5zZXRGcm9tUHJvamVjdGlvbk1hdHJpeChfcHJvalNjcmVlbk1hdHJpeCl9fVBvaW50TGlnaHRTaGFkb3cucHJvdG90eXBlLmlzUG9pbnRMaWdodFNoYWRvdz0hMDtjbGFzcyBQb2ludExpZ2h0IGV4dGVuZHMgTGlnaHR7Y29uc3RydWN0b3IoZSx0LG49MCxpPTEpe3N1cGVyKGUsdCk7dGhpcy50eXBlPSJQb2ludExpZ2h0Iix0aGlzLmRpc3RhbmNlPW4sdGhpcy5kZWNheT1pLHRoaXMuc2hhZG93PW5ldyBQb2ludExpZ2h0U2hhZG93fWdldCBwb3dlcigpe3JldHVybiB0aGlzLmludGVuc2l0eSo0Kk1hdGguUEl9c2V0IHBvd2VyKGUpe3RoaXMuaW50ZW5zaXR5PWUvKDQqTWF0aC5QSSl9ZGlzcG9zZSgpe3RoaXMuc2hhZG93LmRpc3Bvc2UoKX1jb3B5KGUpe3JldHVybiBzdXBlci5jb3B5KGUpLHRoaXMuZGlzdGFuY2U9ZS5kaXN0YW5jZSx0aGlzLmRlY2F5PWUuZGVjYXksdGhpcy5zaGFkb3c9ZS5zaGFkb3cuY2xvbmUoKSx0aGlzfX1Qb2ludExpZ2h0LnByb3RvdHlwZS5pc1BvaW50TGlnaHQ9ITA7Y2xhc3MgRGlyZWN0aW9uYWxMaWdodFNoYWRvdyBleHRlbmRzIExpZ2h0U2hhZG93e2NvbnN0cnVjdG9yKCl7c3VwZXIobmV3IE9ydGhvZ3JhcGhpY0NhbWVyYSgtNSw1LDUsLTUsLjUsNTAwKSl9fURpcmVjdGlvbmFsTGlnaHRTaGFkb3cucHJvdG90eXBlLmlzRGlyZWN0aW9uYWxMaWdodFNoYWRvdz0hMDtjbGFzcyBEaXJlY3Rpb25hbExpZ2h0IGV4dGVuZHMgTGlnaHR7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQpO3RoaXMudHlwZT0iRGlyZWN0aW9uYWxMaWdodCIsdGhpcy5wb3NpdGlvbi5jb3B5KE9iamVjdDNELkRlZmF1bHRVcCksdGhpcy51cGRhdGVNYXRyaXgoKSx0aGlzLnRhcmdldD1uZXcgT2JqZWN0M0QsdGhpcy5zaGFkb3c9bmV3IERpcmVjdGlvbmFsTGlnaHRTaGFkb3d9ZGlzcG9zZSgpe3RoaXMuc2hhZG93LmRpc3Bvc2UoKX1jb3B5KGUpe3JldHVybiBzdXBlci5jb3B5KGUpLHRoaXMudGFyZ2V0PWUudGFyZ2V0LmNsb25lKCksdGhpcy5zaGFkb3c9ZS5zaGFkb3cuY2xvbmUoKSx0aGlzfX1EaXJlY3Rpb25hbExpZ2h0LnByb3RvdHlwZS5pc0RpcmVjdGlvbmFsTGlnaHQ9ITA7Y2xhc3MgQW1iaWVudExpZ2h0IGV4dGVuZHMgTGlnaHR7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQpO3RoaXMudHlwZT0iQW1iaWVudExpZ2h0In19QW1iaWVudExpZ2h0LnByb3RvdHlwZS5pc0FtYmllbnRMaWdodD0hMDtjbGFzcyBSZWN0QXJlYUxpZ2h0IGV4dGVuZHMgTGlnaHR7Y29uc3RydWN0b3IoZSx0LG49MTAsaT0xMCl7c3VwZXIoZSx0KTt0aGlzLnR5cGU9IlJlY3RBcmVhTGlnaHQiLHRoaXMud2lkdGg9bix0aGlzLmhlaWdodD1pfWdldCBwb3dlcigpe3JldHVybiB0aGlzLmludGVuc2l0eSp0aGlzLndpZHRoKnRoaXMuaGVpZ2h0Kk1hdGguUEl9c2V0IHBvd2VyKGUpe3RoaXMuaW50ZW5zaXR5PWUvKHRoaXMud2lkdGgqdGhpcy5oZWlnaHQqTWF0aC5QSSl9Y29weShlKXtyZXR1cm4gc3VwZXIuY29weShlKSx0aGlzLndpZHRoPWUud2lkdGgsdGhpcy5oZWlnaHQ9ZS5oZWlnaHQsdGhpc310b0pTT04oZSl7Y29uc3QgdD1zdXBlci50b0pTT04oZSk7cmV0dXJuIHQub2JqZWN0LndpZHRoPXRoaXMud2lkdGgsdC5vYmplY3QuaGVpZ2h0PXRoaXMuaGVpZ2h0LHR9fVJlY3RBcmVhTGlnaHQucHJvdG90eXBlLmlzUmVjdEFyZWFMaWdodD0hMDtjbGFzcyBTcGhlcmljYWxIYXJtb25pY3Mze2NvbnN0cnVjdG9yKCl7dGhpcy5jb2VmZmljaWVudHM9W107Zm9yKGxldCBlPTA7ZTw5O2UrKyl0aGlzLmNvZWZmaWNpZW50cy5wdXNoKG5ldyBWZWN0b3IzKX1zZXQoZSl7Zm9yKGxldCB0PTA7dDw5O3QrKyl0aGlzLmNvZWZmaWNpZW50c1t0XS5jb3B5KGVbdF0pO3JldHVybiB0aGlzfXplcm8oKXtmb3IobGV0IGU9MDtlPDk7ZSsrKXRoaXMuY29lZmZpY2llbnRzW2VdLnNldCgwLDAsMCk7cmV0dXJuIHRoaXN9Z2V0QXQoZSx0KXtjb25zdCBuPWUueCxpPWUueSxyPWUueixhPXRoaXMuY29lZmZpY2llbnRzO3JldHVybiB0LmNvcHkoYVswXSkubXVsdGlwbHlTY2FsYXIoLjI4MjA5NSksdC5hZGRTY2FsZWRWZWN0b3IoYVsxXSwuNDg4NjAzKmkpLHQuYWRkU2NhbGVkVmVjdG9yKGFbMl0sLjQ4ODYwMypyKSx0LmFkZFNjYWxlZFZlY3RvcihhWzNdLC40ODg2MDMqbiksdC5hZGRTY2FsZWRWZWN0b3IoYVs0XSwxLjA5MjU0OCoobippKSksdC5hZGRTY2FsZWRWZWN0b3IoYVs1XSwxLjA5MjU0OCooaSpyKSksdC5hZGRTY2FsZWRWZWN0b3IoYVs2XSwuMzE1MzkyKigzKnIqci0xKSksdC5hZGRTY2FsZWRWZWN0b3IoYVs3XSwxLjA5MjU0OCoobipyKSksdC5hZGRTY2FsZWRWZWN0b3IoYVs4XSwuNTQ2Mjc0KihuKm4taSppKSksdH1nZXRJcnJhZGlhbmNlQXQoZSx0KXtjb25zdCBuPWUueCxpPWUueSxyPWUueixhPXRoaXMuY29lZmZpY2llbnRzO3JldHVybiB0LmNvcHkoYVswXSkubXVsdGlwbHlTY2FsYXIoLjg4NjIyNyksdC5hZGRTY2FsZWRWZWN0b3IoYVsxXSwyKi41MTE2NjQqaSksdC5hZGRTY2FsZWRWZWN0b3IoYVsyXSwyKi41MTE2NjQqciksdC5hZGRTY2FsZWRWZWN0b3IoYVszXSwyKi41MTE2NjQqbiksdC5hZGRTY2FsZWRWZWN0b3IoYVs0XSwyKi40MjkwNDMqbippKSx0LmFkZFNjYWxlZFZlY3RvcihhWzVdLDIqLjQyOTA0MyppKnIpLHQuYWRkU2NhbGVkVmVjdG9yKGFbNl0sLjc0MzEyNSpyKnItLjI0NzcwOCksdC5hZGRTY2FsZWRWZWN0b3IoYVs3XSwyKi40MjkwNDMqbipyKSx0LmFkZFNjYWxlZFZlY3RvcihhWzhdLC40MjkwNDMqKG4qbi1pKmkpKSx0fWFkZChlKXtmb3IobGV0IHQ9MDt0PDk7dCsrKXRoaXMuY29lZmZpY2llbnRzW3RdLmFkZChlLmNvZWZmaWNpZW50c1t0XSk7cmV0dXJuIHRoaXN9YWRkU2NhbGVkU0goZSx0KXtmb3IobGV0IG49MDtuPDk7bisrKXRoaXMuY29lZmZpY2llbnRzW25dLmFkZFNjYWxlZFZlY3RvcihlLmNvZWZmaWNpZW50c1tuXSx0KTtyZXR1cm4gdGhpc31zY2FsZShlKXtmb3IobGV0IHQ9MDt0PDk7dCsrKXRoaXMuY29lZmZpY2llbnRzW3RdLm11bHRpcGx5U2NhbGFyKGUpO3JldHVybiB0aGlzfWxlcnAoZSx0KXtmb3IobGV0IG49MDtuPDk7bisrKXRoaXMuY29lZmZpY2llbnRzW25dLmxlcnAoZS5jb2VmZmljaWVudHNbbl0sdCk7cmV0dXJuIHRoaXN9ZXF1YWxzKGUpe2ZvcihsZXQgdD0wO3Q8OTt0KyspaWYoIXRoaXMuY29lZmZpY2llbnRzW3RdLmVxdWFscyhlLmNvZWZmaWNpZW50c1t0XSkpcmV0dXJuITE7cmV0dXJuITB9Y29weShlKXtyZXR1cm4gdGhpcy5zZXQoZS5jb2VmZmljaWVudHMpfWNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCkuY29weSh0aGlzKX1mcm9tQXJyYXkoZSx0PTApe2NvbnN0IG49dGhpcy5jb2VmZmljaWVudHM7Zm9yKGxldCBpPTA7aTw5O2krKyluW2ldLmZyb21BcnJheShlLHQraSozKTtyZXR1cm4gdGhpc310b0FycmF5KGU9W10sdD0wKXtjb25zdCBuPXRoaXMuY29lZmZpY2llbnRzO2ZvcihsZXQgaT0wO2k8OTtpKyspbltpXS50b0FycmF5KGUsdCtpKjMpO3JldHVybiBlfXN0YXRpYyBnZXRCYXNpc0F0KGUsdCl7Y29uc3Qgbj1lLngsaT1lLnkscj1lLno7dFswXT0uMjgyMDk1LHRbMV09LjQ4ODYwMyppLHRbMl09LjQ4ODYwMypyLHRbM109LjQ4ODYwMypuLHRbNF09MS4wOTI1NDgqbippLHRbNV09MS4wOTI1NDgqaSpyLHRbNl09LjMxNTM5MiooMypyKnItMSksdFs3XT0xLjA5MjU0OCpuKnIsdFs4XT0uNTQ2Mjc0KihuKm4taSppKX19U3BoZXJpY2FsSGFybW9uaWNzMy5wcm90b3R5cGUuaXNTcGhlcmljYWxIYXJtb25pY3MzPSEwO2NsYXNzIExpZ2h0UHJvYmUgZXh0ZW5kcyBMaWdodHtjb25zdHJ1Y3RvcihlPW5ldyBTcGhlcmljYWxIYXJtb25pY3MzLHQ9MSl7c3VwZXIodm9pZCAwLHQpO3RoaXMuc2g9ZX1jb3B5KGUpe3JldHVybiBzdXBlci5jb3B5KGUpLHRoaXMuc2guY29weShlLnNoKSx0aGlzfWZyb21KU09OKGUpe3JldHVybiB0aGlzLmludGVuc2l0eT1lLmludGVuc2l0eSx0aGlzLnNoLmZyb21BcnJheShlLnNoKSx0aGlzfXRvSlNPTihlKXtjb25zdCB0PXN1cGVyLnRvSlNPTihlKTtyZXR1cm4gdC5vYmplY3Quc2g9dGhpcy5zaC50b0FycmF5KCksdH19TGlnaHRQcm9iZS5wcm90b3R5cGUuaXNMaWdodFByb2JlPSEwO2NsYXNzIExvYWRlclV0aWxze3N0YXRpYyBkZWNvZGVUZXh0KGUpe2lmKHR5cGVvZiBUZXh0RGVjb2RlcjwidSIpcmV0dXJuIG5ldyBUZXh0RGVjb2RlcigpLmRlY29kZShlKTtsZXQgdD0iIjtmb3IobGV0IG49MCxpPWUubGVuZ3RoO248aTtuKyspdCs9U3RyaW5nLmZyb21DaGFyQ29kZShlW25dKTt0cnl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUodCkpfWNhdGNoe3JldHVybiB0fX1zdGF0aWMgZXh0cmFjdFVybEJhc2UoZSl7Y29uc3QgdD1lLmxhc3RJbmRleE9mKCIvIik7cmV0dXJuIHQ9PT0tMT8iLi8iOmUuc2xpY2UoMCx0KzEpfXN0YXRpYyByZXNvbHZlVVJMKGUsdCl7cmV0dXJuIHR5cGVvZiBlIT0ic3RyaW5nInx8ZT09PSIiPyIiOigvXmh0dHBzPzpcL1wvL2kudGVzdCh0KSYmL15cLy8udGVzdChlKSYmKHQ9dC5yZXBsYWNlKC8oXmh0dHBzPzpcL1wvW15cL10rKS4qL2ksIiQxIikpLC9eKGh0dHBzPzopP1wvXC8vaS50ZXN0KGUpfHwvXmRhdGE6LiosLiokL2kudGVzdChlKXx8L15ibG9iOi4qJC9pLnRlc3QoZSk/ZTp0K2UpfX1jbGFzcyBJbnN0YW5jZWRCdWZmZXJHZW9tZXRyeSBleHRlbmRzIEJ1ZmZlckdlb21ldHJ5e2NvbnN0cnVjdG9yKCl7c3VwZXIoKTt0aGlzLnR5cGU9Ikluc3RhbmNlZEJ1ZmZlckdlb21ldHJ5Iix0aGlzLmluc3RhbmNlQ291bnQ9MS8wfWNvcHkoZSl7cmV0dXJuIHN1cGVyLmNvcHkoZSksdGhpcy5pbnN0YW5jZUNvdW50PWUuaW5zdGFuY2VDb3VudCx0aGlzfWNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCkuY29weSh0aGlzKX10b0pTT04oKXtjb25zdCBlPXN1cGVyLnRvSlNPTih0aGlzKTtyZXR1cm4gZS5pbnN0YW5jZUNvdW50PXRoaXMuaW5zdGFuY2VDb3VudCxlLmlzSW5zdGFuY2VkQnVmZmVyR2VvbWV0cnk9ITAsZX19SW5zdGFuY2VkQnVmZmVyR2VvbWV0cnkucHJvdG90eXBlLmlzSW5zdGFuY2VkQnVmZmVyR2VvbWV0cnk9ITA7Y2xhc3MgSW1hZ2VCaXRtYXBMb2FkZXIgZXh0ZW5kcyBMb2FkZXJ7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSk7dHlwZW9mIGNyZWF0ZUltYWdlQml0bWFwPiJ1IiYmY29uc29sZS53YXJuKCJUSFJFRS5JbWFnZUJpdG1hcExvYWRlcjogY3JlYXRlSW1hZ2VCaXRtYXAoKSBub3Qgc3VwcG9ydGVkLiIpLHR5cGVvZiBmZXRjaD4idSImJmNvbnNvbGUud2FybigiVEhSRUUuSW1hZ2VCaXRtYXBMb2FkZXI6IGZldGNoKCkgbm90IHN1cHBvcnRlZC4iKSx0aGlzLm9wdGlvbnM9e3ByZW11bHRpcGx5QWxwaGE6Im5vbmUifX1zZXRPcHRpb25zKGUpe3JldHVybiB0aGlzLm9wdGlvbnM9ZSx0aGlzfWxvYWQoZSx0LG4saSl7ZT09PXZvaWQgMCYmKGU9IiIpLHRoaXMucGF0aCE9PXZvaWQgMCYmKGU9dGhpcy5wYXRoK2UpLGU9dGhpcy5tYW5hZ2VyLnJlc29sdmVVUkwoZSk7Y29uc3Qgcj10aGlzLGE9Q2FjaGUuZ2V0KGUpO2lmKGEhPT12b2lkIDApcmV0dXJuIHIubWFuYWdlci5pdGVtU3RhcnQoZSksc2V0VGltZW91dChmdW5jdGlvbigpe3QmJnQoYSksci5tYW5hZ2VyLml0ZW1FbmQoZSl9LDApLGE7Y29uc3Qgbz17fTtvLmNyZWRlbnRpYWxzPXRoaXMuY3Jvc3NPcmlnaW49PT0iYW5vbnltb3VzIj8ic2FtZS1vcmlnaW4iOiJpbmNsdWRlIixvLmhlYWRlcnM9dGhpcy5yZXF1ZXN0SGVhZGVyLGZldGNoKGUsbykudGhlbihmdW5jdGlvbihsKXtyZXR1cm4gbC5ibG9iKCl9KS50aGVuKGZ1bmN0aW9uKGwpe3JldHVybiBjcmVhdGVJbWFnZUJpdG1hcChsLE9iamVjdC5hc3NpZ24oci5vcHRpb25zLHtjb2xvclNwYWNlQ29udmVyc2lvbjoibm9uZSJ9KSl9KS50aGVuKGZ1bmN0aW9uKGwpe0NhY2hlLmFkZChlLGwpLHQmJnQobCksci5tYW5hZ2VyLml0ZW1FbmQoZSl9KS5jYXRjaChmdW5jdGlvbihsKXtpJiZpKGwpLHIubWFuYWdlci5pdGVtRXJyb3IoZSksci5tYW5hZ2VyLml0ZW1FbmQoZSl9KSxyLm1hbmFnZXIuaXRlbVN0YXJ0KGUpfX1JbWFnZUJpdG1hcExvYWRlci5wcm90b3R5cGUuaXNJbWFnZUJpdG1hcExvYWRlcj0hMDtsZXQgX2NvbnRleHQ7Y29uc3QgQXVkaW9Db250ZXh0PXtnZXRDb250ZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIF9jb250ZXh0PT09dm9pZCAwJiYoX2NvbnRleHQ9bmV3KHdpbmRvdy5BdWRpb0NvbnRleHR8fHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHQpKSxfY29udGV4dH0sc2V0Q29udGV4dDpmdW5jdGlvbihzKXtfY29udGV4dD1zfX07Y2xhc3MgQXVkaW9Mb2FkZXIgZXh0ZW5kcyBMb2FkZXJ7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSl9bG9hZChlLHQsbixpKXtjb25zdCByPXRoaXMsYT1uZXcgRmlsZUxvYWRlcih0aGlzLm1hbmFnZXIpO2Euc2V0UmVzcG9uc2VUeXBlKCJhcnJheWJ1ZmZlciIpLGEuc2V0UGF0aCh0aGlzLnBhdGgpLGEuc2V0UmVxdWVzdEhlYWRlcih0aGlzLnJlcXVlc3RIZWFkZXIpLGEuc2V0V2l0aENyZWRlbnRpYWxzKHRoaXMud2l0aENyZWRlbnRpYWxzKSxhLmxvYWQoZSxmdW5jdGlvbihvKXt0cnl7Y29uc3QgbD1vLnNsaWNlKDApO0F1ZGlvQ29udGV4dC5nZXRDb250ZXh0KCkuZGVjb2RlQXVkaW9EYXRhKGwsZnVuY3Rpb24oaCl7dChoKX0pfWNhdGNoKGwpe2k/aShsKTpjb25zb2xlLmVycm9yKGwpLHIubWFuYWdlci5pdGVtRXJyb3IoZSl9fSxuLGkpfX1jbGFzcyBIZW1pc3BoZXJlTGlnaHRQcm9iZSBleHRlbmRzIExpZ2h0UHJvYmV7Y29uc3RydWN0b3IoZSx0LG49MSl7c3VwZXIodm9pZCAwLG4pO2NvbnN0IGk9bmV3IENvbG9yKCkuc2V0KGUpLHI9bmV3IENvbG9yKCkuc2V0KHQpLGE9bmV3IFZlY3RvcjMoaS5yLGkuZyxpLmIpLG89bmV3IFZlY3RvcjMoci5yLHIuZyxyLmIpLGw9TWF0aC5zcXJ0KE1hdGguUEkpLGM9bCpNYXRoLnNxcnQoLjc1KTt0aGlzLnNoLmNvZWZmaWNpZW50c1swXS5jb3B5KGEpLmFkZChvKS5tdWx0aXBseVNjYWxhcihsKSx0aGlzLnNoLmNvZWZmaWNpZW50c1sxXS5jb3B5KGEpLnN1YihvKS5tdWx0aXBseVNjYWxhcihjKX19SGVtaXNwaGVyZUxpZ2h0UHJvYmUucHJvdG90eXBlLmlzSGVtaXNwaGVyZUxpZ2h0UHJvYmU9ITA7Y2xhc3MgQW1iaWVudExpZ2h0UHJvYmUgZXh0ZW5kcyBMaWdodFByb2Jle2NvbnN0cnVjdG9yKGUsdD0xKXtzdXBlcih2b2lkIDAsdCk7Y29uc3Qgbj1uZXcgQ29sb3IoKS5zZXQoZSk7dGhpcy5zaC5jb2VmZmljaWVudHNbMF0uc2V0KG4ucixuLmcsbi5iKS5tdWx0aXBseVNjYWxhcigyKk1hdGguc3FydChNYXRoLlBJKSl9fUFtYmllbnRMaWdodFByb2JlLnByb3RvdHlwZS5pc0FtYmllbnRMaWdodFByb2JlPSEwO2NsYXNzIENsb2Nre2NvbnN0cnVjdG9yKGU9ITApe3RoaXMuYXV0b1N0YXJ0PWUsdGhpcy5zdGFydFRpbWU9MCx0aGlzLm9sZFRpbWU9MCx0aGlzLmVsYXBzZWRUaW1lPTAsdGhpcy5ydW5uaW5nPSExfXN0YXJ0KCl7dGhpcy5zdGFydFRpbWU9bm93KCksdGhpcy5vbGRUaW1lPXRoaXMuc3RhcnRUaW1lLHRoaXMuZWxhcHNlZFRpbWU9MCx0aGlzLnJ1bm5pbmc9ITB9c3RvcCgpe3RoaXMuZ2V0RWxhcHNlZFRpbWUoKSx0aGlzLnJ1bm5pbmc9ITEsdGhpcy5hdXRvU3RhcnQ9ITF9Z2V0RWxhcHNlZFRpbWUoKXtyZXR1cm4gdGhpcy5nZXREZWx0YSgpLHRoaXMuZWxhcHNlZFRpbWV9Z2V0RGVsdGEoKXtsZXQgZT0wO2lmKHRoaXMuYXV0b1N0YXJ0JiYhdGhpcy5ydW5uaW5nKXJldHVybiB0aGlzLnN0YXJ0KCksMDtpZih0aGlzLnJ1bm5pbmcpe2NvbnN0IHQ9bm93KCk7ZT0odC10aGlzLm9sZFRpbWUpLzFlMyx0aGlzLm9sZFRpbWU9dCx0aGlzLmVsYXBzZWRUaW1lKz1lfXJldHVybiBlfX1mdW5jdGlvbiBub3coKXtyZXR1cm4odHlwZW9mIHBlcmZvcm1hbmNlPiJ1Ij9EYXRlOnBlcmZvcm1hbmNlKS5ub3coKX1jbGFzcyBBdWRpbyBleHRlbmRzIE9iamVjdDNEe2NvbnN0cnVjdG9yKGUpe3N1cGVyKCk7dGhpcy50eXBlPSJBdWRpbyIsdGhpcy5saXN0ZW5lcj1lLHRoaXMuY29udGV4dD1lLmNvbnRleHQsdGhpcy5nYWluPXRoaXMuY29udGV4dC5jcmVhdGVHYWluKCksdGhpcy5nYWluLmNvbm5lY3QoZS5nZXRJbnB1dCgpKSx0aGlzLmF1dG9wbGF5PSExLHRoaXMuYnVmZmVyPW51bGwsdGhpcy5kZXR1bmU9MCx0aGlzLmxvb3A9ITEsdGhpcy5sb29wU3RhcnQ9MCx0aGlzLmxvb3BFbmQ9MCx0aGlzLm9mZnNldD0wLHRoaXMuZHVyYXRpb249dm9pZCAwLHRoaXMucGxheWJhY2tSYXRlPTEsdGhpcy5pc1BsYXlpbmc9ITEsdGhpcy5oYXNQbGF5YmFja0NvbnRyb2w9ITAsdGhpcy5zb3VyY2U9bnVsbCx0aGlzLnNvdXJjZVR5cGU9ImVtcHR5Iix0aGlzLl9zdGFydGVkQXQ9MCx0aGlzLl9wcm9ncmVzcz0wLHRoaXMuX2Nvbm5lY3RlZD0hMSx0aGlzLmZpbHRlcnM9W119Z2V0T3V0cHV0KCl7cmV0dXJuIHRoaXMuZ2Fpbn1zZXROb2RlU291cmNlKGUpe3JldHVybiB0aGlzLmhhc1BsYXliYWNrQ29udHJvbD0hMSx0aGlzLnNvdXJjZVR5cGU9ImF1ZGlvTm9kZSIsdGhpcy5zb3VyY2U9ZSx0aGlzLmNvbm5lY3QoKSx0aGlzfXNldE1lZGlhRWxlbWVudFNvdXJjZShlKXtyZXR1cm4gdGhpcy5oYXNQbGF5YmFja0NvbnRyb2w9ITEsdGhpcy5zb3VyY2VUeXBlPSJtZWRpYU5vZGUiLHRoaXMuc291cmNlPXRoaXMuY29udGV4dC5jcmVhdGVNZWRpYUVsZW1lbnRTb3VyY2UoZSksdGhpcy5jb25uZWN0KCksdGhpc31zZXRNZWRpYVN0cmVhbVNvdXJjZShlKXtyZXR1cm4gdGhpcy5oYXNQbGF5YmFja0NvbnRyb2w9ITEsdGhpcy5zb3VyY2VUeXBlPSJtZWRpYVN0cmVhbU5vZGUiLHRoaXMuc291cmNlPXRoaXMuY29udGV4dC5jcmVhdGVNZWRpYVN0cmVhbVNvdXJjZShlKSx0aGlzLmNvbm5lY3QoKSx0aGlzfXNldEJ1ZmZlcihlKXtyZXR1cm4gdGhpcy5idWZmZXI9ZSx0aGlzLnNvdXJjZVR5cGU9ImJ1ZmZlciIsdGhpcy5hdXRvcGxheSYmdGhpcy5wbGF5KCksdGhpc31wbGF5KGU9MCl7aWYodGhpcy5pc1BsYXlpbmc9PT0hMCl7Y29uc29sZS53YXJuKCJUSFJFRS5BdWRpbzogQXVkaW8gaXMgYWxyZWFkeSBwbGF5aW5nLiIpO3JldHVybn1pZih0aGlzLmhhc1BsYXliYWNrQ29udHJvbD09PSExKXtjb25zb2xlLndhcm4oIlRIUkVFLkF1ZGlvOiB0aGlzIEF1ZGlvIGhhcyBubyBwbGF5YmFjayBjb250cm9sLiIpO3JldHVybn10aGlzLl9zdGFydGVkQXQ9dGhpcy5jb250ZXh0LmN1cnJlbnRUaW1lK2U7Y29uc3QgdD10aGlzLmNvbnRleHQuY3JlYXRlQnVmZmVyU291cmNlKCk7cmV0dXJuIHQuYnVmZmVyPXRoaXMuYnVmZmVyLHQubG9vcD10aGlzLmxvb3AsdC5sb29wU3RhcnQ9dGhpcy5sb29wU3RhcnQsdC5sb29wRW5kPXRoaXMubG9vcEVuZCx0Lm9uZW5kZWQ9dGhpcy5vbkVuZGVkLmJpbmQodGhpcyksdC5zdGFydCh0aGlzLl9zdGFydGVkQXQsdGhpcy5fcHJvZ3Jlc3MrdGhpcy5vZmZzZXQsdGhpcy5kdXJhdGlvbiksdGhpcy5pc1BsYXlpbmc9ITAsdGhpcy5zb3VyY2U9dCx0aGlzLnNldERldHVuZSh0aGlzLmRldHVuZSksdGhpcy5zZXRQbGF5YmFja1JhdGUodGhpcy5wbGF5YmFja1JhdGUpLHRoaXMuY29ubmVjdCgpfXBhdXNlKCl7aWYodGhpcy5oYXNQbGF5YmFja0NvbnRyb2w9PT0hMSl7Y29uc29sZS53YXJuKCJUSFJFRS5BdWRpbzogdGhpcyBBdWRpbyBoYXMgbm8gcGxheWJhY2sgY29udHJvbC4iKTtyZXR1cm59cmV0dXJuIHRoaXMuaXNQbGF5aW5nPT09ITAmJih0aGlzLl9wcm9ncmVzcys9TWF0aC5tYXgodGhpcy5jb250ZXh0LmN1cnJlbnRUaW1lLXRoaXMuX3N0YXJ0ZWRBdCwwKSp0aGlzLnBsYXliYWNrUmF0ZSx0aGlzLmxvb3A9PT0hMCYmKHRoaXMuX3Byb2dyZXNzPXRoaXMuX3Byb2dyZXNzJSh0aGlzLmR1cmF0aW9ufHx0aGlzLmJ1ZmZlci5kdXJhdGlvbikpLHRoaXMuc291cmNlLnN0b3AoKSx0aGlzLnNvdXJjZS5vbmVuZGVkPW51bGwsdGhpcy5pc1BsYXlpbmc9ITEpLHRoaXN9c3RvcCgpe2lmKHRoaXMuaGFzUGxheWJhY2tDb250cm9sPT09ITEpe2NvbnNvbGUud2FybigiVEhSRUUuQXVkaW86IHRoaXMgQXVkaW8gaGFzIG5vIHBsYXliYWNrIGNvbnRyb2wuIik7cmV0dXJufXJldHVybiB0aGlzLl9wcm9ncmVzcz0wLHRoaXMuc291cmNlLnN0b3AoKSx0aGlzLnNvdXJjZS5vbmVuZGVkPW51bGwsdGhpcy5pc1BsYXlpbmc9ITEsdGhpc31jb25uZWN0KCl7aWYodGhpcy5maWx0ZXJzLmxlbmd0aD4wKXt0aGlzLnNvdXJjZS5jb25uZWN0KHRoaXMuZmlsdGVyc1swXSk7Zm9yKGxldCBlPTEsdD10aGlzLmZpbHRlcnMubGVuZ3RoO2U8dDtlKyspdGhpcy5maWx0ZXJzW2UtMV0uY29ubmVjdCh0aGlzLmZpbHRlcnNbZV0pO3RoaXMuZmlsdGVyc1t0aGlzLmZpbHRlcnMubGVuZ3RoLTFdLmNvbm5lY3QodGhpcy5nZXRPdXRwdXQoKSl9ZWxzZSB0aGlzLnNvdXJjZS5jb25uZWN0KHRoaXMuZ2V0T3V0cHV0KCkpO3JldHVybiB0aGlzLl9jb25uZWN0ZWQ9ITAsdGhpc31kaXNjb25uZWN0KCl7aWYodGhpcy5maWx0ZXJzLmxlbmd0aD4wKXt0aGlzLnNvdXJjZS5kaXNjb25uZWN0KHRoaXMuZmlsdGVyc1swXSk7Zm9yKGxldCBlPTEsdD10aGlzLmZpbHRlcnMubGVuZ3RoO2U8dDtlKyspdGhpcy5maWx0ZXJzW2UtMV0uZGlzY29ubmVjdCh0aGlzLmZpbHRlcnNbZV0pO3RoaXMuZmlsdGVyc1t0aGlzLmZpbHRlcnMubGVuZ3RoLTFdLmRpc2Nvbm5lY3QodGhpcy5nZXRPdXRwdXQoKSl9ZWxzZSB0aGlzLnNvdXJjZS5kaXNjb25uZWN0KHRoaXMuZ2V0T3V0cHV0KCkpO3JldHVybiB0aGlzLl9jb25uZWN0ZWQ9ITEsdGhpc31nZXRGaWx0ZXJzKCl7cmV0dXJuIHRoaXMuZmlsdGVyc31zZXRGaWx0ZXJzKGUpe3JldHVybiBlfHwoZT1bXSksdGhpcy5fY29ubmVjdGVkPT09ITA/KHRoaXMuZGlzY29ubmVjdCgpLHRoaXMuZmlsdGVycz1lLnNsaWNlKCksdGhpcy5jb25uZWN0KCkpOnRoaXMuZmlsdGVycz1lLnNsaWNlKCksdGhpc31zZXREZXR1bmUoZSl7aWYodGhpcy5kZXR1bmU9ZSx0aGlzLnNvdXJjZS5kZXR1bmUhPT12b2lkIDApcmV0dXJuIHRoaXMuaXNQbGF5aW5nPT09ITAmJnRoaXMuc291cmNlLmRldHVuZS5zZXRUYXJnZXRBdFRpbWUodGhpcy5kZXR1bmUsdGhpcy5jb250ZXh0LmN1cnJlbnRUaW1lLC4wMSksdGhpc31nZXREZXR1bmUoKXtyZXR1cm4gdGhpcy5kZXR1bmV9Z2V0RmlsdGVyKCl7cmV0dXJuIHRoaXMuZ2V0RmlsdGVycygpWzBdfXNldEZpbHRlcihlKXtyZXR1cm4gdGhpcy5zZXRGaWx0ZXJzKGU/W2VdOltdKX1zZXRQbGF5YmFja1JhdGUoZSl7aWYodGhpcy5oYXNQbGF5YmFja0NvbnRyb2w9PT0hMSl7Y29uc29sZS53YXJuKCJUSFJFRS5BdWRpbzogdGhpcyBBdWRpbyBoYXMgbm8gcGxheWJhY2sgY29udHJvbC4iKTtyZXR1cm59cmV0dXJuIHRoaXMucGxheWJhY2tSYXRlPWUsdGhpcy5pc1BsYXlpbmc9PT0hMCYmdGhpcy5zb3VyY2UucGxheWJhY2tSYXRlLnNldFRhcmdldEF0VGltZSh0aGlzLnBsYXliYWNrUmF0ZSx0aGlzLmNvbnRleHQuY3VycmVudFRpbWUsLjAxKSx0aGlzfWdldFBsYXliYWNrUmF0ZSgpe3JldHVybiB0aGlzLnBsYXliYWNrUmF0ZX1vbkVuZGVkKCl7dGhpcy5pc1BsYXlpbmc9ITF9Z2V0TG9vcCgpe3JldHVybiB0aGlzLmhhc1BsYXliYWNrQ29udHJvbD09PSExPyhjb25zb2xlLndhcm4oIlRIUkVFLkF1ZGlvOiB0aGlzIEF1ZGlvIGhhcyBubyBwbGF5YmFjayBjb250cm9sLiIpLCExKTp0aGlzLmxvb3B9c2V0TG9vcChlKXtpZih0aGlzLmhhc1BsYXliYWNrQ29udHJvbD09PSExKXtjb25zb2xlLndhcm4oIlRIUkVFLkF1ZGlvOiB0aGlzIEF1ZGlvIGhhcyBubyBwbGF5YmFjayBjb250cm9sLiIpO3JldHVybn1yZXR1cm4gdGhpcy5sb29wPWUsdGhpcy5pc1BsYXlpbmc9PT0hMCYmKHRoaXMuc291cmNlLmxvb3A9dGhpcy5sb29wKSx0aGlzfXNldExvb3BTdGFydChlKXtyZXR1cm4gdGhpcy5sb29wU3RhcnQ9ZSx0aGlzfXNldExvb3BFbmQoZSl7cmV0dXJuIHRoaXMubG9vcEVuZD1lLHRoaXN9Z2V0Vm9sdW1lKCl7cmV0dXJuIHRoaXMuZ2Fpbi5nYWluLnZhbHVlfXNldFZvbHVtZShlKXtyZXR1cm4gdGhpcy5nYWluLmdhaW4uc2V0VGFyZ2V0QXRUaW1lKGUsdGhpcy5jb250ZXh0LmN1cnJlbnRUaW1lLC4wMSksdGhpc319Y2xhc3MgUHJvcGVydHlNaXhlcntjb25zdHJ1Y3RvcihlLHQsbil7dGhpcy5iaW5kaW5nPWUsdGhpcy52YWx1ZVNpemU9bjtsZXQgaSxyLGE7c3dpdGNoKHQpe2Nhc2UicXVhdGVybmlvbiI6aT10aGlzLl9zbGVycCxyPXRoaXMuX3NsZXJwQWRkaXRpdmUsYT10aGlzLl9zZXRBZGRpdGl2ZUlkZW50aXR5UXVhdGVybmlvbix0aGlzLmJ1ZmZlcj1uZXcgRmxvYXQ2NEFycmF5KG4qNiksdGhpcy5fd29ya0luZGV4PTU7YnJlYWs7Y2FzZSJzdHJpbmciOmNhc2UiYm9vbCI6aT10aGlzLl9zZWxlY3Qscj10aGlzLl9zZWxlY3QsYT10aGlzLl9zZXRBZGRpdGl2ZUlkZW50aXR5T3RoZXIsdGhpcy5idWZmZXI9bmV3IEFycmF5KG4qNSk7YnJlYWs7ZGVmYXVsdDppPXRoaXMuX2xlcnAscj10aGlzLl9sZXJwQWRkaXRpdmUsYT10aGlzLl9zZXRBZGRpdGl2ZUlkZW50aXR5TnVtZXJpYyx0aGlzLmJ1ZmZlcj1uZXcgRmxvYXQ2NEFycmF5KG4qNSl9dGhpcy5fbWl4QnVmZmVyUmVnaW9uPWksdGhpcy5fbWl4QnVmZmVyUmVnaW9uQWRkaXRpdmU9cix0aGlzLl9zZXRJZGVudGl0eT1hLHRoaXMuX29yaWdJbmRleD0zLHRoaXMuX2FkZEluZGV4PTQsdGhpcy5jdW11bGF0aXZlV2VpZ2h0PTAsdGhpcy5jdW11bGF0aXZlV2VpZ2h0QWRkaXRpdmU9MCx0aGlzLnVzZUNvdW50PTAsdGhpcy5yZWZlcmVuY2VDb3VudD0wfWFjY3VtdWxhdGUoZSx0KXtjb25zdCBuPXRoaXMuYnVmZmVyLGk9dGhpcy52YWx1ZVNpemUscj1lKmkraTtsZXQgYT10aGlzLmN1bXVsYXRpdmVXZWlnaHQ7aWYoYT09PTApe2ZvcihsZXQgbz0wO28hPT1pOysrbyluW3Irb109bltvXTthPXR9ZWxzZXthKz10O2NvbnN0IG89dC9hO3RoaXMuX21peEJ1ZmZlclJlZ2lvbihuLHIsMCxvLGkpfXRoaXMuY3VtdWxhdGl2ZVdlaWdodD1hfWFjY3VtdWxhdGVBZGRpdGl2ZShlKXtjb25zdCB0PXRoaXMuYnVmZmVyLG49dGhpcy52YWx1ZVNpemUsaT1uKnRoaXMuX2FkZEluZGV4O3RoaXMuY3VtdWxhdGl2ZVdlaWdodEFkZGl0aXZlPT09MCYmdGhpcy5fc2V0SWRlbnRpdHkoKSx0aGlzLl9taXhCdWZmZXJSZWdpb25BZGRpdGl2ZSh0LGksMCxlLG4pLHRoaXMuY3VtdWxhdGl2ZVdlaWdodEFkZGl0aXZlKz1lfWFwcGx5KGUpe2NvbnN0IHQ9dGhpcy52YWx1ZVNpemUsbj10aGlzLmJ1ZmZlcixpPWUqdCt0LHI9dGhpcy5jdW11bGF0aXZlV2VpZ2h0LGE9dGhpcy5jdW11bGF0aXZlV2VpZ2h0QWRkaXRpdmUsbz10aGlzLmJpbmRpbmc7aWYodGhpcy5jdW11bGF0aXZlV2VpZ2h0PTAsdGhpcy5jdW11bGF0aXZlV2VpZ2h0QWRkaXRpdmU9MCxyPDEpe2NvbnN0IGw9dCp0aGlzLl9vcmlnSW5kZXg7dGhpcy5fbWl4QnVmZmVyUmVnaW9uKG4saSxsLDEtcix0KX1hPjAmJnRoaXMuX21peEJ1ZmZlclJlZ2lvbkFkZGl0aXZlKG4saSx0aGlzLl9hZGRJbmRleCp0LDEsdCk7Zm9yKGxldCBsPXQsYz10K3Q7bCE9PWM7KytsKWlmKG5bbF0hPT1uW2wrdF0pe28uc2V0VmFsdWUobixpKTticmVha319c2F2ZU9yaWdpbmFsU3RhdGUoKXtjb25zdCBlPXRoaXMuYmluZGluZyx0PXRoaXMuYnVmZmVyLG49dGhpcy52YWx1ZVNpemUsaT1uKnRoaXMuX29yaWdJbmRleDtlLmdldFZhbHVlKHQsaSk7Zm9yKGxldCByPW4sYT1pO3IhPT1hOysrcil0W3JdPXRbaStyJW5dO3RoaXMuX3NldElkZW50aXR5KCksdGhpcy5jdW11bGF0aXZlV2VpZ2h0PTAsdGhpcy5jdW11bGF0aXZlV2VpZ2h0QWRkaXRpdmU9MH1yZXN0b3JlT3JpZ2luYWxTdGF0ZSgpe2NvbnN0IGU9dGhpcy52YWx1ZVNpemUqMzt0aGlzLmJpbmRpbmcuc2V0VmFsdWUodGhpcy5idWZmZXIsZSl9X3NldEFkZGl0aXZlSWRlbnRpdHlOdW1lcmljKCl7Y29uc3QgZT10aGlzLl9hZGRJbmRleCp0aGlzLnZhbHVlU2l6ZSx0PWUrdGhpcy52YWx1ZVNpemU7Zm9yKGxldCBuPWU7bjx0O24rKyl0aGlzLmJ1ZmZlcltuXT0wfV9zZXRBZGRpdGl2ZUlkZW50aXR5UXVhdGVybmlvbigpe3RoaXMuX3NldEFkZGl0aXZlSWRlbnRpdHlOdW1lcmljKCksdGhpcy5idWZmZXJbdGhpcy5fYWRkSW5kZXgqdGhpcy52YWx1ZVNpemUrM109MX1fc2V0QWRkaXRpdmVJZGVudGl0eU90aGVyKCl7Y29uc3QgZT10aGlzLl9vcmlnSW5kZXgqdGhpcy52YWx1ZVNpemUsdD10aGlzLl9hZGRJbmRleCp0aGlzLnZhbHVlU2l6ZTtmb3IobGV0IG49MDtuPHRoaXMudmFsdWVTaXplO24rKyl0aGlzLmJ1ZmZlclt0K25dPXRoaXMuYnVmZmVyW2Urbl19X3NlbGVjdChlLHQsbixpLHIpe2lmKGk+PS41KWZvcihsZXQgYT0wO2EhPT1yOysrYSllW3QrYV09ZVtuK2FdfV9zbGVycChlLHQsbixpKXtRdWF0ZXJuaW9uLnNsZXJwRmxhdChlLHQsZSx0LGUsbixpKX1fc2xlcnBBZGRpdGl2ZShlLHQsbixpLHIpe2NvbnN0IGE9dGhpcy5fd29ya0luZGV4KnI7UXVhdGVybmlvbi5tdWx0aXBseVF1YXRlcm5pb25zRmxhdChlLGEsZSx0LGUsbiksUXVhdGVybmlvbi5zbGVycEZsYXQoZSx0LGUsdCxlLGEsaSl9X2xlcnAoZSx0LG4saSxyKXtjb25zdCBhPTEtaTtmb3IobGV0IG89MDtvIT09cjsrK28pe2NvbnN0IGw9dCtvO2VbbF09ZVtsXSphK2VbbitvXSppfX1fbGVycEFkZGl0aXZlKGUsdCxuLGkscil7Zm9yKGxldCBhPTA7YSE9PXI7KythKXtjb25zdCBvPXQrYTtlW29dPWVbb10rZVtuK2FdKml9fX1jb25zdCBfUkVTRVJWRURfQ0hBUlNfUkU9IlxcW1xcXVxcLjpcXC8iLF9yZXNlcnZlZFJlPW5ldyBSZWdFeHAoIlsiK19SRVNFUlZFRF9DSEFSU19SRSsiXSIsImciKSxfd29yZENoYXI9IlteIitfUkVTRVJWRURfQ0hBUlNfUkUrIl0iLF93b3JkQ2hhck9yRG90PSJbXiIrX1JFU0VSVkVEX0NIQVJTX1JFLnJlcGxhY2UoIlxcLiIsIiIpKyJdIixfZGlyZWN0b3J5UmU9LygoPzpXQytbXC86XSkqKS8uc291cmNlLnJlcGxhY2UoIldDIixfd29yZENoYXIpLF9ub2RlUmU9LyhXQ09EKyk/Ly5zb3VyY2UucmVwbGFjZSgiV0NPRCIsX3dvcmRDaGFyT3JEb3QpLF9vYmplY3RSZT0vKD86XC4oV0MrKSg/OlxbKC4rKVxdKT8pPy8uc291cmNlLnJlcGxhY2UoIldDIixfd29yZENoYXIpLF9wcm9wZXJ0eVJlPS9cLihXQyspKD86XFsoLispXF0pPy8uc291cmNlLnJlcGxhY2UoIldDIixfd29yZENoYXIpLF90cmFja1JlPW5ldyBSZWdFeHAoIl4iK19kaXJlY3RvcnlSZStfbm9kZVJlK19vYmplY3RSZStfcHJvcGVydHlSZSsiJCIpLF9zdXBwb3J0ZWRPYmplY3ROYW1lcz1bIm1hdGVyaWFsIiwibWF0ZXJpYWxzIiwiYm9uZXMiXTtjbGFzcyBDb21wb3NpdGV7Y29uc3RydWN0b3IoZSx0LG4pe2NvbnN0IGk9bnx8UHJvcGVydHlCaW5kaW5nLnBhcnNlVHJhY2tOYW1lKHQpO3RoaXMuX3RhcmdldEdyb3VwPWUsdGhpcy5fYmluZGluZ3M9ZS5zdWJzY3JpYmVfKHQsaSl9Z2V0VmFsdWUoZSx0KXt0aGlzLmJpbmQoKTtjb25zdCBuPXRoaXMuX3RhcmdldEdyb3VwLm5DYWNoZWRPYmplY3RzXyxpPXRoaXMuX2JpbmRpbmdzW25dO2khPT12b2lkIDAmJmkuZ2V0VmFsdWUoZSx0KX1zZXRWYWx1ZShlLHQpe2NvbnN0IG49dGhpcy5fYmluZGluZ3M7Zm9yKGxldCBpPXRoaXMuX3RhcmdldEdyb3VwLm5DYWNoZWRPYmplY3RzXyxyPW4ubGVuZ3RoO2khPT1yOysraSluW2ldLnNldFZhbHVlKGUsdCl9YmluZCgpe2NvbnN0IGU9dGhpcy5fYmluZGluZ3M7Zm9yKGxldCB0PXRoaXMuX3RhcmdldEdyb3VwLm5DYWNoZWRPYmplY3RzXyxuPWUubGVuZ3RoO3QhPT1uOysrdCllW3RdLmJpbmQoKX11bmJpbmQoKXtjb25zdCBlPXRoaXMuX2JpbmRpbmdzO2ZvcihsZXQgdD10aGlzLl90YXJnZXRHcm91cC5uQ2FjaGVkT2JqZWN0c18sbj1lLmxlbmd0aDt0IT09bjsrK3QpZVt0XS51bmJpbmQoKX19Y2xhc3MgUHJvcGVydHlCaW5kaW5ne2NvbnN0cnVjdG9yKGUsdCxuKXt0aGlzLnBhdGg9dCx0aGlzLnBhcnNlZFBhdGg9bnx8UHJvcGVydHlCaW5kaW5nLnBhcnNlVHJhY2tOYW1lKHQpLHRoaXMubm9kZT1Qcm9wZXJ0eUJpbmRpbmcuZmluZE5vZGUoZSx0aGlzLnBhcnNlZFBhdGgubm9kZU5hbWUpfHxlLHRoaXMucm9vdE5vZGU9ZSx0aGlzLmdldFZhbHVlPXRoaXMuX2dldFZhbHVlX3VuYm91bmQsdGhpcy5zZXRWYWx1ZT10aGlzLl9zZXRWYWx1ZV91bmJvdW5kfXN0YXRpYyBjcmVhdGUoZSx0LG4pe3JldHVybiBlJiZlLmlzQW5pbWF0aW9uT2JqZWN0R3JvdXA/bmV3IFByb3BlcnR5QmluZGluZy5Db21wb3NpdGUoZSx0LG4pOm5ldyBQcm9wZXJ0eUJpbmRpbmcoZSx0LG4pfXN0YXRpYyBzYW5pdGl6ZU5vZGVOYW1lKGUpe3JldHVybiBlLnJlcGxhY2UoL1xzL2csIl8iKS5yZXBsYWNlKF9yZXNlcnZlZFJlLCIiKX1zdGF0aWMgcGFyc2VUcmFja05hbWUoZSl7Y29uc3QgdD1fdHJhY2tSZS5leGVjKGUpO2lmKHQ9PT1udWxsKXRocm93IG5ldyBFcnJvcigiUHJvcGVydHlCaW5kaW5nOiBDYW5ub3QgcGFyc2UgdHJhY2tOYW1lOiAiK2UpO2NvbnN0IG49e25vZGVOYW1lOnRbMl0sb2JqZWN0TmFtZTp0WzNdLG9iamVjdEluZGV4OnRbNF0scHJvcGVydHlOYW1lOnRbNV0scHJvcGVydHlJbmRleDp0WzZdfSxpPW4ubm9kZU5hbWUmJm4ubm9kZU5hbWUubGFzdEluZGV4T2YoIi4iKTtpZihpIT09dm9pZCAwJiZpIT09LTEpe2NvbnN0IHI9bi5ub2RlTmFtZS5zdWJzdHJpbmcoaSsxKTtfc3VwcG9ydGVkT2JqZWN0TmFtZXMuaW5kZXhPZihyKSE9PS0xJiYobi5ub2RlTmFtZT1uLm5vZGVOYW1lLnN1YnN0cmluZygwLGkpLG4ub2JqZWN0TmFtZT1yKX1pZihuLnByb3BlcnR5TmFtZT09PW51bGx8fG4ucHJvcGVydHlOYW1lLmxlbmd0aD09PTApdGhyb3cgbmV3IEVycm9yKCJQcm9wZXJ0eUJpbmRpbmc6IGNhbiBub3QgcGFyc2UgcHJvcGVydHlOYW1lIGZyb20gdHJhY2tOYW1lOiAiK2UpO3JldHVybiBufXN0YXRpYyBmaW5kTm9kZShlLHQpe2lmKHQ9PT12b2lkIDB8fHQ9PT0iInx8dD09PSIuInx8dD09PS0xfHx0PT09ZS5uYW1lfHx0PT09ZS51dWlkKXJldHVybiBlO2lmKGUuc2tlbGV0b24pe2NvbnN0IG49ZS5za2VsZXRvbi5nZXRCb25lQnlOYW1lKHQpO2lmKG4hPT12b2lkIDApcmV0dXJuIG59aWYoZS5jaGlsZHJlbil7Y29uc3Qgbj1mdW5jdGlvbihyKXtmb3IobGV0IGE9MDthPHIubGVuZ3RoO2ErKyl7Y29uc3Qgbz1yW2FdO2lmKG8ubmFtZT09PXR8fG8udXVpZD09PXQpcmV0dXJuIG87Y29uc3QgbD1uKG8uY2hpbGRyZW4pO2lmKGwpcmV0dXJuIGx9cmV0dXJuIG51bGx9LGk9bihlLmNoaWxkcmVuKTtpZihpKXJldHVybiBpfXJldHVybiBudWxsfV9nZXRWYWx1ZV91bmF2YWlsYWJsZSgpe31fc2V0VmFsdWVfdW5hdmFpbGFibGUoKXt9X2dldFZhbHVlX2RpcmVjdChlLHQpe2VbdF09dGhpcy50YXJnZXRPYmplY3RbdGhpcy5wcm9wZXJ0eU5hbWVdfV9nZXRWYWx1ZV9hcnJheShlLHQpe2NvbnN0IG49dGhpcy5yZXNvbHZlZFByb3BlcnR5O2ZvcihsZXQgaT0wLHI9bi5sZW5ndGg7aSE9PXI7KytpKWVbdCsrXT1uW2ldfV9nZXRWYWx1ZV9hcnJheUVsZW1lbnQoZSx0KXtlW3RdPXRoaXMucmVzb2x2ZWRQcm9wZXJ0eVt0aGlzLnByb3BlcnR5SW5kZXhdfV9nZXRWYWx1ZV90b0FycmF5KGUsdCl7dGhpcy5yZXNvbHZlZFByb3BlcnR5LnRvQXJyYXkoZSx0KX1fc2V0VmFsdWVfZGlyZWN0KGUsdCl7dGhpcy50YXJnZXRPYmplY3RbdGhpcy5wcm9wZXJ0eU5hbWVdPWVbdF19X3NldFZhbHVlX2RpcmVjdF9zZXROZWVkc1VwZGF0ZShlLHQpe3RoaXMudGFyZ2V0T2JqZWN0W3RoaXMucHJvcGVydHlOYW1lXT1lW3RdLHRoaXMudGFyZ2V0T2JqZWN0Lm5lZWRzVXBkYXRlPSEwfV9zZXRWYWx1ZV9kaXJlY3Rfc2V0TWF0cml4V29ybGROZWVkc1VwZGF0ZShlLHQpe3RoaXMudGFyZ2V0T2JqZWN0W3RoaXMucHJvcGVydHlOYW1lXT1lW3RdLHRoaXMudGFyZ2V0T2JqZWN0Lm1hdHJpeFdvcmxkTmVlZHNVcGRhdGU9ITB9X3NldFZhbHVlX2FycmF5KGUsdCl7Y29uc3Qgbj10aGlzLnJlc29sdmVkUHJvcGVydHk7Zm9yKGxldCBpPTAscj1uLmxlbmd0aDtpIT09cjsrK2kpbltpXT1lW3QrK119X3NldFZhbHVlX2FycmF5X3NldE5lZWRzVXBkYXRlKGUsdCl7Y29uc3Qgbj10aGlzLnJlc29sdmVkUHJvcGVydHk7Zm9yKGxldCBpPTAscj1uLmxlbmd0aDtpIT09cjsrK2kpbltpXT1lW3QrK107dGhpcy50YXJnZXRPYmplY3QubmVlZHNVcGRhdGU9ITB9X3NldFZhbHVlX2FycmF5X3NldE1hdHJpeFdvcmxkTmVlZHNVcGRhdGUoZSx0KXtjb25zdCBuPXRoaXMucmVzb2x2ZWRQcm9wZXJ0eTtmb3IobGV0IGk9MCxyPW4ubGVuZ3RoO2khPT1yOysraSluW2ldPWVbdCsrXTt0aGlzLnRhcmdldE9iamVjdC5tYXRyaXhXb3JsZE5lZWRzVXBkYXRlPSEwfV9zZXRWYWx1ZV9hcnJheUVsZW1lbnQoZSx0KXt0aGlzLnJlc29sdmVkUHJvcGVydHlbdGhpcy5wcm9wZXJ0eUluZGV4XT1lW3RdfV9zZXRWYWx1ZV9hcnJheUVsZW1lbnRfc2V0TmVlZHNVcGRhdGUoZSx0KXt0aGlzLnJlc29sdmVkUHJvcGVydHlbdGhpcy5wcm9wZXJ0eUluZGV4XT1lW3RdLHRoaXMudGFyZ2V0T2JqZWN0Lm5lZWRzVXBkYXRlPSEwfV9zZXRWYWx1ZV9hcnJheUVsZW1lbnRfc2V0TWF0cml4V29ybGROZWVkc1VwZGF0ZShlLHQpe3RoaXMucmVzb2x2ZWRQcm9wZXJ0eVt0aGlzLnByb3BlcnR5SW5kZXhdPWVbdF0sdGhpcy50YXJnZXRPYmplY3QubWF0cml4V29ybGROZWVkc1VwZGF0ZT0hMH1fc2V0VmFsdWVfZnJvbUFycmF5KGUsdCl7dGhpcy5yZXNvbHZlZFByb3BlcnR5LmZyb21BcnJheShlLHQpfV9zZXRWYWx1ZV9mcm9tQXJyYXlfc2V0TmVlZHNVcGRhdGUoZSx0KXt0aGlzLnJlc29sdmVkUHJvcGVydHkuZnJvbUFycmF5KGUsdCksdGhpcy50YXJnZXRPYmplY3QubmVlZHNVcGRhdGU9ITB9X3NldFZhbHVlX2Zyb21BcnJheV9zZXRNYXRyaXhXb3JsZE5lZWRzVXBkYXRlKGUsdCl7dGhpcy5yZXNvbHZlZFByb3BlcnR5LmZyb21BcnJheShlLHQpLHRoaXMudGFyZ2V0T2JqZWN0Lm1hdHJpeFdvcmxkTmVlZHNVcGRhdGU9ITB9X2dldFZhbHVlX3VuYm91bmQoZSx0KXt0aGlzLmJpbmQoKSx0aGlzLmdldFZhbHVlKGUsdCl9X3NldFZhbHVlX3VuYm91bmQoZSx0KXt0aGlzLmJpbmQoKSx0aGlzLnNldFZhbHVlKGUsdCl9YmluZCgpe2xldCBlPXRoaXMubm9kZTtjb25zdCB0PXRoaXMucGFyc2VkUGF0aCxuPXQub2JqZWN0TmFtZSxpPXQucHJvcGVydHlOYW1lO2xldCByPXQucHJvcGVydHlJbmRleDtpZihlfHwoZT1Qcm9wZXJ0eUJpbmRpbmcuZmluZE5vZGUodGhpcy5yb290Tm9kZSx0Lm5vZGVOYW1lKXx8dGhpcy5yb290Tm9kZSx0aGlzLm5vZGU9ZSksdGhpcy5nZXRWYWx1ZT10aGlzLl9nZXRWYWx1ZV91bmF2YWlsYWJsZSx0aGlzLnNldFZhbHVlPXRoaXMuX3NldFZhbHVlX3VuYXZhaWxhYmxlLCFlKXtjb25zb2xlLmVycm9yKCJUSFJFRS5Qcm9wZXJ0eUJpbmRpbmc6IFRyeWluZyB0byB1cGRhdGUgbm9kZSBmb3IgdHJhY2s6ICIrdGhpcy5wYXRoKyIgYnV0IGl0IHdhc24ndCBmb3VuZC4iKTtyZXR1cm59aWYobil7bGV0IGM9dC5vYmplY3RJbmRleDtzd2l0Y2gobil7Y2FzZSJtYXRlcmlhbHMiOmlmKCFlLm1hdGVyaWFsKXtjb25zb2xlLmVycm9yKCJUSFJFRS5Qcm9wZXJ0eUJpbmRpbmc6IENhbiBub3QgYmluZCB0byBtYXRlcmlhbCBhcyBub2RlIGRvZXMgbm90IGhhdmUgYSBtYXRlcmlhbC4iLHRoaXMpO3JldHVybn1pZighZS5tYXRlcmlhbC5tYXRlcmlhbHMpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLlByb3BlcnR5QmluZGluZzogQ2FuIG5vdCBiaW5kIHRvIG1hdGVyaWFsLm1hdGVyaWFscyBhcyBub2RlLm1hdGVyaWFsIGRvZXMgbm90IGhhdmUgYSBtYXRlcmlhbHMgYXJyYXkuIix0aGlzKTtyZXR1cm59ZT1lLm1hdGVyaWFsLm1hdGVyaWFsczticmVhaztjYXNlImJvbmVzIjppZighZS5za2VsZXRvbil7Y29uc29sZS5lcnJvcigiVEhSRUUuUHJvcGVydHlCaW5kaW5nOiBDYW4gbm90IGJpbmQgdG8gYm9uZXMgYXMgbm9kZSBkb2VzIG5vdCBoYXZlIGEgc2tlbGV0b24uIix0aGlzKTtyZXR1cm59ZT1lLnNrZWxldG9uLmJvbmVzO2ZvcihsZXQgaD0wO2g8ZS5sZW5ndGg7aCsrKWlmKGVbaF0ubmFtZT09PWMpe2M9aDticmVha31icmVhaztkZWZhdWx0OmlmKGVbbl09PT12b2lkIDApe2NvbnNvbGUuZXJyb3IoIlRIUkVFLlByb3BlcnR5QmluZGluZzogQ2FuIG5vdCBiaW5kIHRvIG9iamVjdE5hbWUgb2Ygbm9kZSB1bmRlZmluZWQuIix0aGlzKTtyZXR1cm59ZT1lW25dfWlmKGMhPT12b2lkIDApe2lmKGVbY109PT12b2lkIDApe2NvbnNvbGUuZXJyb3IoIlRIUkVFLlByb3BlcnR5QmluZGluZzogVHJ5aW5nIHRvIGJpbmQgdG8gb2JqZWN0SW5kZXggb2Ygb2JqZWN0TmFtZSwgYnV0IGlzIHVuZGVmaW5lZC4iLHRoaXMsZSk7cmV0dXJufWU9ZVtjXX19Y29uc3QgYT1lW2ldO2lmKGE9PT12b2lkIDApe2NvbnN0IGM9dC5ub2RlTmFtZTtjb25zb2xlLmVycm9yKCJUSFJFRS5Qcm9wZXJ0eUJpbmRpbmc6IFRyeWluZyB0byB1cGRhdGUgcHJvcGVydHkgZm9yIHRyYWNrOiAiK2MrIi4iK2krIiBidXQgaXQgd2Fzbid0IGZvdW5kLiIsZSk7cmV0dXJufWxldCBvPXRoaXMuVmVyc2lvbmluZy5Ob25lO3RoaXMudGFyZ2V0T2JqZWN0PWUsZS5uZWVkc1VwZGF0ZSE9PXZvaWQgMD9vPXRoaXMuVmVyc2lvbmluZy5OZWVkc1VwZGF0ZTplLm1hdHJpeFdvcmxkTmVlZHNVcGRhdGUhPT12b2lkIDAmJihvPXRoaXMuVmVyc2lvbmluZy5NYXRyaXhXb3JsZE5lZWRzVXBkYXRlKTtsZXQgbD10aGlzLkJpbmRpbmdUeXBlLkRpcmVjdDtpZihyIT09dm9pZCAwKXtpZihpPT09Im1vcnBoVGFyZ2V0SW5mbHVlbmNlcyIpe2lmKCFlLmdlb21ldHJ5KXtjb25zb2xlLmVycm9yKCJUSFJFRS5Qcm9wZXJ0eUJpbmRpbmc6IENhbiBub3QgYmluZCB0byBtb3JwaFRhcmdldEluZmx1ZW5jZXMgYmVjYXVzZSBub2RlIGRvZXMgbm90IGhhdmUgYSBnZW9tZXRyeS4iLHRoaXMpO3JldHVybn1pZihlLmdlb21ldHJ5LmlzQnVmZmVyR2VvbWV0cnkpe2lmKCFlLmdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlcyl7Y29uc29sZS5lcnJvcigiVEhSRUUuUHJvcGVydHlCaW5kaW5nOiBDYW4gbm90IGJpbmQgdG8gbW9ycGhUYXJnZXRJbmZsdWVuY2VzIGJlY2F1c2Ugbm9kZSBkb2VzIG5vdCBoYXZlIGEgZ2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzLiIsdGhpcyk7cmV0dXJufWUubW9ycGhUYXJnZXREaWN0aW9uYXJ5W3JdIT09dm9pZCAwJiYocj1lLm1vcnBoVGFyZ2V0RGljdGlvbmFyeVtyXSl9ZWxzZXtjb25zb2xlLmVycm9yKCJUSFJFRS5Qcm9wZXJ0eUJpbmRpbmc6IENhbiBub3QgYmluZCB0byBtb3JwaFRhcmdldEluZmx1ZW5jZXMgb24gVEhSRUUuR2VvbWV0cnkuIFVzZSBUSFJFRS5CdWZmZXJHZW9tZXRyeSBpbnN0ZWFkLiIsdGhpcyk7cmV0dXJufX1sPXRoaXMuQmluZGluZ1R5cGUuQXJyYXlFbGVtZW50LHRoaXMucmVzb2x2ZWRQcm9wZXJ0eT1hLHRoaXMucHJvcGVydHlJbmRleD1yfWVsc2UgYS5mcm9tQXJyYXkhPT12b2lkIDAmJmEudG9BcnJheSE9PXZvaWQgMD8obD10aGlzLkJpbmRpbmdUeXBlLkhhc0Zyb21Ub0FycmF5LHRoaXMucmVzb2x2ZWRQcm9wZXJ0eT1hKTpBcnJheS5pc0FycmF5KGEpPyhsPXRoaXMuQmluZGluZ1R5cGUuRW50aXJlQXJyYXksdGhpcy5yZXNvbHZlZFByb3BlcnR5PWEpOnRoaXMucHJvcGVydHlOYW1lPWk7dGhpcy5nZXRWYWx1ZT10aGlzLkdldHRlckJ5QmluZGluZ1R5cGVbbF0sdGhpcy5zZXRWYWx1ZT10aGlzLlNldHRlckJ5QmluZGluZ1R5cGVBbmRWZXJzaW9uaW5nW2xdW29dfXVuYmluZCgpe3RoaXMubm9kZT1udWxsLHRoaXMuZ2V0VmFsdWU9dGhpcy5fZ2V0VmFsdWVfdW5ib3VuZCx0aGlzLnNldFZhbHVlPXRoaXMuX3NldFZhbHVlX3VuYm91bmR9fVByb3BlcnR5QmluZGluZy5Db21wb3NpdGU9Q29tcG9zaXRlLFByb3BlcnR5QmluZGluZy5wcm90b3R5cGUuQmluZGluZ1R5cGU9e0RpcmVjdDowLEVudGlyZUFycmF5OjEsQXJyYXlFbGVtZW50OjIsSGFzRnJvbVRvQXJyYXk6M30sUHJvcGVydHlCaW5kaW5nLnByb3RvdHlwZS5WZXJzaW9uaW5nPXtOb25lOjAsTmVlZHNVcGRhdGU6MSxNYXRyaXhXb3JsZE5lZWRzVXBkYXRlOjJ9LFByb3BlcnR5QmluZGluZy5wcm90b3R5cGUuR2V0dGVyQnlCaW5kaW5nVHlwZT1bUHJvcGVydHlCaW5kaW5nLnByb3RvdHlwZS5fZ2V0VmFsdWVfZGlyZWN0LFByb3BlcnR5QmluZGluZy5wcm90b3R5cGUuX2dldFZhbHVlX2FycmF5LFByb3BlcnR5QmluZGluZy5wcm90b3R5cGUuX2dldFZhbHVlX2FycmF5RWxlbWVudCxQcm9wZXJ0eUJpbmRpbmcucHJvdG90eXBlLl9nZXRWYWx1ZV90b0FycmF5XSxQcm9wZXJ0eUJpbmRpbmcucHJvdG90eXBlLlNldHRlckJ5QmluZGluZ1R5cGVBbmRWZXJzaW9uaW5nPVtbUHJvcGVydHlCaW5kaW5nLnByb3RvdHlwZS5fc2V0VmFsdWVfZGlyZWN0LFByb3BlcnR5QmluZGluZy5wcm90b3R5cGUuX3NldFZhbHVlX2RpcmVjdF9zZXROZWVkc1VwZGF0ZSxQcm9wZXJ0eUJpbmRpbmcucHJvdG90eXBlLl9zZXRWYWx1ZV9kaXJlY3Rfc2V0TWF0cml4V29ybGROZWVkc1VwZGF0ZV0sW1Byb3BlcnR5QmluZGluZy5wcm90b3R5cGUuX3NldFZhbHVlX2FycmF5LFByb3BlcnR5QmluZGluZy5wcm90b3R5cGUuX3NldFZhbHVlX2FycmF5X3NldE5lZWRzVXBkYXRlLFByb3BlcnR5QmluZGluZy5wcm90b3R5cGUuX3NldFZhbHVlX2FycmF5X3NldE1hdHJpeFdvcmxkTmVlZHNVcGRhdGVdLFtQcm9wZXJ0eUJpbmRpbmcucHJvdG90eXBlLl9zZXRWYWx1ZV9hcnJheUVsZW1lbnQsUHJvcGVydHlCaW5kaW5nLnByb3RvdHlwZS5fc2V0VmFsdWVfYXJyYXlFbGVtZW50X3NldE5lZWRzVXBkYXRlLFByb3BlcnR5QmluZGluZy5wcm90b3R5cGUuX3NldFZhbHVlX2FycmF5RWxlbWVudF9zZXRNYXRyaXhXb3JsZE5lZWRzVXBkYXRlXSxbUHJvcGVydHlCaW5kaW5nLnByb3RvdHlwZS5fc2V0VmFsdWVfZnJvbUFycmF5LFByb3BlcnR5QmluZGluZy5wcm90b3R5cGUuX3NldFZhbHVlX2Zyb21BcnJheV9zZXROZWVkc1VwZGF0ZSxQcm9wZXJ0eUJpbmRpbmcucHJvdG90eXBlLl9zZXRWYWx1ZV9mcm9tQXJyYXlfc2V0TWF0cml4V29ybGROZWVkc1VwZGF0ZV1dO2NsYXNzIEFuaW1hdGlvbkFjdGlvbntjb25zdHJ1Y3RvcihlLHQsbj1udWxsLGk9dC5ibGVuZE1vZGUpe3RoaXMuX21peGVyPWUsdGhpcy5fY2xpcD10LHRoaXMuX2xvY2FsUm9vdD1uLHRoaXMuYmxlbmRNb2RlPWk7Y29uc3Qgcj10LnRyYWNrcyxhPXIubGVuZ3RoLG89bmV3IEFycmF5KGEpLGw9e2VuZGluZ1N0YXJ0OjI0MDAsZW5kaW5nRW5kOjI0MDB9O2ZvcihsZXQgYz0wO2MhPT1hOysrYyl7Y29uc3QgaD1yW2NdLmNyZWF0ZUludGVycG9sYW50KG51bGwpO29bY109aCxoLnNldHRpbmdzPWx9dGhpcy5faW50ZXJwb2xhbnRTZXR0aW5ncz1sLHRoaXMuX2ludGVycG9sYW50cz1vLHRoaXMuX3Byb3BlcnR5QmluZGluZ3M9bmV3IEFycmF5KGEpLHRoaXMuX2NhY2hlSW5kZXg9bnVsbCx0aGlzLl9ieUNsaXBDYWNoZUluZGV4PW51bGwsdGhpcy5fdGltZVNjYWxlSW50ZXJwb2xhbnQ9bnVsbCx0aGlzLl93ZWlnaHRJbnRlcnBvbGFudD1udWxsLHRoaXMubG9vcD0yMjAxLHRoaXMuX2xvb3BDb3VudD0tMSx0aGlzLl9zdGFydFRpbWU9bnVsbCx0aGlzLnRpbWU9MCx0aGlzLnRpbWVTY2FsZT0xLHRoaXMuX2VmZmVjdGl2ZVRpbWVTY2FsZT0xLHRoaXMud2VpZ2h0PTEsdGhpcy5fZWZmZWN0aXZlV2VpZ2h0PTEsdGhpcy5yZXBldGl0aW9ucz0xLzAsdGhpcy5wYXVzZWQ9ITEsdGhpcy5lbmFibGVkPSEwLHRoaXMuY2xhbXBXaGVuRmluaXNoZWQ9ITEsdGhpcy56ZXJvU2xvcGVBdFN0YXJ0PSEwLHRoaXMuemVyb1Nsb3BlQXRFbmQ9ITB9cGxheSgpe3JldHVybiB0aGlzLl9taXhlci5fYWN0aXZhdGVBY3Rpb24odGhpcyksdGhpc31zdG9wKCl7cmV0dXJuIHRoaXMuX21peGVyLl9kZWFjdGl2YXRlQWN0aW9uKHRoaXMpLHRoaXMucmVzZXQoKX1yZXNldCgpe3JldHVybiB0aGlzLnBhdXNlZD0hMSx0aGlzLmVuYWJsZWQ9ITAsdGhpcy50aW1lPTAsdGhpcy5fbG9vcENvdW50PS0xLHRoaXMuX3N0YXJ0VGltZT1udWxsLHRoaXMuc3RvcEZhZGluZygpLnN0b3BXYXJwaW5nKCl9aXNSdW5uaW5nKCl7cmV0dXJuIHRoaXMuZW5hYmxlZCYmIXRoaXMucGF1c2VkJiZ0aGlzLnRpbWVTY2FsZSE9PTAmJnRoaXMuX3N0YXJ0VGltZT09PW51bGwmJnRoaXMuX21peGVyLl9pc0FjdGl2ZUFjdGlvbih0aGlzKX1pc1NjaGVkdWxlZCgpe3JldHVybiB0aGlzLl9taXhlci5faXNBY3RpdmVBY3Rpb24odGhpcyl9c3RhcnRBdChlKXtyZXR1cm4gdGhpcy5fc3RhcnRUaW1lPWUsdGhpc31zZXRMb29wKGUsdCl7cmV0dXJuIHRoaXMubG9vcD1lLHRoaXMucmVwZXRpdGlvbnM9dCx0aGlzfXNldEVmZmVjdGl2ZVdlaWdodChlKXtyZXR1cm4gdGhpcy53ZWlnaHQ9ZSx0aGlzLl9lZmZlY3RpdmVXZWlnaHQ9dGhpcy5lbmFibGVkP2U6MCx0aGlzLnN0b3BGYWRpbmcoKX1nZXRFZmZlY3RpdmVXZWlnaHQoKXtyZXR1cm4gdGhpcy5fZWZmZWN0aXZlV2VpZ2h0fWZhZGVJbihlKXtyZXR1cm4gdGhpcy5fc2NoZWR1bGVGYWRpbmcoZSwwLDEpfWZhZGVPdXQoZSl7cmV0dXJuIHRoaXMuX3NjaGVkdWxlRmFkaW5nKGUsMSwwKX1jcm9zc0ZhZGVGcm9tKGUsdCxuKXtpZihlLmZhZGVPdXQodCksdGhpcy5mYWRlSW4odCksbil7Y29uc3QgaT10aGlzLl9jbGlwLmR1cmF0aW9uLHI9ZS5fY2xpcC5kdXJhdGlvbixhPXIvaSxvPWkvcjtlLndhcnAoMSxhLHQpLHRoaXMud2FycChvLDEsdCl9cmV0dXJuIHRoaXN9Y3Jvc3NGYWRlVG8oZSx0LG4pe3JldHVybiBlLmNyb3NzRmFkZUZyb20odGhpcyx0LG4pfXN0b3BGYWRpbmcoKXtjb25zdCBlPXRoaXMuX3dlaWdodEludGVycG9sYW50O3JldHVybiBlIT09bnVsbCYmKHRoaXMuX3dlaWdodEludGVycG9sYW50PW51bGwsdGhpcy5fbWl4ZXIuX3Rha2VCYWNrQ29udHJvbEludGVycG9sYW50KGUpKSx0aGlzfXNldEVmZmVjdGl2ZVRpbWVTY2FsZShlKXtyZXR1cm4gdGhpcy50aW1lU2NhbGU9ZSx0aGlzLl9lZmZlY3RpdmVUaW1lU2NhbGU9dGhpcy5wYXVzZWQ/MDplLHRoaXMuc3RvcFdhcnBpbmcoKX1nZXRFZmZlY3RpdmVUaW1lU2NhbGUoKXtyZXR1cm4gdGhpcy5fZWZmZWN0aXZlVGltZVNjYWxlfXNldER1cmF0aW9uKGUpe3JldHVybiB0aGlzLnRpbWVTY2FsZT10aGlzLl9jbGlwLmR1cmF0aW9uL2UsdGhpcy5zdG9wV2FycGluZygpfXN5bmNXaXRoKGUpe3JldHVybiB0aGlzLnRpbWU9ZS50aW1lLHRoaXMudGltZVNjYWxlPWUudGltZVNjYWxlLHRoaXMuc3RvcFdhcnBpbmcoKX1oYWx0KGUpe3JldHVybiB0aGlzLndhcnAodGhpcy5fZWZmZWN0aXZlVGltZVNjYWxlLDAsZSl9d2FycChlLHQsbil7Y29uc3QgaT10aGlzLl9taXhlcixyPWkudGltZSxhPXRoaXMudGltZVNjYWxlO2xldCBvPXRoaXMuX3RpbWVTY2FsZUludGVycG9sYW50O289PT1udWxsJiYobz1pLl9sZW5kQ29udHJvbEludGVycG9sYW50KCksdGhpcy5fdGltZVNjYWxlSW50ZXJwb2xhbnQ9byk7Y29uc3QgbD1vLnBhcmFtZXRlclBvc2l0aW9ucyxjPW8uc2FtcGxlVmFsdWVzO3JldHVybiBsWzBdPXIsbFsxXT1yK24sY1swXT1lL2EsY1sxXT10L2EsdGhpc31zdG9wV2FycGluZygpe2NvbnN0IGU9dGhpcy5fdGltZVNjYWxlSW50ZXJwb2xhbnQ7cmV0dXJuIGUhPT1udWxsJiYodGhpcy5fdGltZVNjYWxlSW50ZXJwb2xhbnQ9bnVsbCx0aGlzLl9taXhlci5fdGFrZUJhY2tDb250cm9sSW50ZXJwb2xhbnQoZSkpLHRoaXN9Z2V0TWl4ZXIoKXtyZXR1cm4gdGhpcy5fbWl4ZXJ9Z2V0Q2xpcCgpe3JldHVybiB0aGlzLl9jbGlwfWdldFJvb3QoKXtyZXR1cm4gdGhpcy5fbG9jYWxSb290fHx0aGlzLl9taXhlci5fcm9vdH1fdXBkYXRlKGUsdCxuLGkpe2lmKCF0aGlzLmVuYWJsZWQpe3RoaXMuX3VwZGF0ZVdlaWdodChlKTtyZXR1cm59Y29uc3Qgcj10aGlzLl9zdGFydFRpbWU7aWYociE9PW51bGwpe2NvbnN0IGw9KGUtcikqbjtpZihsPDB8fG49PT0wKXJldHVybjt0aGlzLl9zdGFydFRpbWU9bnVsbCx0PW4qbH10Kj10aGlzLl91cGRhdGVUaW1lU2NhbGUoZSk7Y29uc3QgYT10aGlzLl91cGRhdGVUaW1lKHQpLG89dGhpcy5fdXBkYXRlV2VpZ2h0KGUpO2lmKG8+MCl7Y29uc3QgbD10aGlzLl9pbnRlcnBvbGFudHMsYz10aGlzLl9wcm9wZXJ0eUJpbmRpbmdzO3N3aXRjaCh0aGlzLmJsZW5kTW9kZSl7Y2FzZSAyNTAxOmZvcihsZXQgaD0wLHU9bC5sZW5ndGg7aCE9PXU7KytoKWxbaF0uZXZhbHVhdGUoYSksY1toXS5hY2N1bXVsYXRlQWRkaXRpdmUobyk7YnJlYWs7Y2FzZSAyNTAwOmRlZmF1bHQ6Zm9yKGxldCBoPTAsdT1sLmxlbmd0aDtoIT09dTsrK2gpbFtoXS5ldmFsdWF0ZShhKSxjW2hdLmFjY3VtdWxhdGUoaSxvKX19fV91cGRhdGVXZWlnaHQoZSl7bGV0IHQ9MDtpZih0aGlzLmVuYWJsZWQpe3Q9dGhpcy53ZWlnaHQ7Y29uc3Qgbj10aGlzLl93ZWlnaHRJbnRlcnBvbGFudDtpZihuIT09bnVsbCl7Y29uc3QgaT1uLmV2YWx1YXRlKGUpWzBdO3QqPWksZT5uLnBhcmFtZXRlclBvc2l0aW9uc1sxXSYmKHRoaXMuc3RvcEZhZGluZygpLGk9PT0wJiYodGhpcy5lbmFibGVkPSExKSl9fXJldHVybiB0aGlzLl9lZmZlY3RpdmVXZWlnaHQ9dCx0fV91cGRhdGVUaW1lU2NhbGUoZSl7bGV0IHQ9MDtpZighdGhpcy5wYXVzZWQpe3Q9dGhpcy50aW1lU2NhbGU7Y29uc3Qgbj10aGlzLl90aW1lU2NhbGVJbnRlcnBvbGFudDtuIT09bnVsbCYmKHQqPW4uZXZhbHVhdGUoZSlbMF0sZT5uLnBhcmFtZXRlclBvc2l0aW9uc1sxXSYmKHRoaXMuc3RvcFdhcnBpbmcoKSx0PT09MD90aGlzLnBhdXNlZD0hMDp0aGlzLnRpbWVTY2FsZT10KSl9cmV0dXJuIHRoaXMuX2VmZmVjdGl2ZVRpbWVTY2FsZT10LHR9X3VwZGF0ZVRpbWUoZSl7Y29uc3QgdD10aGlzLl9jbGlwLmR1cmF0aW9uLG49dGhpcy5sb29wO2xldCBpPXRoaXMudGltZStlLHI9dGhpcy5fbG9vcENvdW50O2NvbnN0IGE9bj09PTIyMDI7aWYoZT09PTApcmV0dXJuIHI9PT0tMT9pOmEmJihyJjEpPT09MT90LWk6aTtpZihuPT09MjIwMCl7cj09PS0xJiYodGhpcy5fbG9vcENvdW50PTAsdGhpcy5fc2V0RW5kaW5ncyghMCwhMCwhMSkpO2U6e2lmKGk+PXQpaT10O2Vsc2UgaWYoaTwwKWk9MDtlbHNle3RoaXMudGltZT1pO2JyZWFrIGV9dGhpcy5jbGFtcFdoZW5GaW5pc2hlZD90aGlzLnBhdXNlZD0hMDp0aGlzLmVuYWJsZWQ9ITEsdGhpcy50aW1lPWksdGhpcy5fbWl4ZXIuZGlzcGF0Y2hFdmVudCh7dHlwZToiZmluaXNoZWQiLGFjdGlvbjp0aGlzLGRpcmVjdGlvbjplPDA/LTE6MX0pfX1lbHNle2lmKHI9PT0tMSYmKGU+PTA/KHI9MCx0aGlzLl9zZXRFbmRpbmdzKCEwLHRoaXMucmVwZXRpdGlvbnM9PT0wLGEpKTp0aGlzLl9zZXRFbmRpbmdzKHRoaXMucmVwZXRpdGlvbnM9PT0wLCEwLGEpKSxpPj10fHxpPDApe2NvbnN0IG89TWF0aC5mbG9vcihpL3QpO2ktPXQqbyxyKz1NYXRoLmFicyhvKTtjb25zdCBsPXRoaXMucmVwZXRpdGlvbnMtcjtpZihsPD0wKXRoaXMuY2xhbXBXaGVuRmluaXNoZWQ/dGhpcy5wYXVzZWQ9ITA6dGhpcy5lbmFibGVkPSExLGk9ZT4wP3Q6MCx0aGlzLnRpbWU9aSx0aGlzLl9taXhlci5kaXNwYXRjaEV2ZW50KHt0eXBlOiJmaW5pc2hlZCIsYWN0aW9uOnRoaXMsZGlyZWN0aW9uOmU+MD8xOi0xfSk7ZWxzZXtpZihsPT09MSl7Y29uc3QgYz1lPDA7dGhpcy5fc2V0RW5kaW5ncyhjLCFjLGEpfWVsc2UgdGhpcy5fc2V0RW5kaW5ncyghMSwhMSxhKTt0aGlzLl9sb29wQ291bnQ9cix0aGlzLnRpbWU9aSx0aGlzLl9taXhlci5kaXNwYXRjaEV2ZW50KHt0eXBlOiJsb29wIixhY3Rpb246dGhpcyxsb29wRGVsdGE6b30pfX1lbHNlIHRoaXMudGltZT1pO2lmKGEmJihyJjEpPT09MSlyZXR1cm4gdC1pfXJldHVybiBpfV9zZXRFbmRpbmdzKGUsdCxuKXtjb25zdCBpPXRoaXMuX2ludGVycG9sYW50U2V0dGluZ3M7bj8oaS5lbmRpbmdTdGFydD0yNDAxLGkuZW5kaW5nRW5kPTI0MDEpOihlP2kuZW5kaW5nU3RhcnQ9dGhpcy56ZXJvU2xvcGVBdFN0YXJ0PzI0MDE6MjQwMDppLmVuZGluZ1N0YXJ0PTI0MDIsdD9pLmVuZGluZ0VuZD10aGlzLnplcm9TbG9wZUF0RW5kPzI0MDE6MjQwMDppLmVuZGluZ0VuZD0yNDAyKX1fc2NoZWR1bGVGYWRpbmcoZSx0LG4pe2NvbnN0IGk9dGhpcy5fbWl4ZXIscj1pLnRpbWU7bGV0IGE9dGhpcy5fd2VpZ2h0SW50ZXJwb2xhbnQ7YT09PW51bGwmJihhPWkuX2xlbmRDb250cm9sSW50ZXJwb2xhbnQoKSx0aGlzLl93ZWlnaHRJbnRlcnBvbGFudD1hKTtjb25zdCBvPWEucGFyYW1ldGVyUG9zaXRpb25zLGw9YS5zYW1wbGVWYWx1ZXM7cmV0dXJuIG9bMF09cixsWzBdPXQsb1sxXT1yK2UsbFsxXT1uLHRoaXN9fWNsYXNzIEFuaW1hdGlvbk1peGVyIGV4dGVuZHMgRXZlbnREaXNwYXRjaGVye2NvbnN0cnVjdG9yKGUpe3N1cGVyKCk7dGhpcy5fcm9vdD1lLHRoaXMuX2luaXRNZW1vcnlNYW5hZ2VyKCksdGhpcy5fYWNjdUluZGV4PTAsdGhpcy50aW1lPTAsdGhpcy50aW1lU2NhbGU9MX1fYmluZEFjdGlvbihlLHQpe2NvbnN0IG49ZS5fbG9jYWxSb290fHx0aGlzLl9yb290LGk9ZS5fY2xpcC50cmFja3Mscj1pLmxlbmd0aCxhPWUuX3Byb3BlcnR5QmluZGluZ3Msbz1lLl9pbnRlcnBvbGFudHMsbD1uLnV1aWQsYz10aGlzLl9iaW5kaW5nc0J5Um9vdEFuZE5hbWU7bGV0IGg9Y1tsXTtoPT09dm9pZCAwJiYoaD17fSxjW2xdPWgpO2ZvcihsZXQgdT0wO3UhPT1yOysrdSl7Y29uc3QgZD1pW3VdLGY9ZC5uYW1lO2xldCBnPWhbZl07aWYoZyE9PXZvaWQgMCkrK2cucmVmZXJlbmNlQ291bnQsYVt1XT1nO2Vsc2V7aWYoZz1hW3VdLGchPT12b2lkIDApe2cuX2NhY2hlSW5kZXg9PT1udWxsJiYoKytnLnJlZmVyZW5jZUNvdW50LHRoaXMuX2FkZEluYWN0aXZlQmluZGluZyhnLGwsZikpO2NvbnRpbnVlfWNvbnN0IF89dCYmdC5fcHJvcGVydHlCaW5kaW5nc1t1XS5iaW5kaW5nLnBhcnNlZFBhdGg7Zz1uZXcgUHJvcGVydHlNaXhlcihQcm9wZXJ0eUJpbmRpbmcuY3JlYXRlKG4sZixfKSxkLlZhbHVlVHlwZU5hbWUsZC5nZXRWYWx1ZVNpemUoKSksKytnLnJlZmVyZW5jZUNvdW50LHRoaXMuX2FkZEluYWN0aXZlQmluZGluZyhnLGwsZiksYVt1XT1nfW9bdV0ucmVzdWx0QnVmZmVyPWcuYnVmZmVyfX1fYWN0aXZhdGVBY3Rpb24oZSl7aWYoIXRoaXMuX2lzQWN0aXZlQWN0aW9uKGUpKXtpZihlLl9jYWNoZUluZGV4PT09bnVsbCl7Y29uc3Qgbj0oZS5fbG9jYWxSb290fHx0aGlzLl9yb290KS51dWlkLGk9ZS5fY2xpcC51dWlkLHI9dGhpcy5fYWN0aW9uc0J5Q2xpcFtpXTt0aGlzLl9iaW5kQWN0aW9uKGUsciYmci5rbm93bkFjdGlvbnNbMF0pLHRoaXMuX2FkZEluYWN0aXZlQWN0aW9uKGUsaSxuKX1jb25zdCB0PWUuX3Byb3BlcnR5QmluZGluZ3M7Zm9yKGxldCBuPTAsaT10Lmxlbmd0aDtuIT09aTsrK24pe2NvbnN0IHI9dFtuXTtyLnVzZUNvdW50Kys9PT0wJiYodGhpcy5fbGVuZEJpbmRpbmcociksci5zYXZlT3JpZ2luYWxTdGF0ZSgpKX10aGlzLl9sZW5kQWN0aW9uKGUpfX1fZGVhY3RpdmF0ZUFjdGlvbihlKXtpZih0aGlzLl9pc0FjdGl2ZUFjdGlvbihlKSl7Y29uc3QgdD1lLl9wcm9wZXJ0eUJpbmRpbmdzO2ZvcihsZXQgbj0wLGk9dC5sZW5ndGg7biE9PWk7KytuKXtjb25zdCByPXRbbl07LS1yLnVzZUNvdW50PT09MCYmKHIucmVzdG9yZU9yaWdpbmFsU3RhdGUoKSx0aGlzLl90YWtlQmFja0JpbmRpbmcocikpfXRoaXMuX3Rha2VCYWNrQWN0aW9uKGUpfX1faW5pdE1lbW9yeU1hbmFnZXIoKXt0aGlzLl9hY3Rpb25zPVtdLHRoaXMuX25BY3RpdmVBY3Rpb25zPTAsdGhpcy5fYWN0aW9uc0J5Q2xpcD17fSx0aGlzLl9iaW5kaW5ncz1bXSx0aGlzLl9uQWN0aXZlQmluZGluZ3M9MCx0aGlzLl9iaW5kaW5nc0J5Um9vdEFuZE5hbWU9e30sdGhpcy5fY29udHJvbEludGVycG9sYW50cz1bXSx0aGlzLl9uQWN0aXZlQ29udHJvbEludGVycG9sYW50cz0wO2NvbnN0IGU9dGhpczt0aGlzLnN0YXRzPXthY3Rpb25zOntnZXQgdG90YWwoKXtyZXR1cm4gZS5fYWN0aW9ucy5sZW5ndGh9LGdldCBpblVzZSgpe3JldHVybiBlLl9uQWN0aXZlQWN0aW9uc319LGJpbmRpbmdzOntnZXQgdG90YWwoKXtyZXR1cm4gZS5fYmluZGluZ3MubGVuZ3RofSxnZXQgaW5Vc2UoKXtyZXR1cm4gZS5fbkFjdGl2ZUJpbmRpbmdzfX0sY29udHJvbEludGVycG9sYW50czp7Z2V0IHRvdGFsKCl7cmV0dXJuIGUuX2NvbnRyb2xJbnRlcnBvbGFudHMubGVuZ3RofSxnZXQgaW5Vc2UoKXtyZXR1cm4gZS5fbkFjdGl2ZUNvbnRyb2xJbnRlcnBvbGFudHN9fX19X2lzQWN0aXZlQWN0aW9uKGUpe2NvbnN0IHQ9ZS5fY2FjaGVJbmRleDtyZXR1cm4gdCE9PW51bGwmJnQ8dGhpcy5fbkFjdGl2ZUFjdGlvbnN9X2FkZEluYWN0aXZlQWN0aW9uKGUsdCxuKXtjb25zdCBpPXRoaXMuX2FjdGlvbnMscj10aGlzLl9hY3Rpb25zQnlDbGlwO2xldCBhPXJbdF07aWYoYT09PXZvaWQgMClhPXtrbm93bkFjdGlvbnM6W2VdLGFjdGlvbkJ5Um9vdDp7fX0sZS5fYnlDbGlwQ2FjaGVJbmRleD0wLHJbdF09YTtlbHNle2NvbnN0IG89YS5rbm93bkFjdGlvbnM7ZS5fYnlDbGlwQ2FjaGVJbmRleD1vLmxlbmd0aCxvLnB1c2goZSl9ZS5fY2FjaGVJbmRleD1pLmxlbmd0aCxpLnB1c2goZSksYS5hY3Rpb25CeVJvb3Rbbl09ZX1fcmVtb3ZlSW5hY3RpdmVBY3Rpb24oZSl7Y29uc3QgdD10aGlzLl9hY3Rpb25zLG49dFt0Lmxlbmd0aC0xXSxpPWUuX2NhY2hlSW5kZXg7bi5fY2FjaGVJbmRleD1pLHRbaV09bix0LnBvcCgpLGUuX2NhY2hlSW5kZXg9bnVsbDtjb25zdCByPWUuX2NsaXAudXVpZCxhPXRoaXMuX2FjdGlvbnNCeUNsaXAsbz1hW3JdLGw9by5rbm93bkFjdGlvbnMsYz1sW2wubGVuZ3RoLTFdLGg9ZS5fYnlDbGlwQ2FjaGVJbmRleDtjLl9ieUNsaXBDYWNoZUluZGV4PWgsbFtoXT1jLGwucG9wKCksZS5fYnlDbGlwQ2FjaGVJbmRleD1udWxsO2NvbnN0IHU9by5hY3Rpb25CeVJvb3QsZD0oZS5fbG9jYWxSb290fHx0aGlzLl9yb290KS51dWlkO2RlbGV0ZSB1W2RdLGwubGVuZ3RoPT09MCYmZGVsZXRlIGFbcl0sdGhpcy5fcmVtb3ZlSW5hY3RpdmVCaW5kaW5nc0ZvckFjdGlvbihlKX1fcmVtb3ZlSW5hY3RpdmVCaW5kaW5nc0ZvckFjdGlvbihlKXtjb25zdCB0PWUuX3Byb3BlcnR5QmluZGluZ3M7Zm9yKGxldCBuPTAsaT10Lmxlbmd0aDtuIT09aTsrK24pe2NvbnN0IHI9dFtuXTstLXIucmVmZXJlbmNlQ291bnQ9PT0wJiZ0aGlzLl9yZW1vdmVJbmFjdGl2ZUJpbmRpbmcocil9fV9sZW5kQWN0aW9uKGUpe2NvbnN0IHQ9dGhpcy5fYWN0aW9ucyxuPWUuX2NhY2hlSW5kZXgsaT10aGlzLl9uQWN0aXZlQWN0aW9ucysrLHI9dFtpXTtlLl9jYWNoZUluZGV4PWksdFtpXT1lLHIuX2NhY2hlSW5kZXg9bix0W25dPXJ9X3Rha2VCYWNrQWN0aW9uKGUpe2NvbnN0IHQ9dGhpcy5fYWN0aW9ucyxuPWUuX2NhY2hlSW5kZXgsaT0tLXRoaXMuX25BY3RpdmVBY3Rpb25zLHI9dFtpXTtlLl9jYWNoZUluZGV4PWksdFtpXT1lLHIuX2NhY2hlSW5kZXg9bix0W25dPXJ9X2FkZEluYWN0aXZlQmluZGluZyhlLHQsbil7Y29uc3QgaT10aGlzLl9iaW5kaW5nc0J5Um9vdEFuZE5hbWUscj10aGlzLl9iaW5kaW5ncztsZXQgYT1pW3RdO2E9PT12b2lkIDAmJihhPXt9LGlbdF09YSksYVtuXT1lLGUuX2NhY2hlSW5kZXg9ci5sZW5ndGgsci5wdXNoKGUpfV9yZW1vdmVJbmFjdGl2ZUJpbmRpbmcoZSl7Y29uc3QgdD10aGlzLl9iaW5kaW5ncyxuPWUuYmluZGluZyxpPW4ucm9vdE5vZGUudXVpZCxyPW4ucGF0aCxhPXRoaXMuX2JpbmRpbmdzQnlSb290QW5kTmFtZSxvPWFbaV0sbD10W3QubGVuZ3RoLTFdLGM9ZS5fY2FjaGVJbmRleDtsLl9jYWNoZUluZGV4PWMsdFtjXT1sLHQucG9wKCksZGVsZXRlIG9bcl0sT2JqZWN0LmtleXMobykubGVuZ3RoPT09MCYmZGVsZXRlIGFbaV19X2xlbmRCaW5kaW5nKGUpe2NvbnN0IHQ9dGhpcy5fYmluZGluZ3Msbj1lLl9jYWNoZUluZGV4LGk9dGhpcy5fbkFjdGl2ZUJpbmRpbmdzKysscj10W2ldO2UuX2NhY2hlSW5kZXg9aSx0W2ldPWUsci5fY2FjaGVJbmRleD1uLHRbbl09cn1fdGFrZUJhY2tCaW5kaW5nKGUpe2NvbnN0IHQ9dGhpcy5fYmluZGluZ3Msbj1lLl9jYWNoZUluZGV4LGk9LS10aGlzLl9uQWN0aXZlQmluZGluZ3Mscj10W2ldO2UuX2NhY2hlSW5kZXg9aSx0W2ldPWUsci5fY2FjaGVJbmRleD1uLHRbbl09cn1fbGVuZENvbnRyb2xJbnRlcnBvbGFudCgpe2NvbnN0IGU9dGhpcy5fY29udHJvbEludGVycG9sYW50cyx0PXRoaXMuX25BY3RpdmVDb250cm9sSW50ZXJwb2xhbnRzKys7bGV0IG49ZVt0XTtyZXR1cm4gbj09PXZvaWQgMCYmKG49bmV3IExpbmVhckludGVycG9sYW50KG5ldyBGbG9hdDMyQXJyYXkoMiksbmV3IEZsb2F0MzJBcnJheSgyKSwxLHRoaXMuX2NvbnRyb2xJbnRlcnBvbGFudHNSZXN1bHRCdWZmZXIpLG4uX19jYWNoZUluZGV4PXQsZVt0XT1uKSxufV90YWtlQmFja0NvbnRyb2xJbnRlcnBvbGFudChlKXtjb25zdCB0PXRoaXMuX2NvbnRyb2xJbnRlcnBvbGFudHMsbj1lLl9fY2FjaGVJbmRleCxpPS0tdGhpcy5fbkFjdGl2ZUNvbnRyb2xJbnRlcnBvbGFudHMscj10W2ldO2UuX19jYWNoZUluZGV4PWksdFtpXT1lLHIuX19jYWNoZUluZGV4PW4sdFtuXT1yfWNsaXBBY3Rpb24oZSx0LG4pe2NvbnN0IGk9dHx8dGhpcy5fcm9vdCxyPWkudXVpZDtsZXQgYT10eXBlb2YgZT09InN0cmluZyI/QW5pbWF0aW9uQ2xpcC5maW5kQnlOYW1lKGksZSk6ZTtjb25zdCBvPWEhPT1udWxsP2EudXVpZDplLGw9dGhpcy5fYWN0aW9uc0J5Q2xpcFtvXTtsZXQgYz1udWxsO2lmKG49PT12b2lkIDAmJihhIT09bnVsbD9uPWEuYmxlbmRNb2RlOm49MjUwMCksbCE9PXZvaWQgMCl7Y29uc3QgdT1sLmFjdGlvbkJ5Um9vdFtyXTtpZih1IT09dm9pZCAwJiZ1LmJsZW5kTW9kZT09PW4pcmV0dXJuIHU7Yz1sLmtub3duQWN0aW9uc1swXSxhPT09bnVsbCYmKGE9Yy5fY2xpcCl9aWYoYT09PW51bGwpcmV0dXJuIG51bGw7Y29uc3QgaD1uZXcgQW5pbWF0aW9uQWN0aW9uKHRoaXMsYSx0LG4pO3JldHVybiB0aGlzLl9iaW5kQWN0aW9uKGgsYyksdGhpcy5fYWRkSW5hY3RpdmVBY3Rpb24oaCxvLHIpLGh9ZXhpc3RpbmdBY3Rpb24oZSx0KXtjb25zdCBuPXR8fHRoaXMuX3Jvb3QsaT1uLnV1aWQscj10eXBlb2YgZT09InN0cmluZyI/QW5pbWF0aW9uQ2xpcC5maW5kQnlOYW1lKG4sZSk6ZSxhPXI/ci51dWlkOmUsbz10aGlzLl9hY3Rpb25zQnlDbGlwW2FdO3JldHVybiBvIT09dm9pZCAwJiZvLmFjdGlvbkJ5Um9vdFtpXXx8bnVsbH1zdG9wQWxsQWN0aW9uKCl7Y29uc3QgZT10aGlzLl9hY3Rpb25zLHQ9dGhpcy5fbkFjdGl2ZUFjdGlvbnM7Zm9yKGxldCBuPXQtMTtuPj0wOy0tbillW25dLnN0b3AoKTtyZXR1cm4gdGhpc311cGRhdGUoZSl7ZSo9dGhpcy50aW1lU2NhbGU7Y29uc3QgdD10aGlzLl9hY3Rpb25zLG49dGhpcy5fbkFjdGl2ZUFjdGlvbnMsaT10aGlzLnRpbWUrPWUscj1NYXRoLnNpZ24oZSksYT10aGlzLl9hY2N1SW5kZXhePTE7Zm9yKGxldCBjPTA7YyE9PW47KytjKXRbY10uX3VwZGF0ZShpLGUscixhKTtjb25zdCBvPXRoaXMuX2JpbmRpbmdzLGw9dGhpcy5fbkFjdGl2ZUJpbmRpbmdzO2ZvcihsZXQgYz0wO2MhPT1sOysrYylvW2NdLmFwcGx5KGEpO3JldHVybiB0aGlzfXNldFRpbWUoZSl7dGhpcy50aW1lPTA7Zm9yKGxldCB0PTA7dDx0aGlzLl9hY3Rpb25zLmxlbmd0aDt0KyspdGhpcy5fYWN0aW9uc1t0XS50aW1lPTA7cmV0dXJuIHRoaXMudXBkYXRlKGUpfWdldFJvb3QoKXtyZXR1cm4gdGhpcy5fcm9vdH11bmNhY2hlQ2xpcChlKXtjb25zdCB0PXRoaXMuX2FjdGlvbnMsbj1lLnV1aWQsaT10aGlzLl9hY3Rpb25zQnlDbGlwLHI9aVtuXTtpZihyIT09dm9pZCAwKXtjb25zdCBhPXIua25vd25BY3Rpb25zO2ZvcihsZXQgbz0wLGw9YS5sZW5ndGg7byE9PWw7KytvKXtjb25zdCBjPWFbb107dGhpcy5fZGVhY3RpdmF0ZUFjdGlvbihjKTtjb25zdCBoPWMuX2NhY2hlSW5kZXgsdT10W3QubGVuZ3RoLTFdO2MuX2NhY2hlSW5kZXg9bnVsbCxjLl9ieUNsaXBDYWNoZUluZGV4PW51bGwsdS5fY2FjaGVJbmRleD1oLHRbaF09dSx0LnBvcCgpLHRoaXMuX3JlbW92ZUluYWN0aXZlQmluZGluZ3NGb3JBY3Rpb24oYyl9ZGVsZXRlIGlbbl19fXVuY2FjaGVSb290KGUpe2NvbnN0IHQ9ZS51dWlkLG49dGhpcy5fYWN0aW9uc0J5Q2xpcDtmb3IoY29uc3QgYSBpbiBuKXtjb25zdCBvPW5bYV0uYWN0aW9uQnlSb290LGw9b1t0XTtsIT09dm9pZCAwJiYodGhpcy5fZGVhY3RpdmF0ZUFjdGlvbihsKSx0aGlzLl9yZW1vdmVJbmFjdGl2ZUFjdGlvbihsKSl9Y29uc3QgaT10aGlzLl9iaW5kaW5nc0J5Um9vdEFuZE5hbWUscj1pW3RdO2lmKHIhPT12b2lkIDApZm9yKGNvbnN0IGEgaW4gcil7Y29uc3Qgbz1yW2FdO28ucmVzdG9yZU9yaWdpbmFsU3RhdGUoKSx0aGlzLl9yZW1vdmVJbmFjdGl2ZUJpbmRpbmcobyl9fXVuY2FjaGVBY3Rpb24oZSx0KXtjb25zdCBuPXRoaXMuZXhpc3RpbmdBY3Rpb24oZSx0KTtuIT09bnVsbCYmKHRoaXMuX2RlYWN0aXZhdGVBY3Rpb24obiksdGhpcy5fcmVtb3ZlSW5hY3RpdmVBY3Rpb24obikpfX1BbmltYXRpb25NaXhlci5wcm90b3R5cGUuX2NvbnRyb2xJbnRlcnBvbGFudHNSZXN1bHRCdWZmZXI9bmV3IEZsb2F0MzJBcnJheSgxKTtjbGFzcyBJbnN0YW5jZWRJbnRlcmxlYXZlZEJ1ZmZlciBleHRlbmRzIEludGVybGVhdmVkQnVmZmVye2NvbnN0cnVjdG9yKGUsdCxuPTEpe3N1cGVyKGUsdCk7dGhpcy5tZXNoUGVyQXR0cmlidXRlPW59Y29weShlKXtyZXR1cm4gc3VwZXIuY29weShlKSx0aGlzLm1lc2hQZXJBdHRyaWJ1dGU9ZS5tZXNoUGVyQXR0cmlidXRlLHRoaXN9Y2xvbmUoZSl7Y29uc3QgdD1zdXBlci5jbG9uZShlKTtyZXR1cm4gdC5tZXNoUGVyQXR0cmlidXRlPXRoaXMubWVzaFBlckF0dHJpYnV0ZSx0fXRvSlNPTihlKXtjb25zdCB0PXN1cGVyLnRvSlNPTihlKTtyZXR1cm4gdC5pc0luc3RhbmNlZEludGVybGVhdmVkQnVmZmVyPSEwLHQubWVzaFBlckF0dHJpYnV0ZT10aGlzLm1lc2hQZXJBdHRyaWJ1dGUsdH19SW5zdGFuY2VkSW50ZXJsZWF2ZWRCdWZmZXIucHJvdG90eXBlLmlzSW5zdGFuY2VkSW50ZXJsZWF2ZWRCdWZmZXI9ITA7Y29uc3QgX3ZlY3RvciQyPW5ldyBWZWN0b3IzLF9ib25lTWF0cml4PW5ldyBNYXRyaXg0LF9tYXRyaXhXb3JsZEludj1uZXcgTWF0cml4NDtjbGFzcyBTa2VsZXRvbkhlbHBlciBleHRlbmRzIExpbmVTZWdtZW50c3tjb25zdHJ1Y3RvcihlKXtjb25zdCB0PWdldEJvbmVMaXN0KGUpLG49bmV3IEJ1ZmZlckdlb21ldHJ5LGk9W10scj1bXSxhPW5ldyBDb2xvcigwLDAsMSksbz1uZXcgQ29sb3IoMCwxLDApO2ZvcihsZXQgYz0wO2M8dC5sZW5ndGg7YysrKXtjb25zdCBoPXRbY107aC5wYXJlbnQmJmgucGFyZW50LmlzQm9uZSYmKGkucHVzaCgwLDAsMCksaS5wdXNoKDAsMCwwKSxyLnB1c2goYS5yLGEuZyxhLmIpLHIucHVzaChvLnIsby5nLG8uYikpfW4uc2V0QXR0cmlidXRlKCJwb3NpdGlvbiIsbmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUoaSwzKSksbi5zZXRBdHRyaWJ1dGUoImNvbG9yIixuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZShyLDMpKTtjb25zdCBsPW5ldyBMaW5lQmFzaWNNYXRlcmlhbCh7dmVydGV4Q29sb3JzOiEwLGRlcHRoVGVzdDohMSxkZXB0aFdyaXRlOiExLHRvbmVNYXBwZWQ6ITEsdHJhbnNwYXJlbnQ6ITB9KTtzdXBlcihuLGwpO3RoaXMudHlwZT0iU2tlbGV0b25IZWxwZXIiLHRoaXMuaXNTa2VsZXRvbkhlbHBlcj0hMCx0aGlzLnJvb3Q9ZSx0aGlzLmJvbmVzPXQsdGhpcy5tYXRyaXg9ZS5tYXRyaXhXb3JsZCx0aGlzLm1hdHJpeEF1dG9VcGRhdGU9ITF9dXBkYXRlTWF0cml4V29ybGQoZSl7Y29uc3QgdD10aGlzLmJvbmVzLG49dGhpcy5nZW9tZXRyeSxpPW4uZ2V0QXR0cmlidXRlKCJwb3NpdGlvbiIpO19tYXRyaXhXb3JsZEludi5jb3B5KHRoaXMucm9vdC5tYXRyaXhXb3JsZCkuaW52ZXJ0KCk7Zm9yKGxldCByPTAsYT0wO3I8dC5sZW5ndGg7cisrKXtjb25zdCBvPXRbcl07by5wYXJlbnQmJm8ucGFyZW50LmlzQm9uZSYmKF9ib25lTWF0cml4Lm11bHRpcGx5TWF0cmljZXMoX21hdHJpeFdvcmxkSW52LG8ubWF0cml4V29ybGQpLF92ZWN0b3IkMi5zZXRGcm9tTWF0cml4UG9zaXRpb24oX2JvbmVNYXRyaXgpLGkuc2V0WFlaKGEsX3ZlY3RvciQyLngsX3ZlY3RvciQyLnksX3ZlY3RvciQyLnopLF9ib25lTWF0cml4Lm11bHRpcGx5TWF0cmljZXMoX21hdHJpeFdvcmxkSW52LG8ucGFyZW50Lm1hdHJpeFdvcmxkKSxfdmVjdG9yJDIuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKF9ib25lTWF0cml4KSxpLnNldFhZWihhKzEsX3ZlY3RvciQyLngsX3ZlY3RvciQyLnksX3ZlY3RvciQyLnopLGErPTIpfW4uZ2V0QXR0cmlidXRlKCJwb3NpdGlvbiIpLm5lZWRzVXBkYXRlPSEwLHN1cGVyLnVwZGF0ZU1hdHJpeFdvcmxkKGUpfX1mdW5jdGlvbiBnZXRCb25lTGlzdChzKXtjb25zdCBlPVtdO3MuaXNCb25lPT09ITAmJmUucHVzaChzKTtmb3IobGV0IHQ9MDt0PHMuY2hpbGRyZW4ubGVuZ3RoO3QrKyllLnB1c2guYXBwbHkoZSxnZXRCb25lTGlzdChzLmNoaWxkcmVuW3RdKSk7cmV0dXJuIGV9Y2xhc3MgR3JpZEhlbHBlciBleHRlbmRzIExpbmVTZWdtZW50c3tjb25zdHJ1Y3RvcihlPTEwLHQ9MTAsbj00NDczOTI0LGk9ODk0Nzg0OCl7bj1uZXcgQ29sb3IobiksaT1uZXcgQ29sb3IoaSk7Y29uc3Qgcj10LzIsYT1lL3Qsbz1lLzIsbD1bXSxjPVtdO2ZvcihsZXQgZD0wLGY9MCxnPS1vO2Q8PXQ7ZCsrLGcrPWEpe2wucHVzaCgtbywwLGcsbywwLGcpLGwucHVzaChnLDAsLW8sZywwLG8pO2NvbnN0IF89ZD09PXI/bjppO18udG9BcnJheShjLGYpLGYrPTMsXy50b0FycmF5KGMsZiksZis9MyxfLnRvQXJyYXkoYyxmKSxmKz0zLF8udG9BcnJheShjLGYpLGYrPTN9Y29uc3QgaD1uZXcgQnVmZmVyR2VvbWV0cnk7aC5zZXRBdHRyaWJ1dGUoInBvc2l0aW9uIixuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZShsLDMpKSxoLnNldEF0dHJpYnV0ZSgiY29sb3IiLG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKGMsMykpO2NvbnN0IHU9bmV3IExpbmVCYXNpY01hdGVyaWFsKHt2ZXJ0ZXhDb2xvcnM6ITAsdG9uZU1hcHBlZDohMX0pO3N1cGVyKGgsdSk7dGhpcy50eXBlPSJHcmlkSGVscGVyIn19Y29uc3QgX2Zsb2F0Vmlldz1uZXcgRmxvYXQzMkFycmF5KDEpO25ldyBJbnQzMkFycmF5KF9mbG9hdFZpZXcuYnVmZmVyKSxDdXJ2ZS5jcmVhdGU9ZnVuY3Rpb24ocyxlKXtyZXR1cm4gY29uc29sZS5sb2coIlRIUkVFLkN1cnZlLmNyZWF0ZSgpIGhhcyBiZWVuIGRlcHJlY2F0ZWQiKSxzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEN1cnZlLnByb3RvdHlwZSkscy5wcm90b3R5cGUuY29uc3RydWN0b3I9cyxzLnByb3RvdHlwZS5nZXRQb2ludD1lLHN9LFBhdGgucHJvdG90eXBlLmZyb21Qb2ludHM9ZnVuY3Rpb24ocyl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuUGF0aDogLmZyb21Qb2ludHMoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5zZXRGcm9tUG9pbnRzKCkuIiksdGhpcy5zZXRGcm9tUG9pbnRzKHMpfSxHcmlkSGVscGVyLnByb3RvdHlwZS5zZXRDb2xvcnM9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5HcmlkSGVscGVyOiBzZXRDb2xvcnMoKSBoYXMgYmVlbiBkZXByZWNhdGVkLCBwYXNzIHRoZW0gaW4gdGhlIGNvbnN0cnVjdG9yIGluc3RlYWQuIil9LFNrZWxldG9uSGVscGVyLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5Ta2VsZXRvbkhlbHBlcjogdXBkYXRlKCkgbm8gbG9uZ2VyIG5lZWRzIHRvIGJlIGNhbGxlZC4iKX0sTG9hZGVyLnByb3RvdHlwZS5leHRyYWN0VXJsQmFzZT1mdW5jdGlvbihzKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5Mb2FkZXI6IC5leHRyYWN0VXJsQmFzZSgpIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSBUSFJFRS5Mb2FkZXJVdGlscy5leHRyYWN0VXJsQmFzZSgpIGluc3RlYWQuIiksTG9hZGVyVXRpbHMuZXh0cmFjdFVybEJhc2Uocyl9LExvYWRlci5IYW5kbGVycz17YWRkOmZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcigiVEhSRUUuTG9hZGVyOiBIYW5kbGVycy5hZGQoKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgTG9hZGluZ01hbmFnZXIuYWRkSGFuZGxlcigpIGluc3RlYWQuIil9LGdldDpmdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLkxvYWRlcjogSGFuZGxlcnMuZ2V0KCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIExvYWRpbmdNYW5hZ2VyLmdldEhhbmRsZXIoKSBpbnN0ZWFkLiIpfX0sQm94My5wcm90b3R5cGUuY2VudGVyPWZ1bmN0aW9uKHMpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLkJveDM6IC5jZW50ZXIoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5nZXRDZW50ZXIoKS4iKSx0aGlzLmdldENlbnRlcihzKX0sQm94My5wcm90b3R5cGUuZW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5Cb3gzOiAuZW1wdHkoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5pc0VtcHR5KCkuIiksdGhpcy5pc0VtcHR5KCl9LEJveDMucHJvdG90eXBlLmlzSW50ZXJzZWN0aW9uQm94PWZ1bmN0aW9uKHMpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLkJveDM6IC5pc0ludGVyc2VjdGlvbkJveCgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmludGVyc2VjdHNCb3goKS4iKSx0aGlzLmludGVyc2VjdHNCb3gocyl9LEJveDMucHJvdG90eXBlLmlzSW50ZXJzZWN0aW9uU3BoZXJlPWZ1bmN0aW9uKHMpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLkJveDM6IC5pc0ludGVyc2VjdGlvblNwaGVyZSgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmludGVyc2VjdHNTcGhlcmUoKS4iKSx0aGlzLmludGVyc2VjdHNTcGhlcmUocyl9LEJveDMucHJvdG90eXBlLnNpemU9ZnVuY3Rpb24ocyl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuQm94MzogLnNpemUoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5nZXRTaXplKCkuIiksdGhpcy5nZXRTaXplKHMpfSxFdWxlci5wcm90b3R5cGUudG9WZWN0b3IzPWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcigiVEhSRUUuRXVsZXI6IC50b1ZlY3RvcjMoKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgVmVjdG9yMy5zZXRGcm9tRXVsZXIoKSBpbnN0ZWFkIil9LFNwaGVyZS5wcm90b3R5cGUuZW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5TcGhlcmU6IC5lbXB0eSgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmlzRW1wdHkoKS4iKSx0aGlzLmlzRW1wdHkoKX0sRnJ1c3R1bS5wcm90b3R5cGUuc2V0RnJvbU1hdHJpeD1mdW5jdGlvbihzKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5GcnVzdHVtOiAuc2V0RnJvbU1hdHJpeCgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLnNldEZyb21Qcm9qZWN0aW9uTWF0cml4KCkuIiksdGhpcy5zZXRGcm9tUHJvamVjdGlvbk1hdHJpeChzKX0sTWF0cml4My5wcm90b3R5cGUuZmxhdHRlblRvQXJyYXlPZmZzZXQ9ZnVuY3Rpb24ocyxlKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5NYXRyaXgzOiAuZmxhdHRlblRvQXJyYXlPZmZzZXQoKSBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLnRvQXJyYXkoKSBpbnN0ZWFkLiIpLHRoaXMudG9BcnJheShzLGUpfSxNYXRyaXgzLnByb3RvdHlwZS5tdWx0aXBseVZlY3RvcjM9ZnVuY3Rpb24ocyl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuTWF0cml4MzogLm11bHRpcGx5VmVjdG9yMygpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSB2ZWN0b3IuYXBwbHlNYXRyaXgzKCBtYXRyaXggKSBpbnN0ZWFkLiIpLHMuYXBwbHlNYXRyaXgzKHRoaXMpfSxNYXRyaXgzLnByb3RvdHlwZS5tdWx0aXBseVZlY3RvcjNBcnJheT1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLk1hdHJpeDM6IC5tdWx0aXBseVZlY3RvcjNBcnJheSgpIGhhcyBiZWVuIHJlbW92ZWQuIil9LE1hdHJpeDMucHJvdG90eXBlLmFwcGx5VG9CdWZmZXJBdHRyaWJ1dGU9ZnVuY3Rpb24ocyl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuTWF0cml4MzogLmFwcGx5VG9CdWZmZXJBdHRyaWJ1dGUoKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgYXR0cmlidXRlLmFwcGx5TWF0cml4MyggbWF0cml4ICkgaW5zdGVhZC4iKSxzLmFwcGx5TWF0cml4Myh0aGlzKX0sTWF0cml4My5wcm90b3R5cGUuYXBwbHlUb1ZlY3RvcjNBcnJheT1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLk1hdHJpeDM6IC5hcHBseVRvVmVjdG9yM0FycmF5KCkgaGFzIGJlZW4gcmVtb3ZlZC4iKX0sTWF0cml4My5wcm90b3R5cGUuZ2V0SW52ZXJzZT1mdW5jdGlvbihzKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5NYXRyaXgzOiAuZ2V0SW52ZXJzZSgpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBtYXRyaXhJbnYuY29weSggbWF0cml4ICkuaW52ZXJ0KCk7IGluc3RlYWQuIiksdGhpcy5jb3B5KHMpLmludmVydCgpfSxNYXRyaXg0LnByb3RvdHlwZS5leHRyYWN0UG9zaXRpb249ZnVuY3Rpb24ocyl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuTWF0cml4NDogLmV4dHJhY3RQb3NpdGlvbigpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmNvcHlQb3NpdGlvbigpLiIpLHRoaXMuY29weVBvc2l0aW9uKHMpfSxNYXRyaXg0LnByb3RvdHlwZS5mbGF0dGVuVG9BcnJheU9mZnNldD1mdW5jdGlvbihzLGUpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLk1hdHJpeDQ6IC5mbGF0dGVuVG9BcnJheU9mZnNldCgpIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAudG9BcnJheSgpIGluc3RlYWQuIiksdGhpcy50b0FycmF5KHMsZSl9LE1hdHJpeDQucHJvdG90eXBlLmdldFBvc2l0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuTWF0cml4NDogLmdldFBvc2l0aW9uKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIFZlY3RvcjMuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKCBtYXRyaXggKSBpbnN0ZWFkLiIpLG5ldyBWZWN0b3IzKCkuc2V0RnJvbU1hdHJpeENvbHVtbih0aGlzLDMpfSxNYXRyaXg0LnByb3RvdHlwZS5zZXRSb3RhdGlvbkZyb21RdWF0ZXJuaW9uPWZ1bmN0aW9uKHMpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLk1hdHJpeDQ6IC5zZXRSb3RhdGlvbkZyb21RdWF0ZXJuaW9uKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAubWFrZVJvdGF0aW9uRnJvbVF1YXRlcm5pb24oKS4iKSx0aGlzLm1ha2VSb3RhdGlvbkZyb21RdWF0ZXJuaW9uKHMpfSxNYXRyaXg0LnByb3RvdHlwZS5tdWx0aXBseVRvQXJyYXk9ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLk1hdHJpeDQ6IC5tdWx0aXBseVRvQXJyYXkoKSBoYXMgYmVlbiByZW1vdmVkLiIpfSxNYXRyaXg0LnByb3RvdHlwZS5tdWx0aXBseVZlY3RvcjM9ZnVuY3Rpb24ocyl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuTWF0cml4NDogLm11bHRpcGx5VmVjdG9yMygpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSB2ZWN0b3IuYXBwbHlNYXRyaXg0KCBtYXRyaXggKSBpbnN0ZWFkLiIpLHMuYXBwbHlNYXRyaXg0KHRoaXMpfSxNYXRyaXg0LnByb3RvdHlwZS5tdWx0aXBseVZlY3RvcjQ9ZnVuY3Rpb24ocyl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuTWF0cml4NDogLm11bHRpcGx5VmVjdG9yNCgpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSB2ZWN0b3IuYXBwbHlNYXRyaXg0KCBtYXRyaXggKSBpbnN0ZWFkLiIpLHMuYXBwbHlNYXRyaXg0KHRoaXMpfSxNYXRyaXg0LnByb3RvdHlwZS5tdWx0aXBseVZlY3RvcjNBcnJheT1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLk1hdHJpeDQ6IC5tdWx0aXBseVZlY3RvcjNBcnJheSgpIGhhcyBiZWVuIHJlbW92ZWQuIil9LE1hdHJpeDQucHJvdG90eXBlLnJvdGF0ZUF4aXM9ZnVuY3Rpb24ocyl7Y29uc29sZS53YXJuKCJUSFJFRS5NYXRyaXg0OiAucm90YXRlQXhpcygpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBWZWN0b3IzLnRyYW5zZm9ybURpcmVjdGlvbiggbWF0cml4ICkgaW5zdGVhZC4iKSxzLnRyYW5zZm9ybURpcmVjdGlvbih0aGlzKX0sTWF0cml4NC5wcm90b3R5cGUuY3Jvc3NWZWN0b3I9ZnVuY3Rpb24ocyl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuTWF0cml4NDogLmNyb3NzVmVjdG9yKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIHZlY3Rvci5hcHBseU1hdHJpeDQoIG1hdHJpeCApIGluc3RlYWQuIikscy5hcHBseU1hdHJpeDQodGhpcyl9LE1hdHJpeDQucHJvdG90eXBlLnRyYW5zbGF0ZT1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLk1hdHJpeDQ6IC50cmFuc2xhdGUoKSBoYXMgYmVlbiByZW1vdmVkLiIpfSxNYXRyaXg0LnByb3RvdHlwZS5yb3RhdGVYPWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcigiVEhSRUUuTWF0cml4NDogLnJvdGF0ZVgoKSBoYXMgYmVlbiByZW1vdmVkLiIpfSxNYXRyaXg0LnByb3RvdHlwZS5yb3RhdGVZPWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcigiVEhSRUUuTWF0cml4NDogLnJvdGF0ZVkoKSBoYXMgYmVlbiByZW1vdmVkLiIpfSxNYXRyaXg0LnByb3RvdHlwZS5yb3RhdGVaPWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcigiVEhSRUUuTWF0cml4NDogLnJvdGF0ZVooKSBoYXMgYmVlbiByZW1vdmVkLiIpfSxNYXRyaXg0LnByb3RvdHlwZS5yb3RhdGVCeUF4aXM9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5NYXRyaXg0OiAucm90YXRlQnlBeGlzKCkgaGFzIGJlZW4gcmVtb3ZlZC4iKX0sTWF0cml4NC5wcm90b3R5cGUuYXBwbHlUb0J1ZmZlckF0dHJpYnV0ZT1mdW5jdGlvbihzKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5NYXRyaXg0OiAuYXBwbHlUb0J1ZmZlckF0dHJpYnV0ZSgpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBhdHRyaWJ1dGUuYXBwbHlNYXRyaXg0KCBtYXRyaXggKSBpbnN0ZWFkLiIpLHMuYXBwbHlNYXRyaXg0KHRoaXMpfSxNYXRyaXg0LnByb3RvdHlwZS5hcHBseVRvVmVjdG9yM0FycmF5PWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcigiVEhSRUUuTWF0cml4NDogLmFwcGx5VG9WZWN0b3IzQXJyYXkoKSBoYXMgYmVlbiByZW1vdmVkLiIpfSxNYXRyaXg0LnByb3RvdHlwZS5tYWtlRnJ1c3R1bT1mdW5jdGlvbihzLGUsdCxuLGkscil7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuTWF0cml4NDogLm1ha2VGcnVzdHVtKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIC5tYWtlUGVyc3BlY3RpdmUoIGxlZnQsIHJpZ2h0LCB0b3AsIGJvdHRvbSwgbmVhciwgZmFyICkgaW5zdGVhZC4iKSx0aGlzLm1ha2VQZXJzcGVjdGl2ZShzLGUsbix0LGkscil9LE1hdHJpeDQucHJvdG90eXBlLmdldEludmVyc2U9ZnVuY3Rpb24ocyl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuTWF0cml4NDogLmdldEludmVyc2UoKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgbWF0cml4SW52LmNvcHkoIG1hdHJpeCApLmludmVydCgpOyBpbnN0ZWFkLiIpLHRoaXMuY29weShzKS5pbnZlcnQoKX0sUGxhbmUucHJvdG90eXBlLmlzSW50ZXJzZWN0aW9uTGluZT1mdW5jdGlvbihzKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5QbGFuZTogLmlzSW50ZXJzZWN0aW9uTGluZSgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmludGVyc2VjdHNMaW5lKCkuIiksdGhpcy5pbnRlcnNlY3RzTGluZShzKX0sUXVhdGVybmlvbi5wcm90b3R5cGUubXVsdGlwbHlWZWN0b3IzPWZ1bmN0aW9uKHMpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlF1YXRlcm5pb246IC5tdWx0aXBseVZlY3RvcjMoKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgaXMgbm93IHZlY3Rvci5hcHBseVF1YXRlcm5pb24oIHF1YXRlcm5pb24gKSBpbnN0ZWFkLiIpLHMuYXBwbHlRdWF0ZXJuaW9uKHRoaXMpfSxRdWF0ZXJuaW9uLnByb3RvdHlwZS5pbnZlcnNlPWZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuUXVhdGVybmlvbjogLmludmVyc2UoKSBoYXMgYmVlbiByZW5hbWVkIHRvIGludmVydCgpLiIpLHRoaXMuaW52ZXJ0KCl9LFJheS5wcm90b3R5cGUuaXNJbnRlcnNlY3Rpb25Cb3g9ZnVuY3Rpb24ocyl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuUmF5OiAuaXNJbnRlcnNlY3Rpb25Cb3goKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5pbnRlcnNlY3RzQm94KCkuIiksdGhpcy5pbnRlcnNlY3RzQm94KHMpfSxSYXkucHJvdG90eXBlLmlzSW50ZXJzZWN0aW9uUGxhbmU9ZnVuY3Rpb24ocyl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuUmF5OiAuaXNJbnRlcnNlY3Rpb25QbGFuZSgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmludGVyc2VjdHNQbGFuZSgpLiIpLHRoaXMuaW50ZXJzZWN0c1BsYW5lKHMpfSxSYXkucHJvdG90eXBlLmlzSW50ZXJzZWN0aW9uU3BoZXJlPWZ1bmN0aW9uKHMpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlJheTogLmlzSW50ZXJzZWN0aW9uU3BoZXJlKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuaW50ZXJzZWN0c1NwaGVyZSgpLiIpLHRoaXMuaW50ZXJzZWN0c1NwaGVyZShzKX0sVHJpYW5nbGUucHJvdG90eXBlLmFyZWE9ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5UcmlhbmdsZTogLmFyZWEoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5nZXRBcmVhKCkuIiksdGhpcy5nZXRBcmVhKCl9LFRyaWFuZ2xlLnByb3RvdHlwZS5iYXJ5Y29vcmRGcm9tUG9pbnQ9ZnVuY3Rpb24ocyxlKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5UcmlhbmdsZTogLmJhcnljb29yZEZyb21Qb2ludCgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmdldEJhcnljb29yZCgpLiIpLHRoaXMuZ2V0QmFyeWNvb3JkKHMsZSl9LFRyaWFuZ2xlLnByb3RvdHlwZS5taWRwb2ludD1mdW5jdGlvbihzKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5UcmlhbmdsZTogLm1pZHBvaW50KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuZ2V0TWlkcG9pbnQoKS4iKSx0aGlzLmdldE1pZHBvaW50KHMpfSxUcmlhbmdsZS5wcm90b3R5cGVub3JtYWw9ZnVuY3Rpb24ocyl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuVHJpYW5nbGU6IC5ub3JtYWwoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5nZXROb3JtYWwoKS4iKSx0aGlzLmdldE5vcm1hbChzKX0sVHJpYW5nbGUucHJvdG90eXBlLnBsYW5lPWZ1bmN0aW9uKHMpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlRyaWFuZ2xlOiAucGxhbmUoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5nZXRQbGFuZSgpLiIpLHRoaXMuZ2V0UGxhbmUocyl9LFRyaWFuZ2xlLmJhcnljb29yZEZyb21Qb2ludD1mdW5jdGlvbihzLGUsdCxuLGkpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlRyaWFuZ2xlOiAuYmFyeWNvb3JkRnJvbVBvaW50KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuZ2V0QmFyeWNvb3JkKCkuIiksVHJpYW5nbGUuZ2V0QmFyeWNvb3JkKHMsZSx0LG4saSl9LFRyaWFuZ2xlLm5vcm1hbD1mdW5jdGlvbihzLGUsdCxuKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5UcmlhbmdsZTogLm5vcm1hbCgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmdldE5vcm1hbCgpLiIpLFRyaWFuZ2xlLmdldE5vcm1hbChzLGUsdCxuKX0sU2hhcGUucHJvdG90eXBlLmV4dHJhY3RBbGxQb2ludHM9ZnVuY3Rpb24ocyl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuU2hhcGU6IC5leHRyYWN0QWxsUG9pbnRzKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIC5leHRyYWN0UG9pbnRzKCkgaW5zdGVhZC4iKSx0aGlzLmV4dHJhY3RQb2ludHMocyl9LFNoYXBlLnByb3RvdHlwZS5leHRydWRlPWZ1bmN0aW9uKHMpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlNoYXBlOiAuZXh0cnVkZSgpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBFeHRydWRlR2VvbWV0cnkoKSBpbnN0ZWFkLiIpLG5ldyBFeHRydWRlR2VvbWV0cnkodGhpcyxzKX0sU2hhcGUucHJvdG90eXBlLm1ha2VHZW9tZXRyeT1mdW5jdGlvbihzKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5TaGFwZTogLm1ha2VHZW9tZXRyeSgpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBTaGFwZUdlb21ldHJ5KCkgaW5zdGVhZC4iKSxuZXcgU2hhcGVHZW9tZXRyeSh0aGlzLHMpfSxWZWN0b3IyLnByb3RvdHlwZS5mcm9tQXR0cmlidXRlPWZ1bmN0aW9uKHMsZSx0KXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5WZWN0b3IyOiAuZnJvbUF0dHJpYnV0ZSgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmZyb21CdWZmZXJBdHRyaWJ1dGUoKS4iKSx0aGlzLmZyb21CdWZmZXJBdHRyaWJ1dGUocyxlLHQpfSxWZWN0b3IyLnByb3RvdHlwZS5kaXN0YW5jZVRvTWFuaGF0dGFuPWZ1bmN0aW9uKHMpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlZlY3RvcjI6IC5kaXN0YW5jZVRvTWFuaGF0dGFuKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAubWFuaGF0dGFuRGlzdGFuY2VUbygpLiIpLHRoaXMubWFuaGF0dGFuRGlzdGFuY2VUbyhzKX0sVmVjdG9yMi5wcm90b3R5cGUubGVuZ3RoTWFuaGF0dGFuPWZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuVmVjdG9yMjogLmxlbmd0aE1hbmhhdHRhbigpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLm1hbmhhdHRhbkxlbmd0aCgpLiIpLHRoaXMubWFuaGF0dGFuTGVuZ3RoKCl9LFZlY3RvcjMucHJvdG90eXBlLnNldEV1bGVyRnJvbVJvdGF0aW9uTWF0cml4PWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcigiVEhSRUUuVmVjdG9yMzogLnNldEV1bGVyRnJvbVJvdGF0aW9uTWF0cml4KCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIEV1bGVyLnNldEZyb21Sb3RhdGlvbk1hdHJpeCgpIGluc3RlYWQuIil9LFZlY3RvcjMucHJvdG90eXBlLnNldEV1bGVyRnJvbVF1YXRlcm5pb249ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5WZWN0b3IzOiAuc2V0RXVsZXJGcm9tUXVhdGVybmlvbigpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBFdWxlci5zZXRGcm9tUXVhdGVybmlvbigpIGluc3RlYWQuIil9LFZlY3RvcjMucHJvdG90eXBlLmdldFBvc2l0aW9uRnJvbU1hdHJpeD1mdW5jdGlvbihzKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5WZWN0b3IzOiAuZ2V0UG9zaXRpb25Gcm9tTWF0cml4KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKCkuIiksdGhpcy5zZXRGcm9tTWF0cml4UG9zaXRpb24ocyl9LFZlY3RvcjMucHJvdG90eXBlLmdldFNjYWxlRnJvbU1hdHJpeD1mdW5jdGlvbihzKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5WZWN0b3IzOiAuZ2V0U2NhbGVGcm9tTWF0cml4KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuc2V0RnJvbU1hdHJpeFNjYWxlKCkuIiksdGhpcy5zZXRGcm9tTWF0cml4U2NhbGUocyl9LFZlY3RvcjMucHJvdG90eXBlLmdldENvbHVtbkZyb21NYXRyaXg9ZnVuY3Rpb24ocyxlKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5WZWN0b3IzOiAuZ2V0Q29sdW1uRnJvbU1hdHJpeCgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLnNldEZyb21NYXRyaXhDb2x1bW4oKS4iKSx0aGlzLnNldEZyb21NYXRyaXhDb2x1bW4oZSxzKX0sVmVjdG9yMy5wcm90b3R5cGUuYXBwbHlQcm9qZWN0aW9uPWZ1bmN0aW9uKHMpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlZlY3RvcjM6IC5hcHBseVByb2plY3Rpb24oKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgLmFwcGx5TWF0cml4NCggbSApIGluc3RlYWQuIiksdGhpcy5hcHBseU1hdHJpeDQocyl9LFZlY3RvcjMucHJvdG90eXBlLmZyb21BdHRyaWJ1dGU9ZnVuY3Rpb24ocyxlLHQpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlZlY3RvcjM6IC5mcm9tQXR0cmlidXRlKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuZnJvbUJ1ZmZlckF0dHJpYnV0ZSgpLiIpLHRoaXMuZnJvbUJ1ZmZlckF0dHJpYnV0ZShzLGUsdCl9LFZlY3RvcjMucHJvdG90eXBlLmRpc3RhbmNlVG9NYW5oYXR0YW49ZnVuY3Rpb24ocyl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuVmVjdG9yMzogLmRpc3RhbmNlVG9NYW5oYXR0YW4oKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5tYW5oYXR0YW5EaXN0YW5jZVRvKCkuIiksdGhpcy5tYW5oYXR0YW5EaXN0YW5jZVRvKHMpfSxWZWN0b3IzLnByb3RvdHlwZS5sZW5ndGhNYW5oYXR0YW49ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5WZWN0b3IzOiAubGVuZ3RoTWFuaGF0dGFuKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAubWFuaGF0dGFuTGVuZ3RoKCkuIiksdGhpcy5tYW5oYXR0YW5MZW5ndGgoKX0sVmVjdG9yNC5wcm90b3R5cGUuZnJvbUF0dHJpYnV0ZT1mdW5jdGlvbihzLGUsdCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuVmVjdG9yNDogLmZyb21BdHRyaWJ1dGUoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5mcm9tQnVmZmVyQXR0cmlidXRlKCkuIiksdGhpcy5mcm9tQnVmZmVyQXR0cmlidXRlKHMsZSx0KX0sVmVjdG9yNC5wcm90b3R5cGUubGVuZ3RoTWFuaGF0dGFuPWZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuVmVjdG9yNDogLmxlbmd0aE1hbmhhdHRhbigpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLm1hbmhhdHRhbkxlbmd0aCgpLiIpLHRoaXMubWFuaGF0dGFuTGVuZ3RoKCl9LE9iamVjdDNELnByb3RvdHlwZS5nZXRDaGlsZEJ5TmFtZT1mdW5jdGlvbihzKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5PYmplY3QzRDogLmdldENoaWxkQnlOYW1lKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuZ2V0T2JqZWN0QnlOYW1lKCkuIiksdGhpcy5nZXRPYmplY3RCeU5hbWUocyl9LE9iamVjdDNELnByb3RvdHlwZS5yZW5kZXJEZXB0aD1mdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuT2JqZWN0M0Q6IC5yZW5kZXJEZXB0aCBoYXMgYmVlbiByZW1vdmVkLiBVc2UgLnJlbmRlck9yZGVyLCBpbnN0ZWFkLiIpfSxPYmplY3QzRC5wcm90b3R5cGUudHJhbnNsYXRlPWZ1bmN0aW9uKHMsZSl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuT2JqZWN0M0Q6IC50cmFuc2xhdGUoKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgLnRyYW5zbGF0ZU9uQXhpcyggYXhpcywgZGlzdGFuY2UgKSBpbnN0ZWFkLiIpLHRoaXMudHJhbnNsYXRlT25BeGlzKGUscyl9LE9iamVjdDNELnByb3RvdHlwZS5nZXRXb3JsZFJvdGF0aW9uPWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcigiVEhSRUUuT2JqZWN0M0Q6IC5nZXRXb3JsZFJvdGF0aW9uKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIFRIUkVFLk9iamVjdDNELmdldFdvcmxkUXVhdGVybmlvbiggdGFyZ2V0ICkgaW5zdGVhZC4iKX0sT2JqZWN0M0QucHJvdG90eXBlLmFwcGx5TWF0cml4PWZ1bmN0aW9uKHMpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLk9iamVjdDNEOiAuYXBwbHlNYXRyaXgoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5hcHBseU1hdHJpeDQoKS4iKSx0aGlzLmFwcGx5TWF0cml4NChzKX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoT2JqZWN0M0QucHJvdG90eXBlLHtldWxlck9yZGVyOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5PYmplY3QzRDogLmV1bGVyT3JkZXIgaXMgbm93IC5yb3RhdGlvbi5vcmRlci4iKSx0aGlzLnJvdGF0aW9uLm9yZGVyfSxzZXQ6ZnVuY3Rpb24ocyl7Y29uc29sZS53YXJuKCJUSFJFRS5PYmplY3QzRDogLmV1bGVyT3JkZXIgaXMgbm93IC5yb3RhdGlvbi5vcmRlci4iKSx0aGlzLnJvdGF0aW9uLm9yZGVyPXN9fSx1c2VRdWF0ZXJuaW9uOntnZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLk9iamVjdDNEOiAudXNlUXVhdGVybmlvbiBoYXMgYmVlbiByZW1vdmVkLiBUaGUgbGlicmFyeSBub3cgdXNlcyBxdWF0ZXJuaW9ucyBieSBkZWZhdWx0LiIpfSxzZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLk9iamVjdDNEOiAudXNlUXVhdGVybmlvbiBoYXMgYmVlbiByZW1vdmVkLiBUaGUgbGlicmFyeSBub3cgdXNlcyBxdWF0ZXJuaW9ucyBieSBkZWZhdWx0LiIpfX19KSxNZXNoLnByb3RvdHlwZS5zZXREcmF3TW9kZT1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLk1lc2g6IC5zZXREcmF3TW9kZSgpIGhhcyBiZWVuIHJlbW92ZWQuIFRoZSByZW5kZXJlciBub3cgYWx3YXlzIGFzc3VtZXMgVEhSRUUuVHJpYW5nbGVzRHJhd01vZGUuIFRyYW5zZm9ybSB5b3VyIGdlb21ldHJ5IHZpYSBCdWZmZXJHZW9tZXRyeVV0aWxzLnRvVHJpYW5nbGVzRHJhd01vZGUoKSBpZiBuZWNlc3NhcnkuIil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKE1lc2gucHJvdG90eXBlLHtkcmF3TW9kZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUuZXJyb3IoIlRIUkVFLk1lc2g6IC5kcmF3TW9kZSBoYXMgYmVlbiByZW1vdmVkLiBUaGUgcmVuZGVyZXIgbm93IGFsd2F5cyBhc3N1bWVzIFRIUkVFLlRyaWFuZ2xlc0RyYXdNb2RlLiIpLDB9LHNldDpmdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLk1lc2g6IC5kcmF3TW9kZSBoYXMgYmVlbiByZW1vdmVkLiBUaGUgcmVuZGVyZXIgbm93IGFsd2F5cyBhc3N1bWVzIFRIUkVFLlRyaWFuZ2xlc0RyYXdNb2RlLiBUcmFuc2Zvcm0geW91ciBnZW9tZXRyeSB2aWEgQnVmZmVyR2VvbWV0cnlVdGlscy50b1RyaWFuZ2xlc0RyYXdNb2RlKCkgaWYgbmVjZXNzYXJ5LiIpfX19KSxTa2lubmVkTWVzaC5wcm90b3R5cGUuaW5pdEJvbmVzPWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcigiVEhSRUUuU2tpbm5lZE1lc2g6IGluaXRCb25lcygpIGhhcyBiZWVuIHJlbW92ZWQuIil9LFBlcnNwZWN0aXZlQ2FtZXJhLnByb3RvdHlwZS5zZXRMZW5zPWZ1bmN0aW9uKHMsZSl7Y29uc29sZS53YXJuKCJUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYS5zZXRMZW5zIGlzIGRlcHJlY2F0ZWQuIFVzZSAuc2V0Rm9jYWxMZW5ndGggYW5kIC5maWxtR2F1Z2UgZm9yIGEgcGhvdG9ncmFwaGljIHNldHVwLiIpLGUhPT12b2lkIDAmJih0aGlzLmZpbG1HYXVnZT1lKSx0aGlzLnNldEZvY2FsTGVuZ3RoKHMpfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhMaWdodC5wcm90b3R5cGUse29ubHlTaGFkb3c6e3NldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuTGlnaHQ6IC5vbmx5U2hhZG93IGhhcyBiZWVuIHJlbW92ZWQuIil9fSxzaGFkb3dDYW1lcmFGb3Y6e3NldDpmdW5jdGlvbihzKXtjb25zb2xlLndhcm4oIlRIUkVFLkxpZ2h0OiAuc2hhZG93Q2FtZXJhRm92IGlzIG5vdyAuc2hhZG93LmNhbWVyYS5mb3YuIiksdGhpcy5zaGFkb3cuY2FtZXJhLmZvdj1zfX0sc2hhZG93Q2FtZXJhTGVmdDp7c2V0OmZ1bmN0aW9uKHMpe2NvbnNvbGUud2FybigiVEhSRUUuTGlnaHQ6IC5zaGFkb3dDYW1lcmFMZWZ0IGlzIG5vdyAuc2hhZG93LmNhbWVyYS5sZWZ0LiIpLHRoaXMuc2hhZG93LmNhbWVyYS5sZWZ0PXN9fSxzaGFkb3dDYW1lcmFSaWdodDp7c2V0OmZ1bmN0aW9uKHMpe2NvbnNvbGUud2FybigiVEhSRUUuTGlnaHQ6IC5zaGFkb3dDYW1lcmFSaWdodCBpcyBub3cgLnNoYWRvdy5jYW1lcmEucmlnaHQuIiksdGhpcy5zaGFkb3cuY2FtZXJhLnJpZ2h0PXN9fSxzaGFkb3dDYW1lcmFUb3A6e3NldDpmdW5jdGlvbihzKXtjb25zb2xlLndhcm4oIlRIUkVFLkxpZ2h0OiAuc2hhZG93Q2FtZXJhVG9wIGlzIG5vdyAuc2hhZG93LmNhbWVyYS50b3AuIiksdGhpcy5zaGFkb3cuY2FtZXJhLnRvcD1zfX0sc2hhZG93Q2FtZXJhQm90dG9tOntzZXQ6ZnVuY3Rpb24ocyl7Y29uc29sZS53YXJuKCJUSFJFRS5MaWdodDogLnNoYWRvd0NhbWVyYUJvdHRvbSBpcyBub3cgLnNoYWRvdy5jYW1lcmEuYm90dG9tLiIpLHRoaXMuc2hhZG93LmNhbWVyYS5ib3R0b209c319LHNoYWRvd0NhbWVyYU5lYXI6e3NldDpmdW5jdGlvbihzKXtjb25zb2xlLndhcm4oIlRIUkVFLkxpZ2h0OiAuc2hhZG93Q2FtZXJhTmVhciBpcyBub3cgLnNoYWRvdy5jYW1lcmEubmVhci4iKSx0aGlzLnNoYWRvdy5jYW1lcmEubmVhcj1zfX0sc2hhZG93Q2FtZXJhRmFyOntzZXQ6ZnVuY3Rpb24ocyl7Y29uc29sZS53YXJuKCJUSFJFRS5MaWdodDogLnNoYWRvd0NhbWVyYUZhciBpcyBub3cgLnNoYWRvdy5jYW1lcmEuZmFyLiIpLHRoaXMuc2hhZG93LmNhbWVyYS5mYXI9c319LHNoYWRvd0NhbWVyYVZpc2libGU6e3NldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuTGlnaHQ6IC5zaGFkb3dDYW1lcmFWaXNpYmxlIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBuZXcgVEhSRUUuQ2FtZXJhSGVscGVyKCBsaWdodC5zaGFkb3cuY2FtZXJhICkgaW5zdGVhZC4iKX19LHNoYWRvd0JpYXM6e3NldDpmdW5jdGlvbihzKXtjb25zb2xlLndhcm4oIlRIUkVFLkxpZ2h0OiAuc2hhZG93QmlhcyBpcyBub3cgLnNoYWRvdy5iaWFzLiIpLHRoaXMuc2hhZG93LmJpYXM9c319LHNoYWRvd0RhcmtuZXNzOntzZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLkxpZ2h0OiAuc2hhZG93RGFya25lc3MgaGFzIGJlZW4gcmVtb3ZlZC4iKX19LHNoYWRvd01hcFdpZHRoOntzZXQ6ZnVuY3Rpb24ocyl7Y29uc29sZS53YXJuKCJUSFJFRS5MaWdodDogLnNoYWRvd01hcFdpZHRoIGlzIG5vdyAuc2hhZG93Lm1hcFNpemUud2lkdGguIiksdGhpcy5zaGFkb3cubWFwU2l6ZS53aWR0aD1zfX0sc2hhZG93TWFwSGVpZ2h0OntzZXQ6ZnVuY3Rpb24ocyl7Y29uc29sZS53YXJuKCJUSFJFRS5MaWdodDogLnNoYWRvd01hcEhlaWdodCBpcyBub3cgLnNoYWRvdy5tYXBTaXplLmhlaWdodC4iKSx0aGlzLnNoYWRvdy5tYXBTaXplLmhlaWdodD1zfX19KSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhCdWZmZXJBdHRyaWJ1dGUucHJvdG90eXBlLHtsZW5ndGg6e2dldDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLkJ1ZmZlckF0dHJpYnV0ZTogLmxlbmd0aCBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLmNvdW50IGluc3RlYWQuIiksdGhpcy5hcnJheS5sZW5ndGh9fSxkeW5hbWljOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5CdWZmZXJBdHRyaWJ1dGU6IC5keW5hbWljIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAudXNhZ2UgaW5zdGVhZC4iKSx0aGlzLnVzYWdlPT09MzUwNDh9LHNldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuQnVmZmVyQXR0cmlidXRlOiAuZHluYW1pYyBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLnVzYWdlIGluc3RlYWQuIiksdGhpcy5zZXRVc2FnZSgzNTA0OCl9fX0pLEJ1ZmZlckF0dHJpYnV0ZS5wcm90b3R5cGUuc2V0RHluYW1pYz1mdW5jdGlvbihzKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5CdWZmZXJBdHRyaWJ1dGU6IC5zZXREeW5hbWljKCkgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC5zZXRVc2FnZSgpIGluc3RlYWQuIiksdGhpcy5zZXRVc2FnZShzPT09ITA/MzUwNDg6MzUwNDQpLHRoaXN9LEJ1ZmZlckF0dHJpYnV0ZS5wcm90b3R5cGUuY29weUluZGljZXNBcnJheT1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLkJ1ZmZlckF0dHJpYnV0ZTogLmNvcHlJbmRpY2VzQXJyYXkoKSBoYXMgYmVlbiByZW1vdmVkLiIpfSxCdWZmZXJBdHRyaWJ1dGUucHJvdG90eXBlLnNldEFycmF5PWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcigiVEhSRUUuQnVmZmVyQXR0cmlidXRlOiAuc2V0QXJyYXkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIEJ1ZmZlckdlb21ldHJ5IC5zZXRBdHRyaWJ1dGUgdG8gcmVwbGFjZS9yZXNpemUgYXR0cmlidXRlIGJ1ZmZlcnMiKX0sQnVmZmVyR2VvbWV0cnkucHJvdG90eXBlLmFkZEluZGV4PWZ1bmN0aW9uKHMpe2NvbnNvbGUud2FybigiVEhSRUUuQnVmZmVyR2VvbWV0cnk6IC5hZGRJbmRleCgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLnNldEluZGV4KCkuIiksdGhpcy5zZXRJbmRleChzKX0sQnVmZmVyR2VvbWV0cnkucHJvdG90eXBlLmFkZEF0dHJpYnV0ZT1mdW5jdGlvbihzLGUpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLkJ1ZmZlckdlb21ldHJ5OiAuYWRkQXR0cmlidXRlKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuc2V0QXR0cmlidXRlKCkuIiksIShlJiZlLmlzQnVmZmVyQXR0cmlidXRlKSYmIShlJiZlLmlzSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUpPyhjb25zb2xlLndhcm4oIlRIUkVFLkJ1ZmZlckdlb21ldHJ5OiAuYWRkQXR0cmlidXRlKCkgbm93IGV4cGVjdHMgKCBuYW1lLCBhdHRyaWJ1dGUgKS4iKSx0aGlzLnNldEF0dHJpYnV0ZShzLG5ldyBCdWZmZXJBdHRyaWJ1dGUoYXJndW1lbnRzWzFdLGFyZ3VtZW50c1syXSkpKTpzPT09ImluZGV4Ij8oY29uc29sZS53YXJuKCJUSFJFRS5CdWZmZXJHZW9tZXRyeS5hZGRBdHRyaWJ1dGU6IFVzZSAuc2V0SW5kZXgoKSBmb3IgaW5kZXggYXR0cmlidXRlLiIpLHRoaXMuc2V0SW5kZXgoZSksdGhpcyk6dGhpcy5zZXRBdHRyaWJ1dGUocyxlKX0sQnVmZmVyR2VvbWV0cnkucHJvdG90eXBlLmFkZERyYXdDYWxsPWZ1bmN0aW9uKHMsZSx0KXt0IT09dm9pZCAwJiZjb25zb2xlLndhcm4oIlRIUkVFLkJ1ZmZlckdlb21ldHJ5OiAuYWRkRHJhd0NhbGwoKSBubyBsb25nZXIgc3VwcG9ydHMgaW5kZXhPZmZzZXQuIiksY29uc29sZS53YXJuKCJUSFJFRS5CdWZmZXJHZW9tZXRyeTogLmFkZERyYXdDYWxsKCkgaXMgbm93IC5hZGRHcm91cCgpLiIpLHRoaXMuYWRkR3JvdXAocyxlKX0sQnVmZmVyR2VvbWV0cnkucHJvdG90eXBlLmNsZWFyRHJhd0NhbGxzPWZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5CdWZmZXJHZW9tZXRyeTogLmNsZWFyRHJhd0NhbGxzKCkgaXMgbm93IC5jbGVhckdyb3VwcygpLiIpLHRoaXMuY2xlYXJHcm91cHMoKX0sQnVmZmVyR2VvbWV0cnkucHJvdG90eXBlLmNvbXB1dGVPZmZzZXRzPWZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5CdWZmZXJHZW9tZXRyeTogLmNvbXB1dGVPZmZzZXRzKCkgaGFzIGJlZW4gcmVtb3ZlZC4iKX0sQnVmZmVyR2VvbWV0cnkucHJvdG90eXBlLnJlbW92ZUF0dHJpYnV0ZT1mdW5jdGlvbihzKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5CdWZmZXJHZW9tZXRyeTogLnJlbW92ZUF0dHJpYnV0ZSgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmRlbGV0ZUF0dHJpYnV0ZSgpLiIpLHRoaXMuZGVsZXRlQXR0cmlidXRlKHMpfSxCdWZmZXJHZW9tZXRyeS5wcm90b3R5cGUuYXBwbHlNYXRyaXg9ZnVuY3Rpb24ocyl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuQnVmZmVyR2VvbWV0cnk6IC5hcHBseU1hdHJpeCgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmFwcGx5TWF0cml4NCgpLiIpLHRoaXMuYXBwbHlNYXRyaXg0KHMpfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhCdWZmZXJHZW9tZXRyeS5wcm90b3R5cGUse2RyYXdjYWxsczp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUuZXJyb3IoIlRIUkVFLkJ1ZmZlckdlb21ldHJ5OiAuZHJhd2NhbGxzIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmdyb3Vwcy4iKSx0aGlzLmdyb3Vwc319LG9mZnNldHM6e2dldDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLkJ1ZmZlckdlb21ldHJ5OiAub2Zmc2V0cyBoYXMgYmVlbiByZW5hbWVkIHRvIC5ncm91cHMuIiksdGhpcy5ncm91cHN9fX0pLEludGVybGVhdmVkQnVmZmVyLnByb3RvdHlwZS5zZXREeW5hbWljPWZ1bmN0aW9uKHMpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLkludGVybGVhdmVkQnVmZmVyOiAuc2V0RHluYW1pYygpIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAuc2V0VXNhZ2UoKSBpbnN0ZWFkLiIpLHRoaXMuc2V0VXNhZ2Uocz09PSEwPzM1MDQ4OjM1MDQ0KSx0aGlzfSxJbnRlcmxlYXZlZEJ1ZmZlci5wcm90b3R5cGUuc2V0QXJyYXk9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5JbnRlcmxlYXZlZEJ1ZmZlcjogLnNldEFycmF5IGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBCdWZmZXJHZW9tZXRyeSAuc2V0QXR0cmlidXRlIHRvIHJlcGxhY2UvcmVzaXplIGF0dHJpYnV0ZSBidWZmZXJzIil9LEV4dHJ1ZGVHZW9tZXRyeS5wcm90b3R5cGUuZ2V0QXJyYXlzPWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcigiVEhSRUUuRXh0cnVkZUdlb21ldHJ5OiAuZ2V0QXJyYXlzKCkgaGFzIGJlZW4gcmVtb3ZlZC4iKX0sRXh0cnVkZUdlb21ldHJ5LnByb3RvdHlwZS5hZGRTaGFwZUxpc3Q9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5FeHRydWRlR2VvbWV0cnk6IC5hZGRTaGFwZUxpc3QoKSBoYXMgYmVlbiByZW1vdmVkLiIpfSxFeHRydWRlR2VvbWV0cnkucHJvdG90eXBlLmFkZFNoYXBlPWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcigiVEhSRUUuRXh0cnVkZUdlb21ldHJ5OiAuYWRkU2hhcGUoKSBoYXMgYmVlbiByZW1vdmVkLiIpfSxTY2VuZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLlNjZW5lOiAuZGlzcG9zZSgpIGhhcyBiZWVuIHJlbW92ZWQuIil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKE1hdGVyaWFsLnByb3RvdHlwZSx7d3JhcEFyb3VuZDp7Z2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5NYXRlcmlhbDogLndyYXBBcm91bmQgaGFzIGJlZW4gcmVtb3ZlZC4iKX0sc2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5NYXRlcmlhbDogLndyYXBBcm91bmQgaGFzIGJlZW4gcmVtb3ZlZC4iKX19LG92ZXJkcmF3OntnZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLk1hdGVyaWFsOiAub3ZlcmRyYXcgaGFzIGJlZW4gcmVtb3ZlZC4iKX0sc2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5NYXRlcmlhbDogLm92ZXJkcmF3IGhhcyBiZWVuIHJlbW92ZWQuIil9fSx3cmFwUkdCOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5NYXRlcmlhbDogLndyYXBSR0IgaGFzIGJlZW4gcmVtb3ZlZC4iKSxuZXcgQ29sb3J9fSxzaGFkaW5nOntnZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS4iK3RoaXMudHlwZSsiOiAuc2hhZGluZyBoYXMgYmVlbiByZW1vdmVkLiBVc2UgdGhlIGJvb2xlYW4gLmZsYXRTaGFkaW5nIGluc3RlYWQuIil9LHNldDpmdW5jdGlvbihzKXtjb25zb2xlLndhcm4oIlRIUkVFLiIrdGhpcy50eXBlKyI6IC5zaGFkaW5nIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSB0aGUgYm9vbGVhbiAuZmxhdFNoYWRpbmcgaW5zdGVhZC4iKSx0aGlzLmZsYXRTaGFkaW5nPXM9PT0xfX0sc3RlbmNpbE1hc2s6e2dldDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLiIrdGhpcy50eXBlKyI6IC5zdGVuY2lsTWFzayBoYXMgYmVlbiByZW1vdmVkLiBVc2UgLnN0ZW5jaWxGdW5jTWFzayBpbnN0ZWFkLiIpLHRoaXMuc3RlbmNpbEZ1bmNNYXNrfSxzZXQ6ZnVuY3Rpb24ocyl7Y29uc29sZS53YXJuKCJUSFJFRS4iK3RoaXMudHlwZSsiOiAuc3RlbmNpbE1hc2sgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIC5zdGVuY2lsRnVuY01hc2sgaW5zdGVhZC4iKSx0aGlzLnN0ZW5jaWxGdW5jTWFzaz1zfX0sdmVydGV4VGFuZ2VudHM6e2dldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuIit0aGlzLnR5cGUrIjogLnZlcnRleFRhbmdlbnRzIGhhcyBiZWVuIHJlbW92ZWQuIil9LHNldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuIit0aGlzLnR5cGUrIjogLnZlcnRleFRhbmdlbnRzIGhhcyBiZWVuIHJlbW92ZWQuIil9fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFNoYWRlck1hdGVyaWFsLnByb3RvdHlwZSx7ZGVyaXZhdGl2ZXM6e2dldDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlNoYWRlck1hdGVyaWFsOiAuZGVyaXZhdGl2ZXMgaGFzIGJlZW4gbW92ZWQgdG8gLmV4dGVuc2lvbnMuZGVyaXZhdGl2ZXMuIiksdGhpcy5leHRlbnNpb25zLmRlcml2YXRpdmVzfSxzZXQ6ZnVuY3Rpb24ocyl7Y29uc29sZS53YXJuKCJUSFJFRS4gU2hhZGVyTWF0ZXJpYWw6IC5kZXJpdmF0aXZlcyBoYXMgYmVlbiBtb3ZlZCB0byAuZXh0ZW5zaW9ucy5kZXJpdmF0aXZlcy4iKSx0aGlzLmV4dGVuc2lvbnMuZGVyaXZhdGl2ZXM9c319fSksV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuY2xlYXJUYXJnZXQ9ZnVuY3Rpb24ocyxlLHQsbil7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuY2xlYXJUYXJnZXQoKSBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLnNldFJlbmRlclRhcmdldCgpIGFuZCAuY2xlYXIoKSBpbnN0ZWFkLiIpLHRoaXMuc2V0UmVuZGVyVGFyZ2V0KHMpLHRoaXMuY2xlYXIoZSx0LG4pfSxXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5hbmltYXRlPWZ1bmN0aW9uKHMpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLmFuaW1hdGUoKSBpcyBub3cgLnNldEFuaW1hdGlvbkxvb3AoKS4iKSx0aGlzLnNldEFuaW1hdGlvbkxvb3Aocyl9LFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLmdldEN1cnJlbnRSZW5kZXJUYXJnZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuZ2V0Q3VycmVudFJlbmRlclRhcmdldCgpIGlzIG5vdyAuZ2V0UmVuZGVyVGFyZ2V0KCkuIiksdGhpcy5nZXRSZW5kZXJUYXJnZXQoKX0sV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuZ2V0TWF4QW5pc290cm9weT1mdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5nZXRNYXhBbmlzb3Ryb3B5KCkgaXMgbm93IC5jYXBhYmlsaXRpZXMuZ2V0TWF4QW5pc290cm9weSgpLiIpLHRoaXMuY2FwYWJpbGl0aWVzLmdldE1heEFuaXNvdHJvcHkoKX0sV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuZ2V0UHJlY2lzaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLmdldFByZWNpc2lvbigpIGlzIG5vdyAuY2FwYWJpbGl0aWVzLnByZWNpc2lvbi4iKSx0aGlzLmNhcGFiaWxpdGllcy5wcmVjaXNpb259LFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLnJlc2V0R0xTdGF0ZT1mdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5yZXNldEdMU3RhdGUoKSBpcyBub3cgLnN0YXRlLnJlc2V0KCkuIiksdGhpcy5zdGF0ZS5yZXNldCgpfSxXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5zdXBwb3J0c0Zsb2F0VGV4dHVyZXM9ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc3VwcG9ydHNGbG9hdFRleHR1cmVzKCkgaXMgbm93IC5leHRlbnNpb25zLmdldCggJ09FU190ZXh0dXJlX2Zsb2F0JyApLiIpLHRoaXMuZXh0ZW5zaW9ucy5nZXQoIk9FU190ZXh0dXJlX2Zsb2F0Iil9LFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLnN1cHBvcnRzSGFsZkZsb2F0VGV4dHVyZXM9ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc3VwcG9ydHNIYWxmRmxvYXRUZXh0dXJlcygpIGlzIG5vdyAuZXh0ZW5zaW9ucy5nZXQoICdPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0JyApLiIpLHRoaXMuZXh0ZW5zaW9ucy5nZXQoIk9FU190ZXh0dXJlX2hhbGZfZmxvYXQiKX0sV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuc3VwcG9ydHNTdGFuZGFyZERlcml2YXRpdmVzPWZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnN1cHBvcnRzU3RhbmRhcmREZXJpdmF0aXZlcygpIGlzIG5vdyAuZXh0ZW5zaW9ucy5nZXQoICdPRVNfc3RhbmRhcmRfZGVyaXZhdGl2ZXMnICkuIiksdGhpcy5leHRlbnNpb25zLmdldCgiT0VTX3N0YW5kYXJkX2Rlcml2YXRpdmVzIil9LFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLnN1cHBvcnRzQ29tcHJlc3NlZFRleHR1cmVTM1RDPWZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnN1cHBvcnRzQ29tcHJlc3NlZFRleHR1cmVTM1RDKCkgaXMgbm93IC5leHRlbnNpb25zLmdldCggJ1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjJyApLiIpLHRoaXMuZXh0ZW5zaW9ucy5nZXQoIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjIil9LFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLnN1cHBvcnRzQ29tcHJlc3NlZFRleHR1cmVQVlJUQz1mdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5zdXBwb3J0c0NvbXByZXNzZWRUZXh0dXJlUFZSVEMoKSBpcyBub3cgLmV4dGVuc2lvbnMuZ2V0KCAnV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3B2cnRjJyApLiIpLHRoaXMuZXh0ZW5zaW9ucy5nZXQoIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9wdnJ0YyIpfSxXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5zdXBwb3J0c0JsZW5kTWluTWF4PWZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnN1cHBvcnRzQmxlbmRNaW5NYXgoKSBpcyBub3cgLmV4dGVuc2lvbnMuZ2V0KCAnRVhUX2JsZW5kX21pbm1heCcgKS4iKSx0aGlzLmV4dGVuc2lvbnMuZ2V0KCJFWFRfYmxlbmRfbWlubWF4Iil9LFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLnN1cHBvcnRzVmVydGV4VGV4dHVyZXM9ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc3VwcG9ydHNWZXJ0ZXhUZXh0dXJlcygpIGlzIG5vdyAuY2FwYWJpbGl0aWVzLnZlcnRleFRleHR1cmVzLiIpLHRoaXMuY2FwYWJpbGl0aWVzLnZlcnRleFRleHR1cmVzfSxXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5zdXBwb3J0c0luc3RhbmNlZEFycmF5cz1mdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5zdXBwb3J0c0luc3RhbmNlZEFycmF5cygpIGlzIG5vdyAuZXh0ZW5zaW9ucy5nZXQoICdBTkdMRV9pbnN0YW5jZWRfYXJyYXlzJyApLiIpLHRoaXMuZXh0ZW5zaW9ucy5nZXQoIkFOR0xFX2luc3RhbmNlZF9hcnJheXMiKX0sV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuZW5hYmxlU2Npc3NvclRlc3Q9ZnVuY3Rpb24ocyl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuZW5hYmxlU2Npc3NvclRlc3QoKSBpcyBub3cgLnNldFNjaXNzb3JUZXN0KCkuIiksdGhpcy5zZXRTY2lzc29yVGVzdChzKX0sV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuaW5pdE1hdGVyaWFsPWZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuaW5pdE1hdGVyaWFsKCkgaGFzIGJlZW4gcmVtb3ZlZC4iKX0sV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuYWRkUHJlUGx1Z2luPWZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuYWRkUHJlUGx1Z2luKCkgaGFzIGJlZW4gcmVtb3ZlZC4iKX0sV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuYWRkUG9zdFBsdWdpbj1mdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLmFkZFBvc3RQbHVnaW4oKSBoYXMgYmVlbiByZW1vdmVkLiIpfSxXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS51cGRhdGVTaGFkb3dNYXA9ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC51cGRhdGVTaGFkb3dNYXAoKSBoYXMgYmVlbiByZW1vdmVkLiIpfSxXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5zZXRGYWNlQ3VsbGluZz1mdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnNldEZhY2VDdWxsaW5nKCkgaGFzIGJlZW4gcmVtb3ZlZC4iKX0sV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuYWxsb2NUZXh0dXJlVW5pdD1mdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLmFsbG9jVGV4dHVyZVVuaXQoKSBoYXMgYmVlbiByZW1vdmVkLiIpfSxXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5zZXRUZXh0dXJlPWZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc2V0VGV4dHVyZSgpIGhhcyBiZWVuIHJlbW92ZWQuIil9LFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLnNldFRleHR1cmUyRD1mdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnNldFRleHR1cmUyRCgpIGhhcyBiZWVuIHJlbW92ZWQuIil9LFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLnNldFRleHR1cmVDdWJlPWZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc2V0VGV4dHVyZUN1YmUoKSBoYXMgYmVlbiByZW1vdmVkLiIpfSxXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5nZXRBY3RpdmVNaXBNYXBMZXZlbD1mdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5nZXRBY3RpdmVNaXBNYXBMZXZlbCgpIGlzIG5vdyAuZ2V0QWN0aXZlTWlwbWFwTGV2ZWwoKS4iKSx0aGlzLmdldEFjdGl2ZU1pcG1hcExldmVsKCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLHtzaGFkb3dNYXBFbmFibGVkOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zaGFkb3dNYXAuZW5hYmxlZH0sc2V0OmZ1bmN0aW9uKHMpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnNoYWRvd01hcEVuYWJsZWQgaXMgbm93IC5zaGFkb3dNYXAuZW5hYmxlZC4iKSx0aGlzLnNoYWRvd01hcC5lbmFibGVkPXN9fSxzaGFkb3dNYXBUeXBlOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zaGFkb3dNYXAudHlwZX0sc2V0OmZ1bmN0aW9uKHMpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnNoYWRvd01hcFR5cGUgaXMgbm93IC5zaGFkb3dNYXAudHlwZS4iKSx0aGlzLnNoYWRvd01hcC50eXBlPXN9fSxzaGFkb3dNYXBDdWxsRmFjZTp7Z2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc2hhZG93TWFwQ3VsbEZhY2UgaGFzIGJlZW4gcmVtb3ZlZC4gU2V0IE1hdGVyaWFsLnNoYWRvd1NpZGUgaW5zdGVhZC4iKX0sc2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc2hhZG93TWFwQ3VsbEZhY2UgaGFzIGJlZW4gcmVtb3ZlZC4gU2V0IE1hdGVyaWFsLnNoYWRvd1NpZGUgaW5zdGVhZC4iKX19LGNvbnRleHQ6e2dldDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5jb250ZXh0IGhhcyBiZWVuIHJlbW92ZWQuIFVzZSAuZ2V0Q29udGV4dCgpIGluc3RlYWQuIiksdGhpcy5nZXRDb250ZXh0KCl9fSx2cjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnZyIGhhcyBiZWVuIHJlbmFtZWQgdG8gLnhyIiksdGhpcy54cn19LGdhbW1hSW5wdXQ6e2dldDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5nYW1tYUlucHV0IGhhcyBiZWVuIHJlbW92ZWQuIFNldCB0aGUgZW5jb2RpbmcgZm9yIHRleHR1cmVzIHZpYSBUZXh0dXJlLmVuY29kaW5nIGluc3RlYWQuIiksITF9LHNldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLmdhbW1hSW5wdXQgaGFzIGJlZW4gcmVtb3ZlZC4gU2V0IHRoZSBlbmNvZGluZyBmb3IgdGV4dHVyZXMgdmlhIFRleHR1cmUuZW5jb2RpbmcgaW5zdGVhZC4iKX19LGdhbW1hT3V0cHV0OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuZ2FtbWFPdXRwdXQgaGFzIGJlZW4gcmVtb3ZlZC4gU2V0IFdlYkdMUmVuZGVyZXIub3V0cHV0RW5jb2RpbmcgaW5zdGVhZC4iKSwhMX0sc2V0OmZ1bmN0aW9uKHMpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLmdhbW1hT3V0cHV0IGhhcyBiZWVuIHJlbW92ZWQuIFNldCBXZWJHTFJlbmRlcmVyLm91dHB1dEVuY29kaW5nIGluc3RlYWQuIiksdGhpcy5vdXRwdXRFbmNvZGluZz1zPT09ITA/MzAwMTozZTN9fSx0b25lTWFwcGluZ1doaXRlUG9pbnQ6e2dldDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC50b25lTWFwcGluZ1doaXRlUG9pbnQgaGFzIGJlZW4gcmVtb3ZlZC4iKSwxfSxzZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC50b25lTWFwcGluZ1doaXRlUG9pbnQgaGFzIGJlZW4gcmVtb3ZlZC4iKX19LGdhbW1hRmFjdG9yOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuZ2FtbWFGYWN0b3IgaGFzIGJlZW4gcmVtb3ZlZC4iKSwyfSxzZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5nYW1tYUZhY3RvciBoYXMgYmVlbiByZW1vdmVkLiIpfX19KSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhXZWJHTFNoYWRvd01hcC5wcm90b3R5cGUse2N1bGxGYWNlOntnZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5zaGFkb3dNYXAuY3VsbEZhY2UgaGFzIGJlZW4gcmVtb3ZlZC4gU2V0IE1hdGVyaWFsLnNoYWRvd1NpZGUgaW5zdGVhZC4iKX0sc2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc2hhZG93TWFwLmN1bGxGYWNlIGhhcyBiZWVuIHJlbW92ZWQuIFNldCBNYXRlcmlhbC5zaGFkb3dTaWRlIGluc3RlYWQuIil9fSxyZW5kZXJSZXZlcnNlU2lkZWQ6e2dldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnNoYWRvd01hcC5yZW5kZXJSZXZlcnNlU2lkZWQgaGFzIGJlZW4gcmVtb3ZlZC4gU2V0IE1hdGVyaWFsLnNoYWRvd1NpZGUgaW5zdGVhZC4iKX0sc2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc2hhZG93TWFwLnJlbmRlclJldmVyc2VTaWRlZCBoYXMgYmVlbiByZW1vdmVkLiBTZXQgTWF0ZXJpYWwuc2hhZG93U2lkZSBpbnN0ZWFkLiIpfX0scmVuZGVyU2luZ2xlU2lkZWQ6e2dldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnNoYWRvd01hcC5yZW5kZXJTaW5nbGVTaWRlZCBoYXMgYmVlbiByZW1vdmVkLiBTZXQgTWF0ZXJpYWwuc2hhZG93U2lkZSBpbnN0ZWFkLiIpfSxzZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5zaGFkb3dNYXAucmVuZGVyU2luZ2xlU2lkZWQgaGFzIGJlZW4gcmVtb3ZlZC4gU2V0IE1hdGVyaWFsLnNoYWRvd1NpZGUgaW5zdGVhZC4iKX19fSksT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoV2ViR0xSZW5kZXJUYXJnZXQucHJvdG90eXBlLHt3cmFwUzp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC53cmFwUyBpcyBub3cgLnRleHR1cmUud3JhcFMuIiksdGhpcy50ZXh0dXJlLndyYXBTfSxzZXQ6ZnVuY3Rpb24ocyl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLndyYXBTIGlzIG5vdyAudGV4dHVyZS53cmFwUy4iKSx0aGlzLnRleHR1cmUud3JhcFM9c319LHdyYXBUOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLndyYXBUIGlzIG5vdyAudGV4dHVyZS53cmFwVC4iKSx0aGlzLnRleHR1cmUud3JhcFR9LHNldDpmdW5jdGlvbihzKXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0OiAud3JhcFQgaXMgbm93IC50ZXh0dXJlLndyYXBULiIpLHRoaXMudGV4dHVyZS53cmFwVD1zfX0sbWFnRmlsdGVyOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLm1hZ0ZpbHRlciBpcyBub3cgLnRleHR1cmUubWFnRmlsdGVyLiIpLHRoaXMudGV4dHVyZS5tYWdGaWx0ZXJ9LHNldDpmdW5jdGlvbihzKXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0OiAubWFnRmlsdGVyIGlzIG5vdyAudGV4dHVyZS5tYWdGaWx0ZXIuIiksdGhpcy50ZXh0dXJlLm1hZ0ZpbHRlcj1zfX0sbWluRmlsdGVyOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLm1pbkZpbHRlciBpcyBub3cgLnRleHR1cmUubWluRmlsdGVyLiIpLHRoaXMudGV4dHVyZS5taW5GaWx0ZXJ9LHNldDpmdW5jdGlvbihzKXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0OiAubWluRmlsdGVyIGlzIG5vdyAudGV4dHVyZS5taW5GaWx0ZXIuIiksdGhpcy50ZXh0dXJlLm1pbkZpbHRlcj1zfX0sYW5pc290cm9weTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC5hbmlzb3Ryb3B5IGlzIG5vdyAudGV4dHVyZS5hbmlzb3Ryb3B5LiIpLHRoaXMudGV4dHVyZS5hbmlzb3Ryb3B5fSxzZXQ6ZnVuY3Rpb24ocyl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLmFuaXNvdHJvcHkgaXMgbm93IC50ZXh0dXJlLmFuaXNvdHJvcHkuIiksdGhpcy50ZXh0dXJlLmFuaXNvdHJvcHk9c319LG9mZnNldDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC5vZmZzZXQgaXMgbm93IC50ZXh0dXJlLm9mZnNldC4iKSx0aGlzLnRleHR1cmUub2Zmc2V0fSxzZXQ6ZnVuY3Rpb24ocyl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLm9mZnNldCBpcyBub3cgLnRleHR1cmUub2Zmc2V0LiIpLHRoaXMudGV4dHVyZS5vZmZzZXQ9c319LHJlcGVhdDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC5yZXBlYXQgaXMgbm93IC50ZXh0dXJlLnJlcGVhdC4iKSx0aGlzLnRleHR1cmUucmVwZWF0fSxzZXQ6ZnVuY3Rpb24ocyl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLnJlcGVhdCBpcyBub3cgLnRleHR1cmUucmVwZWF0LiIpLHRoaXMudGV4dHVyZS5yZXBlYXQ9c319LGZvcm1hdDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC5mb3JtYXQgaXMgbm93IC50ZXh0dXJlLmZvcm1hdC4iKSx0aGlzLnRleHR1cmUuZm9ybWF0fSxzZXQ6ZnVuY3Rpb24ocyl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLmZvcm1hdCBpcyBub3cgLnRleHR1cmUuZm9ybWF0LiIpLHRoaXMudGV4dHVyZS5mb3JtYXQ9c319LHR5cGU6e2dldDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0OiAudHlwZSBpcyBub3cgLnRleHR1cmUudHlwZS4iKSx0aGlzLnRleHR1cmUudHlwZX0sc2V0OmZ1bmN0aW9uKHMpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC50eXBlIGlzIG5vdyAudGV4dHVyZS50eXBlLiIpLHRoaXMudGV4dHVyZS50eXBlPXN9fSxnZW5lcmF0ZU1pcG1hcHM6e2dldDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0OiAuZ2VuZXJhdGVNaXBtYXBzIGlzIG5vdyAudGV4dHVyZS5nZW5lcmF0ZU1pcG1hcHMuIiksdGhpcy50ZXh0dXJlLmdlbmVyYXRlTWlwbWFwc30sc2V0OmZ1bmN0aW9uKHMpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC5nZW5lcmF0ZU1pcG1hcHMgaXMgbm93IC50ZXh0dXJlLmdlbmVyYXRlTWlwbWFwcy4iKSx0aGlzLnRleHR1cmUuZ2VuZXJhdGVNaXBtYXBzPXN9fX0pLEF1ZGlvLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKHMpe2NvbnNvbGUud2FybigiVEhSRUUuQXVkaW86IC5sb2FkIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSBUSFJFRS5BdWRpb0xvYWRlciBpbnN0ZWFkLiIpO2NvbnN0IGU9dGhpcztyZXR1cm4gbmV3IEF1ZGlvTG9hZGVyKCkubG9hZChzLGZ1bmN0aW9uKG4pe2Uuc2V0QnVmZmVyKG4pfSksdGhpc30sQ3ViZUNhbWVyYS5wcm90b3R5cGUudXBkYXRlQ3ViZU1hcD1mdW5jdGlvbihzLGUpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLkN1YmVDYW1lcmE6IC51cGRhdGVDdWJlTWFwKCkgaXMgbm93IC51cGRhdGUoKS4iKSx0aGlzLnVwZGF0ZShzLGUpfSxDdWJlQ2FtZXJhLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbihzLGUsdCxuKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5DdWJlQ2FtZXJhOiAuY2xlYXIoKSBpcyBub3cgLnJlbmRlclRhcmdldC5jbGVhcigpLiIpLHRoaXMucmVuZGVyVGFyZ2V0LmNsZWFyKHMsZSx0LG4pfSxJbWFnZVV0aWxzLmNyb3NzT3JpZ2luPXZvaWQgMCxJbWFnZVV0aWxzLmxvYWRUZXh0dXJlPWZ1bmN0aW9uKHMsZSx0LG4pe2NvbnNvbGUud2FybigiVEhSRUUuSW1hZ2VVdGlscy5sb2FkVGV4dHVyZSBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgVEhSRUUuVGV4dHVyZUxvYWRlcigpIGluc3RlYWQuIik7Y29uc3QgaT1uZXcgVGV4dHVyZUxvYWRlcjtpLnNldENyb3NzT3JpZ2luKHRoaXMuY3Jvc3NPcmlnaW4pO2NvbnN0IHI9aS5sb2FkKHMsdCx2b2lkIDAsbik7cmV0dXJuIGUmJihyLm1hcHBpbmc9ZSkscn0sSW1hZ2VVdGlscy5sb2FkVGV4dHVyZUN1YmU9ZnVuY3Rpb24ocyxlLHQsbil7Y29uc29sZS53YXJuKCJUSFJFRS5JbWFnZVV0aWxzLmxvYWRUZXh0dXJlQ3ViZSBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgVEhSRUUuQ3ViZVRleHR1cmVMb2FkZXIoKSBpbnN0ZWFkLiIpO2NvbnN0IGk9bmV3IEN1YmVUZXh0dXJlTG9hZGVyO2kuc2V0Q3Jvc3NPcmlnaW4odGhpcy5jcm9zc09yaWdpbik7Y29uc3Qgcj1pLmxvYWQocyx0LHZvaWQgMCxuKTtyZXR1cm4gZSYmKHIubWFwcGluZz1lKSxyfSxJbWFnZVV0aWxzLmxvYWRDb21wcmVzc2VkVGV4dHVyZT1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLkltYWdlVXRpbHMubG9hZENvbXByZXNzZWRUZXh0dXJlIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBUSFJFRS5ERFNMb2FkZXIgaW5zdGVhZC4iKX0sSW1hZ2VVdGlscy5sb2FkQ29tcHJlc3NlZFRleHR1cmVDdWJlPWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcigiVEhSRUUuSW1hZ2VVdGlscy5sb2FkQ29tcHJlc3NlZFRleHR1cmVDdWJlIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBUSFJFRS5ERFNMb2FkZXIgaW5zdGVhZC4iKX0sdHlwZW9mIF9fVEhSRUVfREVWVE9PTFNfXzwidSImJl9fVEhSRUVfREVWVE9PTFNfXy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgicmVnaXN0ZXIiLHtkZXRhaWw6e3JldmlzaW9uOlJFVklTSU9OfX0pKSx0eXBlb2Ygd2luZG93PCJ1IiYmKHdpbmRvdy5fX1RIUkVFX18/Y29uc29sZS53YXJuKCJXQVJOSU5HOiBNdWx0aXBsZSBpbnN0YW5jZXMgb2YgVGhyZWUuanMgYmVpbmcgaW1wb3J0ZWQuIik6d2luZG93Ll9fVEhSRUVfXz1SRVZJU0lPTik7ZnVuY3Rpb24gY3JlYXRlUmVuZGVyZXIocyl7Y29uc3QgZT1uZXcgV2ViR0xSZW5kZXJlcih7Y2FudmFzOnMsYW50aWFsaWFzOiEwLHBvd2VyUHJlZmVyZW5jZToiaGlnaC1wZXJmb3JtYW5jZSIsbG9nYXJpdGhtaWNEZXB0aEJ1ZmZlcjohMH0pO3JldHVybiBlLnBoeXNpY2FsbHlDb3JyZWN0TGlnaHRzPSEwLGUub3V0cHV0RW5jb2Rpbmc9MzAwMSxlLnNoYWRvd01hcC5lbmFibGVkPSEwLGUuc2hhZG93TWFwLnR5cGU9MixlfWZ1bmN0aW9uIGNyZWF0ZUNhbWVyYSh7d2lkdGg6cyxoZWlnaHQ6ZX0pe3JldHVybiBuZXcgUGVyc3BlY3RpdmVDYW1lcmEoOTAscy9lLDEsMmUzKX1mdW5jdGlvbiBjcmVhdGVTY2VuZSgpe2NvbnN0IHM9bmV3IFNjZW5lO3JldHVybiBzLmJhY2tncm91bmQ9bmV3IENvbG9yKDY3MTA3ODQpLHN9ZnVuY3Rpb24gaW5pdCh7Y2FudmFzLGluamVjdGVkRnVuY3Rpb25zLHN0YXRlbX0pe2xldCBvbGRXaWR0aD0wLG9sZEhlaWdodD0wO2NvbnN0IHJlbmRlcmVyPWNyZWF0ZVJlbmRlcmVyKGNhbnZhcyksY2FtZXJhPWNyZWF0ZUNhbWVyYShzdGF0ZW0pLHNjZW5lPWNyZWF0ZVNjZW5lKCksY2xvY2s9bmV3IENsb2NrO2Z1bmN0aW9uIGNhbnZhc1Jlc2l6ZXIoKXtzdGF0ZW0ud2lkdGg9PT1vbGRXaWR0aHx8c3RhdGVtLmhlaWdodD09PW9sZEhlaWdodHx8KG9sZFdpZHRoPXN0YXRlbS53aWR0aCxvbGRIZWlnaHQ9c3RhdGVtLmhlaWdodCxjYW1lcmEuYXNwZWN0PXN0YXRlbS53aWR0aC9zdGF0ZW0uaGVpZ2h0LGNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCkscmVuZGVyZXIuc2V0U2l6ZShzdGF0ZW0ud2lkdGgsc3RhdGVtLmhlaWdodCwhMSkpfWNhbnZhc1Jlc2l6ZXIoKTtmdW5jdGlvbiBjbGVhckNvbnRleHQoKXtpbmplY3RlZEZ1bmN0aW9ucy5zaW5nbGVGbnMubGVuZ3RoPTAsaW5qZWN0ZWRGdW5jdGlvbnMubG9vcEZucy5sZW5ndGg9MCxzY2VuZS5jbGVhcigpLHJlbmRlcmVyLmNsZWFyKCl9bGV0IGZwc0ludGVydmFsLHByZW5vdz1wZXJmb3JtYW5jZS5ub3coKSxlbGFwc2VkLG5vdyxkZWx0YVRpbWU9MDthc3luYyBmdW5jdGlvbiByZW5kZXIodGltZSl7aWYoc3RhdGVtLnJ1bm5pbmcpe2NvbnN0IGZwcz1zdGF0ZW0uZnBzO2lmKHJlbmRlcmVyLnJlbmRlcihzY2VuZSxjYW1lcmEpLHJlcXVlc3RBbmltYXRpb25GcmFtZShyZW5kZXIpLGRlbHRhVGltZSs9Y2xvY2suZ2V0RGVsdGEoKSxmcHMhPT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkmJihub3c9cGVyZm9ybWFuY2Uubm93KCksZWxhcHNlZD1ub3ctcHJlbm93LGZwc0ludGVydmFsPTFlMy9mcHMpLGZwcz09PU51bWJlci5QT1NJVElWRV9JTkZJTklUWXx8ZWxhcHNlZD5mcHNJbnRlcnZhbCl7ZnBzIT09TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZJiYocHJlbm93PW5vdy1lbGFwc2VkJWZwc0ludGVydmFsKTtjb25zdCBwcm9wcz17c2NlbmUscmVuZGVyZXIsY2xvY2ssZGVsdGFUaW1lLHRpbWUsY2FtZXJhfTtkZWx0YVRpbWU9MDtjb25zdCBldmlsPXN0YXRlbS5vZmZzY3JlZW4/Zm49PnZvaWQgZXZhbCgiOygiK2ZuKyIpKHByb3BzKTsiKTpudWxsO2F3YWl0IFByb21pc2UuYWxsKFsuLi5pbmplY3RlZEZ1bmN0aW9ucy5zaW5nbGVGbnMubWFwKHM9PmV2aWw/ZXZpbChzKTpzKHByb3BzKSksLi4uaW5qZWN0ZWRGdW5jdGlvbnMubG9vcEZucy5tYXAocz0+ZXZpbD9ldmlsKHMpOnMocHJvcHMpKV0pLGluamVjdGVkRnVuY3Rpb25zLnNpbmdsZUZucy5sZW5ndGg9MH1jYW52YXNSZXNpemVyKCl9ZWxzZSByZXR1cm4gY2xlYXJDb250ZXh0KCl9cmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJlbmRlcil9Y29uc3Qgc3RhdGVtPXt9O2xldCBpbmplY3RlZEZ1bmN0aW9ucztmdW5jdGlvbiB1cGRhdGVTdGF0ZW0oe3N0YXRlbTpzfSl7T2JqZWN0LmFzc2lnbihzdGF0ZW0sSlNPTi5wYXJzZShzKSksc3RhdGVtLmZwcz09PW51bGwmJihzdGF0ZW0uZnBzPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSl9ZnVuY3Rpb24gZXhlYzNEKHtmbjpzfSl7aW5qZWN0ZWRGdW5jdGlvbnMuc2luZ2xlRm5zLnB1c2gocyl9ZnVuY3Rpb24gbG9vcDNEKHtmbjpzfSl7aW5qZWN0ZWRGdW5jdGlvbnMubG9vcEZucy5wdXNoKHMpfWNvbnN0IGhhbmRsZXJzPXtpbml0LHVwZGF0ZVN0YXRlbSxleGVjM0QsbG9vcDNEfTtmdW5jdGlvbiBoYW5kbGVNZXNzYWdlKHtkYXRhOnN9KXtjb25zdCBlPWhhbmRsZXJzW3MudHlwZV07cy50eXBlPT09ImluaXQiJiYoaW5qZWN0ZWRGdW5jdGlvbnM9cy5pbmplY3RlZEZ1bmN0aW9ucyxzLnN0YXRlbT1zdGF0ZW0pLGUocyl9c2VsZi5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixoYW5kbGVNZXNzYWdlKX0pKCk7Cg==",blob=typeof window<"u"&&window.Blob&&new Blob([atob(encodedJs)],{type:"text/javascript;charset=utf-8"});function WorkerWrapper(){const d=blob&&(window.URL||window.webkitURL).createObjectURL(blob);try{return d?new Worker(d,{}):new Worker("data:application/javascript;base64,"+encodedJs,{type:"module"})}finally{d&&(window.URL||window.webkitURL).revokeObjectURL(d)}}function startWorker({canvas:d,injectedFunctions:Z,statem:b,worker:G}){const W=d.transferControlToOffscreen(),X={type:"init",canvas:W,injectedFunctions:Z},c=J=>{G.postMessage({type:"updateStatem",statem:J})};return c(b.toString()),G.postMessage(X,[W]),c}function startMainPage({canvas:d,injectedFunctions:Z,statem:b}){init({type:"init",canvas:d,injectedFunctions:Z,statem:b})}function startLooping({canvas:d,statem:Z}){Z.offscreen="transferControlToOffscreen"in d&&Z.offscreen;const b={singleFns:[],loopFns:[]};let G,W;if(Z.offscreen){G=new WorkerWrapper,W=startWorker({canvas:d,injectedFunctions:b,statem:Z,worker:G});const X=Z.subscribe(c=>{if(!c.running){X(),G.terminate();return}W(JSON.stringify(c))})}else startMainPage({canvas:d,injectedFunctions:b,statem:Z});return{exec3D:X=>Z.offscreen?G==null?void 0:G.postMessage({type:"exec3D",fn:deEvilizer(X.toString())}):b.singleFns.push(X),loop3D:X=>Z.offscreen?G==null?void 0:G.postMessage({type:"loop3D",fn:deEvilizer(X.toString())}):b.loopFns.push(X)}}const play=$`
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" role="img" aria-label="Play">
    ${y`<path d="M361 215C375.3 223.8 384 239.3 384 256C384 272.7 375.3 288.2 361 296.1L73.03 472.1C58.21 482 39.66 482.4 24.52 473.9C9.377 465.4 0 449.4 0 432V80C0 62.64 9.377 46.63 24.52 38.13C39.66 29.64 58.21 29.99 73.03 39.04L361 215z"/>`}
  </svg>
`,stop=$`
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" role="img" aria-label="Stop">
    ${y`<path d="M384 128v255.1c0 35.35-28.65 64-64 64H64c-35.35 0-64-28.65-64-64V128c0-35.35 28.65-64 64-64H320C355.3 64 384 92.65 384 128z"/>`}
  </svg>
`,hamburger=$`
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" role="img" aria-label="Menu">
    ${y`<path d="M416 128H32C14.33 128 0 113.7 0 96C0 78.33 14.33 64 32 64H416C433.7 64 448 78.33 448 96C448 113.7 433.7 128 416 128zM416 448H32C14.33 448 0 433.7 0 416C0 398.3 14.33 384 32 384H416C433.7 384 448 398.3 448 416C448 433.7 433.7 448 416 448z"/><path d="M0 256C0 238.3 14.33 224 32 224H416C433.7 224 448 238.3 448 256C448 273.7 433.7 288 416 288H32C14.33 288 0 273.7 0 256z"/>`}
  </svg>
`;var icon=Object.freeze(Object.defineProperty({__proto__:null,play,stop,hamburger},Symbol.toStringTag,{value:"Module"})),V;let DIcon=(V=class extends s{render(){return icon[this.name]}},(()=>{V.styles=r`
    :host svg {
      height: 1rem;
      fill: currentColor;
    }
    :host svg path:nth-of-type(2) {
      opacity: 0.4;
    }
  `})(),V);__decorate([e(),__metadata("design:type",Object)],DIcon.prototype,"name",void 0);DIcon=__decorate([n("d-icon")],DIcon);var R;let DToolbar=(R=class extends s{constructor(){super(...arguments);this.shifted=!1}render(){return $`
      <div class="toolbar ${o({shifted:this.shifted})}">${n$1(this.shifted,()=>$`<slot></slot>`)}</div>
      <d-gaze-click>
        <button @click=${this.toggleShifted}>
          <d-icon name="hamburger"></d-icon>
        </button>
      </d-gaze-click>
    `}toggleShifted(){this.shifted=!this.shifted}},(()=>{R.styles=r`
    .toolbar {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      transform: translateX(-100%);
      transition: transform 250ms ease-out;
      padding: 2px 0;
      width: 100%;
      gap: 4px;
      accent-color: #8a0303;
    }
    .toolbar:first-child {
      margin-left: 30px;
    }
    .shifted {
      background-image: radial-gradient(circle at center, #05675233 0%, #6669 30%, transparent 90%);
      transform: translateX(0);
    }
    d-gaze-click {
      position: absolute;
      top: 8px;
      left: 4px;
    }
    d-gaze-click > button {
      background: transparent;
      cursor: pointer;
      border: none;
    }
    ::slotted(label) {
      color: #fff;
      user-select: none;
      cursor: pointer;
      white-space: nowrap;
    }
    ::slotted(button) {
      color: #111;
      cursor: pointer;
      line-height: 0;
      padding: 2px 10px;
      border: 2px outset #bababa;
      border-radius: 6px;
      background-color: #aa9;
      transition: all 0.1s;
    }
    ::slotted(*:hover) {
      outline: solid 1px #ffa6;
    }
    ::slotted(button:active) {
      border-style: inset;
    }
    ::slotted(button:active) {
      /* TODO: apply to #shadow-root content */
      transform: translate(2px, 2px);
    }
    ::slotted(button:disabled) {
      cursor: not-allowed;
      border-style: groove;
      background: #669;
      opacity: 0.6;
      color: #ccc;
    }
  `})(),R);__decorate([e({type:Boolean}),__metadata("design:type",Object)],DToolbar.prototype,"shifted",void 0);DToolbar=__decorate([n("d-toolbar")],DToolbar);const resize=new ResizeObserver(debounce(d=>{for(const Z of d)Z.target.resizeCallback(Z)}));var h;let DCanvas=(h=class extends s{constructor(){super(...arguments);this.autoplay=!1,this.offscreen=!1,this.sid=v4(),this.startStop=Z=>{if(Z){const b=startLooping({canvas:Z,statem:this.statem});this.dispatchEvent(new CustomEvent("start",{bubbles:!1,cancelable:!1,composed:!0,detail:b}))}else this.statem.running=!1}}resizeCallback({contentBoxSize:[{blockSize:Z,inlineSize:b}]}){this.statem.patch({width:b,height:Z})}connectedCallback(){super.connectedCallback(),this.statem=stateMake({running:this.autoplay,offscreen:this.offscreen,fps:Number.POSITIVE_INFINITY,width:this.clientWidth,height:this.clientHeight},this.sid),this.statem.subscribe(Z=>{this.requestUpdate("state",Z)}),resize.observe(this)}disconnectedCallback(){resize.unobserve(this),super.disconnectedCallback()}render(){return $`
      <d-toolbar ?shifted=${!this.autoplay}>
        <button @click=${this.startRunning} ?disabled=${this.statem.running}>
          <d-icon name="play"></d-icon>
        </button>
        <button @click=${this.stopRunning} ?disabled=${!this.statem.running}>
          <d-icon name="stop"></d-icon>
        </button>
        <label>
          Offscreen
          <input
            type="checkbox"
            .checked=${this.statem.offscreen}
            ?disabled=${this.statem.running}
            @change=${this.updateOffscreen}
          />
        </label>
        <label>
          FPS ${this.statem.fps===Number.POSITIVE_INFINITY?"\u221E":this.statem.fps}
          <input
            type="range"
            min="0"
            max="61"
            value=${this.statem.fps===Number.POSITIVE_INFINITY?61:this.statem.fps}
            @input=${this.updateFps}
          />
        </label>
      </d-toolbar>
      ${n$1(this.statem.running,()=>$`<canvas ${n$2(this.startStop)}></canvas>`)}
    `}startRunning(){this.statem.running=!0}stopRunning(){this.statem.running=!1}updateOffscreen({target:{checked:Z}}){this.statem.offscreen=Z}updateFps({srcElement:{valueAsNumber:Z}}){this.statem.fps=Z===61?Number.POSITIVE_INFINITY:Z}},(()=>{h.styles=r`
    * {
      font: 1rem "Trebuchet MS", Helvetica;
      letter-spacing: 1px;
    }
    :host {
      display: block;
      position: relative;
      writing-mode: vertical-tb; /* for ResizeObserverSize */
      background: repeating-conic-gradient(from 0deg, transparent 0deg 90deg, #fff3 90deg 180deg) 50% 50%/2rem 2rem;
      transition: background 100ms linear;
      min-width: 6rem;
      min-height: 6rem;
      overflow: hidden;
      resize: both;
    }
    :host(:hover) {
      background-size: 1.945rem 1.945rem;
    }
    :host(canvas) {
      width: inherit;
      height: inherit;
    }
    d-toolbar {
      position: absolute;
    }
  `})(),h);__decorate([e({type:Boolean}),__metadata("design:type",Object)],DCanvas.prototype,"autoplay",void 0);__decorate([e({type:Boolean}),__metadata("design:type",Object)],DCanvas.prototype,"offscreen",void 0);__decorate([e({type:String}),__metadata("design:type",Object)],DCanvas.prototype,"sid",void 0);DCanvas=__decorate([n("d-canvas")],DCanvas);var main="";const numberOfCubes=13;globalThis.mc=d=>{var b;const Z=document.createElement("d-canvas");return Z.classList.add("paused"),Z.setAttribute("sid",d),Z.setAttribute("offscreen","true"),Z.setAttribute("autoplay","true"),(b=document.querySelector(".holes"))==null||b.append(Z),setTimeout(()=>Z.classList.add("zoom"),1e3),Z};const canvases=Array.from({length:numberOfCubes},()=>globalThis.mc("666"));var N;(N=document.querySelector(".holes"))==null||N.append(...canvases);for(const d of document.querySelectorAll("d-canvas"))d.addEventListener("start",basicCube);
